(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,i){e.exports=i("zUnb")},yLV6:function(e,t,i){var s;!function(n,r,a,o){"use strict";var l,h=["","webkit","Moz","MS","ms","o"],c=r.createElement("div"),d=Math.round,u=Math.abs,p=Date.now;function m(e,t,i){return setTimeout(x(e,i),t)}function g(e,t,i){return!!Array.isArray(e)&&(f(e,i[t],i),!0)}function f(e,t,i){var s;if(e)if(e.forEach)e.forEach(t,i);else if(void 0!==e.length)for(s=0;s<e.length;)t.call(i,e[s],s,e),s++;else for(s in e)e.hasOwnProperty(s)&&t.call(i,e[s],s,e)}function y(e,t,i){var s="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var t=new Error("get-stack-trace"),i=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=n.console&&(n.console.warn||n.console.log);return r&&r.call(n.console,s,i),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var n in s)s.hasOwnProperty(n)&&(t[n]=s[n])}return t}:Object.assign;var b=y((function(e,t,i){for(var s=Object.keys(t),n=0;n<s.length;)(!i||i&&void 0===e[s[n]])&&(e[s[n]]=t[s[n]]),n++;return e}),"extend","Use `assign`."),v=y((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function w(e,t,i){var s,n=t.prototype;(s=e.prototype=Object.create(n)).constructor=e,s._super=n,i&&l(s,i)}function x(e,t){return function(){return e.apply(t,arguments)}}function _(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function S(e,t){return void 0===e?t:e}function C(e,t,i){f(A(t),(function(t){e.addEventListener(t,i,!1)}))}function E(e,t,i){f(A(t),(function(t){e.removeEventListener(t,i,!1)}))}function D(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function k(e,t){return e.indexOf(t)>-1}function A(e){return e.trim().split(/\s+/g)}function M(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var s=0;s<e.length;){if(i&&e[s][i]==t||!i&&e[s]===t)return s;s++}return-1}function L(e){return Array.prototype.slice.call(e,0)}function T(e,t,i){for(var s=[],n=[],r=0;r<e.length;){var a=t?e[r][t]:e[r];M(n,a)<0&&s.push(e[r]),n[r]=a,r++}return i&&(s=t?s.sort((function(e,i){return e[t]>i[t]})):s.sort()),s}function R(e,t){for(var i,s,n=t[0].toUpperCase()+t.slice(1),r=0;r<h.length;){if((s=(i=h[r])?i+n:t)in e)return s;r++}}var P=1;function I(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||n}var O="ontouchstart"in n,N=void 0!==R(n,"PointerEvent"),V=O&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],B=["clientX","clientY"];function z(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){_(e.options.enable,[e])&&i.handler(t)},this.init()}function H(e,t,i){var s=i.pointers.length,n=i.changedPointers.length,r=1&t&&s-n==0,a=12&t&&s-n==0;i.isFirst=!!r,i.isFinal=!!a,r&&(e.session={}),i.eventType=t,function(e,t){var i=e.session,s=t.pointers,n=s.length;i.firstInput||(i.firstInput=j(t)),n>1&&!i.firstMultiple?i.firstMultiple=j(t):1===n&&(i.firstMultiple=!1);var r=i.firstInput,a=i.firstMultiple,o=a?a.center:r.center,l=t.center=W(s);t.timeStamp=p(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=G(o,l),t.distance=U(o,l),function(e,t){var i=t.center,s=e.offsetDelta||{},n=e.prevDelta||{},r=e.prevInput||{};1!==t.eventType&&4!==r.eventType||(n=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},s=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=n.x+(i.x-s.x),t.deltaY=n.y+(i.y-s.y)}(i,t),t.offsetDirection=q(t.deltaX,t.deltaY);var h,c,d=Y(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=u(d.x)>u(d.y)?d.x:d.y,t.scale=a?(h=a.pointers,U((c=s)[0],c[1],B)/U(h[0],h[1],B)):1,t.rotation=a?function(e,t){return G(t[1],t[0],B)+G(e[1],e[0],B)}(a.pointers,s):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,function(e,t){var i,s,n,r,a=e.lastInterval||t,o=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(o>25||void 0===a.velocity)){var l=t.deltaX-a.deltaX,h=t.deltaY-a.deltaY,c=Y(o,l,h);s=c.x,n=c.y,i=u(c.x)>u(c.y)?c.x:c.y,r=q(l,h),e.lastInterval=t}else i=a.velocity,s=a.velocityX,n=a.velocityY,r=a.direction;t.velocity=i,t.velocityX=s,t.velocityY=n,t.direction=r}(i,t);var m=e.element;D(t.srcEvent.target,m)&&(m=t.srcEvent.target),t.target=m}(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function j(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:d(e.pointers[i].clientX),clientY:d(e.pointers[i].clientY)},i++;return{timeStamp:p(),pointers:t,center:W(t),deltaX:e.deltaX,deltaY:e.deltaY}}function W(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var i=0,s=0,n=0;n<t;)i+=e[n].clientX,s+=e[n].clientY,n++;return{x:d(i/t),y:d(s/t)}}function Y(e,t,i){return{x:t/e||0,y:i/e||0}}function q(e,t){return e===t?1:u(e)>=u(t)?e<0?2:4:t<0?8:16}function U(e,t,i){i||(i=F);var s=t[i[0]]-e[i[0]],n=t[i[1]]-e[i[1]];return Math.sqrt(s*s+n*n)}function G(e,t,i){return i||(i=F),180*Math.atan2(t[i[1]]-e[i[1]],t[i[0]]-e[i[0]])/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(I(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function Z(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,z.apply(this,arguments)}w(Z,z,{handler:function(e){var t=X[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var $={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},K={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",J="pointermove pointerup pointercancel";function ee(){this.evEl=Q,this.evWin=J,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(Q="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),w(ee,z,{handler:function(e){var t=this.store,i=!1,s=e.type.toLowerCase().replace("ms",""),n=$[s],r=K[e.pointerType]||e.pointerType,a="touch"==r,o=M(t,e.pointerId,"pointerId");1&n&&(0===e.button||a)?o<0&&(t.push(e),o=t.length-1):12&n&&(i=!0),o<0||(t[o]=e,this.callback(this.manager,n,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),i&&t.splice(o,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ie(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,z.apply(this,arguments)}function se(e,t){var i=L(e.touches),s=L(e.changedTouches);return 12&t&&(i=T(i.concat(s),"identifier",!0)),[i,s]}w(ie,z,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var i=se.call(this,e,t);12&t&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}}});var ne={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function re(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},z.apply(this,arguments)}function ae(e,t){var i=L(e.touches),s=this.targetIds;if(3&t&&1===i.length)return s[i[0].identifier]=!0,[i,i];var n,r,a=L(e.changedTouches),o=[],l=this.target;if(r=i.filter((function(e){return D(e.target,l)})),1===t)for(n=0;n<r.length;)s[r[n].identifier]=!0,n++;for(n=0;n<a.length;)s[a[n].identifier]&&o.push(a[n]),12&t&&delete s[a[n].identifier],n++;return o.length?[T(r.concat(o),"identifier",!0),o]:void 0}function oe(){z.apply(this,arguments);var e=x(this.handler,this);this.touch=new re(this.manager,e),this.mouse=new Z(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,he.call(this,t)):12&e&&he.call(this,t)}function he(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var s=this.lastTouches;setTimeout((function(){var e=s.indexOf(i);e>-1&&s.splice(e,1)}),2500)}}function ce(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var n=this.lastTouches[s],r=Math.abs(t-n.x),a=Math.abs(i-n.y);if(r<=25&&a<=25)return!0}return!1}w(re,z,{handler:function(e){var t=ne[e.type],i=ae.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}}),w(oe,z,{handler:function(e,t,i){var s="mouse"==i.pointerType;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if("touch"==i.pointerType)le.call(this,t,i);else if(s&&ce.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var de=R(c.style,"touchAction"),ue=void 0!==de,pe=function(){if(!ue)return!1;var e={},t=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){e[i]=!t||n.CSS.supports("touch-action",i)})),e}();function me(e,t){this.manager=e,this.set(t)}function ge(e){this.options=l({},this.defaults,e||{}),this.id=P++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function fe(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ye(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function be(e,t){var i=t.manager;return i?i.get(e):e}function ve(){ge.apply(this,arguments)}function we(){ve.apply(this,arguments),this.pX=null,this.pY=null}function xe(){ve.apply(this,arguments)}function _e(){ge.apply(this,arguments),this._timer=null,this._input=null}function Se(){ve.apply(this,arguments)}function Ce(){ve.apply(this,arguments)}function Ee(){ge.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function De(e,t){return(t=t||{}).recognizers=S(t.recognizers,De.defaults.preset),new ke(e,t)}function ke(e,t){var i;this.options=l({},De.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((i=this).options.inputClass||(N?ee:V?re:O?oe:Z))(i,H),this.touchAction=new me(this,this.options.touchAction),Ae(this,!0),f(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ae(e,t){var i,s=e.element;s.style&&(f(e.options.cssProps,(function(n,r){i=R(s.style,r),t?(e.oldCssProps[i]=s.style[i],s.style[i]=n):s.style[i]=e.oldCssProps[i]||""})),t||(e.oldCssProps={}))}me.prototype={set:function(e){"compute"==e&&(e=this.compute()),ue&&this.manager.element.style&&pe[e]&&(this.manager.element.style[de]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return f(this.manager.recognizers,(function(t){_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(k(e,"none"))return"none";var t=k(e,"pan-x"),i=k(e,"pan-y");return t&&i?"none":t||i?t?"pan-x":"pan-y":k(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var s=this.actions,n=k(s,"none")&&!pe.none,r=k(s,"pan-y")&&!pe["pan-y"],a=k(s,"pan-x")&&!pe["pan-x"];if(n&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!a||!r)return n||r&&6&i||a&&24&i?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},ge.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=be(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)?this:(e=be(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===M(t,e=be(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=be(e,this);var t=M(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function s(i){t.manager.emit(i,e)}i<8&&s(t.options.event+fe(i)),s(t.options.event),e.additionalEvent&&s(e.additionalEvent),i>=8&&s(t.options.event+fe(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!_(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(ve,ge,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,s=6&t,n=this.attrTest(e);return s&&(8&i||!n)?16|t:s||n?4&i?8|t:2&t?4|t:2:32}}),w(we,ve,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,i=!0,s=e.distance,n=e.direction,r=e.deltaX,a=e.deltaY;return n&t.direction||(6&t.direction?(n=0===r?1:r<0?2:4,i=r!=this.pX,s=Math.abs(e.deltaX)):(n=0===a?1:a<0?8:16,i=a!=this.pY,s=Math.abs(e.deltaY))),e.direction=n,i&&s>t.threshold&&n&t.direction},attrTest:function(e){return ve.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ye(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(xe,ve,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),w(_e,ge,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,s=e.distance<t.threshold,n=e.deltaTime>t.time;if(this._input=e,!s||!i||12&e.eventType&&!n)this.reset();else if(1&e.eventType)this.reset(),this._timer=m((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),w(Se,ve,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(Ce,ve,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return we.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return 30&i?t=e.overallVelocity:6&i?t=e.overallVelocityX:24&i&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&u(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ye(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Ee,ge,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,s=e.distance<t.threshold,n=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(s&&n&&i){if(4!=e.eventType)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||U(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&r?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),De.VERSION="2.0.7",De.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Se,{enable:!1}],[xe,{enable:!1},["rotate"]],[Ce,{direction:6}],[we,{direction:6},["swipe"]],[Ee],[Ee,{event:"doubletap",taps:2},["tap"]],[_e]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ke.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var i;this.touchAction.preventDefaults(e);var s=this.recognizers,n=t.curRecognizer;(!n||n&&8&n.state)&&(n=t.curRecognizer=null);for(var r=0;r<s.length;)i=s[r],2===t.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(e),!n&&14&i.state&&(n=t.curRecognizer=i),r++}},get:function(e){if(e instanceof ge)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=M(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var i=this.handlers;return f(A(e),(function(e){i[e]=i[e]||[],i[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var i=this.handlers;return f(A(e),(function(e){t?i[e]&&i[e].splice(M(i[e],t),1):delete i[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var i=r.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](t),s++}},destroy:function(){this.element&&Ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(De,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:ke,Input:z,TouchAction:me,TouchInput:re,MouseInput:Z,PointerEventInput:ee,TouchMouseInput:oe,SingleTouchInput:ie,Recognizer:ge,AttrRecognizer:ve,Tap:Ee,Pan:we,Swipe:Ce,Pinch:xe,Rotate:Se,Press:_e,on:C,off:E,each:f,merge:v,extend:b,assign:l,inherit:w,bindFn:x,prefixed:R}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=De,void 0===(s=(function(){return De}).call(t,i,t,e))||(e.exports=s)}(window,document)},zUnb:function(e,t,i){"use strict";function s(e){return"function"==typeof e}i.r(t),i("yLV6");let n=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=e},get useDeprecatedSynchronousErrorHandling(){return n}};function a(e){setTimeout(()=>{throw e})}const o={closed:!0,next(e){},error(e){if(r.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete(){}},l=Array.isArray||(e=>e&&"number"==typeof e.length);function h(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const d=c;let u=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:i,_parents:n,_unsubscribe:r,_subscriptions:a}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,c=n?n.length:0;for(;i;)i.remove(this),i=++o<c&&n[o]||null;if(s(r))try{r.call(this)}catch(u){t=!0,e=u instanceof d?p(u.errors):[u]}if(l(a))for(o=-1,c=a.length;++o<c;){const i=a[o];if(h(i))try{i.unsubscribe()}catch(u){t=!0,e=e||[],u instanceof d?e=e.concat(p(u.errors)):e.push(u)}}if(t)throw new d(e)}add(t){let i=t;switch(typeof t){case"function":i=new e(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof e)){const t=i;i=new e,i._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(i._addParent(this)){const e=this._subscriptions;e?e.push(i):this._subscriptions=[i]}return i}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}_addParent(e){let{_parent:t,_parents:i}=this;return t!==e&&(t?i?-1===i.indexOf(e)&&(i.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function p(e){return e.reduce((e,t)=>e.concat(t instanceof d?t.errors:t),[])}const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends u{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o;break;case 1:if(!e){this.destination=o;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,e,t,i)}}[m](){return this}static create(e,t,i){const s=new g(e,t,i);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class f extends g{constructor(e,t,i,n){let r;super(),this._parentSubscriber=e;let a=this;s(t)?r=t:t&&(r=t.next,i=t.error,n=t.complete,t!==o&&(a=Object.create(t),s(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=r,this._error=i,this._complete=n}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=r;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;a(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw i;a(i)}}__tryOrSetError(e,t,i){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(s){return r.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(a(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function b(){}let v=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){const{operator:s}=this,n=function(e,t,i){if(e){if(e instanceof g)return e;if(e[m])return e[m]()}return e||t||i?new g(e,t,i):new g(o)}(e,t,i);if(n.add(s?s.call(n,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),r.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n}_trySubscribe(e){try{return this._subscribe(e)}catch(t){r.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:i,isStopped:s}=e;if(t||s)return!1;e=i&&i instanceof g?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=w(t))((t,i)=>{let s;s=this.subscribe(t=>{try{e(t)}catch(n){i(n),s&&s.unsubscribe()}},i,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[y](){return this}pipe(...e){return 0===e.length?this:((t=e)?1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)}:b)(this);var t}toPromise(e){return new(e=w(e))((e,t)=>{let i;this.subscribe(e=>i=e,e=>t(e),()=>e(i))})}}return e.create=t=>new e(t),e})();function w(e){if(e||(e=r.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function x(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}x.prototype=Object.create(Error.prototype);const _=x;class S extends u{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class C extends g{constructor(e){super(e),this.destination=e}}let E=(()=>{class e extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[m](){return new C(this)}lift(e){const t=new D(this,this);return t.operator=e,t}next(e){if(this.closed)throw new _;if(!this.isStopped){const{observers:t}=this,i=t.length,s=t.slice();for(let n=0;n<i;n++)s[n].next(e)}}error(e){if(this.closed)throw new _;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,i=t.length,s=t.slice();for(let n=0;n<i;n++)s[n].error(e);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:e}=this,t=e.length,i=e.slice();for(let s=0;s<t;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new _;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new _;return this.hasError?(e.error(this.thrownError),u.EMPTY):this.isStopped?(e.complete(),u.EMPTY):(this.observers.push(e),new S(this,e))}asObservable(){const e=new v;return e.source=this,e}}return e.create=(e,t)=>new D(e,t),e})();class D extends E{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):u.EMPTY}}function k(e){return e&&"function"==typeof e.schedule}class A extends g{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const M=e=>t=>{for(let i=0,s=e.length;i<s&&!t.closed;i++)t.next(e[i]);t.closed||t.complete()},L=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,a),t);function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=T(),P=e=>t=>{const i=e[R]();for(;;){const e=i.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof i.return&&t.add(()=>{i.return&&i.return()}),t},I=e=>t=>{const i=e[y]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(t)},O=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function N(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const V=e=>{if(e instanceof v)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[y])return I(e);if(O(e))return M(e);if(N(e))return L(e);if(e&&"function"==typeof e[R])return P(e);{const t=h(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function F(e,t,i,s,n=new A(e,i,s)){if(!n.closed)return V(t)(n)}class B extends g{notifyNext(e,t,i,s,n){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function z(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new H(e,t))}}class H{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new j(e,this.project,this.thisArg))}}class j extends g{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}function W(e,t){return new v(t?i=>{const s=new u;let n=0;return s.add(t.schedule((function(){n!==e.length?(i.next(e[n++]),i.closed||s.add(this.schedule())):i.complete()}))),s}:M(e))}function Y(e,t){if(!t)return e instanceof v?e:new v(V(e));if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new v(t?i=>{const s=new u;return s.add(t.schedule(()=>{const n=e[y]();s.add(n.subscribe({next(e){s.add(t.schedule(()=>i.next(e)))},error(e){s.add(t.schedule(()=>i.error(e)))},complete(){s.add(t.schedule(()=>i.complete()))}}))})),s}:I(e))}(e,t);if(N(e))return function(e,t){return new v(t?i=>{const s=new u;return s.add(t.schedule(()=>e.then(e=>{s.add(t.schedule(()=>{i.next(e),s.add(t.schedule(()=>i.complete()))}))},e=>{s.add(t.schedule(()=>i.error(e)))}))),s}:L(e))}(e,t);if(O(e))return W(e,t);if(function(e){return e&&"function"==typeof e[R]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new v(t?i=>{const s=new u;let n;return s.add(()=>{n&&"function"==typeof n.return&&n.return()}),s.add(t.schedule(()=>{n=e[R](),s.add(t.schedule((function(){if(i.closed)return;let e,t;try{const i=n.next();e=i.value,t=i.done}catch(s){return void i.error(s)}t?i.complete():(i.next(e),this.schedule())})))})),s}:P(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}class q{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new U(e,this.project,this.concurrent))}}class U extends B{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t,e,i)}_innerSub(e,t,i){const s=new A(this,void 0,void 0);this.destination.add(s),F(this,e,t,i,s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,i,s,n){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function G(e){return e}function X(e=Number.POSITIVE_INFINITY){return function e(t,i,s=Number.POSITIVE_INFINITY){return"function"==typeof i?n=>n.pipe(e((e,s)=>Y(t(e,s)).pipe(z((t,n)=>i(e,t,s,n))),s)):("number"==typeof i&&(s=i),e=>e.lift(new q(t,s)))}(G,e)}function Z(...e){let t=Number.POSITIVE_INFINITY,i=null,s=e[e.length-1];return k(s)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof s&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof v?e[0]:X(t)(W(e,i))}function $(){return function(e){return e.lift(new K(e))}}class K{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const s=new Q(e,i),n=t.subscribe(s);return s.closed||(s.connection=i.connect()),n}}class Q extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,s=e._connection;this.connection=null,!s||i&&s!==i||s.unsubscribe()}}const J=class extends v{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new u,e.add(this.source.subscribe(new te(this.getSubject(),this))),e.closed?(this._connection=null,e=u.EMPTY):this._connection=e),e}refCount(){return $()(this)}}.prototype,ee={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:J._subscribe},_isComplete:{value:J._isComplete,writable:!0},getSubject:{value:J.getSubject},connect:{value:J.connect},refCount:{value:J.refCount}};class te extends C{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ie(){return new E}function se(e,t,i){const s=function(e){return function(...t){if(e){const i=e(...t);for(const e in i)this[e]=i[e]}}}(t);function n(...e){if(this instanceof n)return s.apply(this,e),this;const t=new n(...e);return i.annotation=t,i;function i(e,i,s){const n=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;n.length<=s;)n.push(null);return(n[s]=n[s]||[]).push(t),e}}return i&&(n.prototype=Object.create(i.prototype)),n.prototype.ngMetadataName=e,n.annotationCls=n,n}const ne=se("Inject",e=>({token:e})),re=se("Optional"),ae=se("Self"),oe=se("SkipSelf");var le=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function he(e){for(let t in e)if(e[t]===he)return t;throw Error("Could not find renamed property on target object.")}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function de(e){const t=e[ue];return t&&t.token===e?t:null}const ue=he({ngInjectableDef:he});function pe(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(pe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}const me=he({__forward_ref__:he});function ge(e){return e.__forward_ref__=ge,e.toString=function(){return pe(this())},e}function fe(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(me)&&t.__forward_ref__===ge?t():e}const ye="undefined"!=typeof globalThis&&globalThis,be="undefined"!=typeof window&&window,ve="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,we="undefined"!=typeof global&&global,xe=ye||we||be||ve;class _e{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Se=new _e("INJECTOR",-1),Ce=new Object,Ee=/\n/gm,De=he({provide:String,useValue:he});let ke=void 0;function Ae(e){const t=ke;return ke=e,t}function Me(e,t=le.Default){return function(e,t=le.Default){if(void 0===ke)throw new Error("inject() must be called from an injection context");return null===ke?function(e,t,i){const s=de(e);if(s&&"root"==s.providedIn)return void 0===s.value?s.value=s.factory():s.value;if(i&le.Optional)return null;throw new Error(`Injector: NOT_FOUND [${pe(e)}]`)}(e,0,t):ke.get(e,t&le.Optional?null:void 0,t)}(e,t)}const Le=Me;class Te{get(e,t=Ce){if(t===Ce){const t=new Error(`NullInjectorError: No provider for ${pe(e)}!`);throw t.name="NullInjectorError",t}return t}}function Re(e,t,i,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let n=pe(t);if(t instanceof Array)n=t.map(pe).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let s=t[i];e.push(i+":"+("string"==typeof s?JSON.stringify(s):pe(s)))}n=`{${e.join(", ")}}`}return`${i}${s?"("+s+")":""}[${n}]: ${e.replace(Ee,"\n  ")}`}class Pe{}function Ie(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function Oe(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Ne=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ve=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xe))();function Fe(e){return e.ngDebugContext}function Be(e){return e.ngOriginalError}function ze(e,...t){e.error(...t)}class He{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),s=function(e){return e.ngErrorLogger||ze}(e);s(this._console,"ERROR",e),t&&s(this._console,"ORIGINAL ERROR",t),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?Fe(e)?Fe(e):this._findContext(Be(e)):null}_findOriginalError(e){let t=Be(e);for(;t&&Be(t);)t=Be(t);return t}}let je=!0,We=!1;function Ye(){return We=!0,je}class qe{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(s){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const i=t.response.body;return i.removeChild(i.firstChild),i}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let s=t.length-1;0<s;s--){const i=t.item(s).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Ue=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ge=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xe(e){return(e=String(e)).match(Ue)||e.match(Ge)?e:(Ye()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Ze(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function $e(...e){const t={};for(const i of e)for(const e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}const Ke=Ze("area,br,col,hr,img,wbr"),Qe=Ze("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Je=Ze("rp,rt"),et=$e(Je,Qe),tt=$e(Ke,$e(Qe,Ze("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$e(Je,Ze("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),et),it=Ze("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),st=Ze("srcset"),nt=$e(it,st,Ze("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ze("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rt=Ze("script,style,template");class at{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!tt.hasOwnProperty(t))return this.sanitizedSomething=!0,!rt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let n=0;n<i.length;n++){const e=i.item(n),t=e.name,r=t.toLowerCase();if(!nt.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let a=e.value;it[r]&&(a=Xe(a)),st[r]&&(s=a,a=(s=String(s)).split(",").map(e=>Xe(e.trim())).join(", ")),this.buf.push(" ",t,'="',ht(a),'"')}var s;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();tt.hasOwnProperty(t)&&!Ke.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ht(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ot=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lt=/([^\#-~ |!])/g;function ht(e){return e.replace(/&/g,"&amp;").replace(ot,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(lt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ct;function dt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const ut=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class pt{}const mt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),gt=/^url\(([^)]+)\)$/;function ft(e){var t;return t=e.replace(/[$@]/g,"_"),`ng-reflect-${e=t.replace(yt,(...e)=>"-"+e[1].toLowerCase())}`}const yt=/([A-Z])/g;function bt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let vt=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>wt(),e})();const wt=(...e)=>{},xt=new _e("The presence of this token marks an injector as being the root injector."),_t=function(e,t,i){return new At(e,t,i)};let St=(()=>{class e{static create(e,t){return Array.isArray(e)?_t(e,t,""):_t(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ce,e.NULL=new Te,e.ngInjectableDef=ce({token:e,providedIn:"any",factory:()=>Me(Se)}),e.__NG_ELEMENT_ID__=-1,e})();const Ct=function(e){return e},Et=[],Dt=Ct,kt=function(){return Array.prototype.slice.call(arguments)};class At{constructor(e,t=St.NULL,i=null){this.parent=t,this.source=i;const s=this._records=new Map;s.set(St,{token:St,fn:Ct,deps:Et,value:this,useNew:!1}),s.set(Se,{token:Se,fn:Ct,deps:Et,value:this,useNew:!1}),function e(t,i){if(i)if((i=fe(i))instanceof Array)for(let s=0;s<i.length;s++)e(t,i[s]);else{if("function"==typeof i)throw Lt("Function/Class not supported",i);if(!i||"object"!=typeof i||!i.provide)throw Lt("Unexpected provider",i);{let e=fe(i.provide);const s=function(e){const t=function(e){let t=Et;const i=e.deps;if(i&&i.length){t=[];for(let e=0;e<i.length;e++){let s=6,n=fe(i[e]);if(n instanceof Array)for(let e=0,t=n;e<t.length;e++){const i=t[e];i instanceof re||i==re?s|=1:i instanceof oe||i==oe?s&=-3:i instanceof ae||i==ae?s&=-5:n=i instanceof ne?i.token:fe(i)}t.push({token:n,options:s})}}else if(e.useExisting)t=[{token:fe(e.useExisting),options:6}];else if(!(i||De in e))throw Lt("'deps' required",e);return t}(e);let i=Ct,s=Et,n=!1,r=fe(e.provide);if(De in e)s=e.useValue;else if(e.useFactory)i=e.useFactory;else if(e.useExisting);else if(e.useClass)n=!0,i=fe(e.useClass);else{if("function"!=typeof r)throw Lt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);n=!0,i=r}return{deps:t,fn:i,useNew:n,value:s}}(i);if(!0===i.multi){let s=t.get(e);if(s){if(s.fn!==kt)throw Mt(e)}else t.set(e,s={token:i.provide,deps:[],useNew:!1,fn:kt,value:Et});e=i,s.deps.push({token:e,options:6})}const n=t.get(e);if(n&&n.fn==kt)throw Mt(e);t.set(e,s)}}}(s,e)}get(e,t,i=le.Default){const s=this._records.get(e);try{return function e(t,i,s,n,r,a){try{return function(t,i,s,n,r,a){let o;if(!i||a&le.SkipSelf)a&le.Self||(o=n.get(t,r,le.Default));else{if(o=i.value,o==Dt)throw Error("\u0275Circular dependency");if(o===Et){i.value=Dt;let t=void 0,r=i.useNew,a=i.fn,l=i.deps,h=Et;if(l.length){h=[];for(let t=0;t<l.length;t++){const i=l[t],r=i.options,a=2&r?s.get(i.token):void 0;h.push(e(i.token,a,s,a||4&r?n:St.NULL,1&r?null:St.THROW_IF_NOT_FOUND,le.Default))}}i.value=o=r?new a(...h):a.apply(t,h)}}return o}(t,i,s,n,r,a)}catch(o){throw o instanceof Error||(o=new Error(o)),(o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(t),i&&i.value==Dt&&(i.value=Et),o}}(e,s,this._records,this.parent,t,i)}catch(n){return function(e,t,i,s){const n=e.ngTempTokenPath;throw t.__source&&n.unshift(t.__source),e.message=Re("\n"+e.message,n,"StaticInjectorError",s),e.ngTokenPath=n,e.ngTempTokenPath=null,e}(n,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,i)=>e.push(pe(i))),`StaticInjector[${e.join(", ")}]`}}function Mt(e){return Lt("Cannot mix multi providers and regular providers",e)}function Lt(e,t){return new Error(Re(e,t,"StaticInjectorError"))}let Tt=null;function Rt(){if(!Tt){const e=xe.Symbol;if(e&&e.iterator)Tt=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Tt=i)}}}return Tt}function Pt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function It(e,t){const i=Nt(e),s=Nt(t);if(i&&s)return function(e,t,i){const s=e[Rt()](),n=t[Rt()]();for(;;){const e=s.next(),t=n.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!i(e.value,t.value))return!1}}(e,t,It);{const n=e&&("object"==typeof e||"function"==typeof e),r=t&&("object"==typeof t||"function"==typeof t);return!(i||!n||s||!r)||Pt(e,t)}}class Ot{constructor(e){this.wrapped=e}static wrap(e){return new Ot(e)}static unwrap(e){return Ot.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Ot}}function Nt(e){return!!Vt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Rt()in e)}function Vt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ft(e){return!!e&&"function"==typeof e.then}function Bt(e){return!!e&&"function"==typeof e.subscribe}class zt{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}class Ht{}function jt(e){const t=Error(`No component factory found for ${pe(e)}. Did you add it to @NgModule.entryComponents?`);return t[Wt]=e,t}const Wt="ngComponent";class Yt{resolveComponentFactory(e){throw jt(e)}}let qt=(()=>{class e{}return e.NULL=new Yt,e})();class Ut{constructor(e,t,i){this._parent=t,this._ngModule=i,this._factories=new Map;for(let s=0;s<e.length;s++){const t=e[s];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw jt(e);return new Gt(t,this._ngModule)}}class Gt extends Ht{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,i,s){return this.factory.create(e,t,i,s||this.ngModule)}}function Xt(...e){}let Zt=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>$t(e),e})();const $t=Xt;class Kt{}class Qt{}const Jt=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let ei=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ti(),e})();const ti=Xt;class ii{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const si=new ii("8.2.14");class ni{constructor(){}supports(e){return Nt(e)}create(e){return new ai(e)}}const ri=(e,t)=>t;class ai{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ri}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,n=null;for(;t||i;){const r=!i||t&&t.currentIndex<ci(i,s,n)?t:i,a=ci(r,s,n),o=r.currentIndex;if(r===i)s--,i=i._nextRemoved;else if(t=t._next,null==r.previousIndex)s++;else{n||(n=[]);const e=a-s,t=o-s;if(e!=t){for(let i=0;i<e;i++){const s=i<n.length?n[i]:n[i]=0,r=s+i;t<=r&&r<e&&(n[i]=s+1)}n[r.previousIndex]=t-e}}a!==o&&e(r,a,o)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Nt(e))throw new Error(`Error trying to diff '${pe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],s=this._trackByFn(t,i),null!==n&&Pt(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,t)),Pt(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,t),r=!0),n=n._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Rt()]();let s;for(;!(s=i.next()).done;)t(s.value)}}(e,e=>{s=this._trackByFn(t,e),null!==n&&Pt(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,e,s,t)),Pt(n.item,e)||this._addIdentityChange(n,e)):(n=this._mismatch(n,e,s,t),r=!0),n=n._next,t++}),this.length=t;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let n;return null===e?n=this._itTail:(n=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Pt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,n,s)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Pt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,n,s)):e=this._addAfter(new oi(t,i),n,s),e}_verifyReinsertion(e,t,i,s){let n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==n?e=this._reinsertAfter(n,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,n=e._nextRemoved;return null===s?this._removalsHead=n:s._nextRemoved=n,null===n?this._removalsTail=s:n._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new hi),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hi),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oi{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class li{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Pt(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class hi{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new li,this.map.set(t,i)),i.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ci(e,t,i){const s=e.previousIndex;if(null===s)return s;let n=0;return i&&s<i.length&&(n=i[s]),s+t+n}class di{constructor(){}supports(e){return e instanceof Map||Vt(e)}create(){return new ui}}class ui{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Vt(e)))throw new Error(`Error trying to diff '${pe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,n=i._next;return s&&(s._next=n),n&&(n._prev=s),i._next=null,i._prev=null,i}const i=new pi(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Pt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class pi{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let mi=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,i)},deps:[[e,new oe,new re]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${i=e,i.name||typeof i}'`);var i}}return e.ngInjectableDef=ce({token:e,providedIn:"root",factory:()=>new e([new ni])}),e})(),gi=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,i)},deps:[[e,new oe,new re]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=ce({token:e,providedIn:"root",factory:()=>new e([new di])}),e})();const fi=[new di],yi=new mi([new ni]),bi=new gi(fi);let vi=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>wi(e,Zt),e})();const wi=Xt;let xi=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>_i(e,Zt),e})();const _i=Xt;function Si(e,t,i,s){let n=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${i}'.`;return s&&(n+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const i=new Error(e);return Ci(i,t),i}(n,e)}function Ci(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Ei(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function Di(e,t,i){const s=e.state,n=1792&s;return n===t?(e.state=-1793&s|i,e.initIndex=-1,!0):n===i}function ki(e,t,i){return(1792&e.state)===t&&e.initIndex<=i&&(e.initIndex=i+1,!0)}function Ai(e,t){return e.nodes[t]}function Mi(e,t){return e.nodes[t]}function Li(e,t){return e.nodes[t]}function Ti(e,t){return e.nodes[t]}function Ri(e,t){return e.nodes[t]}const Pi={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Ii=()=>{},Oi=new Map;function Ni(e){let t=Oi.get(e);return t||(t=pe(e)+"_"+Oi.size,Oi.set(e,t)),t}function Vi(e,t,i,s){if(Ot.isWrapped(s)){s=Ot.unwrap(s);const n=e.def.nodes[t].bindingIndex+i,r=Ot.unwrap(e.oldValues[n]);e.oldValues[n]=new Ot(r)}return s}function Fi(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Bi=0;function zi(e,t,i,s){return!(!(2&e.state)&&Pt(e.oldValues[t.bindingIndex+i],s))}function Hi(e,t,i,s){return!!zi(e,t,i,s)&&(e.oldValues[t.bindingIndex+i]=s,!0)}function ji(e,t,i,s){const n=e.oldValues[t.bindingIndex+i];if(1&e.state||!It(n,s)){const r=t.bindings[i].name;throw Si(Pi.createDebugContext(e,t.nodeIndex),`${r}: ${n}`,`${r}: ${s}`,0!=(1&e.state))}}function Wi(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Yi(e,t){let i=e;for(;i&&i!==t;)i.state|=64,i=i.viewContainerParent||i.parent}function qi(e,t,i,s){try{return Wi(33554432&e.def.nodes[t].flags?Mi(e,t).componentView:e),Pi.handleEvent(e,t,i,s)}catch(n){e.root.errorHandler.handleError(n)}}function Ui(e){return e.parent?Mi(e.parent,e.parentNodeDef.nodeIndex):null}function Gi(e){return e.parent?e.parentNodeDef.parent:null}function Xi(e,t){switch(201347067&t.flags){case 1:return Mi(e,t.nodeIndex).renderElement;case 2:return Ai(e,t.nodeIndex).renderText}}function Zi(e,t){return e?`${e}:${t}`:t}function $i(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Ki(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Qi(e){return 1<<e%32}function Ji(e){const t={};let i=0;const s={};return e&&e.forEach(([e,n])=>{"number"==typeof e?(t[e]=n,i|=Qi(e)):s[e]=n}),{matchedQueries:t,references:s,matchedQueryIds:i}}function es(e,t){return e.map(e=>{let i,s;return Array.isArray(e)?[s,i]=e:(s=0,i=e),i&&("function"==typeof i||"object"==typeof i)&&t&&Object.defineProperty(i,"__source",{value:t,configurable:!0}),{flags:s,token:i,tokenKey:Ni(i)}})}function ts(e,t,i){let s=i.renderParent;return s?0==(1&s.flags)||0==(33554432&s.flags)||s.element.componentRendererType&&s.element.componentRendererType.encapsulation===Ne.Native?Mi(e,i.renderParent.nodeIndex).renderElement:void 0:t}const is=new WeakMap;function ss(e){let t=is.get(e);return t||(t=e(()=>Ii),t.factory=e,is.set(e,t)),t}function ns(e,t,i,s,n){3===t&&(i=e.renderer.parentNode(Xi(e,e.def.lastRenderRootNode))),rs(e,t,0,e.def.nodes.length-1,i,s,n)}function rs(e,t,i,s,n,r,a){for(let o=i;o<=s;o++){const i=e.def.nodes[o];11&i.flags&&os(e,i,t,n,r,a),o+=i.childCount}}function as(e,t,i,s,n,r){let a=e;for(;a&&!$i(a);)a=a.parent;const o=a.parent,l=Gi(a),h=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=h;c++){const e=o.def.nodes[c];e.ngContentIndex===t&&os(o,e,i,s,n,r),c+=e.childCount}if(!o.parent){const a=e.root.projectableNodes[t];if(a)for(let t=0;t<a.length;t++)ls(e,a[t],i,s,n,r)}}function os(e,t,i,s,n,r){if(8&t.flags)as(e,t.ngContent.index,i,s,n,r);else{const a=Xi(e,t);if(3===i&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&ls(e,a,i,s,n,r),32&t.bindingFlags&&ls(Mi(e,t.nodeIndex).componentView,a,i,s,n,r)):ls(e,a,i,s,n,r),16777216&t.flags){const a=Mi(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<a.length;e++)ns(a[e],i,s,n,r)}1&t.flags&&!t.element.name&&rs(e,i,t.nodeIndex+1,t.nodeIndex+t.childCount,s,n,r)}}function ls(e,t,i,s,n,r){const a=e.renderer;switch(i){case 1:a.appendChild(s,t);break;case 2:a.insertBefore(s,t,n);break;case 3:a.removeChild(s,t);break;case 0:r.push(t)}}const hs=/^:([^:]+):(.+)$/;function cs(e){if(":"===e[0]){const t=e.match(hs);return[t[1],t[2]]}return["",e]}function ds(e){let t=0;for(let i=0;i<e.length;i++)t|=e[i].flags;return t}const us=new Object,ps=Ni(St),ms=Ni(Se),gs=Ni(Pe);function fs(e,t,i,s){return i=fe(i),{index:-1,deps:es(s,pe(t)),flags:e,token:t,value:i}}function ys(e,t,i=St.THROW_IF_NOT_FOUND){const s=Ae(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);const a=t.tokenKey;switch(a){case ps:case ms:case gs:return e}const o=e._def.providersByKey[a];let l;if(o){let t=e._providers[o.index];return void 0===t&&(t=e._providers[o.index]=bs(e,o)),t===us?void 0:t}if((l=de(t.token))&&(n=e,null!=(r=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){const i=e._providers.length;return e._def.providers[i]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:i,token:t.token},e._providers[i]=us,e._providers[i]=bs(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{Ae(s)}var n,r}function bs(e,t){let i;switch(201347067&t.flags){case 512:i=function(e,t,i){const s=i.length;switch(s){case 0:return new t;case 1:return new t(ys(e,i[0]));case 2:return new t(ys(e,i[0]),ys(e,i[1]));case 3:return new t(ys(e,i[0]),ys(e,i[1]),ys(e,i[2]));default:const n=new Array(s);for(let t=0;t<s;t++)n[t]=ys(e,i[t]);return new t(...n)}}(e,t.value,t.deps);break;case 1024:i=function(e,t,i){const s=i.length;switch(s){case 0:return t();case 1:return t(ys(e,i[0]));case 2:return t(ys(e,i[0]),ys(e,i[1]));case 3:return t(ys(e,i[0]),ys(e,i[1]),ys(e,i[2]));default:const n=Array(s);for(let t=0;t<s;t++)n[t]=ys(e,i[t]);return t(...n)}}(e,t.value,t.deps);break;case 2048:i=ys(e,t.deps[0]);break;case 256:i=t.value}return i===us||null===i||"object"!=typeof i||131072&t.flags||"function"!=typeof i.ngOnDestroy||(t.flags|=131072),void 0===i?us:i}function vs(e,t){const i=e.viewContainer._embeddedViews;if((null==t||t>=i.length)&&(t=i.length-1),t<0)return null;const s=i[t];return s.viewContainerParent=null,Oe(i,t),Pi.dirtyParentQueries(s),xs(s),s}function ws(e,t,i){const s=t?Xi(t,t.def.lastRenderRootNode):e.renderElement,n=i.renderer.parentNode(s),r=i.renderer.nextSibling(s);ns(i,2,n,r,void 0)}function xs(e){ns(e,3,null,null,void 0)}const _s=new Object;function Ss(e,t,i,s,n,r){return new Cs(e,t,i,s,n,r)}class Cs extends Ht{constructor(e,t,i,s,n,r){super(),this.selector=e,this.componentType=t,this._inputs=s,this._outputs=n,this.ngContentSelectors=r,this.viewDefFactory=i}get inputs(){const e=[],t=this._inputs;for(let i in t)e.push({propName:i,templateName:t[i]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,i,s){if(!s)throw new Error("ngModule should be provided");const n=ss(this.viewDefFactory),r=n.nodes[0].element.componentProvider.nodeIndex,a=Pi.createRootView(e,t||[],i,n,s,_s),o=Li(a,r).instance;return i&&a.renderer.setAttribute(Mi(a,0).renderElement,"ng-version",si.full),new Es(a,new Ms(a),o)}}class Es extends class{}{constructor(e,t,i){super(),this._view=e,this._viewRef=t,this._component=i,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=i}get location(){return new Zt(Mi(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Ps(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Ds(e,t,i){return new ks(e,t,i)}class ks{constructor(e,t,i){this._view=e,this._elDef=t,this._data=i,this._embeddedViews=[]}get element(){return new Zt(this._data.renderElement)}get injector(){return new Ps(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Gi(e),e=e.parent;return e?new Ps(e,t):new Ps(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=vs(this._data,e);Pi.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Ms(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,i){const s=e.createEmbeddedView(t||{});return this.insert(s,i),s}createComponent(e,t,i,s,n){const r=i||this.parentInjector;n||e instanceof Gt||(n=r.get(Pe));const a=e.create(r,s,void 0,n);return this.insert(a.hostView,t),a}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const i=e;return function(e,t,i,s){let n=t.viewContainer._embeddedViews;null==i&&(i=n.length),s.viewContainerParent=e,Ie(n,i,s),function(e,t){const i=Ui(t);if(!i||i===e||16&t.state)return;t.state|=16;let s=i.template._projectedViews;s||(s=i.template._projectedViews=[]),s.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let i=t.parent;for(;i;)i.childFlags|=4,i=i.parent}(t.parent.def,t.parentNodeDef)}(t,s),Pi.dirtyParentQueries(s),ws(t,i>0?n[i-1]:null,s)}(this._view,this._data,t,i._view),i.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const i=this._embeddedViews.indexOf(e._view);return function(e,t,i){const s=e.viewContainer._embeddedViews,n=s[t];Oe(s,t),null==i&&(i=s.length),Ie(s,i,n),Pi.dirtyParentQueries(n),xs(n),ws(e,i>0?s[i-1]:null,n)}(this._data,i,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=vs(this._data,e);t&&Pi.destroyView(t)}detach(e){const t=vs(this._data,e);return t?new Ms(t):null}}function As(e){return new Ms(e)}class Ms{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return ns(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Wi(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Pi.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Pi.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Pi.destroyView(this._view)}detachFromAppRef(){this._appRef=null,xs(this._view),Pi.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Ls(e,t){return new Ts(e,t)}class Ts extends vi{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Ms(Pi.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Zt(Mi(this._parentView,this._def.nodeIndex).renderElement)}}function Rs(e,t){return new Ps(e,t)}class Ps{constructor(e,t){this.view=e,this.elDef=t}get(e,t=St.THROW_IF_NOT_FOUND){return Pi.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Ni(e)},t)}}function Is(e,t){const i=e.def.nodes[t];if(1&i.flags){const t=Mi(e,i.nodeIndex);return i.element.template?t.template:t.renderElement}if(2&i.flags)return Ai(e,i.nodeIndex).renderText;if(20240&i.flags)return Li(e,i.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Os(e){return new Ns(e.renderer)}class Ns{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[i,s]=cs(t),n=this.delegate.createElement(s,i);return e&&this.delegate.appendChild(e,n),n}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const i=this.delegate.createText(t);return e&&this.delegate.appendChild(e,i),i}projectNodes(e,t){for(let i=0;i<t.length;i++)this.delegate.appendChild(e,t[i])}attachViewAfter(e,t){const i=this.delegate.parentNode(e),s=this.delegate.nextSibling(e);for(let n=0;n<t.length;n++)this.delegate.insertBefore(i,t[n],s)}detachView(e){for(let t=0;t<e.length;t++){const i=e[t],s=this.delegate.parentNode(i);this.delegate.removeChild(s,i)}}destroyView(e,t){for(let i=0;i<t.length;i++)this.delegate.destroyNode(t[i])}listen(e,t,i){return this.delegate.listen(e,t,i)}listenGlobal(e,t,i){return this.delegate.listen(e,t,i)}setElementProperty(e,t,i){this.delegate.setProperty(e,t,i)}setElementAttribute(e,t,i){const[s,n]=cs(t);null!=i?this.delegate.setAttribute(e,n,i,s):this.delegate.removeAttribute(e,n,s)}setBindingDebugInfo(e,t,i){}setElementClass(e,t,i){i?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,i){null!=i?this.delegate.setStyle(e,t,i):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,i){e[t].apply(e,i)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Vs(e,t,i,s){return new Fs(e,t,i,s)}class Fs{constructor(e,t,i,s){this._moduleType=e,this._parent=t,this._bootstrapComponents=i,this._def=s,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,i=e._providers=new Array(t.providers.length);for(let s=0;s<t.providers.length;s++){const n=t.providers[s];4096&n.flags||void 0===i[s]&&(i[s]=bs(e,n))}}(this)}get(e,t=St.THROW_IF_NOT_FOUND,i=le.Default){let s=0;return i&le.SkipSelf?s|=1:i&le.Self&&(s|=4),ys(this,{token:e,tokenKey:Ni(e),flags:s},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(qt)}destroy(){if(this._destroyed)throw new Error(`The ng module ${pe(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const i=e._def,s=new Set;for(let n=0;n<i.providers.length;n++)if(131072&i.providers[n].flags){const t=e._providers[n];if(t&&t!==us){const e=t.ngOnDestroy;"function"!=typeof e||s.has(t)||(e.apply(t),s.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Bs=Ni(Kt),zs=Ni(ei),Hs=Ni(Zt),js=Ni(xi),Ws=Ni(vi),Ys=Ni(vt),qs=Ni(St),Us=Ni(Se);function Gs(e,t,i,s,n,r,a,o){const l=[];if(a)for(let c in a){const[e,t]=a[c];l[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const h=[];if(o)for(let c in o)h.push({type:1,propName:c,target:null,eventName:o[c]});return $s(e,t|=16384,i,s,n,n,r,l,h)}function Xs(e,t,i){return $s(-1,e|=16,null,0,t,t,i)}function Zs(e,t,i,s,n){return $s(-1,e,t,0,i,s,n)}function $s(e,t,i,s,n,r,a,o,l){const{matchedQueries:h,references:c,matchedQueryIds:d}=Ji(i);l||(l=[]),o||(o=[]),r=fe(r);const u=es(a,pe(n));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:d,references:c,ngContentIndex:-1,childCount:s,bindings:o,bindingFlags:ds(o),outputs:l,element:null,provider:{token:n,value:r,deps:u},text:null,query:null,ngContent:null}}function Ks(e,t){return tn(e,t)}function Qs(e,t){let i=e;for(;i.parent&&!$i(i);)i=i.parent;return sn(i.parent,Gi(i),!0,t.provider.value,t.provider.deps)}function Js(e,t){const i=sn(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let s=0;s<t.outputs.length;s++){const n=t.outputs[s],r=i[n.propName];if(!Bt(r))throw new Error(`@Output ${n.propName} not initialized in '${i.constructor.name}'.`);{const i=r.subscribe(en(e,t.parent.nodeIndex,n.eventName));e.disposables[t.outputIndex+s]=i.unsubscribe.bind(i)}}return i}function en(e,t,i){return s=>qi(e,t,i,s)}function tn(e,t){const i=(8192&t.flags)>0,s=t.provider;switch(201347067&t.flags){case 512:return sn(e,t.parent,i,s.value,s.deps);case 1024:return function(e,t,i,s,n){const r=n.length;switch(r){case 0:return s();case 1:return s(rn(e,t,i,n[0]));case 2:return s(rn(e,t,i,n[0]),rn(e,t,i,n[1]));case 3:return s(rn(e,t,i,n[0]),rn(e,t,i,n[1]),rn(e,t,i,n[2]));default:const a=Array(r);for(let s=0;s<r;s++)a[s]=rn(e,t,i,n[s]);return s(...a)}}(e,t.parent,i,s.value,s.deps);case 2048:return rn(e,t.parent,i,s.deps[0]);case 256:return s.value}}function sn(e,t,i,s,n){const r=n.length;switch(r){case 0:return new s;case 1:return new s(rn(e,t,i,n[0]));case 2:return new s(rn(e,t,i,n[0]),rn(e,t,i,n[1]));case 3:return new s(rn(e,t,i,n[0]),rn(e,t,i,n[1]),rn(e,t,i,n[2]));default:const a=new Array(r);for(let s=0;s<r;s++)a[s]=rn(e,t,i,n[s]);return new s(...a)}}const nn={};function rn(e,t,i,s,n=St.THROW_IF_NOT_FOUND){if(8&s.flags)return s.token;const r=e;2&s.flags&&(n=null);const a=s.tokenKey;a===Ys&&(i=!(!t||!t.element.componentView)),t&&1&s.flags&&(i=!1,t=t.parent);let o=e;for(;o;){if(t)switch(a){case Bs:return Os(an(o,t,i));case zs:return an(o,t,i).renderer;case Hs:return new Zt(Mi(o,t.nodeIndex).renderElement);case js:return Mi(o,t.nodeIndex).viewContainer;case Ws:if(t.element.template)return Mi(o,t.nodeIndex).template;break;case Ys:return As(an(o,t,i));case qs:case Us:return Rs(o,t);default:const e=(i?t.element.allProviders:t.element.publicProviders)[a];if(e){let t=Li(o,e.nodeIndex);return t||(t={instance:tn(o,e)},o.nodes[e.nodeIndex]=t),t.instance}}i=$i(o),t=Gi(o),o=o.parent,4&s.flags&&(o=null)}const l=r.root.injector.get(s.token,nn);return l!==nn||n===nn?l:r.root.ngModule.injector.get(s.token,n)}function an(e,t,i){let s;if(i)s=Mi(e,t.nodeIndex).componentView;else for(s=e;s.parent&&!$i(s);)s=s.parent;return s}function on(e,t,i,s,n,r){if(32768&i.flags){const t=Mi(e,i.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[i.bindings[s].name]=n,524288&i.flags){r=r||{};const t=Ot.unwrap(e.oldValues[i.bindingIndex+s]);r[i.bindings[s].nonMinifiedName]=new zt(t,n,0!=(2&e.state))}return e.oldValues[i.bindingIndex+s]=n,r}function ln(e,t){if(!(e.def.nodeFlags&t))return;const i=e.def.nodes;let s=0;for(let n=0;n<i.length;n++){const r=i[n];let a=r.parent;for(!a&&r.flags&t&&cn(e,n,r.flags&t,s++),0==(r.childFlags&t)&&(n+=r.childCount);a&&1&a.flags&&n===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(s=hn(e,a,t,s)),a=a.parent}}function hn(e,t,i,s){for(let n=t.nodeIndex+1;n<=t.nodeIndex+t.childCount;n++){const t=e.def.nodes[n];t.flags&i&&cn(e,n,t.flags&i,s++),n+=t.childCount}return s}function cn(e,t,i,s){const n=Li(e,t);if(!n)return;const r=n.instance;r&&(Pi.setCurrentNode(e,t),1048576&i&&ki(e,512,s)&&r.ngAfterContentInit(),2097152&i&&r.ngAfterContentChecked(),4194304&i&&ki(e,768,s)&&r.ngAfterViewInit(),8388608&i&&r.ngAfterViewChecked(),131072&i&&r.ngOnDestroy())}const dn=new _e("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ve}),un={},pn=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),mn=void 0;var gn=["en",[["a","p"],["AM","PM"],mn],[["AM","PM"],mn,mn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mn,"{1} 'at' {0}",mn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];class fn extends E{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let s,n=e=>null,r=()=>null;e&&"object"==typeof e?(s=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(n=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(r=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(n=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),i&&(r=this.__isAsync?()=>{setTimeout(()=>i())}:()=>{i()}));const a=super.subscribe(s,n,r);return e instanceof u&&e.add(a),a}}function yn(){return this._results[Rt()]()}class bn{constructor(){this.dirty=!0,this._results=[],this.changes=new fn,this.length=0;const e=Rt(),t=bn.prototype;t[e]||(t[e]=yn)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,i){void 0===i&&(i=t);for(let s=0;s<t.length;s++){let n=t[s];Array.isArray(n)?(i===t&&(i=t.slice(0,s)),e(n,i)):i!==t&&i.push(n)}return i}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const vn=new _e("Application Initializer");class wn{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const t=this.appInits[i]();Ft(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const xn=new _e("AppId");function _n(){return`${Sn()}${Sn()}${Sn()}`}function Sn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cn=new _e("Platform Initializer"),En=new _e("Platform ID"),Dn=new _e("appBootstrapListener");class kn{log(e){console.log(e)}warn(e){console.warn(e)}}const An=new _e("LocaleId");function Mn(){throw new Error("Runtime compiler is not loaded")}const Ln=Mn,Tn=Mn,Rn=Mn,Pn=Mn;class In{constructor(){this.compileModuleSync=Ln,this.compileModuleAsync=Tn,this.compileModuleAndAllComponentsSync=Rn,this.compileModuleAndAllComponentsAsync=Pn}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class On{}let Nn,Vn;function Fn(){const e=xe.wtf;return!(!e||(Nn=e.trace,!Nn)||(Vn=Nn.events,0))}const Bn=Fn();function zn(e,t){return null}const Hn=Bn?function(e,t=null){return Vn.createScope(e,t)}:(e,t)=>zn,jn=Bn?function(e,t){return Nn.leaveScope(e,t),t}:(e,t)=>t,Wn=(()=>Promise.resolve(0))();function Yn(e){"undefined"==typeof Zone?Wn.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class qn{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fn(!1),this.onMicrotaskEmpty=new fn(!1),this.onStable=new fn(!1),this.onError=new fn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,n,r,a)=>{try{return Zn(t),e.invokeTask(s,n,r,a)}finally{$n(t)}},onInvoke:(e,i,s,n,r,a,o)=>{try{return Zn(t),e.invoke(s,n,r,a,o)}finally{$n(t)}},onHasTask:(e,i,s,n)=>{e.hasTask(s,n),i===s&&("microTask"==n.change?(t.hasPendingMicrotasks=n.microTask,Xn(t)):"macroTask"==n.change&&(t.hasPendingMacrotasks=n.macroTask))},onHandleError:(e,i,s,n)=>(e.handleError(s,n),t.runOutsideAngular(()=>t.onError.emit(n)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){const n=this._inner,r=n.scheduleEventTask("NgZoneEvent: "+s,e,Gn,Un,Un);try{return n.runTask(r,t,i)}finally{n.cancelTask(r)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}function Un(){}const Gn={};function Xn(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Zn(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $n(e){e._nesting--,Xn(e)}class Kn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fn,this.onMicrotaskEmpty=new fn,this.onStable=new fn,this.onError=new fn}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class Qn{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qn.assertNotInAngularZone(),Yn(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yn(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,i){let s=-1;t&&t>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==s),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,i){return[]}}class Jn{constructor(){this._applications=new Map,ir.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ir.findTestabilityInTree(this,e,t)}}class er{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let tr,ir=new er;const sr=new _e("AllowMultipleToken");class nr{constructor(e,t){this.name=e,this.token=t}}function rr(e,t,i=[]){const s=`Platform: ${t}`,n=new _e(s);return(t=[])=>{let r=ar();if(!r||r.injector.get(sr,!1))if(e)e(i.concat(t).concat({provide:n,useValue:!0}));else{const e=i.concat(t).concat({provide:n,useValue:!0});!function(e){if(tr&&!tr.destroyed&&!tr.injector.get(sr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tr=e.get(or);const t=e.get(Cn,null);t&&t.forEach(e=>e())}(St.create({providers:e,name:s}))}return function(e){const t=ar();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(n)}}function ar(){return tr&&!tr.destroyed?tr:null}class or{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const i=function(e){let t;return t="noop"===e?new Kn:("zone.js"===e?void 0:e)||new qn({enableLongStackTrace:Ye()}),t}(t?t.ngZone:void 0),s=[{provide:qn,useValue:i}];return i.run(()=>{const t=St.create({providers:s,parent:this.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(He,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(()=>cr(this._modules,n)),i.runOutsideAngular(()=>i.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,i){try{const s=i();return Ft(s)?s.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(r,i,()=>{const e=n.injector.get(wn);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(n),n))})})}bootstrapModule(e,t=[]){const i=lr({},t);return function(e,t,i){return e.get(On).createCompiler([t]).compileModuleAsync(i)}(this.injector,i,e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get(hr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${pe(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function lr(e,t){return Array.isArray(t)?t.reduce(lr,e):Object.assign({},e,t)}let hr=(()=>{class e{constructor(e,t,i,s,n,r){this._zone=e,this._console=t,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=n,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ye(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new v(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),o=new v(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{qn.assertNotInAngularZone(),Yn(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{qn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),i.unsubscribe()}});this.isStable=Z(a,o.pipe(e=>{return $()((t=ie,function(e){let i;i="function"==typeof t?t:function(){return t};const s=Object.create(e,ee);return s.source=e,s.subjectFactory=i,s})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof Ht?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const s=i instanceof Gt?null:this._injector.get(Pe),n=i.create(St.NULL,[],t||i.selector,s);n.onDestroy(()=>{this._unloadComponent(n)});const r=n.injector.get(Qn,null);return r&&n.injector.get(Jn).registerApplication(n.location.nativeElement,r),this._loadComponent(n),Ye()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),n}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1,jn(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;cr(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Dn,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),cr(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=Hn("ApplicationRef#tick()"),e})();function cr(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class dr{constructor(e,t){this.name=e,this.callback=t}}class ur{constructor(e,t,i){this.listeners=[],this.parent=null,this._debugContext=i,this.nativeNode=e,t&&t instanceof pr&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class pr extends ur{constructor(e,t,i){super(e,t,i),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const i=this.childNodes.indexOf(e);-1!==i&&(this.childNodes.splice(i+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const i=this.childNodes.indexOf(e);-1===i?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(i,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,i,s){t.childNodes.forEach(t=>{t instanceof pr&&(i(t)&&s.push(t),e(t,i,s))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,i,s){t instanceof pr&&t.childNodes.forEach(t=>{i(t)&&s.push(t),t instanceof pr&&e(t,i,s)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof pr)}triggerEventHandler(e,t){this.listeners.forEach(i=>{i.name==e&&i.callback(t)})}}const mr=new Map,gr=function(e){return mr.get(e)||null};function fr(e){mr.set(e.nativeNode,e)}const yr=rr(null,"core",[{provide:En,useValue:"unknown"},{provide:or,deps:[St]},{provide:Jn,deps:[]},{provide:kn,deps:[]}]);function br(){return yi}function vr(){return bi}function wr(e){return e||"en-US"}function xr(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class _r{constructor(e){}}function Sr(e,t,i,s,n,r){e|=1;const{matchedQueries:a,references:o,matchedQueryIds:l}=Ji(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:l,references:o,ngContentIndex:i,childCount:s,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:r?ss(r):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:n||Ii},provider:null,text:null,query:null,ngContent:null}}function Cr(e,t,i,s,n,r,a=[],o,l,h,c,d){h||(h=Ii);const{matchedQueries:u,references:p,matchedQueryIds:m}=Ji(i);let g=null,f=null;r&&([g,f]=cs(r)),o=o||[];const y=new Array(o.length);for(let w=0;w<o.length;w++){const[e,t,i]=o[w],[s,n]=cs(t);let r=void 0,a=void 0;switch(15&e){case 4:a=i;break;case 1:case 8:r=i}y[w]={flags:e,ns:s,name:n,nonMinifiedName:n,securityContext:r,suffix:a}}l=l||[];const b=new Array(l.length);for(let w=0;w<l.length;w++){const[e,t]=l[w];b[w]={type:0,target:e,eventName:t,propName:null}}const v=(a=a||[]).map(([e,t])=>{const[i,s]=cs(e);return[i,s,t]});return d=function(e){if(e&&"$$undefined"===e.id){const t=null!=e.encapsulation&&e.encapsulation!==Ne.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Bi++}`:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(d),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:m,references:p,ngContentIndex:s,childCount:n,bindings:y,bindingFlags:ds(y),outputs:b,element:{ns:g,name:f,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:h||Ii},provider:null,text:null,query:null,ngContent:null}}function Er(e,t,i){const s=i.element,n=e.root.selectorOrNode,r=e.renderer;let a;if(e.parent||!n){a=s.name?r.createElement(s.name,s.ns):r.createComment("");const n=ts(e,t,i);n&&r.appendChild(n,a)}else a=r.selectRootElement(n,!!s.componentRendererType&&s.componentRendererType.encapsulation===Ne.ShadowDom);if(s.attrs)for(let o=0;o<s.attrs.length;o++){const[e,t,i]=s.attrs[o];r.setAttribute(a,t,i,e)}return a}function Dr(e,t,i,s){for(let n=0;n<i.outputs.length;n++){const r=i.outputs[n],a=kr(e,i.nodeIndex,Zi(r.target,r.eventName));let o=r.target,l=e;"component"===r.target&&(o=null,l=t);const h=l.renderer.listen(o||s,r.eventName,a);e.disposables[i.outputIndex+n]=h}}function kr(e,t,i){return s=>qi(e,t,i,s)}function Ar(e,t,i,s){if(!Hi(e,t,i,s))return!1;const n=t.bindings[i],r=Mi(e,t.nodeIndex),a=r.renderElement,o=n.name;switch(15&n.flags){case 1:!function(e,t,i,s,n,r){const a=t.securityContext;let o=a?e.root.sanitizer.sanitize(a,r):r;o=null!=o?o.toString():null;const l=e.renderer;null!=r?l.setAttribute(i,n,o,s):l.removeAttribute(i,n,s)}(e,n,a,n.ns,o,s);break;case 2:!function(e,t,i,s){const n=e.renderer;s?n.addClass(t,i):n.removeClass(t,i)}(e,a,o,s);break;case 4:!function(e,t,i,s,n){let r=e.root.sanitizer.sanitize(ut.STYLE,n);if(null!=r){r=r.toString();const e=t.suffix;null!=e&&(r+=e)}else r=null;const a=e.renderer;null!=r?a.setStyle(i,s,r):a.removeStyle(i,s)}(e,n,a,o,s);break;case 8:!function(e,t,i,s,n){const r=t.securityContext;let a=r?e.root.sanitizer.sanitize(r,n):n;e.renderer.setProperty(i,s,a)}(33554432&t.flags&&32&n.flags?r.componentView:e,n,a,o,s)}return!0}function Mr(e,t,i){let s=[];for(let n in i)s.push({propName:n,bindingType:i[n]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Qi(t),bindings:s},ngContent:null}}function Lr(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Ki(e);){let i=e.parentNodeDef;e=e.parent;const s=i.nodeIndex+i.childCount;for(let n=0;n<=s;n++){const s=e.def.nodes[n];67108864&s.flags&&536870912&s.flags&&(s.query.filterId&t)===s.query.filterId&&Ri(e,n).setDirty(),!(1&s.flags&&n+s.childCount<i.nodeIndex)&&67108864&s.childFlags&&536870912&s.childFlags||(n+=s.childCount)}}if(134217728&e.def.nodeFlags)for(let i=0;i<e.def.nodes.length;i++){const t=e.def.nodes[i];134217728&t.flags&&536870912&t.flags&&Ri(e,i).setDirty(),i+=t.childCount}}function Tr(e,t){const i=Ri(e,t.nodeIndex);if(!i.dirty)return;let s,n=void 0;if(67108864&t.flags){const i=t.parent.parent;n=Rr(e,i.nodeIndex,i.nodeIndex+i.childCount,t.query,[]),s=Li(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(n=Rr(e,0,e.def.nodes.length-1,t.query,[]),s=e.component);i.reset(n);const r=t.query.bindings;let a=!1;for(let o=0;o<r.length;o++){const e=r[o];let t;switch(e.bindingType){case 0:t=i.first;break;case 1:t=i,a=!0}s[e.propName]=t}a&&i.notifyOnChanges()}function Rr(e,t,i,s,n){for(let r=t;r<=i;r++){const t=e.def.nodes[r],i=t.matchedQueries[s.id];if(null!=i&&n.push(Pr(e,t,i)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&s.filterId)===s.filterId){const i=Mi(e,r);if((t.childMatchedQueries&s.filterId)===s.filterId&&(Rr(e,r+1,r+t.childCount,s,n),r+=t.childCount),16777216&t.flags){const e=i.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const r=e[t],a=Ui(r);a&&a===i&&Rr(r,0,r.def.nodes.length-1,s,n)}}const a=i.template._projectedViews;if(a)for(let e=0;e<a.length;e++){const t=a[e];Rr(t,0,t.def.nodes.length-1,s,n)}}(t.childMatchedQueries&s.filterId)!==s.filterId&&(r+=t.childCount)}return n}function Pr(e,t,i){if(null!=i)switch(i){case 1:return Mi(e,t.nodeIndex).renderElement;case 0:return new Zt(Mi(e,t.nodeIndex).renderElement);case 2:return Mi(e,t.nodeIndex).template;case 3:return Mi(e,t.nodeIndex).viewContainer;case 4:return Li(e,t.nodeIndex).instance}}function Ir(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Or(e,t,i){const s=ts(e,t,i);s&&as(e,i.ngContent.index,1,s,null,void 0)}function Nr(e,t){const i=Object.keys(t),s=i.length,n=new Array(s);for(let r=0;r<s;r++){const e=i[r];n[t[e]]=e}return function(e,t,i){const s=new Array(i.length);for(let n=0;n<i.length;n++){const e=i[n];s[n]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:s,bindingFlags:ds(s),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,e,n)}function Vr(e,t,i){const s=new Array(i.length-1);for(let n=1;n<i.length;n++)s[n-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:i[n]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:s,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:i[0]},query:null,ngContent:null}}function Fr(e,t,i){let s;const n=e.renderer;s=n.createText(i.text.prefix);const r=ts(e,t,i);return r&&n.appendChild(r,s),{renderText:s}}function Br(e,t){return(null!=e?e.toString():"")+t.suffix}function zr(e,t,i,s){let n=0,r=0,a=0,o=0,l=0,h=null,c=null,d=!1,u=!1,p=null;for(let m=0;m<t.length;m++){const e=t[m];if(e.nodeIndex=m,e.parent=h,e.bindingIndex=n,e.outputIndex=r,e.renderParent=c,a|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=h?h.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,d=!1,u=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(jr(h,e,t.length),n+=e.bindings.length,r+=e.outputs.length,!c&&3&e.flags&&(p=e),20224&e.flags){d||(d=!0,h.element.publicProviders=Object.create(h.element.publicProviders),h.element.allProviders=h.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?h.element.publicProviders[Ni(e.provider.token)]=e:(u||(u=!0,h.element.allProviders=Object.create(h.element.publicProviders)),h.element.allProviders[Ni(e.provider.token)]=e),t&&(h.element.componentProvider=e)}if(h?(h.childFlags|=e.flags,h.directChildFlags|=e.flags,h.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(h.childMatchedQueries|=e.element.template.nodeMatchedQueries)):o|=e.flags,e.childCount>0)h=e,Hr(e)||(c=e);else for(;h&&m===h.nodeIndex+h.childCount;){const e=h.parent;e&&(e.childFlags|=h.childFlags,e.childMatchedQueries|=h.childMatchedQueries),h=e,c=h&&Hr(h)?h.renderParent:h}}return{factory:null,nodeFlags:a,rootNodeFlags:o,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:i||Ii,updateRenderer:s||Ii,handleEvent:(e,i,s,n)=>t[i].element.handleEvent(e,s,n),bindingCount:n,outputCount:r,lastRenderRootNode:p}}function Hr(e){return 0!=(1&e.flags)&&null===e.element.name}function jr(e,t,i){const s=t.element&&t.element.template;if(s){if(!s.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(s.lastRenderRootNode&&16777216&s.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const s=e?e.nodeIndex+e.childCount:i-1;if(t.nodeIndex<=s&&t.nodeIndex+t.childCount>s)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function Wr(e,t,i,s){const n=Ur(e.root,e.renderer,e,t,i);return Gr(n,e.component,s),Xr(n),n}function Yr(e,t,i){const s=Ur(e,e.renderer,null,null,t);return Gr(s,i,i),Xr(s),s}function qr(e,t,i,s){const n=t.element.componentRendererType;let r;return r=n?e.root.rendererFactory.createRenderer(s,n):e.root.renderer,Ur(e.root,r,e,t.element.componentProvider,i)}function Ur(e,t,i,s,n){const r=new Array(n.nodes.length),a=n.outputCount?new Array(n.outputCount):null;return{def:n,parent:i,viewContainerParent:null,parentNodeDef:s,context:null,component:null,nodes:r,state:13,root:e,renderer:t,oldValues:new Array(n.bindingCount),disposables:a,initIndex:-1}}function Gr(e,t,i){e.component=t,e.context=i}function Xr(e){let t;$i(e)&&(t=Mi(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const i=e.def,s=e.nodes;for(let n=0;n<i.nodes.length;n++){const r=i.nodes[n];let a;switch(Pi.setCurrentNode(e,n),201347067&r.flags){case 1:const i=Er(e,t,r);let o=void 0;if(33554432&r.flags){const t=ss(r.element.componentView);o=Pi.createComponentView(e,r,t,i)}Dr(e,o,r,i),a={renderElement:i,componentView:o,viewContainer:null,template:r.element.template?Ls(e,r):void 0},16777216&r.flags&&(a.viewContainer=Ds(e,r,a));break;case 2:a=Fr(e,t,r);break;case 512:case 1024:case 2048:case 256:a=s[n],a||4096&r.flags||(a={instance:Ks(e,r)});break;case 16:a={instance:Qs(e,r)};break;case 16384:a=s[n],a||(a={instance:Js(e,r)}),32768&r.flags&&Gr(Mi(e,r.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new bn;break;case 8:Or(e,t,r),a=void 0}s[n]=a}sa(e,ia.CreateViewNodes),oa(e,201326592,268435456,0)}function Zr(e){Qr(e),Pi.updateDirectives(e,1),na(e,ia.CheckNoChanges),Pi.updateRenderer(e,1),sa(e,ia.CheckNoChanges),e.state&=-97}function $r(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Di(e,0,256),Qr(e),Pi.updateDirectives(e,0),na(e,ia.CheckAndUpdate),oa(e,67108864,536870912,0);let t=Di(e,256,512);ln(e,2097152|(t?1048576:0)),Pi.updateRenderer(e,0),sa(e,ia.CheckAndUpdate),oa(e,134217728,536870912,0),t=Di(e,512,768),ln(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Di(e,768,1024)}function Kr(e,t,i,s,n,r,a,o,l,h,c,d,u){return 0===i?function(e,t,i,s,n,r,a,o,l,h,c,d){switch(201347067&t.flags){case 1:return function(e,t,i,s,n,r,a,o,l,h,c,d){const u=t.bindings.length;let p=!1;return u>0&&Ar(e,t,0,i)&&(p=!0),u>1&&Ar(e,t,1,s)&&(p=!0),u>2&&Ar(e,t,2,n)&&(p=!0),u>3&&Ar(e,t,3,r)&&(p=!0),u>4&&Ar(e,t,4,a)&&(p=!0),u>5&&Ar(e,t,5,o)&&(p=!0),u>6&&Ar(e,t,6,l)&&(p=!0),u>7&&Ar(e,t,7,h)&&(p=!0),u>8&&Ar(e,t,8,c)&&(p=!0),u>9&&Ar(e,t,9,d)&&(p=!0),p}(e,t,i,s,n,r,a,o,l,h,c,d);case 2:return function(e,t,i,s,n,r,a,o,l,h,c,d){let u=!1;const p=t.bindings,m=p.length;if(m>0&&Hi(e,t,0,i)&&(u=!0),m>1&&Hi(e,t,1,s)&&(u=!0),m>2&&Hi(e,t,2,n)&&(u=!0),m>3&&Hi(e,t,3,r)&&(u=!0),m>4&&Hi(e,t,4,a)&&(u=!0),m>5&&Hi(e,t,5,o)&&(u=!0),m>6&&Hi(e,t,6,l)&&(u=!0),m>7&&Hi(e,t,7,h)&&(u=!0),m>8&&Hi(e,t,8,c)&&(u=!0),m>9&&Hi(e,t,9,d)&&(u=!0),u){let u=t.text.prefix;m>0&&(u+=Br(i,p[0])),m>1&&(u+=Br(s,p[1])),m>2&&(u+=Br(n,p[2])),m>3&&(u+=Br(r,p[3])),m>4&&(u+=Br(a,p[4])),m>5&&(u+=Br(o,p[5])),m>6&&(u+=Br(l,p[6])),m>7&&(u+=Br(h,p[7])),m>8&&(u+=Br(c,p[8])),m>9&&(u+=Br(d,p[9]));const g=Ai(e,t.nodeIndex).renderText;e.renderer.setValue(g,u)}return u}(e,t,i,s,n,r,a,o,l,h,c,d);case 16384:return function(e,t,i,s,n,r,a,o,l,h,c,d){const u=Li(e,t.nodeIndex),p=u.instance;let m=!1,g=void 0;const f=t.bindings.length;return f>0&&zi(e,t,0,i)&&(m=!0,g=on(e,u,t,0,i,g)),f>1&&zi(e,t,1,s)&&(m=!0,g=on(e,u,t,1,s,g)),f>2&&zi(e,t,2,n)&&(m=!0,g=on(e,u,t,2,n,g)),f>3&&zi(e,t,3,r)&&(m=!0,g=on(e,u,t,3,r,g)),f>4&&zi(e,t,4,a)&&(m=!0,g=on(e,u,t,4,a,g)),f>5&&zi(e,t,5,o)&&(m=!0,g=on(e,u,t,5,o,g)),f>6&&zi(e,t,6,l)&&(m=!0,g=on(e,u,t,6,l,g)),f>7&&zi(e,t,7,h)&&(m=!0,g=on(e,u,t,7,h,g)),f>8&&zi(e,t,8,c)&&(m=!0,g=on(e,u,t,8,c,g)),f>9&&zi(e,t,9,d)&&(m=!0,g=on(e,u,t,9,d,g)),g&&p.ngOnChanges(g),65536&t.flags&&ki(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),m}(e,t,i,s,n,r,a,o,l,h,c,d);case 32:case 64:case 128:return function(e,t,i,s,n,r,a,o,l,h,c,d){const u=t.bindings;let p=!1;const m=u.length;if(m>0&&Hi(e,t,0,i)&&(p=!0),m>1&&Hi(e,t,1,s)&&(p=!0),m>2&&Hi(e,t,2,n)&&(p=!0),m>3&&Hi(e,t,3,r)&&(p=!0),m>4&&Hi(e,t,4,a)&&(p=!0),m>5&&Hi(e,t,5,o)&&(p=!0),m>6&&Hi(e,t,6,l)&&(p=!0),m>7&&Hi(e,t,7,h)&&(p=!0),m>8&&Hi(e,t,8,c)&&(p=!0),m>9&&Hi(e,t,9,d)&&(p=!0),p){const p=Ti(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(u.length),m>0&&(g[0]=i),m>1&&(g[1]=s),m>2&&(g[2]=n),m>3&&(g[3]=r),m>4&&(g[4]=a),m>5&&(g[5]=o),m>6&&(g[6]=l),m>7&&(g[7]=h),m>8&&(g[8]=c),m>9&&(g[9]=d);break;case 64:g={},m>0&&(g[u[0].name]=i),m>1&&(g[u[1].name]=s),m>2&&(g[u[2].name]=n),m>3&&(g[u[3].name]=r),m>4&&(g[u[4].name]=a),m>5&&(g[u[5].name]=o),m>6&&(g[u[6].name]=l),m>7&&(g[u[7].name]=h),m>8&&(g[u[8].name]=c),m>9&&(g[u[9].name]=d);break;case 128:const e=i;switch(m){case 1:g=e.transform(i);break;case 2:g=e.transform(s);break;case 3:g=e.transform(s,n);break;case 4:g=e.transform(s,n,r);break;case 5:g=e.transform(s,n,r,a);break;case 6:g=e.transform(s,n,r,a,o);break;case 7:g=e.transform(s,n,r,a,o,l);break;case 8:g=e.transform(s,n,r,a,o,l,h);break;case 9:g=e.transform(s,n,r,a,o,l,h,c);break;case 10:g=e.transform(s,n,r,a,o,l,h,c,d)}}p.value=g}return p}(e,t,i,s,n,r,a,o,l,h,c,d);default:throw"unreachable"}}(e,t,s,n,r,a,o,l,h,c,d,u):function(e,t,i){switch(201347067&t.flags){case 1:return function(e,t,i){let s=!1;for(let n=0;n<i.length;n++)Ar(e,t,n,i[n])&&(s=!0);return s}(e,t,i);case 2:return function(e,t,i){const s=t.bindings;let n=!1;for(let r=0;r<i.length;r++)Hi(e,t,r,i[r])&&(n=!0);if(n){let n="";for(let e=0;e<i.length;e++)n+=Br(i[e],s[e]);n=t.text.prefix+n;const r=Ai(e,t.nodeIndex).renderText;e.renderer.setValue(r,n)}return n}(e,t,i);case 16384:return function(e,t,i){const s=Li(e,t.nodeIndex),n=s.instance;let r=!1,a=void 0;for(let o=0;o<i.length;o++)zi(e,t,o,i[o])&&(r=!0,a=on(e,s,t,o,i[o],a));return a&&n.ngOnChanges(a),65536&t.flags&&ki(e,256,t.nodeIndex)&&n.ngOnInit(),262144&t.flags&&n.ngDoCheck(),r}(e,t,i);case 32:case 64:case 128:return function(e,t,i){const s=t.bindings;let n=!1;for(let r=0;r<i.length;r++)Hi(e,t,r,i[r])&&(n=!0);if(n){const n=Ti(e,t.nodeIndex);let r;switch(201347067&t.flags){case 32:r=i;break;case 64:r={};for(let n=0;n<i.length;n++)r[s[n].name]=i[n];break;case 128:const e=i[0],t=i.slice(1);r=e.transform(...t)}n.value=r}return n}(e,t,i);default:throw"unreachable"}}(e,t,s)}function Qr(e){const t=e.def;if(4&t.nodeFlags)for(let i=0;i<t.nodes.length;i++){const s=t.nodes[i];if(4&s.flags){const t=Mi(e,i).template._projectedViews;if(t)for(let i=0;i<t.length;i++){const s=t[i];s.state|=32,Yi(s,e)}}else 0==(4&s.childFlags)&&(i+=s.childCount)}}function Jr(e,t,i,s,n,r,a,o,l,h,c,d,u){return 0===i?function(e,t,i,s,n,r,a,o,l,h,c,d){const u=t.bindings.length;u>0&&ji(e,t,0,i),u>1&&ji(e,t,1,s),u>2&&ji(e,t,2,n),u>3&&ji(e,t,3,r),u>4&&ji(e,t,4,a),u>5&&ji(e,t,5,o),u>6&&ji(e,t,6,l),u>7&&ji(e,t,7,h),u>8&&ji(e,t,8,c),u>9&&ji(e,t,9,d)}(e,t,s,n,r,a,o,l,h,c,d,u):function(e,t,i){for(let s=0;s<i.length;s++)ji(e,t,s,i[s])}(e,t,s),!1}function ea(e,t){if(Ri(e,t.nodeIndex).dirty)throw Si(Pi.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function ta(e){if(!(128&e.state)){if(na(e,ia.Destroy),sa(e,ia.Destroy),ln(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Ui(e);if(t){const i=t.template._projectedViews;i&&(Oe(i,i.indexOf(e)),Pi.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let i=0;i<t;i++){const t=e.def.nodes[i];1&t.flags?e.renderer.destroyNode(Mi(e,i).renderElement):2&t.flags?e.renderer.destroyNode(Ai(e,i).renderText):(67108864&t.flags||134217728&t.flags)&&Ri(e,i).destroy()}}(e),$i(e)&&e.renderer.destroy(),e.state|=128}}const ia=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function sa(e,t){const i=e.def;if(33554432&i.nodeFlags)for(let s=0;s<i.nodes.length;s++){const n=i.nodes[s];33554432&n.flags?ra(Mi(e,s).componentView,t):0==(33554432&n.childFlags)&&(s+=n.childCount)}}function na(e,t){const i=e.def;if(16777216&i.nodeFlags)for(let s=0;s<i.nodes.length;s++){const n=i.nodes[s];if(16777216&n.flags){const i=Mi(e,s).viewContainer._embeddedViews;for(let e=0;e<i.length;e++)ra(i[e],t)}else 0==(16777216&n.childFlags)&&(s+=n.childCount)}}function ra(e,t){const i=e.state;switch(t){case ia.CheckNoChanges:0==(128&i)&&(12==(12&i)?Zr(e):64&i&&aa(e,ia.CheckNoChangesProjectedViews));break;case ia.CheckNoChangesProjectedViews:0==(128&i)&&(32&i?Zr(e):64&i&&aa(e,t));break;case ia.CheckAndUpdate:0==(128&i)&&(12==(12&i)?$r(e):64&i&&aa(e,ia.CheckAndUpdateProjectedViews));break;case ia.CheckAndUpdateProjectedViews:0==(128&i)&&(32&i?$r(e):64&i&&aa(e,t));break;case ia.Destroy:ta(e);break;case ia.CreateViewNodes:Xr(e)}}function aa(e,t){na(e,t),sa(e,t)}function oa(e,t,i,s){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&i))return;const n=e.def.nodes.length;for(let r=0;r<n;r++){const n=e.def.nodes[r];if(n.flags&t&&n.flags&i)switch(Pi.setCurrentNode(e,n.nodeIndex),s){case 0:Tr(e,n);break;case 1:ea(e,n)}n.childFlags&t&&n.childFlags&i||(r+=n.childCount)}}let la=!1;function ha(e,t,i,s,n,r){const a=n.injector.get(Qt);return Yr(da(e,n,a,t,i),s,r)}function ca(e,t,i,s,n,r){const a=n.injector.get(Qt),o=da(e,n,new Wa(a),t,i),l=xa(s);return Ha(ka.create,Yr,null,[o,l,r])}function da(e,t,i,s,n){const r=t.injector.get(pt),a=t.injector.get(He),o=i.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:s,selectorOrNode:n,sanitizer:r,rendererFactory:i,renderer:o,errorHandler:a}}function ua(e,t,i,s){const n=xa(i);return Ha(ka.create,Wr,null,[e,t,n,s])}function pa(e,t,i,s){return i=ya.get(t.element.componentProvider.provider.token)||xa(i),Ha(ka.create,qr,null,[e,t,i,s])}function ma(e,t,i,s){return Vs(e,t,i,function(e){const{hasOverrides:t,hasDeprecatedOverrides:i}=function(e){let t=!1,i=!1;return 0===ga.size?{hasOverrides:t,hasDeprecatedOverrides:i}:(e.providers.forEach(e=>{const s=ga.get(e.token);3840&e.flags&&s&&(t=!0,i=i||s.deprecatedBehavior)}),e.modules.forEach(e=>{fa.forEach((s,n)=>{de(n).providedIn===e&&(t=!0,i=i||s.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:i})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const s=e.providers[t];i&&(s.flags|=4096);const n=ga.get(s.token);n&&(s.flags=-3841&s.flags|n.flags,s.deps=es(n.deps),s.value=n.value)}if(fa.size>0){let t=new Set(e.modules);fa.forEach((s,n)=>{if(t.has(de(n).providedIn)){let t={token:n,flags:s.flags|(i?4096:0),deps:es(s.deps),value:s.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Ni(n)]=t}})}}(e=e.factory(()=>Ii)),e):e}(s))}const ga=new Map,fa=new Map,ya=new Map;function ba(e){let t;ga.set(e.token,e),"function"==typeof e.token&&(t=de(e.token))&&"function"==typeof t.providedIn&&fa.set(e.token,e)}function va(e,t){const i=ss(t.viewDefFactory),s=ss(i.nodes[0].element.componentView);ya.set(e,s)}function wa(){ga.clear(),fa.clear(),ya.clear()}function xa(e){if(0===ga.size)return e;const t=function(e){const t=[];let i=null;for(let s=0;s<e.nodes.length;s++){const n=e.nodes[s];1&n.flags&&(i=n),i&&3840&n.flags&&ga.has(n.provider.token)&&(t.push(i.nodeIndex),i=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Ii);for(let s=0;s<t.length;s++)i(e,t[s]);return e;function i(e,t){for(let i=t+1;i<e.nodes.length;i++){const t=e.nodes[i];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,i=ga.get(e.token);i&&(t.flags=-3841&t.flags|i.flags,e.deps=es(i.deps),e.value=i.value)}}}}function _a(e,t,i,s,n,r,a,o,l,h,c,d,u){const p=e.def.nodes[t];return Kr(e,p,i,s,n,r,a,o,l,h,c,d,u),224&p.flags?Ti(e,t).value:void 0}function Sa(e,t,i,s,n,r,a,o,l,h,c,d,u){const p=e.def.nodes[t];return Jr(e,p,i,s,n,r,a,o,l,h,c,d,u),224&p.flags?Ti(e,t).value:void 0}function Ca(e){return Ha(ka.detectChanges,$r,null,[e])}function Ea(e){return Ha(ka.checkNoChanges,Zr,null,[e])}function Da(e){return Ha(ka.destroy,ta,null,[e])}const ka=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Aa,Ma,La;function Ta(e,t){Ma=e,La=t}function Ra(e,t,i,s){return Ta(e,t),Ha(ka.handleEvent,e.def.handleEvent,null,[e,t,i,s])}function Pa(e,t){if(128&e.state)throw Ei(ka[Aa]);return Ta(e,Va(e,0)),e.def.updateDirectives((function(e,i,s,...n){const r=e.def.nodes[i];return 0===t?Oa(e,r,s,n):Na(e,r,s,n),16384&r.flags&&Ta(e,Va(e,i)),224&r.flags?Ti(e,r.nodeIndex).value:void 0}),e)}function Ia(e,t){if(128&e.state)throw Ei(ka[Aa]);return Ta(e,Fa(e,0)),e.def.updateRenderer((function(e,i,s,...n){const r=e.def.nodes[i];return 0===t?Oa(e,r,s,n):Na(e,r,s,n),3&r.flags&&Ta(e,Fa(e,i)),224&r.flags?Ti(e,r.nodeIndex).value:void 0}),e)}function Oa(e,t,i,s){if(Kr(e,t,i,...s)){const n=1===i?s[0]:s;if(16384&t.flags){const i={};for(let e=0;e<t.bindings.length;e++){const s=t.bindings[e],r=n[e];8&s.flags&&(i[ft(s.nonMinifiedName)]=bt(r))}const s=t.parent,r=Mi(e,s.nodeIndex).renderElement;if(s.element.name)for(let t in i){const s=i[t];null!=s?e.renderer.setAttribute(r,t,s):e.renderer.removeAttribute(r,t)}else e.renderer.setValue(r,`bindings=${JSON.stringify(i,null,2)}`)}}}function Na(e,t,i,s){Jr(e,t,i,...s)}function Va(e,t){for(let i=t;i<e.def.nodes.length;i++){const t=e.def.nodes[i];if(16384&t.flags&&t.bindings&&t.bindings.length)return i}return null}function Fa(e,t){for(let i=t;i<e.def.nodes.length;i++){const t=e.def.nodes[i];if(3&t.flags&&t.bindings&&t.bindings.length)return i}return null}class Ba{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let i=this.nodeDef,s=e;for(;i&&0==(1&i.flags);)i=i.parent;if(!i)for(;!i&&s;)i=Gi(s),s=s.parent;this.elDef=i,this.elView=s}get elOrCompView(){return Mi(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Rs(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const i=this.elView.def.nodes[t];20224&i.flags&&e.push(i.provider.token),t+=i.childCount}return e}get references(){const e={};if(this.elDef){za(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const i=this.elView.def.nodes[t];20224&i.flags&&za(this.elView,i,e),t+=i.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!$i(e);)e=e.parent;return e.parent?Mi(e.parent,Gi(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Xi(this.view,this.nodeDef):Xi(this.elView,this.elDef)}logError(e,...t){let i,s;2&this.nodeDef.flags?(i=this.view.def,s=this.nodeDef.nodeIndex):(i=this.elView.def,s=this.elDef.nodeIndex);const n=function(e,t){let i=-1;for(let s=0;s<=t;s++)3&e.nodes[s].flags&&i++;return i}(i,s);let r=-1;i.factory(()=>(r++,r===n?e.error.bind(e,...t):Ii)),r<n&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function za(e,t,i){for(let s in t.references)i[s]=Pr(e,t,t.references[s])}function Ha(e,t,i,s){const n=Aa,r=Ma,a=La;try{Aa=e;const o=t.apply(i,s);return Ma=r,La=a,Aa=n,o}catch(o){if(Fe(o)||!Ma)throw o;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Ci(e,t),e}(o,ja())}}function ja(){return Ma?new Ba(Ma,La):null}class Wa{constructor(e){this.delegate=e}createRenderer(e,t){return new Ya(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ya{constructor(e){this.delegate=e,this.debugContextFactory=ja,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=gr(e);!function(e){mr.delete(e.nativeNode)}(t),t instanceof ur&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const i=this.delegate.createElement(e,t),s=this.createDebugContext(i);if(s){const t=new pr(i,null,s);t.name=e,fr(t)}return i}createComment(e){const t=this.delegate.createComment(e),i=this.createDebugContext(t);return i&&fr(new ur(t,null,i)),t}createText(e){const t=this.delegate.createText(e),i=this.createDebugContext(t);return i&&fr(new ur(t,null,i)),t}appendChild(e,t){const i=gr(e),s=gr(t);i&&s&&i instanceof pr&&i.addChild(s),this.delegate.appendChild(e,t)}insertBefore(e,t,i){const s=gr(e),n=gr(t),r=gr(i);s&&n&&s instanceof pr&&s.insertBefore(r,n),this.delegate.insertBefore(e,t,i)}removeChild(e,t){const i=gr(e),s=gr(t);i&&s&&i instanceof pr&&i.removeChild(s),this.delegate.removeChild(e,t)}selectRootElement(e,t){const i=this.delegate.selectRootElement(e,t),s=ja();return s&&fr(new pr(i,null,s)),i}setAttribute(e,t,i,s){const n=gr(e);n&&n instanceof pr&&(n.attributes[s?s+":"+t:t]=i),this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){const s=gr(e);s&&s instanceof pr&&(s.attributes[i?i+":"+t:t]=null),this.delegate.removeAttribute(e,t,i)}addClass(e,t){const i=gr(e);i&&i instanceof pr&&(i.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const i=gr(e);i&&i instanceof pr&&(i.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,i,s){const n=gr(e);n&&n instanceof pr&&(n.styles[t]=i),this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){const s=gr(e);s&&s instanceof pr&&(s.styles[t]=null),this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){const s=gr(e);s&&s instanceof pr&&(s.properties[t]=i),this.delegate.setProperty(e,t,i)}listen(e,t,i){if("string"!=typeof e){const s=gr(e);s&&s.listeners.push(new dr(t,i))}return this.delegate.listen(e,t,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function qa(e,t,i){return new Ua(e,t,i)}class Ua extends class{}{constructor(e,t,i){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=i}create(e){!function(){if(la)return;la=!0;const e=Ye()?{setCurrentNode:Ta,createRootView:ca,createEmbeddedView:ua,createComponentView:pa,createNgModuleRef:ma,overrideProvider:ba,overrideComponentView:va,clearOverrides:wa,checkAndUpdateView:Ca,checkNoChangesView:Ea,destroyView:Da,createDebugContext:(e,t)=>new Ba(e,t),handleEvent:Ra,updateDirectives:Pa,updateRenderer:Ia}:{setCurrentNode:()=>{},createRootView:ha,createEmbeddedView:Wr,createComponentView:qr,createNgModuleRef:Vs,overrideProvider:Ii,overrideComponentView:Ii,clearOverrides:Ii,checkAndUpdateView:$r,checkNoChangesView:Zr,destroyView:ta,createDebugContext:(e,t)=>new Ba(e,t),handleEvent:(e,t,i,s)=>e.def.handleEvent(e,t,i,s),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?_a:Sa,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?_a:Sa,e)};Pi.setCurrentNode=e.setCurrentNode,Pi.createRootView=e.createRootView,Pi.createEmbeddedView=e.createEmbeddedView,Pi.createComponentView=e.createComponentView,Pi.createNgModuleRef=e.createNgModuleRef,Pi.overrideProvider=e.overrideProvider,Pi.overrideComponentView=e.overrideComponentView,Pi.clearOverrides=e.clearOverrides,Pi.checkAndUpdateView=e.checkAndUpdateView,Pi.checkNoChangesView=e.checkNoChangesView,Pi.destroyView=e.destroyView,Pi.resolveDep=rn,Pi.createDebugContext=e.createDebugContext,Pi.handleEvent=e.handleEvent,Pi.updateDirectives=e.updateDirectives,Pi.updateRenderer=e.updateRenderer,Pi.dirtyParentQueries=Lr}();const t=function(e){const t=Array.from(e.providers),i=Array.from(e.modules),s={};for(const n in e.providersByKey)s[n]=e.providersByKey[n];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:i,providersByKey:s}}(ss(this._ngModuleDefFactory));return Pi.createNgModuleRef(this.moduleType,e||St.NULL,this._bootstrapComponents,t)}}class Ga{}class Xa{constructor(){this.data=[],this.animation={enable:!1},this.legendSettings={visible:!1},this.dataLabel={visible:!0,position:"Inside",name:"text",font:{fontWeight:"600"}},this.dataInFaceBook=[],this.minDuplicateInsight=1,this.center={x:"50%",y:"50%"},this.startAngle=0,this.endAngle=360,this.explode=!0,this.enableAnimation=!1,this.tooltip={enable:!0,format:"${point.x} : <b>${point.y}</b>"},this.title="",this.isOpenRightSide=!1}load(e){let t=location.hash.split("/")[1];t=t||"Material",e.accumulation.theme=(t.charAt(0).toUpperCase()+t.slice(1)).replace(/-dark/i,"Dark")}ngAfterViewInit(){this.performDataInFacebook(this.dataInFaceBook)}performDataInFacebook(e){console.log(e),this.saveLocalInsight_Array(e),this.insights=this.getInsightInLocalStorage(),this.mapChart(this.countDuplicateInsight(e))}saveLocalInsight_Array(e){let t=new Set;e.forEach(e=>{e.forEach(e=>{t.add(e)})});let i=Array.from(t).sort(),s=JSON.parse(localStorage.getItem("insights"));i.forEach(e=>{s||(s={}),s.hasOwnProperty(e)||(s[e]=!0)}),localStorage.setItem("insights",JSON.stringify(s))}saveLocalInsight_Object(e){localStorage.setItem("insights",JSON.stringify(e))}getInsightInLocalStorage(){return JSON.parse(localStorage.getItem("insights"))}getDisabledInsight(e){return Object.keys(e).filter(t=>!e[t])}mapChart(e){this.data=[];let t=this.getDisabledInsight(this.getInsightInLocalStorage());for(let i in e)-1==t.indexOf(i)&&e[i]>=this.minDuplicateInsight&&this.data.push({x:i,y:e[i],text:i});this.pie.refreshChart()}getInsights(e){let t=/<div class="fsm fwn fcg">(.*?)<\/div>/,i=e.match(/<div class="fsm fwn fcg">(.*?)<\/div>/g),s=new Set;return i.forEach(e=>{let i=e.match(t)[1];i.length<100&&s.add(i)}),[...s]}countDuplicateInsight(e){let t={};for(var i=0;i<e.length;i++)for(var s=0;s<e[i].length;s++)t[e[i][s]]=void 0===t[e[i][s]]?1:parseInt(t[e[i][s]])+1;return console.log(t),t}onChangeMinDuplicateInsight(e){console.log(e),this.minDuplicateInsight=Number(e.target.value),this.mapChart(this.countDuplicateInsight(this.dataInFaceBook))}onChangeCheckedInsight(e){let t=this.getInsightInLocalStorage();t[e.source.name]=e.checked,this.saveLocalInsight_Object(t),this.mapChart(this.countDuplicateInsight(this.dataInFaceBook))}onAddClientHtml(e){let t=this.getInsights(e.target.value);this.dataInFaceBook.push(t),this.performDataInFacebook(this.dataInFaceBook),this.htmlTextArea.nativeElement.value=""}onToggle(){this.isOpenRightSide=!this.isOpenRightSide}onReset(){this.dataInFaceBook=[],this.pie.destroy()}}class Za{}function $a(e,t=null){return{type:2,steps:e,options:t}}function Ka(e){return{type:6,styles:e,offset:null}}function Qa(e){Promise.resolve(null).then(e)}class Ja{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qa(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class eo{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,s=0;const n=this.players.length;0==n?Qa(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==n&&this._onFinish()}),e.onDestroy(()=>{++i==n&&this._onDestroy()}),e.onStart(()=>{++s==n&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)})}getPosition(){let e=0;return this.players.forEach(t=>{const i=t.getPosition();e=Math.min(i,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class to{}class io{constructor(e,t){this._subject=new fn,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=io.stripTrailingSlash(so(i)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+io.normalizeQueryParams(t))}normalize(e){return io.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,so(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",i=null){this._platformStrategy.pushState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+io.normalizeQueryParams(t)),i)}replaceState(e,t="",i=null){this._platformStrategy.replaceState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+io.normalizeQueryParams(t)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(i=>i(e,t))}subscribe(e,t,i){return this._subject.subscribe({next:e,error:t,complete:i})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}}function so(e){return e.replace(/\/index.html$/,"")}const no=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),ro=new _e("UseV4Plurals");class ao{}class oo extends ao{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){const t=e.toLowerCase().replace(/_/g,"-");let i=un[t];if(i)return i;const s=t.split("-")[0];if(i=un[s],i)return i;if("en"===s)return gn;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[pn.PluralCase]}(t||this.locale)(e)){case no.Zero:return"zero";case no.One:return"one";case no.Two:return"two";case no.Few:return"few";case no.Many:return"many";default:return"other"}}}class lo{}class ho{constructor(e,t,i,s){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=s,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Nt(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${pe(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let co=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class uo extends co{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class po{constructor(e,t,i,s){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class mo{constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Ye()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${i}' of type '${e=i,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,i,s)=>{if(null==e.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new po(null,this._ngForOf,-1,-1),null===s?void 0:s),n=new go(e,i);t.push(n)}else if(null==s)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const n=this._viewContainer.get(i);this._viewContainer.move(n,s);const r=new go(e,n);t.push(r)}});for(let i=0;i<t.length;i++)this._perViewChange(t[i].view,t[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const e=this._viewContainer.get(i);e.context.index=i,e.context.count=s,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class go{constructor(e,t){this.record=e,this.view=t}}class fo{constructor(e,t){this._viewContainer=e,this._context=new yo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){bo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){bo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class yo{constructor(){this.$implicit=null,this.ngIf=null}}function bo(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${pe(t)}'.`)}class vo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class wo{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}class xo{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new vo(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class _o{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class So{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Co=new So,Eo=new _o;class Do{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Pt(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Ot.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Ft(e))return Co;if(Bt(e))return Eo;throw Error(`InvalidPipeArgument: '${e}' for pipe '${pe(Do)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}class ko{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=Ao){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const i=this.differ.diff(e);return i&&(this.keyValues=[],i.forEachItem(e=>{this.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(t)),this.keyValues}}function Ao(e,t){const i=e.key,s=t.key;if(i===s)return 0;if(void 0===i)return 1;if(void 0===s)return-1;if(null===i)return 1;if(null===s)return-1;if("string"==typeof i&&"string"==typeof s)return i<s?-1:1;if("number"==typeof i&&"number"==typeof s)return i-s;if("boolean"==typeof i&&"boolean"==typeof s)return i<s?-1:1;const n=String(i),r=String(s);return n==r?0:n<r?-1:1}class Mo{}const Lo=new _e("DocumentToken");let To=null;function Ro(){return To}const Po={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Io={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},No=(()=>{if(xe.Node)return xe.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class Vo extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let i=0;i<t.length;i++)if(null!=this.getStyle(e,t[i]+"AnimationName")){this._animationPrefix="-"+t[i].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(i=>{null!=this.getStyle(e,i)&&(this._transitionEnd=t[i])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,i){e.href=null==i?t:t+"/../"+i}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new Vo,To||(To=e)}hasProperty(e,t){return t in e}setProperty(e,t,i){e[t]=i}getProperty(e,t){return e[t]}invoke(e,t,i){e[t](...i)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Po}contains(e,t){return No.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,i){e.addEventListener(t,i,!1)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,i=new Array(t.length);for(let s=0;s<t.length;s++)i[s]=t[s];return i}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,i){e.replaceChild(t,i)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,i){e.insertBefore(i,t)}insertAllBefore(e,t,i){i.forEach(i=>e.insertBefore(i,t))}insertAfter(e,t,i){e.insertBefore(i,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,i){return(i=i||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,i){const s=(i=i||this.getDefaultDocument()).createElement("SCRIPT");return s.setAttribute(e,t),s}createStyleElement(e,t){const i=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(i,this.createTextNode(e,t)),i}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,i){e.style[t]=i}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,i){const s=this.getStyle(e,t)||"";return i?s==i:s.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,i=e.attributes;for(let s=0;s<i.length;s++){const e=i.item(s);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,i){return e.hasAttributeNS(t,i)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,i){return e.getAttributeNS(t,i)}setAttribute(e,t,i){e.setAttribute(t,i)}setAttributeNS(e,t,i,s){e.setAttributeNS(t,i,s)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,i){e.removeAttributeNS(t,i)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Oo.hasOwnProperty(t)&&(t=Oo[t]))}return Io[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Bo||(Bo=document.querySelector("base"),Bo)?Bo.getAttribute("href"):null;return null==t?null:(i=t,Fo||(Fo=document.createElement("a")),Fo.setAttribute("href",i),"/"===Fo.pathname.charAt(0)?Fo.pathname:"/"+Fo.pathname);var i}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,i){this.setAttribute(e,"data-"+t,i)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const e=i.indexOf("="),[s,n]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(s.trim()===t)return decodeURIComponent(n)}return null}(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let Fo,Bo=null;function zo(){return!!window.history.pushState}const Ho=new _e("TRANSITION_ID"),jo=[{provide:vn,useFactory:function(e,t,i){return()=>{i.get(wn).donePromise.then(()=>{const i=Ro();Array.prototype.slice.apply(i.querySelectorAll(t,"style[ng-transition]")).filter(t=>i.getAttribute(t,"ng-transition")===e).forEach(e=>i.remove(e))})}},deps:[Ho,Lo,St],multi:!0}];class Wo{static init(){!function(e){ir=e}(new Wo)}addToWindow(e){xe.getAngularTestability=(t,i=!0)=>{const s=e.findTestabilityInTree(t,i);if(null==s)throw new Error("Could not find testability for element.");return s},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(e=>{const t=xe.getAllAngularTestabilities();let i=t.length,s=!1;const n=function(t){s=s||t,i--,0==i&&e(s)};t.forEach((function(e){e.whenStable(n)}))})}findTestabilityInTree(e,t,i){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:i?Ro().isShadowRoot(t)?this.findTestabilityInTree(e,Ro().getHost(t),!0):this.findTestabilityInTree(e,Ro().parentElement(t),!0):null}}function Yo(e,t){"undefined"!=typeof COMPILED&&COMPILED||((xe.ng=xe.ng||{})[e]=t)}const qo=(()=>({ApplicationRef:hr,NgZone:qn}))();function Uo(e){return gr(e)}const Go=new _e("EventManagerPlugins");class Xo{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}addGlobalEventListener(e,t,i){return this._findPluginFor(t).addGlobalEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const i=this._plugins;for(let s=0;s<i.length;s++){const t=i[s];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class Zo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const s=Ro().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,i)}}class $o{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class Ko extends $o{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,this._styleNodes.add(t.appendChild(i))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Ro().remove(e))}}const Qo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Jo=/%COMP%/g;function el(e,t,i){for(let s=0;s<t.length;s++){let n=t[s];Array.isArray(n)?el(e,n,i):(n=n.replace(Jo,e),i.push(n))}return i}function tl(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class il{constructor(e,t,i){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new sl(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Ne.Emulated:{let i=this.rendererByCompId.get(t.id);return i||(i=new al(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,i)),i.applyToHost(e),i}case Ne.Native:case Ne.ShadowDom:return new ol(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=el(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class sl{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Qo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const n=Qo[s];n?e.setAttributeNS(n,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=Qo[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&Jt.DashCase?e.style.setProperty(t,i,s&Jt.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Jt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){rl(t,"property"),e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return rl(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,tl(i)):this.eventManager.addEventListener(e,t,tl(i))}}const nl=(()=>"@".charCodeAt(0))();function rl(e,t){if(e.charCodeAt(0)===nl)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class al extends sl{constructor(e,t,i,s){super(e),this.component=i;const n=el(s+"-"+i.id,i.styles,[]);t.addStyles(n),this.contentAttr="_ngcontent-%COMP%".replace(Jo,s+"-"+i.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Jo,e)}(s+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class ol extends sl{constructor(e,t,i,s){super(e),this.sharedStylesHost=t,this.hostEl=i,this.component=s,this.shadowRoot=s.encapsulation===Ne.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const n=el(s.id,s.styles,[]);for(let r=0;r<n.length;r++){const e=document.createElement("style");e.textContent=n[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const ll=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),hl=ll("addEventListener"),cl=ll("removeEventListener"),dl={},ul="__zone_symbol__propagationStopped",pl=(()=>{const e="undefined"!=typeof Zone&&Zone[ll("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),ml=function(e){return!!pl&&pl.hasOwnProperty(e)},gl=function(e){const t=dl[e.type];if(!t)return;const i=this[t];if(!i)return;const s=[e];if(1===i.length){const e=i[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,s):e.handler.apply(this,s)}{const t=i.slice();for(let i=0;i<t.length&&!0!==e[ul];i++){const e=t[i];e.zone!==Zone.current?e.zone.run(e.handler,this,s):e.handler.apply(this,s)}}};class fl extends Zo{constructor(e,t,i){super(e),this.ngZone=t,i&&function(e){return"server"===e}(i)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ul]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,i){let s=i;if(!e[hl]||qn.isInAngularZone()&&!ml(t))e.addEventListener(t,s,!1);else{let i=dl[t];i||(i=dl[t]=ll("ANGULAR"+t+"FALSE"));let n=e[i];const r=n&&n.length>0;n||(n=e[i]=[]);const a=ml(t)?Zone.root:Zone.current;if(0===n.length)n.push({zone:a,handler:s});else{let e=!1;for(let t=0;t<n.length;t++)if(n[t].handler===s){e=!0;break}e||n.push({zone:a,handler:s})}r||e[hl](t,gl,!1)}return()=>this.removeEventListener(e,t,s)}removeEventListener(e,t,i){let s=e[cl];if(!s)return e.removeEventListener.apply(e,[t,i,!1]);let n=dl[t],r=n&&e[n];if(!r)return e.removeEventListener.apply(e,[t,i,!1]);let a=!1;for(let o=0;o<r.length;o++)if(r[o].handler===i){a=!0,r.splice(o,1);break}a?0===r.length&&s.apply(e,[t,gl,!1]):e.removeEventListener.apply(e,[t,i,!1])}}const yl={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},bl=new _e("HammerGestureConfig"),vl=new _e("HammerLoader");class wl extends Zo{constructor(e,t,i,s){super(e),this._config=t,this.console=i,this.loader=s}supports(e){return!(!yl.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,i){const s=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let s=!1,n=()=>{s=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(n=()=>{});s||(n=this.addEventListener(e,t,i))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),n=()=>{}}),()=>{n()}}return s.runOutsideAngular(()=>{const n=this._config.buildHammer(e),r=function(e){s.runGuarded((function(){i(e)}))};return n.on(t,r),()=>{n.off(t,r),"function"==typeof n.destroy&&n.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const xl=["alt","control","meta","shift"],_l={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class Sl extends Zo{constructor(e){super(e)}supports(e){return null!=Sl.parseEventName(e)}addEventListener(e,t,i){const s=Sl.parseEventName(t),n=Sl.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ro().onAndCancel(e,s.domEventName,n))}static parseEventName(e){const t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;const s=Sl._normalizeKey(t.pop());let n="";if(xl.forEach(e=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n+=e+".")}),n+=s,0!=t.length||0===s.length)return null;const r={};return r.domEventName=i,r.fullKey=n,r}static getEventFullKey(e){let t="",i=Ro().getEventKey(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xl.forEach(s=>{s!=i&&(0,_l[s])(e)&&(t+=s+".")}),t+=i,t}static eventCallback(e,t,i){return s=>{Sl.getEventFullKey(s)===e&&i.runGuarded(()=>t(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class Cl{}class El extends Cl{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case ut.NONE:return t;case ut.HTML:return t instanceof kl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let i=null;try{ct=ct||new qe(e);let s=t?String(t):"";i=ct.getInertBodyElement(s);let n=5,r=s;do{if(0===n)throw new Error("Failed to sanitize html because the input is unstable");n--,s=r,r=i.innerHTML,i=ct.getInertBodyElement(s)}while(s!==r);const a=new at,o=a.sanitizeChildren(dt(i)||i);return Ye()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(i){const e=dt(i)||i;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case ut.STYLE:return t instanceof Al?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(gt);return t&&Xe(t[1])===t[1]||e.match(mt)&&function(e){let t=!0,i=!0;for(let s=0;s<e.length;s++){const n=e.charAt(s);"'"===n&&i?t=!t:'"'===n&&t&&(i=!i)}return t&&i}(e)?e:(Ye()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case ut.SCRIPT:if(t instanceof Ml)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case ut.URL:return t instanceof Tl||t instanceof Ll?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Xe(String(t)));case ut.RESOURCE_URL:if(t instanceof Tl)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof Dl)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new kl(e)}bypassSecurityTrustStyle(e){return new Al(e)}bypassSecurityTrustScript(e){return new Ml(e)}bypassSecurityTrustUrl(e){return new Ll(e)}bypassSecurityTrustResourceUrl(e){return new Tl(e)}}class Dl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class kl extends Dl{getTypeName(){return"HTML"}}class Al extends Dl{getTypeName(){return"Style"}}class Ml extends Dl{getTypeName(){return"Script"}}class Ll extends Dl{getTypeName(){return"URL"}}class Tl extends Dl{getTypeName(){return"ResourceURL"}}const Rl=rr(yr,"browser",[{provide:En,useValue:"browser"},{provide:Cn,useValue:function(){Vo.makeCurrent(),Wo.init()},multi:!0},{provide:to,useClass:class extends to{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Ro().getLocation(),this._history=Ro().getHistory()}getBaseHrefFromDOM(){return Ro().getBaseHref(this._doc)}onPopState(e){Ro().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Ro().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,i){zo()?this._history.pushState(e,t,i):this.location.hash=i}replaceState(e,t,i){zo()?this._history.replaceState(e,t,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[Lo]},{provide:Lo,useFactory:function(){return document},deps:[]}]);function Pl(){return new He}class Il{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:Il,providers:[{provide:xn,useValue:e.appId},{provide:Ho,useExisting:xn},jo]}}}"undefined"!=typeof window&&window;const Ol=new ii("8.2.3");function Nl(e){return null!=e&&"false"!==`${e}`}function Vl(e){return Array.isArray(e)?e:[e]}function Fl(e){return null==e?"":"string"==typeof e?e:`${e}px`}function Bl(e){return e instanceof Zt?e.nativeElement:e}let zl;try{zl="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(fR){zl=!1}let Hl,jl=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zl)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(En,8))},token:e,providedIn:"root"}),e})();class Wl{}const Yl=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ql(){if(Hl)return Hl;if("object"!=typeof document||!document)return Hl=new Set(Yl),Hl;let e=document.createElement("input");return Hl=new Set(Yl.filter(t=>(e.setAttribute("type",t),e.type===t))),Hl}let Ul;function Gl(e){return function(){if(null==Ul&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ul=!0}))}finally{Ul=Ul||!1}return Ul}()?e:!!e.capture}const Xl=function(){var e={NORMAL:0,NEGATED:1,INVERTED:2};return e[e.NORMAL]="NORMAL",e[e.NEGATED]="NEGATED",e[e.INVERTED]="INVERTED",e}();let Zl,$l;function Kl(){if("object"!=typeof document||!document)return Xl.NORMAL;if(!Zl){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.height="1px",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const i=document.createElement("div"),s=i.style;s.width="2px",s.height="1px",e.appendChild(i),document.body.appendChild(e),Zl=Xl.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,Zl=0===e.scrollLeft?Xl.NEGATED:Xl.INVERTED),e.parentNode.removeChild(e)}return Zl}function Ql(e){const t=new v(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}const Jl=new v(e=>e.complete());function eh(e){return e?function(e){return new v(t=>e.schedule(()=>t.complete()))}(e):Jl}function th(...e){let t=e[e.length-1];switch(k(t)?e.pop():t=void 0,e.length){case 0:return eh(t);case 1:return t?W(e,t):Ql(e[0]);default:return W(e,t)}}function ih(...e){return X(1)(th(...e))}function sh(...e){return t=>{let i=e[e.length-1];k(i)?e.pop():i=null;const s=e.length;return ih(1!==s||i?s>0?W(e,i):eh(i):Ql(e[0]),t)}}function nh(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}class rh extends u{constructor(e,t){super()}schedule(e,t=0){return this}}class ah extends rh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,s=void 0;try{this.work(e)}catch(n){i=!0,s=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let oh=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class lh extends oh{constructor(e,t=oh.now){super(e,()=>lh.delegate&&lh.delegate!==this?lh.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return lh.delegate&&lh.delegate!==this?lh.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const hh=new lh(ah);function ch(e,t=hh){return i=>i.lift(new dh(e,t))}class dh{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new uh(e,this.dueTime,this.scheduler))}}class uh extends g{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ph,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function ph(e){e.debouncedNext()}function mh(e,t){return function(i){return i.lift(new gh(e,t))}}class gh{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new fh(e,this.predicate,this.thisArg))}}class fh extends g{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function yh(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}yh.prototype=Object.create(Error.prototype);const bh=yh;function vh(e){return t=>0===e?eh():t.lift(new wh(e))}class wh{constructor(e){if(this.total=e,this.total<0)throw new bh}call(e,t){return t.subscribe(new xh(e,this.total))}}class xh extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}let _h=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(fR){return null}}((i=e).ownerDocument&&i.ownerDocument.defaultView||window);var i;if(t){const e=t&&t.nodeName.toLowerCase();if(-1===Ch(t))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===e)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(t))return!1}let s=e.nodeName.toLowerCase(),n=Ch(e);if(e.hasAttribute("contenteditable"))return-1!==n;if("iframe"===s)return!1;if("audio"===s){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===s){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==s||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),i="input"===t&&e.type;return"text"===i||"password"===i||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0}isFocusable(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||Sh(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(jl))},token:e,providedIn:"root"}),e})();function Sh(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Ch(e){if(!Sh(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Eh{constructor(e,t,i,s,n=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,n||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], `+`[cdkFocusRegion${e}], `+`[cdk-focus-${e}]`);for(let i=0;i<t.length;i++)t[i].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', `+`use 'cdkFocusRegion${e}' instead. The deprecated `+"attribute will be removed in 8.0.0.",t[i]):t[i].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', `+`use 'cdkFocusRegion${e}' instead. The deprecated attribute `+"will be removed in 8.0.0.",t[i]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),Ye()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=0;i<t.length;i++){let e=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=t.length-1;i>=0;i--){let e=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(vh(1)).subscribe(e)}}let Dh=(()=>{class e{constructor(e,t,i){this._checker=e,this._ngZone=t,this._document=i}create(e,t=!1){return new Eh(e,this._checker,this._ngZone,this._document,t)}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(_h),Me(qn),Me(Lo))},token:e,providedIn:"root"}),e})();class kh{constructor(e,t,i){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Nl(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Nl(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}const Ah=new _e("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Mh=new _e("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Lh=(()=>{class e{constructor(e,t,i,s){this._ngZone=t,this._defaultOptions=s,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...t){const i=this._defaultOptions;let s,n;return 1===t.length&&"number"==typeof t[0]?n=t[0]:[s,n]=t,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==n&&i&&(n=i.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof n&&(this._previousTimeout=setTimeout(()=>this.clear(),n))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div");for(let i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(Ah,8),Me(qn),Me(Lo),Me(Mh,8))},token:e,providedIn:"root"}),e})();class Th{constructor(e,t,i,s){this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=i,this._ngZone=s,this._politeness="off"}get politeness(){return this._politeness}set politeness(e){this._politeness="polite"===e||"assertive"===e?e:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const e=this._elementRef.nativeElement.textContent;e!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(e,this._politeness),this._previousAnnouncedText=e)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}const Rh=Gl({passive:!0,capture:!0});let Ph=(()=>{class e{constructor(e,t){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=e=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=e.composedPath?e.composedPath()[0]:e.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(e,t=!1){if(!this._platform.isBrowser)return th(null);const i=Bl(e);if(this._elementInfo.has(i)){let e=this._elementInfo.get(i);return e.checkChildren=t,e.subject.asObservable()}let s={unlisten:()=>{},checkChildren:t,subject:new E};this._elementInfo.set(i,s),this._incrementMonitoredElementCount();let n=e=>this._onFocus(e,i),r=e=>this._onBlur(e,i);return this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",n,!0),i.addEventListener("blur",r,!0)}),s.unlisten=()=>{i.removeEventListener("focus",n,!0),i.removeEventListener("blur",r,!0)},s.subject.asObservable()}stopMonitoring(e){const t=Bl(e),i=this._elementInfo.get(t);i&&(i.unlisten(),i.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._decrementMonitoredElementCount())}focusVia(e,t,i){const s=Bl(e);this._setOriginForCurrentEventQueue(t),"function"==typeof s.focus&&s.focus(i)}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_toggleClass(e,t,i){i?e.classList.add(t):e.classList.remove(t)}_setClasses(e,t){this._elementInfo.get(e)&&(this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t))}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(e){let t=e.target;return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const i=this._elementInfo.get(t);if(!i||!i.checkChildren&&t!==e.target)return;let s=this._origin;s||(s=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"),this._setClasses(t,s),this._emitOrigin(i.subject,s),this._lastFocusOrigin=s}_onBlur(e,t){const i=this._elementInfo.get(t);!i||i.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(i.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Rh),document.addEventListener("mousedown",this._documentMousedownListener,Rh),document.addEventListener("touchstart",this._documentTouchstartListener,Rh),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Rh),document.removeEventListener("mousedown",this._documentMousedownListener,Rh),document.removeEventListener("touchstart",this._documentTouchstartListener,Rh),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(qn),Me(jl))},token:e,providedIn:"root"}),e})();class Ih{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new fn,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}class Oh{}const Nh=new ii("8.2.3"),Vh=new _e("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class Fh{constructor(e,t){this._sanityChecksEnabled=e,this._hammerLoader=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Ye()&&!this._isTestEnv()}_isTestEnv(){const e=this._window;return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){Nh.full!==Ol.full&&console.warn("The Angular Material version ("+Nh.full+") does not match the Angular CDK version ("+Ol.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function Bh(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Nl(e)}}}function zh(e,t){return class extends e{get color(){return this._color}set color(e){const i=e||t;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.color=t}}}function Hh(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Nl(e)}}}function jh(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:t}}}function Wh(e){return class extends e{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new E}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}const Yh=new _e("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Le(An)}});class qh{constructor(){this._localeChanges=new E}get localeChanges(){return this._localeChanges}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),s=this.isValid(t);return i&&s?!this.compareDate(e,t):i==s}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const Uh=new _e("mat-date-formats");let Gh;try{Gh="undefined"!=typeof Intl}catch(fR){Gh=!1}const Xh={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Zh=Qh(31,e=>String(e+1)),$h={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Kh=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Qh(e,t){const i=Array(e);for(let s=0;s<e;s++)i[s]=t(s);return i}class Jh extends qh{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(Gh){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Qh(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return Xh[e]}getDateNames(){if(Gh){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Qh(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Zh}getDayOfWeekNames(e){if(Gh){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Qh(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return $h[e]}getYearName(e){if(Gh){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,i){if(t<0||t>11)throw Error(`Invalid month index "${t}". Month index has to be between 0 and 11.`);if(i<1)throw Error(`Invalid date "${i}". Date has to be greater than 0.`);let s=this._createDateWithOverflow(e,t,i);if(s.getMonth()!=t)throw Error(`Invalid date "${i}" for month with index "${t}".`);return s}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Gh){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign({},t,{timeZone:"utc"});const i=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(i,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let i=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(i)!=((this.getMonth(e)+t)%12+12)%12&&(i=this._createDateWithOverflow(this.getYear(i),this.getMonth(i),0)),i}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Kh.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,i){const s=new Date(e,t,i);return e>=0&&e<100&&s.setFullYear(this.getYear(s)-1900),s}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(i)}}const ec={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class tc{}class ic{}let sc=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.ngInjectableDef=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})();const nc=new _e("MAT_HAMMER_OPTIONS"),rc=["longpress","slide","slidestart","slideend","slideright","slideleft"],ac={on:()=>{},off:()=>{}};class oc extends class{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const i in this.overrides)t.get(i).set(this.overrides[i]);return t}}{constructor(e,t){super(),this._hammerOptions=e,this.events=rc,t&&t._checkHammerIsAvailable()}buildHammer(e){const t="undefined"!=typeof window?window.Hammer:null;if(!t)return ac;const i=new t(e,this._hammerOptions||void 0),s=new t.Pan,n=new t.Swipe,r=new t.Press,a=this._createRecognizer(s,{event:"slide",threshold:0},n),o=this._createRecognizer(r,{event:"longpress",time:500});return s.recognizeWith(n),o.recognizeWith(a),i.add([n,r,s,a,o]),i}_createRecognizer(e,t,...i){let s=new e.constructor(t);return i.push(e),i.forEach(e=>s.recognizeWith(e)),s}}class lc{}const hc=function(){var e={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return e[e.FADING_IN]="FADING_IN",e[e.VISIBLE]="VISIBLE",e[e.FADING_OUT]="FADING_OUT",e[e.HIDDEN]="HIDDEN",e}();class cc{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=hc.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const dc={enterDuration:450,exitDuration:400},uc=Gl({passive:!0});class pc{constructor(e,t,i,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=e=>{const t=function(e){return 0===e.buttons}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||i||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))},this._onTouchStart=e=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(e.state===hc.VISIBLE||e.config.terminateOnPointerUp&&e.state===hc.FADING_IN)&&e.fadeOut()}))},s.isBrowser&&(this._containerElement=Bl(i),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(e,t,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),n=Object.assign({},dc,i.animation);i.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const r=i.radius||function(e,t,i){const s=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),n=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(s*s+n*n)}(e,t,s),a=e-s.left,o=t-s.top,l=n.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-r}px`,h.style.top=`${o-r}px`,h.style.height=`${2*r}px`,h.style.width=`${2*r}px`,h.style.backgroundColor=i.color||null,h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h),window.getComputedStyle(h).getPropertyValue("opacity"),h.style.transform="scale(1)";const c=new cc(this,h,i);return c.state=hc.FADING_IN,this._activeRipples.add(c),i.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const e=c===this._mostRecentTransientRipple;c.state=hc.VISIBLE,i.persistent||e&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,s=Object.assign({},dc,e.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",e.state=hc.FADING_OUT,this._runTimeoutOutsideZone(()=>{e.state=hc.HIDDEN,i.parentNode.removeChild(i)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}setupTriggerEvents(e){const t=Bl(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,i)=>{t.addEventListener(i,e,uc)})}),this._triggerElement=t)}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((e,t)=>{this._triggerElement.removeEventListener(t,e,uc)})}}const mc=new _e("mat-ripple-global-options");class gc{constructor(e,t,i,s,n){this._elementRef=e,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new pc(this,t,e,i),"NoopAnimations"===n&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign({},this.rippleConfig,i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,e))}}class fc{}class yc{}class bc{}const vc=new _e("mat-label-global-options");function wc(){throw Error("Host already has a portal attached")}class xc{attach(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&wc(),this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class _c extends xc{constructor(e,t,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=s}}class Sc extends xc{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Cc{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&wc(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof _c?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Sc?(this._attachedPortal=e,this.attachTemplatePortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ec extends Cc{constructor(e,t,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=s}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=t.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),i}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.detectChanges(),i.rootNodes.forEach(e=>this.outletElement.appendChild(e)),this.setDisposeFn(()=>{let e=t.indexOf(i);-1!==e&&t.remove(e)}),i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Dc extends Cc{constructor(e,t){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new fn}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=t.createComponent(i,t.length,e.injector||t.injector);return super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}}class kc{}class Ac{constructor(e,t){this._parentInjector=e,this._customTokens=t}get(e,t){const i=this._customTokens.get(e);return void 0!==i?i:this._parentInjector.get(e,t)}}const Mc={};class Lc{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Tc(e,this.resultSelector))}}class Tc extends B{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Mc),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++){const t=e[i];this.add(F(this,t,t,i))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i,s,n){const r=this.values,a=this.toRespond?r[i]===Mc?--this.toRespond:this.toRespond:0;r[i]=t,0===a&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}class Rc{constructor(e){this.total=e}call(e,t){return t.subscribe(new Pc(e,this.total))}}class Pc extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function Ic(e){return t=>t.lift(new Oc(e))}class Oc{constructor(e){this.notifier=e}call(e,t){const i=new Nc(e),s=F(i,this.notifier);return s&&!i.seenValue?(i.add(s),t.subscribe(i)):i}}class Nc extends B{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,i,s,n){this.seenValue=!0,this.complete()}notifyComplete(){}}const Vc=new Set;let Fc,Bc=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zc}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!Vc.has(e))try{Fc||(Fc=document.createElement("style"),Fc.setAttribute("type","text/css"),document.head.appendChild(Fc)),Fc.sheet&&(Fc.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),Vc.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(jl))},token:e,providedIn:"root"}),e})();function zc(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let Hc=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new E}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return jc(Vl(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){let t=function(...e){let t=null,i=null;return k(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),W(e,i).lift(new Lc(t))}(jc(Vl(e)).map(e=>this._registerQuery(e).observable));return t=ih(t.pipe(vh(1)),t.pipe(e=>e.lift(new Rc(1)),ch(0))),t.pipe(z(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(e=>{t.matches=t.matches||e.matches,t.breakpoints[e.query]=e.matches}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),i={observable:new v(e=>{const i=t=>this._zone.run(()=>e.next(t));return t.addListener(i),()=>{t.removeListener(i)}}).pipe(sh(t),z(t=>({query:e,matches:t.matches})),Ic(this._destroySubject)),mql:t};return this._queries.set(e,i),i}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(Bc),Me(qn))},token:e,providedIn:"root"}),e})();function jc(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Wc(e,t,i,n){return s(i)&&(n=i,i=void 0),n?Wc(e,t,i).pipe(z(e=>l(e)?n(...e):n(e))):new v(s=>{!function e(t,i,s,n,r){let a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(i,s,r),a=()=>e.removeEventListener(i,s,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(i,s),a=()=>e.off(i,s)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(i,s),a=()=>e.removeListener(i,s)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let a=0,o=t.length;a<o;a++)e(t[a],i,s,n,r)}n.add(a)}(e,t,(function(e){s.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),s,i)})}class Yc extends ah{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class qc extends lh{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,s=-1,n=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++s<n&&(e=t.shift()));if(this.active=!1,i){for(;++s<n&&(e=t.shift());)e.unsubscribe();throw i}}}const Uc=new qc(Yc);class Gc{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Xc(e,this.compare,this.keySelector))}}class Xc extends g{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}class Zc{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new $c(e,this.durationSelector))}}class $c extends B{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:t}=this;i=t(e)}catch(t){return this.destination.error(t)}const s=F(this,i);!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,i,s){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Kc(e){return!l(e)&&e-parseFloat(e)+1>=0}function Qc(e){const{index:t,period:i,subscriber:s}=e;if(s.next(t),!s.closed){if(-1===i)return s.complete();e.index=t+1,this.schedule(e,i)}}function Jc(e,t=hh){return i=()=>function(e=0,t,i){let s=-1;return Kc(t)?s=Number(t)<1?1:Number(t):k(t)&&(i=t),k(i)||(i=hh),new v(t=>{const n=Kc(e)?e:+e-i.now();return i.schedule(Qc,n,{index:0,period:s,subscriber:t})})}(e,t),function(e){return e.lift(new Zc(i))};var i}let ed=(()=>{class e{constructor(e,t){this._ngZone=e,this._platform=t,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new v(t=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(Jc(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):th()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const i=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(mh(e=>!e||i.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&t.push(s)}),t}_scrollableContainsElement(e,t){let i=t.nativeElement,s=e.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wc(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(qn),Me(jl))},token:e,providedIn:"root"}),e})();class td{}let id=(()=>{class e{constructor(e,t){this._platform=e,t.runOutsideAngular(()=>{this._change=e.isBrowser?Z(Wc(window,"resize"),Wc(window,"orientationchange")):th(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+t,height:i,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=document.documentElement,t=e.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||e.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||e.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Jc(e)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(jl),Me(qn))},token:e,providedIn:"root"}),e})();class sd{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Fl(-this._previousScrollPosition.left),e.style.top=Fl(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,i=this._document.body.style,s=t.scrollBehavior||"",n=i.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=s,i.scrollBehavior=n}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}function nd(){return Error("Scroll strategy has already been attached.")}class rd{constructor(e,t,i,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){if(this._overlayRef)throw nd();this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ad{enable(){}disable(){}attach(){}}function od(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function ld(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class hd{constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(e){if(this._overlayRef)throw nd();this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:i}=this._viewportRuler.getViewportSize();od(e,[{width:t,height:i,bottom:i,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cd=(()=>{class e{constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this.noop=()=>new ad,this.close=e=>new rd(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new sd(this._viewportRuler,this._document),this.reposition=e=>new hd(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=s}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(ed),Me(id),Me(qn),Me(Lo))},token:e,providedIn:"root"}),e})();class dd{constructor(e){if(this.scrollStrategy=new ad,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class ud{constructor(e,t,i,s,n){this.offsetX=i,this.offsetY=s,this.panelClass=n,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class pd{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}function md(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". `+'Expected "top", "bottom" or "center".')}function gd(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". `+'Expected "start", "end" or "center".')}let fd=(()=>{class e{constructor(e){this._attachedOverlays=[],this._keydownListener=e=>{const t=this._attachedOverlays;for(let i=t.length-1;i>-1;i--)if(t[i]._keydownEventSubscriptions>0){t[i]._keydownEvents.next(e);break}},this._document=e}ngOnDestroy(){this._detach()}add(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(Lo))},token:e,providedIn:"root"}),e})(),yd=(()=>{class e{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.getElementsByClassName("cdk-overlay-container");for(let i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(Lo))},token:e,providedIn:"root"}),e})();class bd{constructor(e,t,i,s,n,r,a,o){this._portalOutlet=e,this._host=t,this._pane=i,this._config=s,this._ngZone=n,this._keyboardDispatcher=r,this._document=a,this._location=o,this._backdropElement=null,this._backdropClick=new E,this._attachments=new E,this._detachments=new E,this._locationChanges=u.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEventsObservable=new v(e=>{const t=this._keydownEvents.subscribe(e);return this._keydownEventSubscriptions++,()=>{t.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new E,this._keydownEventSubscriptions=0,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(vh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign({},this._config,e),this._updateElementSize()}setDirection(e){this._config=Object.assign({},this._config,{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Fl(this._config.width),e.height=Fl(this._config.height),e.minWidth=Fl(this._config.minWidth),e.minHeight=Fl(this._config.minHeight),e.maxWidth=Fl(this._config.maxWidth),e.maxHeight=Fl(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const s=e.classList;Vl(t).forEach(e=>{e&&(i?s.add(e):s.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.asObservable().pipe(Ic(Z(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}class vd{constructor(e,t,i,s,n){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=n,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new E,this._resizeSubscription=u.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,s=[];let n;for(let r of this._preferredPositions){let a=this._getOriginPoint(e,r),o=this._getOverlayPoint(a,t,r),l=this._getOverlayFit(o,t,i,r);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(r,a);this._canFitWithFlexibleDimensions(l,o,i)?s.push({position:r,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,r)}):(!n||n.overlayFit.visibleArea<l.visibleArea)&&(n={overlayFit:l,overlayPoint:o,originPoint:a,position:r,overlayRect:t})}if(s.length){let e=null,t=-1;for(const i of s){const s=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);s>t&&(t=s,e=i)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(n.position,n.originPoint);this._applyPosition(n.position,n.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&wd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,s;if("center"==t.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,n=this._isRtl()?e.left:e.right;i="start"==t.originX?s:n}return s="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:s}}_getOverlayPoint(e,t,i){let s,n;return s="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,n="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+s,y:e.y+n}}_getOverlayFit(e,t,i,s){let{x:n,y:r}=e,a=this._getOffset(s,"x"),o=this._getOffset(s,"y");a&&(n+=a),o&&(r+=o);let l=0-r,h=r+t.height-i.height,c=this._subtractOverflows(t.width,0-n,n+t.width-i.width),d=this._subtractOverflows(t.height,l,h),u=c*d;return{visibleArea:u,isCompletelyWithinViewport:t.width*t.height===u,fitsInViewportVertically:d===t.height,fitsInViewportHorizontally:c==t.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const s=i.bottom-t.y,n=i.right-t.x,r=this._overlayRef.getConfig().minHeight,a=this._overlayRef.getConfig().minWidth,o=e.fitsInViewportHorizontally||null!=a&&a<=n;return(e.fitsInViewportVertically||null!=r&&r<=s)&&o}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=this._viewportRect,n=Math.max(e.x+t.width-s.right,0),r=Math.max(e.y+t.height-s.bottom,0),a=Math.max(s.top-i.top-e.y,0),o=Math.max(s.left-i.left-e.x,0);let l=0,h=0;return l=t.width<=s.width?o||-n:e.x<this._viewportMargin?s.left-i.left-e.x:0,h=t.height<=s.height?a||-r:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:l,y:h},{x:e.x+l,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),i=new pd(e,t);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let n=0;n<t.length;n++)t[n].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,s=this._isRtl();let n,r,a,o,l,h;if("top"===t.overlayY)r=e.y,n=i.height-r+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,n=i.height-a+this._viewportMargin;else{const t=Math.min(i.bottom-e.y+i.top,e.y),s=this._lastBoundingBoxSize.height;n=2*t,r=e.y-t,n>s&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.y-s/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)h=i.width-e.x+this._viewportMargin,o=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)l=e.x,o=i.right-e.x;else{const t=Math.min(i.right-e.x+i.left,e.x),s=this._lastBoundingBoxSize.width;o=2*t,l=e.x-t,o>s&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-s/2)}return{top:r,left:l,bottom:a,right:h,width:o,height:n}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right="",s.width=s.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,n=this._overlayRef.getConfig().maxWidth;s.height=Fl(i.height),s.top=Fl(i.top),s.bottom=Fl(i.bottom),s.width=Fl(i.width),s.left=Fl(i.left),s.right=Fl(i.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(s.maxHeight=Fl(e)),n&&(s.maxWidth=Fl(n))}this._lastBoundingBoxSize=i,wd(this._boundingBox.style,s)}_resetBoundingBoxStyles(){wd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){wd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={};if(this._hasExactPosition()){const s=this._viewportRuler.getViewportScrollPosition();wd(i,this._getExactOverlayY(t,e,s)),wd(i,this._getExactOverlayX(t,e,s))}else i.position="static";let s="",n=this._getOffset(t,"x"),r=this._getOffset(t,"y");n&&(s+=`translateX(${n}px) `),r&&(s+=`translateY(${r}px)`),i.transform=s.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(i.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(i.maxWidth=""),wd(this._pane.style,i)}_getExactOverlayY(e,t,i){let s={top:null,bottom:null},n=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i));let r=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return n.y-=r,"bottom"===e.overlayY?s.bottom=`${this._document.documentElement.clientHeight-(n.y+this._overlayRect.height)}px`:s.top=Fl(n.y),s}_getExactOverlayX(e,t,i){let s,n={left:null,right:null},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?n.right=`${this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)}px`:n.left=Fl(r.x),n}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ld(e,i),isOriginOutsideView:od(e,i),isOverlayClipped:ld(t,i),isOverlayOutsideView:od(t,i)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(e=>{gd("originX",e.originX),md("originY",e.originY),gd("overlayX",e.overlayX),md("overlayY",e.overlayY)})}_addPanelClasses(e){this._pane&&Vl(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Zt)return e.nativeElement.getBoundingClientRect();if(e instanceof HTMLElement)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function wd(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}class xd{constructor(e,t,i,s,n,r,a){this._preferredPositions=[],this._positionStrategy=new vd(i,s,n,r,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,i,s){const n=new ud(e,t,i,s);return this._preferredPositions.push(n),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class _d{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig();e.position=this._cssPosition,e.marginLeft="100%"===i.width?"0":this._leftOffset,e.marginTop="100%"===i.height?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,"100%"===i.width?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems="100%"===i.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove("cdk-global-overlay-wrapper"),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Sd=(()=>{class e{constructor(e,t,i,s){this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=s}global(){return new _d}connectedTo(e,t,i){return new xd(t,i,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new vd(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(id),Me(Lo),Me(jl),Me(yd))},token:e,providedIn:"root"}),e})(),Cd=0;class Ed{constructor(e,t,i,s,n,r,a,o,l,h){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=n,this._injector=r,this._ngZone=a,this._document=o,this._directionality=l,this._location=h}create(e){const t=this._createHostElement(),i=this._createPaneElement(t),s=this._createPortalOutlet(i),n=new dd(e);return n.direction=n.direction||this._directionality.value,new bd(s,t,i,n,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id=`cdk-overlay-${Cd++}`,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(hr)),new Ec(e,this._componentFactoryResolver,this._appRef,this._injector)}}const Dd=new _e("cdk-connected-overlay-scroll-strategy");function kd(e){return()=>e.scrollStrategies.reposition()}class Ad{}const Md=new _e("cdk-dir-doc",{providedIn:"root",factory:function(){return Le(Lo)}});let Ld=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new fn,e){const t=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||t;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(Md,8))},token:e,providedIn:"root"}),e})();class Td{}class Rd{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}class Pd extends Cc{constructor(e,t,i,s,n,r){super(),this._elementRef=e,this._changeDetectorRef=t,this._focusTrapFactory=i,this.bottomSheetConfig=r,this._animationState="void",this._animationStateChanged=new fn,this._elementFocusedBeforeOpened=null,this._document=n,this._breakpointSubscription=s.observe(["(min-width: 960px) and (max-width: 1279.99px)","(min-width: 1280px) and (max-width: 1919.99px)","(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",s.isMatched("(min-width: 960px) and (max-width: 1279.99px)")),this._toggleClass("mat-bottom-sheet-container-large",s.isMatched("(min-width: 1280px) and (max-width: 1919.99px)")),this._toggleClass("mat-bottom-sheet-container-xlarge",s.isMatched("(min-width: 1920px)"))})}attachComponentPortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"hidden"===e.toState?this._restoreFocus():"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_toggleClass(e,t){const i=this._elementRef.nativeElement.classList;t?i.add(e):i.remove(e)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const e=this._elementRef.nativeElement,t=this.bottomSheetConfig.panelClass;Array.isArray(t)?t.forEach(t=>e.classList.add(t)):t&&e.classList.add(t)}_trapFocus(){const e=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const t=this._document.activeElement;t===e||e.contains(t)||e.focus()}}_restoreFocus(){const e=this._elementFocusedBeforeOpened;this.bottomSheetConfig.restoreFocus&&e&&"function"==typeof e.focus&&e.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}class Id{}var Od=Fi({encapsulation:2,styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}@media (-ms-high-contrast:active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium,.mat-bottom-sheet-container-xlarge{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"translateY(100%)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"visible => void, visible => hidden",animation:{type:4,styles:null,timings:"375ms cubic-bezier(0.4,0.0,1,1)"},options:null},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"195ms cubic-bezier(0.0,0.0,0.2,1)"},options:null}],options:{}}]}});function Nd(e){return zr(0,[(e()(),Sr(0,null,null,0))],null,null)}function Vd(e){return zr(2,[Mr(402653184,1,{_portalOutlet:0}),(e()(),Sr(16777216,null,null,1,null,Nd)),Gs(2,212992,[[1,4]],0,Dc,[qt,xi],{portal:[0,"portal"]},null)],(function(e,t){e(t,2,0,"")}),null)}function Fd(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"mat-bottom-sheet-container",[["aria-modal","true"],["class","mat-bottom-sheet-container"],["role","dialog"],["tabindex","-1"]],[[1,"aria-label",0],[40,"@state",0]],[["component","@state.start"],["component","@state.done"]],(function(e,t,i){var s=!0;return"component:@state.start"===t&&(s=!1!==Is(e,1)._onAnimationStart(i)&&s),"component:@state.done"===t&&(s=!1!==Is(e,1)._onAnimationDone(i)&&s),s}),Vd,Od)),Gs(1,180224,null,0,Pd,[Zt,vt,Dh,Hc,[2,Lo],Rd],null,null)],null,(function(e,t){e(t,0,0,null==Is(t,1).bottomSheetConfig?null:Is(t,1).bottomSheetConfig.ariaLabel,Is(t,1)._animationState)}))}var Bd=Ss("mat-bottom-sheet-container",Pd,Fd,{},{},[]);class zd{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}function Hd(){throw Error("Attempting to attach dialog content after content is already attached")}class jd extends Cc{constructor(e,t,i,s,n){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=i,this._document=s,this._config=n,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new fn,this._ariaLabelledBy=n.ariaLabelledBy||null}attachComponentPortal(e){return this._portalOutlet.hasAttached()&&Hd(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached()&&Hd(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}_trapFocus(){const e=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const t=this._document.activeElement;t===e||e.contains(t)||e.focus()}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&e&&"function"==typeof e.focus&&e.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}let Wd=0;class Yd{constructor(e,t,i,s=`mat-dialog-${Wd++}`){this._overlayRef=e,this._containerInstance=t,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new E,this._afterClosed=new E,this._beforeClosed=new E,this._state=0,t._id=s,t._animationStateChanged.pipe(mh(e=>"done"===e.phaseName&&"enter"===e.toState),vh(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(mh(e=>"done"===e.phaseName&&"exit"===e.toState),vh(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(mh(e=>27===e.keyCode&&!this.disableClose&&!nh(e))).subscribe(e=>{e.preventDefault(),this.close()})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(mh(e=>"start"===e.phaseName),vh(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._state=2,this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}afterOpen(){return this.afterOpened()}beforeClose(){return this.beforeClosed()}getState(){return this._state}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const qd=new _e("MatDialogData"),Ud=new _e("mat-dialog-default-options"),Gd=new _e("mat-dialog-scroll-strategy");function Xd(e){return()=>e.scrollStrategies.block()}class Zd{constructor(e,t,i,s,n,r,a){var o;this._overlay=e,this._injector=t,this._location=i,this._defaultOptions=s,this._parentDialog=r,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E,this._afterOpenedAtThisLevel=new E,this._ariaHiddenElements=new Map,this.afterAllClosed=(o=()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(sh(void 0)),new v(e=>{let t;try{t=o()}catch(i){return void e.error(i)}return(t?Y(t):eh()).subscribe(e)})),this._scrollStrategy=n}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get afterOpen(){return this.afterOpened}get _afterAllClosed(){const e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}open(e,t){if((t=function(e,t){return Object.assign({},t,e)}(t,this._defaultOptions||new zd)).id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const i=this._createOverlay(t),s=this._attachDialogContainer(i,t),n=this._attachDialogContent(e,s,i,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(n),n.afterClosed().subscribe(()=>this._removeOpenDialog(n)),this.afterOpened.next(n),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new dd({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const i=new Ac(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[zd,t]])),s=new _c(jd,t.viewContainerRef,i,t.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,t,i,s){const n=new Yd(i,t,this._location,s.id);if(s.hasBackdrop&&i.backdropClick().subscribe(()=>{n.disableClose||n.close()}),e instanceof vi)t.attachTemplatePortal(new Sc(e,null,{$implicit:s.data,dialogRef:n}));else{const i=this._createInjector(s,n,t),r=t.attachComponentPortal(new _c(e,void 0,i));n.componentInstance=r.instance}return n.updateSize(s.width,s.height).updatePosition(s.position),n}_createInjector(e,t,i){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,n=new WeakMap([[jd,i],[qd,e.data],[Yd,t]]);return!e.direction||s&&s.get(Ld,null)||n.set(Ld,{value:e.direction,change:th()}),new Ac(s||this._injector,n)}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let s=t[i];s===e||"SCRIPT"===s.nodeName||"STYLE"===s.nodeName||s.hasAttribute("aria-live")||(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}class $d{}var Kd=Fi({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function Qd(e){return zr(0,[(e()(),Sr(0,null,null,0))],null,null)}function Jd(e){return zr(0,[Mr(402653184,1,{_portalOutlet:0}),(e()(),Sr(16777216,null,null,1,null,Qd)),Gs(2,212992,[[1,4]],0,Dc,[qt,xi],{portal:[0,"portal"]},null)],(function(e,t){e(t,2,0,"")}),null)}function eu(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],(function(e,t,i){var s=!0;return"component:@dialogContainer.start"===t&&(s=!1!==Is(e,1)._onAnimationStart(i)&&s),"component:@dialogContainer.done"===t&&(s=!1!==Is(e,1)._onAnimationDone(i)&&s),s}),Jd,Kd)),Gs(1,49152,null,0,jd,[Zt,Dh,vt,[2,Lo],zd],null,null)],null,(function(e,t){e(t,0,0,Is(t,1)._id,Is(t,1)._config.role,Is(t,1)._config.ariaLabel?null:Is(t,1)._ariaLabelledBy,Is(t,1)._config.ariaLabel,Is(t,1)._config.ariaDescribedBy||null,Is(t,1)._state)}))}var tu=Ss("mat-dialog-container",jd,eu,{},{},[]);class iu extends B{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const i=t.length;this.values=new Array(i);for(let s=0;s<i;s++){const e=F(this,t[s],null,s);e&&this.add(e)}}notifyNext(e,t,i,s,n){this.values[i]=t,n._hasValue||(n._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:i,values:s}=this,n=s.length;e._hasValue?(this.completed++,this.completed===n&&(i===n&&t.next(s),t.complete())):t.complete()}}const su=new _e("NgValueAccessor");class nu{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ru extends nu{get formDirective(){return null}get path(){return null}}function au(){throw new Error("unimplemented")}class ou extends nu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return au()}get asyncValidator(){return au()}}class lu{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class hu extends lu{constructor(e){super(e)}}class cu extends lu{constructor(e){super(e)}}function du(e){return null==e||0===e.length}const uu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pu{static min(e){return t=>{if(du(t.value)||du(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(du(t.value)||du(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}static required(e){return du(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return du(e.value)?null:uu.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(du(t.value))return null;const i=t.value?t.value.length:0;return i<e?{minlength:{requiredLength:e,actualLength:i}}:null}}static maxLength(e){return t=>{const i=t.value?t.value.length:0;return i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}}static pattern(e){if(!e)return pu.nullValidator;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(du(e.value))return null;const s=e.value;return t.test(s)?null:{pattern:{requiredPattern:i,actualValue:s}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(mu);return 0==t.length?null:function(e){return fu(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(mu);return 0==t.length?null:function(e){return function e(...t){let i;return"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),0===t.length?Jl:i?e(t).pipe(z(e=>i(...e))):new v(e=>new iu(e,t))}(function(e,t){return t.map(t=>t(e))}(e,t).map(gu)).pipe(z(fu))}}}function mu(e){return null!=e}function gu(e){const t=Ft(e)?Y(e):e;if(!Bt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function fu(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function yu(e){return e.validate?t=>e.validate(t):e}function bu(e){return e.validate?t=>e.validate(t):e}class vu{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const wu='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',xu='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',_u='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function Su(e,t){return[...t.path,e]}function Cu(e,t){e||Au(t,"Cannot find control with"),t.valueAccessor||Au(t,"No value accessor for form control with"),e.validator=pu.compose([e.validator,t.validator]),e.asyncValidator=pu.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Eu(e,t)})}(e,t),function(e,t){e.registerOnChange((e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Eu(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function Eu(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Du(e,t){null==e&&Au(t,"Cannot find control with"),e.validator=pu.compose([e.validator,t.validator]),e.asyncValidator=pu.composeAsync([e.asyncValidator,t.asyncValidator])}function ku(e){return Au(e,"There is no FormControl instance attached to form control element with")}function Au(e,t){let i;throw i=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${i}`)}function Mu(e){return null!=e?pu.compose(e.map(yu)):null}function Lu(e){return null!=e?pu.composeAsync(e.map(bu)):null}const Tu=[class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Pt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const i=function(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",i)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Pt}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const i=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(i.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const i=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const s=e.item(t),n=this._getOptionValue(s.value);i.push(n)}}else{const e=t.options;for(let t=0;t<e.length;t++){const s=e.item(t);if(s.selected){const e=this._getOptionValue(s.value);i.push(e)}}}this.value=i,e(i)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,i,s){this._renderer=e,this._elementRef=t,this._registry=i,this._injector=s,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ou),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Ru(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Pu(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function Iu(e){const t=Nu(e)?e.validators:e;return Array.isArray(t)?Mu(t):t||null}function Ou(e,t){const i=Nu(t)?t.asyncValidators:e;return Array.isArray(i)?Lu(i):i||null}function Nu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Vu{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Iu(e)}setAsyncValidators(e){this.asyncValidator=Ou(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=gu(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,i){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Bu?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof zu&&e.at(t)||null,e))}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new fn,this.statusChanges=new fn}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Fu extends Vu{constructor(e=null,t,i){super(Iu(t),Ou(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Bu extends Vu{constructor(e,t,i){super(Iu(t),Ou(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((i,s)=>{i.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof Fu?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((i,s)=>{t=t||this.contains(s)&&e(i)}),t}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((e,s)=>{i=t(i,e,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class zu extends Vu{constructor(e,t,i){super(Iu(t),Ou(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,i)=>{this.at(i)&&this.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((i,s)=>{i.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Fu?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Hu=(()=>Promise.resolve(null))();class ju extends ru{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new fn,this.form=new Bu({},Mu(e),Lu(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Hu.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Cu(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Hu.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),Pu(this._directives,e)})}addFormGroup(e){Hu.then(()=>{const t=this._findContainer(e.path),i=new Bu({});Du(i,e),t.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Hu.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Hu.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Ru(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class Wu{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${wu}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${xu}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${_u}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${xu}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${_u}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Yu=new _e("NgFormSelectorWarning");class qu extends ru{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Su(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Mu(this._validators)}get asyncValidator(){return Lu(this._asyncValidators)}_checkParentType(){}}class Uu extends qu{constructor(e,t,i){super(),this._parent=e,this._validators=t,this._asyncValidators=i}_checkParentType(){this._parent instanceof Uu||this._parent instanceof ju||Wu.modelGroupParentException()}}const Gu=(()=>Promise.resolve(null))();class Xu extends ou{constructor(e,t,i,s){super(),this.control=new Fu,this._registered=!1,this.update=new fn,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=i||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Au(e,"Value accessor was not provided as an array for form control with");let i=void 0,s=void 0,n=void 0;return t.forEach(t=>{var r;t.constructor===class{constructor(e,t,i){this._renderer=e,this._elementRef=t,this._compositionMode=i,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Ro()?Ro().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}?i=t:(r=t,Tu.some(e=>r.constructor===e)?(s&&Au(e,"More than one built-in value accessor matches form control with"),s=t):(n&&Au(e,"More than one custom value accessor matches form control with"),n=t))}),n||s||i||(Au(e,"No valid value accessor for form control with"),null)}(this,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Pt(t,i.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Su(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Mu(this._rawValidators)}get asyncValidator(){return Lu(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Uu)&&this._parent instanceof qu?Wu.formGroupNameException():this._parent instanceof Uu||this._parent instanceof ju||Wu.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Wu.missingNameException()}_updateValue(e){Gu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,i=""===t||t&&"false"!==t;Gu.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}class Zu{}const $u=new _e("NgModelWithFormControlWarning");class Ku extends ru{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new fn}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return Cu(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){Pu(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);Du(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);Du(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,Ru(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>ku(t)),t.valueAccessor.registerOnTouched(()=>ku(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&Cu(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=Mu(this._validators);this.form.validator=pu.compose([this.form.validator,e]);const t=Lu(this._asyncValidators);this.form.asyncValidator=pu.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||class{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${wu}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${xu}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${_u}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${wu}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${xu}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}.missingFormException()}}class Qu{}class Ju{group(e,t=null){const i=this._reduceControls(e);let s=null,n=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(s=null!=t.validators?t.validators:null,n=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(s=null!=t.validator?t.validator:null,n=null!=t.asyncValidator?t.asyncValidator:null)),new Bu(i,{asyncValidators:n,updateOn:r,validators:s})}control(e,t,i){return new Fu(e,t,i)}array(e,t,i){const s=e.map(e=>this._createControl(e));return new zu(s,t,i)}_reduceControls(e){const t={};return Object.keys(e).forEach(i=>{t[i]=this._createControl(e[i])}),t}_createControl(e){return e instanceof Fu||e instanceof Bu||e instanceof zu?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}class ep{static withConfig(e){return{ngModule:ep,providers:[{provide:Yu,useValue:e.warnOnDeprecatedNgFormSelector}]}}}class tp{static withConfig(e){return{ngModule:tp,providers:[{provide:$u,useValue:e.warnOnNgModelWithFormControl}]}}}function ip(e){return Error(`MatDatepicker: No provider found for ${e}. You must import one of the following `+"modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}let sp=(()=>{class e{constructor(){this.changes=new E,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return e.ngInjectableDef=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})();class np{constructor(e,t,i,s,n){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=s,this.cssClasses=n}}class rp{constructor(e,t){this._elementRef=e,this._ngZone=t,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new fn}_cellClicked(e){e.enabled&&this.selectedValueChange.emit(e.value)}ngOnChanges(e){const t=e.numCols,{rows:i,numCols:s}=this;(e.rows||t)&&(this._firstRowOffset=i&&i.length&&i[0].length?s-i[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/s}%`),!t&&this._cellWidth||(this._cellWidth=`${100/s}%`)}_isActiveCell(e,t){let i=e*this.numCols+t;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(vh(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");e&&e.focus()})})}}class ap{constructor(e,t,i,s){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=s,this.selectedChange=new fn,this._userSelection=new fn,this.activeDateChange=new fn,!this._dateAdapter)throw ip("DateAdapter");if(!this._dateFormats)throw ip("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const t=this._activeDate,i=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._init()}_dateSelected(e){if(this._selectedDate!=e){const t=this._dateAdapter.getYear(this.activeDate),i=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.createDate(t,i,e);this.selectedChange.emit(s)}this._userSelection.emit()}_handleCalendarBodyKeydown(e){const t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),e.preventDefault()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_init(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow");let i=this._dateAdapter.getDayOfWeekNames("long").map((e,i)=>({long:e,narrow:t[i]}));this._weekdays=i.slice(e).concat(i.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,s=this._firstWeekOffset;i<e;i++,s++){7==s&&(this._weeks.push([]),s=0);const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),n=this._shouldEnableDate(e),r=this._dateAdapter.format(e,this._dateFormats.display.dateA11yLabel),a=this.dateClass?this.dateClass(e):void 0;this._weeks[this._weeks.length-1].push(new np(i+1,t[i],r,n,a))}}_shouldEnableDate(e){return!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}class op{constructor(e,t,i){if(this._changeDetectorRef=e,this._dateAdapter=t,this._dir=i,this.selectedChange=new fn,this.yearSelected=new fn,this.activeDateChange=new fn,!this._dateAdapter)throw ip("DateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const i=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),lp(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._init()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const e=this._dateAdapter.getYear(this._activeDate)-hp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let t=0,i=[];t<24;t++)i.push(e+t),4==i.length&&(this._years.push(i.map(e=>this._createCellForYear(e))),i=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){this.yearSelected.emit(this._dateAdapter.createDate(e,0,1));let t=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));this.selectedChange.emit(this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),i)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-hp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-hp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_getActiveCell(){return hp(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){let t=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return new np(e,t,t,this._shouldEnableYear(e))}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}function lp(e,t,i,s,n){const r=e.getYear(t),a=e.getYear(i),o=cp(e,s,n);return Math.floor((r-o)/24)===Math.floor((a-o)/24)}function hp(e,t,i,s){return((e.getYear(t)-cp(e,i,s))%24+24)%24}function cp(e,t,i){let s=0;return i?s=e.getYear(i)-24+1:t&&(s=e.getYear(t)),s}class dp{constructor(e,t,i,s){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=s,this.selectedChange=new fn,this.monthSelected=new fn,this.activeDateChange=new fn,!this._dateAdapter)throw ip("DateAdapter");if(!this._dateFormats)throw ip("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const i=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._init()}_monthSelected(e){const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this.monthSelected.emit(t);const i=this._dateAdapter.getNumDaysInMonth(t);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_init(){this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(t=>this._createCellForMonth(t,e[t]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,t){let i=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),this._dateFormats.display.monthYearA11yLabel);return new np(e,t.toLocaleUpperCase(),i,this._shouldEnableMonth(e))}_shouldEnableMonth(e){const t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(let i=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){const i=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&t>s}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){const i=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&t<s}return!1}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}class up{constructor(e,t,i,s,n){this._intl=e,this.calendar=t,this._dateAdapter=i,this._dateFormats=s,this.calendar.stateChanges.subscribe(()=>n.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const e=this._dateAdapter.getYear(this.calendar.activeDate)-hp(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+24-1,i=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(i,s)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):lp(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}}class pp{constructor(e,t,i,s){if(this._dateAdapter=t,this._dateFormats=i,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new fn,this.yearSelected=new fn,this.monthSelected=new fn,this._userSelection=new fn,this.stateChanges=new E,!this._dateAdapter)throw ip("DateAdapter");if(!this._dateFormats)throw ip("MAT_DATE_FORMATS");this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new _c(this.headerComponent||up),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){const e=this._getCurrentViewComponent();e&&(this._changeDetectorRef.detectChanges(),e._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell()}updateTodaysDate(){("month"==this.currentView?this.monthView:"year"==this.currentView?this.yearView:this.multiYearView).ngAfterContentInit()}_dateSelected(e){this._dateAdapter.sameDate(e,this.selected)||this.selectedChange.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_userSelected(){this._userSelection.emit()}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}const mp=new _e("mat-datepicker-scroll-strategy");function gp(e){return()=>e.scrollStrategies.reposition()}class fp{constructor(e){this._elementRef=e}}const yp=zh(fp);class bp extends yp{constructor(e){super(e)}ngAfterViewInit(){this._calendar.focusActiveCell()}}class vp{}let wp=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.ngInjectableDef=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})(),xp=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=Bl(e);return new v(e=>{const i=this._observeElement(t).subscribe(e);return()=>{i.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new E,i=this._mutationObserverFactory.create(e=>t.next(e));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:i}=this._observedElements.get(e);t&&t.disconnect(),i.complete(),this._observedElements.delete(e)}}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(wp))},token:e,providedIn:"root"}),e})();class _p{constructor(e,t,i){this._contentObserver=e,this._elementRef=t,this._ngZone=i,this.event=new fn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Nl(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ch(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class Sp{}const Cp=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Ep{constructor(e){this._elementRef=e}}const Dp=zh(Bh(Hh(Ep)));class kp extends Dp{constructor(e,t,i){super(e),this._focusMonitor=t,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Cp)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",t){this._focusMonitor.focusVia(this._getHostElement(),e,t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}class Ap{}function Mp(){return"undefined"!=typeof process}function Lp(e){switch(e.length){case 0:return new Ja;case 1:return e[0];default:return new eo(e)}}function Tp(e,t,i,s,n={},r={}){const a=[],o=[];let l=-1,h=null;if(s.forEach(e=>{const i=e.offset,s=i==l,c=s&&h||{};Object.keys(e).forEach(i=>{let s=i,o=e[i];if("offset"!==i)switch(s=t.normalizePropertyName(s,a),o){case"!":o=n[i];break;case"*":o=r[i];break;default:o=t.normalizeStyleValue(i,s,o,a)}c[s]=o}),s||o.push(c),h=c,l=i}),a.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${a.join(e)}`)}return o}function Rp(e,t,i,s){switch(t){case"start":e.onStart(()=>s(i&&Pp(i,"start",e)));break;case"done":e.onDone(()=>s(i&&Pp(i,"done",e)));break;case"destroy":e.onDestroy(()=>s(i&&Pp(i,"destroy",e)))}}function Pp(e,t,i){const s=i.totalTime,n=Ip(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==s?e.totalTime:s,!!i.disabled),r=e._data;return null!=r&&(n._data=r),n}function Ip(e,t,i,s,n="",r=0,a){return{element:e,triggerName:t,fromState:i,toState:s,phaseName:n,totalTime:r,disabled:!!a}}function Op(e,t,i){let s;return e instanceof Map?(s=e.get(t),s||e.set(t,s=i)):(s=e[t],s||(s=e[t]=i)),s}function Np(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Vp=(e,t)=>!1,Fp=(e,t)=>!1,Bp=(e,t,i)=>[];const zp=Mp();(zp||"undefined"!=typeof Element)&&(Vp=(e,t)=>e.contains(t),Fp=(()=>{if(zp||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):Fp}})(),Bp=(e,t,i)=>{let s=[];if(i)s.push(...e.querySelectorAll(t));else{const i=e.querySelector(t);i&&s.push(i)}return s});let Hp=null,jp=!1;function Wp(e){Hp||(Hp=("undefined"!=typeof document?document.body:null)||{},jp=!!Hp.style&&"WebkitAppearance"in Hp.style);let t=!0;return Hp.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Hp.style,!t&&jp)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Hp.style),t}const Yp=Fp,qp=Vp,Up=Bp;function Gp(e){const t={};return Object.keys(e).forEach(i=>{const s=i.replace(/([a-z])([A-Z])/g,"$1-$2");t[s]=e[i]}),t}class Xp{validateStyleProperty(e){return Wp(e)}matchesElement(e,t){return Yp(e,t)}containsElement(e,t){return qp(e,t)}query(e,t,i){return Up(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,s,n,r=[],a){return new Ja(i,s)}}let Zp=(()=>{class e{}return e.NOOP=new Xp,e})();function $p(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Kp(parseFloat(t[1]),t[2])}function Kp(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Qp(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let s,n=0,r="";if("string"==typeof e){const i=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};s=Kp(parseFloat(i[1]),i[2]);const a=i[3];null!=a&&(n=Kp(parseFloat(a),i[4]));const o=i[5];o&&(r=o)}else s=e;if(!i){let i=!1,r=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),i=!0),n<0&&(t.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:s,delay:n,easing:r}}(e,t,i)}function Jp(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function em(e,t,i={}){if(t)for(let s in e)i[s]=e[s];else Jp(e,i);return i}function tm(e,t,i){return i?t+":"+i+";":""}function im(e){let t="";for(let i=0;i<e.style.length;i++){const s=e.style.item(i);t+=tm(0,s,e.style.getPropertyValue(s))}for(const i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=tm(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function sm(e,t,i){e.style&&(Object.keys(t).forEach(s=>{const n=dm(s);i&&!i.hasOwnProperty(s)&&(i[s]=e.style[n]),e.style[n]=t[s]}),Mp()&&im(e))}function nm(e,t){e.style&&(Object.keys(t).forEach(t=>{const i=dm(t);e.style[i]=""}),Mp()&&im(e))}function rm(e){return Array.isArray(e)?1==e.length?e[0]:$a(e):e}const am=new RegExp("{{\\s*(.+?)\\s*}}","g");function om(e){let t=[];if("string"==typeof e){const i=e.toString();let s;for(;s=am.exec(i);)t.push(s[1]);am.lastIndex=0}return t}function lm(e,t,i){const s=e.toString(),n=s.replace(am,(e,s)=>{let n=t[s];return t.hasOwnProperty(s)||(i.push(`Please provide a value for the animation param ${s}`),n=""),n.toString()});return n==s?e:n}function hm(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const cm=/-+([a-z0-9])/g;function dm(e){return e.replace(cm,(...e)=>e[1].toUpperCase())}function um(e,t){return 0===e||0===t}function pm(e,t,i){const s=Object.keys(i);if(s.length&&t.length){let r=t[0],a=[];if(s.forEach(e=>{r.hasOwnProperty(e)||a.push(e),r[e]=i[e]}),a.length)for(var n=1;n<t.length;n++){let i=t[n];a.forEach((function(t){i[t]=gm(e,t)}))}}return t}function mm(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function gm(e,t){return window.getComputedStyle(e)[t]}function fm(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,i){if(":"==e[0]){const s=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,i);if("function"==typeof s)return void t.push(s);e=s}const s=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return i.push(`The provided transition expression "${e}" is not supported`),t;const n=s[1],r=s[2],a=s[3];t.push(vm(n,a)),"<"!=r[0]||"*"==n&&"*"==a||t.push(vm(a,n))}(e,i,t)):i.push(e),i}const ym=new Set(["true","1"]),bm=new Set(["false","0"]);function vm(e,t){const i=ym.has(e)||bm.has(e),s=ym.has(t)||bm.has(t);return(n,r)=>{let a="*"==e||e==n,o="*"==t||t==r;return!a&&i&&"boolean"==typeof n&&(a=n?ym.has(e):bm.has(e)),!o&&s&&"boolean"==typeof r&&(o=r?ym.has(t):bm.has(t)),a&&o}}const wm=new RegExp("s*:selfs*,?","g");function xm(e,t,i){return new _m(e).build(t,i)}class _m{constructor(e){this._driver=e}build(e,t){const i=new Sm(t);return this._resetContextStyleTimingState(i),mm(this,rm(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,s=t.depCount=0;const n=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const i=e,s=i.name;s.toString().split(/\s*,\s*/).forEach(e=>{i.name=e,n.push(this.visitState(i,t))}),i.name=s}else if(1==e.type){const n=this.visitTransition(e,t);i+=n.queryCount,s+=n.depCount,r.push(n)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:n,transitions:r,queryCount:i,depCount:s,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(i.containsDynamicStyles){const n=new Set,r=s||{};if(i.styles.forEach(e=>{if(Cm(e)){const t=e;Object.keys(t).forEach(e=>{om(t[e]).forEach(e=>{r.hasOwnProperty(e)||n.add(e)})})}}),n.size){const i=hm(n.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:e.name,style:i,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=mm(this,rm(e.animation),t);return{type:1,matchers:fm(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Em(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>mm(this,e,t)),options:Em(e.options)}}visitGroup(e,t){const i=t.currentTime;let s=0;const n=e.steps.map(e=>{t.currentTime=i;const n=mm(this,e,t);return s=Math.max(s,t.currentTime),n});return t.currentTime=s,{type:3,steps:n,options:Em(e.options)}}visitAnimate(e,t){const i=function(e,t){let i=null;if(e.hasOwnProperty("duration"))i=e;else if("number"==typeof e)return Dm(Qp(e,t).duration,0,"");const s=e;if(s.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Dm(0,0,"");return e.dynamic=!0,e.strValue=s,e}return i=i||Qp(s,t),Dm(i.duration,i.delay,i.easing)}(e.timings,t.errors);let s;t.currentAnimateTimings=i;let n=e.styles?e.styles:Ka({});if(5==n.type)s=this.visitKeyframes(n,t);else{let n=e.styles,r=!1;if(!n){r=!0;const e={};i.easing&&(e.easing=i.easing),n=Ka(e)}t.currentTime+=i.duration+i.delay;const a=this.visitStyle(n,t);a.isEmptyStep=r,s=a}return t.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?i.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):i.push(e)}):i.push(e.styles);let s=!1,n=null;return i.forEach(e=>{if(Cm(e)){const t=e,i=t.easing;if(i&&(n=i,delete t.easing),!s)for(let e in t)if(t[e].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:n,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let s=t.currentTime,n=t.currentTime;i&&n>0&&(n-=i.duration+i.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void t.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],a=r[i];let o=!0;a&&(n!=s&&n>=a.startTime&&s<=a.endTime&&(t.errors.push(`The CSS property "${i}" that exists between the times of "${a.startTime}ms" and "${a.endTime}ms" is also being animated in a parallel animation between the times of "${n}ms" and "${s}ms"`),o=!1),n=a.startTime),o&&(r[i]={startTime:n,endTime:s}),t.options&&function(e,t,i){const s=t.params||{},n=om(e);n.length&&n.forEach(e=>{s.hasOwnProperty(e)||i.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[i],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const n=[];let r=!1,a=!1,o=0;const l=e.steps.map(e=>{const i=this._makeStyleAst(e,t);let l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Cm(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Cm(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}return t}(i.styles),h=0;return null!=l&&(s++,h=i.offset=l),a=a||h<0||h>1,r=r||h<o,o=h,n.push(h),i});a&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const h=e.steps.length;let c=0;s>0&&s<h?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(c=1/(h-1));const d=h-1,u=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return l.forEach((e,s)=>{const r=c>0?s==d?1:c*s:n[s],a=r*m;t.currentTime=u+p.delay+a,p.duration=a,this._validateStyleAst(e,t),e.offset=r,i.styles.push(e)}),i}visitReference(e,t){return{type:8,animation:mm(this,rm(e.animation),t),options:Em(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Em(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Em(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[n,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(wm,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=i.length?i+" "+n:n,Op(t.collectedStyles,t.currentQuerySelector,{});const a=mm(this,rm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:n,limit:s.limit||0,optional:!!s.optional,includeSelf:r,animation:a,originalSelector:e.selector,options:Em(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Qp(e.timings,t.errors,!0);return{type:12,animation:mm(this,rm(e.animation),t),timings:i,options:null}}}class Sm{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Cm(e){return!Array.isArray(e)&&"object"==typeof e}function Em(e){var t;return e?(e=Jp(e)).params&&(e.params=(t=e.params)?Jp(t):null):e={},e}function Dm(e,t,i){return{duration:e,delay:t,easing:i}}function km(e,t,i,s,n,r,a=null,o=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:s,duration:n,delay:r,totalTime:n+r,easing:a,subTimeline:o}}class Am{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Mm=new RegExp(":enter","g"),Lm=new RegExp(":leave","g");function Tm(e,t,i,s,n,r={},a={},o,l,h=[]){return(new Rm).buildKeyframes(e,t,i,s,n,r,a,o,l,h)}class Rm{buildKeyframes(e,t,i,s,n,r,a,o,l,h=[]){l=l||new Am;const c=new Im(e,t,l,s,n,h,[]);c.options=o,c.currentTimeline.setStyles([r],null,c.errors,o),mm(this,i,c);const d=c.timelines.filter(e=>e.containsAnimation());if(d.length&&Object.keys(a).length){const e=d[d.length-1];e.allowOnlyTimelineStyles()||e.setStyles([a],null,c.errors,o)}return d.length?d.map(e=>e.buildKeyframes()):[km(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const s=t.createSubContext(e.options),n=t.currentTimeline.currentTime,r=this._visitSubInstructions(i,s,s.options);n!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const n=null!=i.duration?$p(i.duration):null,r=null!=i.delay?$p(i.delay):null;return 0!==n&&e.forEach(e=>{const i=t.appendInstructionToTimeline(e,n,r);s=Math.max(s,i.duration+i.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),mm(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let s=t;const n=e.options;if(n&&(n.params||n.delay)&&(s=t.createSubContext(n),s.transformIntoNewTimeline(),null!=n.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Pm);const e=$p(n.delay);s.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>mm(this,e,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let s=t.currentTimeline.currentTime;const n=e.options&&e.options.delay?$p(e.options.delay):0;e.steps.forEach(r=>{const a=t.createSubContext(e.options);n&&a.delayNextStep(n),mm(this,r,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Qp(t.params?lm(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),s.snapshotCurrentStyles());const n=e.style;5==n.type?this.visitKeyframes(n,t):(t.incrementTime(i.duration),this.visitStyle(n,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,s=t.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const n=s&&s.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(n):i.setStyles(e.styles,n,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,s=t.currentTimeline.duration,n=i.duration,r=t.createSubContext().currentTimeline;r.easing=i.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*n),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(s+n),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,s=e.options||{},n=s.delay?$p(s.delay):0;n&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Pm);let r=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=a.length;let o=null;a.forEach((i,s)=>{t.currentQueryIndex=s;const a=t.createSubContext(e.options,i);n&&a.delayNextStep(n),i===t.element&&(o=a.currentTimeline),mm(this,e.animation,a),a.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,a.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),o&&(t.currentTimeline.mergeTimelineCollectedStyles(o),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,s=t.currentTimeline,n=e.timings,r=Math.abs(n.duration),a=r*(t.currentQueryTotal-1);let o=r*t.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":o=a-o;break;case"full":o=i.currentStaggerTime}const l=t.currentTimeline;o&&l.delayNextStep(o);const h=l.currentTime;mm(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=s.currentTime-h+(s.startTime-i.currentTimeline.startTime)}}const Pm={};class Im{constructor(e,t,i,s,n,r,a,o){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=n,this.errors=r,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new Om(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let s=this.options;null!=i.duration&&(s.duration=$p(i.duration)),null!=i.delay&&(s.delay=$p(i.delay));const n=i.params;if(n){let e=s.params;e||(e=this.options.params={}),Object.keys(n).forEach(i=>{t&&e.hasOwnProperty(i)||(e[i]=lm(n[i],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(e=>{i[e]=t[e]})}}return e}createSubContext(e=null,t,i){const s=t||this.element,n=new Im(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(e),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,n.parentContext=this,this.subContextCount++,n}transformIntoNewTimeline(e){return this.previousNode=Pm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},n=new Nm(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(n),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,s,n,r){let a=[];if(s&&a.push(this.element),e.length>0){e=(e=e.replace(Mm,"."+this._enterClassName)).replace(Lm,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=i);0!==i&&(t=i<0?t.slice(t.length+i,t.length):t.slice(0,i)),a.push(...t)}return n||0!=a.length||r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Om{constructor(e,t,i,s){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Om(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,s){t&&(this._previousKeyframe.easing=t);const n=s&&s.params||{},r=function(e,t){const i={};let s;return e.forEach(e=>{"*"===e?(s=s||Object.keys(t),s.forEach(e=>{i[e]="*"})):em(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(r).forEach(e=>{const t=lm(r[e],n,i);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],s=e._styleSummary[t];(!i||s.time>i.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((n,r)=>{const a=em(n,!0);Object.keys(a).forEach(i=>{const s=a[i];"!"==s?e.add(i):"*"==s&&t.add(i)}),i||(a.offset=r/this.duration),s.push(a)});const n=e.size?hm(e.values()):[],r=t.size?hm(t.values()):[];if(i){const e=s[0],t=Jp(e);e.offset=0,t.offset=1,s=[e,t]}return km(this.element,s,n,r,this.duration,this.startTime,this.easing,!1)}}class Nm extends Om{constructor(e,t,i,s,n,r,a=!1){super(e,t,r.delay),this.element=t,this.keyframes=i,this.preStyleProps=s,this.postStyleProps=n,this._stretchStartingKeyframe=a,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const n=[],r=i+t,a=t/r,o=em(e[0],!1);o.offset=0,n.push(o);const l=em(e[0],!1);l.offset=Vm(a),n.push(l);const h=e.length-1;for(let s=1;s<=h;s++){let a=em(e[s],!1);a.offset=Vm((t+a.offset*i)/r),n.push(a)}i=r,t=0,s="",e=n}return km(this.element,e,this.preStyleProps,this.postStyleProps,i,t,s,!0)}}function Vm(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class Fm{}class Bm extends Fm{normalizePropertyName(e,t){return dm(e)}normalizeStyleValue(e,t,i,s){let n="";const r=i.toString().trim();if(zm[t]&&0!==i&&"0"!==i)if("number"==typeof i)n="px";else{const t=i.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&s.push(`Please provide a CSS unit value for ${e}:${i}`)}return r+n}}const zm=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Hm(e,t,i,s,n,r,a,o,l,h,c,d,u){return{type:0,element:e,triggerName:t,isRemovalTransition:n,fromState:i,fromStyles:r,toState:s,toStyles:a,timelines:o,queriedElements:l,preStyleProps:h,postStyleProps:c,totalTime:d,errors:u}}const jm={};class Wm{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,s){return function(e,t,i,s,n){return e.some(e=>e(t,i,s,n))}(this.ast.matchers,e,t,i,s)}buildStyles(e,t,i){const s=this._stateStyles["*"],n=this._stateStyles[e],r=s?s.buildStyles(t,i):{};return n?n.buildStyles(t,i):r}build(e,t,i,s,n,r,a,o,l,h){const c=[],d=this.ast.options&&this.ast.options.params||jm,u=this.buildStyles(i,a&&a.params||jm,c),p=o&&o.params||jm,m=this.buildStyles(s,p,c),g=new Set,f=new Map,y=new Map,b="void"===s,v={params:Object.assign({},d,p)},w=h?[]:Tm(e,t,this.ast.animation,n,r,u,m,v,l,c);let x=0;if(w.forEach(e=>{x=Math.max(e.duration+e.delay,x)}),c.length)return Hm(t,this._triggerName,i,s,b,u,m,[],[],f,y,x,c);w.forEach(e=>{const i=e.element,s=Op(f,i,{});e.preStyleProps.forEach(e=>s[e]=!0);const n=Op(y,i,{});e.postStyleProps.forEach(e=>n[e]=!0),i!==t&&g.add(i)});const _=hm(g.values());return Hm(t,this._triggerName,i,s,b,u,m,w,_,f,y,x)}}class Ym{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const i={},s=Jp(this.defaultParams);return Object.keys(e).forEach(t=>{const i=e[t];null!=i&&(s[t]=i)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const n=e;Object.keys(n).forEach(e=>{let r=n[e];r.length>1&&(r=lm(r,s,t)),i[e]=r})}}),i}}class qm{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Ym(e.style,e.options&&e.options.params||{})}),Um(this.states,"true","1"),Um(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Wm(e,t,this.states))}),this.fallbackTransition=new Wm(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,s){return this.transitionFactories.find(n=>n.match(e,t,i,s))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Um(e,t,i){e.hasOwnProperty(t)?e.hasOwnProperty(i)||(e[i]=e[t]):e.hasOwnProperty(i)&&(e[t]=e[i])}const Gm=new Am;class Xm{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=xm(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,i){const s=e.element,n=Tp(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(s,n,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const s=[],n=this._animations[e];let r;const a=new Map;if(n?(r=Tm(this._driver,t,n,"ng-enter","ng-leave",{},{},i,Gm,s),r.forEach(e=>{const t=Op(a,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),r=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((e,t)=>{Object.keys(e).forEach(i=>{e[i]=this._driver.computeStyle(t,i,"*")})});const o=Lp(r.map(e=>{const t=a.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=o,o.onDestroy(()=>this.destroy(e)),this.players.push(o),o}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,s){const n=Ip(t,"","","");return Rp(this._getPlayer(e),i,n,s),()=>{}}command(e,t,i,s){if("register"==i)return void this.register(e,s[0]);if("create"==i)return void this.create(e,t,s[0]||{});const n=this._getPlayer(e);switch(i){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const Zm=[],$m={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Km={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Qm{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=null!=(s=i?e.value:e)?s:null,i){const t=Jp(e);delete t.value,this.options=t}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(i=>{null==e[i]&&(e[i]=t[i])})}}}const Jm=new Qm("void");class eg{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,og(t,this._hostClassName)}listen(e,t,i,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);var n;const r=Op(this._elementListeners,e,[]),a={name:t,phase:i,callback:s};r.push(a);const o=Op(this._engine.statesByElement,e,{});return o.hasOwnProperty(t)||(og(e,"ng-trigger"),og(e,"ng-trigger-"+t),o[t]=Jm),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(a);e>=0&&r.splice(e,1),this._triggers[t]||delete o[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,s=!0){const n=this._getTrigger(t),r=new ig(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(og(e,"ng-trigger"),og(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,a={}));let o=a[t];const l=new Qm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&o&&l.absorbOptions(o.options),a[t]=l,o||(o=Jm),"void"!==l.value&&o.value===l.value){if(!function(e,t){const i=Object.keys(e),s=Object.keys(t);if(i.length!=s.length)return!1;for(let n=0;n<i.length;n++){const s=i[n];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(o.params,l.params)){const t=[],i=n.matchStyles(o.value,o.params,t),s=n.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{nm(e,i),sm(e,s)})}return}const h=Op(this._engine.playersByElement,e,[]);h.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let c=n.matchTransition(o.value,l.value,e,l.params),d=!1;if(!c){if(!s)return;c=n.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:o,toState:l,player:r,isFallbackTransition:d}),d||(og(e,"ng-animate-queued"),r.onStart(()=>{lg(e,"ng-animate-queued")})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(r);e>=0&&i.splice(e,1)}}),this.players.push(r),h.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t,i=!1){this._engine.driver.query(e,".ng-trigger",!0).forEach(e=>{if(e.__ng_removed)return;const i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach(i=>i.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)})}triggerLeaveAnimation(e,t,i,s){const n=this._engine.statesByElement.get(e);if(n){const r=[];if(Object.keys(n).forEach(t=>{if(this._triggers[t]){const i=this.trigger(e,t,"void",s);i&&r.push(i)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&Lp(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const i=new Set;t.forEach(t=>{const s=t.name;if(i.has(s))return;i.add(s);const n=this._triggers[s].fallbackTransition,r=this._engine.statesByElement.get(e)[s]||Jm,a=new Qm("void"),o=new ig(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:n,fromState:r,toState:a,player:o,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(i.totalAnimations){const t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)s=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){s=!0;break}}}this.prepareLeaveAnimationListeners(e),s?i.markElementAsRemoved(this.id,e,!1,t):(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}insertNode(e,t){og(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const n=i.element,r=this._elementListeners.get(n);r&&r.forEach(t=>{if(t.name==i.triggerName){const s=Ip(n,i.triggerName,i.fromState.value,i.toState.value);s._data=e,Rp(i.player,t.phase,s,t.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(i)}),this._queue=[],t.sort((e,t)=>{const i=e.transition.ast.depCount,s=t.transition.ast.depCount;return 0==i||0==s?i-s:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class tg{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const i=new eg(e,t,this);return t.parentNode?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let n=i;n>=0;n--)if(this.driver.containsElement(this._namespaceList[n].hostElement,t)){this._namespaceList.splice(n+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let s=this._namespaceLookup[e];s&&s.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(i);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const e=Object.keys(i);for(let s=0;s<e.length;s++){const n=i[e[s]].namespaceId;if(n){const e=this._fetchNamespace(n);e&&t.add(e)}}}return t}trigger(e,t,i,s){if(sg(t)){const n=this._fetchNamespace(e);if(n)return n.trigger(t,i,s),!0}return!1}insertNode(e,t,i,s){if(!sg(t))return;const n=t.__ng_removed;if(n&&n.setForRemoval){n.setForRemoval=!1,n.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),og(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lg(e,"ng-animate-disabled"))}removeNode(e,t,i,s){if(sg(t)){const n=e?this._fetchNamespace(e):null;if(n?n.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),i){const i=this.namespacesByHostElement.get(t);i&&i.id!==e&&i.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,i,s){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,s,n){return sg(t)?this._fetchNamespace(e).listen(t,i,s,n):()=>{}}_buildInstruction(e,t,i,s,n){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,s,e.fromState.options,e.toState.options,t,n)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Lp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=$m,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)og(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Lp(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new Am,s=[],n=new Map,r=[],a=new Map,o=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(e=>{h.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let i=0;i<t.length;i++)h.add(t[i])});const c=this.bodyNode,d=Array.from(this.statesByElement.keys()),u=ag(d,this.collectedEnterElements),p=new Map;let m=0;u.forEach((e,t)=>{const i="ng-enter"+m++;p.set(t,i),e.forEach(e=>og(e,i))});const g=[],f=new Set,y=new Set;for(let L=0;L<this.collectedLeaveElements.length;L++){const e=this.collectedLeaveElements[L],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),f.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>f.add(e)):y.add(e))}const b=new Map,v=ag(d,Array.from(f));v.forEach((e,t)=>{const i="ng-leave"+m++;b.set(t,i),e.forEach(e=>og(e,i))}),e.push(()=>{u.forEach((e,t)=>{const i=p.get(t);e.forEach(e=>lg(e,i))}),v.forEach((e,t)=>{const i=b.get(t);e.forEach(e=>lg(e,i))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],x=[];for(let L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(t).forEach(e=>{const t=e.player,n=e.element;if(w.push(t),this.collectedEnterElements.length){const e=n.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const h=!c||!this.driver.containsElement(c,n),d=b.get(n),u=p.get(n),m=this._buildInstruction(e,i,u,d,h);if(!m.errors||!m.errors.length)return h?(t.onStart(()=>nm(n,m.fromStyles)),t.onDestroy(()=>sm(n,m.toStyles)),void s.push(t)):e.isFallbackTransition?(t.onStart(()=>nm(n,m.fromStyles)),t.onDestroy(()=>sm(n,m.toStyles)),void s.push(t)):(m.timelines.forEach(e=>e.stretchStartingKeyframe=!0),i.append(n,m.timelines),r.push({instruction:m,player:t,element:n}),m.queriedElements.forEach(e=>Op(a,e,[]).push(t)),m.preStyleProps.forEach((e,t)=>{const i=Object.keys(e);if(i.length){let e=o.get(t);e||o.set(t,e=new Set),i.forEach(t=>e.add(t))}}),void m.postStyleProps.forEach((e,t)=>{const i=Object.keys(e);let s=l.get(t);s||l.set(t,s=new Set),i.forEach(e=>s.add(e))}));x.push(m)});if(x.length){const e=[];x.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const _=new Map,S=new Map;r.forEach(e=>{const t=e.element;i.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,_))}),s.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Op(_,t,[]).push(e),e.destroy()})});const C=g.filter(e=>cg(e,o,l)),E=new Map;rg(E,this.driver,y,l,"*").forEach(e=>{cg(e,o,l)&&C.push(e)});const D=new Map;u.forEach((e,t)=>{rg(D,this.driver,new Set(e),o,"!")}),C.forEach(e=>{const t=E.get(e),i=D.get(e);E.set(e,Object.assign({},t,i))});const k=[],A=[],M={};r.forEach(e=>{const{element:t,player:r,instruction:a}=e;if(i.has(t)){if(h.has(t))return r.onDestroy(()=>sm(t,a.toStyles)),r.disabled=!0,r.overrideTotalTime(a.totalTime),void s.push(r);let e=M;if(S.size>1){let i=t;const s=[];for(;i=i.parentNode;){const t=S.get(i);if(t){e=t;break}s.push(i)}s.forEach(t=>S.set(t,e))}const i=this._buildAnimation(r.namespaceId,a,_,n,D,E);if(r.setRealPlayer(i),e===M)k.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=Lp(t)),s.push(r)}}else nm(t,a.fromStyles),r.onDestroy(()=>sm(t,a.toStyles)),A.push(r),h.has(t)&&s.push(r)}),A.forEach(e=>{const t=n.get(e.element);if(t&&t.length){const i=Lp(t);e.setRealPlayer(i)}}),s.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let L=0;L<g.length;L++){const e=g[L],t=e.__ng_removed;if(lg(e,"ng-leave"),t&&t.hasAnimation)continue;let i=[];if(a.size){let t=a.get(e);t&&t.length&&i.push(...t);let s=this.driver.query(e,".ng-animating",!0);for(let e=0;e<s.length;e++){let t=a.get(s[e]);t&&t.length&&i.push(...t)}}const s=i.filter(e=>!e.destroyed);s.length?hg(this,e,s):this.processLeaveNode(e)}return g.length=0,k.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),k}elementContainsData(e,t){let i=!1;const s=t.__ng_removed;return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,s,n){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!n||"void"==n;t.forEach(t=>{t.queued||(e||t.triggerName==s)&&r.push(t)})}}return(i||s)&&(r=r.filter(e=>!(i&&i!=e.namespaceId||s&&s!=e.triggerName))),r}_beforeAnimationBuild(e,t,i){const s=t.element,n=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const a of t.timelines){const e=a.element,o=e!==s,l=Op(i,e,[]);this._getPreviousPlayers(e,o,n,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}nm(s,t.fromStyles)}_buildAnimation(e,t,i,s,n,r){const a=t.triggerName,o=t.element,l=[],h=new Set,c=new Set,d=t.timelines.map(t=>{const d=t.element;h.add(d);const u=d.__ng_removed;if(u&&u.removedBeforeQueried)return new Ja(t.duration,t.delay);const p=d!==o,m=function(e){const t=[];return function e(t,i){for(let s=0;s<t.length;s++){const n=t[s];n instanceof eo?e(n.players,i):i.push(n)}}(e,t),t}((i.get(d)||Zm).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===d),g=n.get(d),f=r.get(d),y=Tp(0,this._normalizer,0,t.keyframes,g,f),b=this._buildPlayer(t,y,m);if(t.subTimeline&&s&&c.add(d),p){const t=new ig(e,a,d);t.setRealPlayer(b),l.push(t)}return b});l.forEach(e=>{Op(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,i){let s;if(e instanceof Map){if(s=e.get(t),s){if(s.length){const e=s.indexOf(i);s.splice(e,1)}0==s.length&&e.delete(t)}}else if(s=e[t],s){if(s.length){const e=s.indexOf(i);s.splice(e,1)}0==s.length&&delete e[t]}return s}(this.playersByQueriedElement,e.element,e))}),h.forEach(e=>og(e,"ng-animating"));const u=Lp(d);return u.onDestroy(()=>{h.forEach(e=>lg(e,"ng-animating")),sm(o,t.toStyles)}),c.forEach(e=>{Op(s,e,[]).push(u)}),u}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Ja(e.duration,e.delay)}}class ig{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Ja,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>Rp(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Op(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sg(e){return e&&1===e.nodeType}function ng(e,t){const i=e.style.display;return e.style.display=null!=t?t:"none",i}function rg(e,t,i,s,n){const r=[];i.forEach(e=>r.push(ng(e)));const a=[];s.forEach((i,s)=>{const r={};i.forEach(e=>{const i=r[e]=t.computeStyle(s,e,n);i&&0!=i.length||(s.__ng_removed=Km,a.push(s))}),e.set(s,r)});let o=0;return i.forEach(e=>ng(e,r[o++])),a}function ag(e,t){const i=new Map;if(e.forEach(e=>i.set(e,[])),0==t.length)return i;const s=new Set(t),n=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let r=n.get(t);if(r)return r;const a=t.parentNode;return r=i.has(a)?a:s.has(a)?1:e(a),n.set(t,r),r}(e);1!==t&&i.get(t).push(e)}),i}function og(e,t){if(e.classList)e.classList.add(t);else{let i=e.$$classes;i||(i=e.$$classes={}),i[t]=!0}}function lg(e,t){if(e.classList)e.classList.remove(t);else{let i=e.$$classes;i&&delete i[t]}}function hg(e,t,i){Lp(i).onDone(()=>e.processLeaveNode(t))}function cg(e,t,i){const s=i.get(e);if(!s)return!1;let n=t.get(e);return n?s.forEach(e=>n.add(e)):t.set(e,s),i.delete(e),!0}class dg{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new tg(e,t,i),this._timelineEngine=new Xm(e,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,s,n){const r=e+"-"+s;let a=this._triggerCache[r];if(!a){const e=[],t=xm(this._driver,n,e);if(e.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);a=function(e,t){return new qm(e,t)}(s,t),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(t,s,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,s){this._transitionEngine.insertNode(e,t,i,s)}onRemove(e,t,i,s){this._transitionEngine.removeNode(e,t,s||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,s){if("@"==i.charAt(0)){const[e,n]=Np(i);this._timelineEngine.command(e,t,n,s)}else this._transitionEngine.trigger(e,t,i,s)}listen(e,t,i,s,n){if("@"==i.charAt(0)){const[e,s]=Np(i);return this._timelineEngine.listen(e,t,s,n)}return this._transitionEngine.listen(e,t,i,s,n)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ug(e,t){let i=null,s=null;return Array.isArray(t)&&t.length?(i=mg(t[0]),t.length>1&&(s=mg(t[t.length-1]))):t&&(i=mg(t)),i||s?new pg(e,i,s):null}let pg=(()=>{class e{constructor(t,i,s){this._element=t,this._startStyles=i,this._endStyles=s,this._state=0;let n=e.initialStylesByElement.get(t);n||e.initialStylesByElement.set(t,n={}),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&sm(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sm(this._element,this._initialStyles),this._endStyles&&(sm(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(nm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nm(this._element,this._endStyles),this._endStyles=null),sm(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function mg(e){let t=null;const i=Object.keys(e);for(let s=0;s<i.length;s++){const n=i[s];gg(n)&&(t=t||{},t[n]=e[n])}return t}function gg(e){return"display"===e||"position"===e}class fg{constructor(e,t,i,s,n,r,a){this._element=e,this._name=t,this._duration=i,this._delay=s,this._easing=n,this._fillMode=r,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const i=_g(e,"").trim();i.length&&(function(e,t){let i=0;for(let s=0;s<e.length;s++)","===e.charAt(s)&&i++}(i),t=`${i}, ${t}`),xg(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),wg(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){yg(this._element,this._name,"paused")}resume(){yg(this._element,this._name,"running")}setPosition(e){const t=bg(this._element,this._name);this._position=e*this._duration,xg(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),wg(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const i=_g(e,"").split(","),s=vg(i,t);s>=0&&(i.splice(s,1),xg(e,"",i.join(",")))}(this._element,this._name))}}function yg(e,t,i){xg(e,"PlayState",i,bg(e,t))}function bg(e,t){const i=_g(e,"");return i.indexOf(",")>0?vg(i.split(","),t):vg([i],t)}function vg(e,t){for(let i=0;i<e.length;i++)if(e[i].indexOf(t)>=0)return i;return-1}function wg(e,t,i){i?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function xg(e,t,i,s){const n="animation"+t;if(null!=s){const t=e.style[n];if(t.length){const e=t.split(",");e[s]=i,i=e.join(",")}}e.style[n]=i}function _g(e,t){return e.style["animation"+t]}class Sg{constructor(e,t,i,s,n,r,a,o){this.element=e,this.keyframes=t,this.animationName=i,this._duration=s,this._delay=n,this._finalStyles=a,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=s+n,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new fg(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:gm(this.element,i))})}this.currentSnapshot=e}}class Cg extends Ja{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Gp(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Eg{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return Wp(e)}matchesElement(e,t){return Yp(e,t)}containsElement(e,t){return qp(e,t)}query(e,t,i){return Up(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(e=>Gp(e));let s=`@keyframes ${t} {\n`,n="";i.forEach(e=>{n=" ";const t=parseFloat(e.offset);s+=`${n}${100*t}% {\n`,n+=" ",Object.keys(e).forEach(t=>{const i=e[t];switch(t){case"offset":return;case"easing":return void(i&&(s+=`${n}animation-timing-function: ${i};\n`));default:return void(s+=`${n}${t}: ${i};\n`)}}),s+=`${n}}\n`}),s+="}\n";const r=document.createElement("style");return r.innerHTML=s,r}animate(e,t,i,s,n,r=[],a){a&&this._notifyFaultyScrubber();const o=r.filter(e=>e instanceof Sg),l={};um(i,s)&&o.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const h=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(i=>{"offset"!=i&&"easing"!=i&&(t[i]=e[i])})}),t}(t=pm(e,t,l));if(0==i)return new Cg(e,h);const c=`gen_css_kf_${this._count++}`,d=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(d);const u=ug(e,t),p=new Sg(e,t,c,i,s,n,h,u);return p.onDestroy(()=>{var e;(e=d).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Dg{constructor(e,t,i,s){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:gm(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class kg{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ag().toString()),this._cssKeyframesDriver=new Eg}validateStyleProperty(e){return Wp(e)}matchesElement(e,t){return Yp(e,t)}containsElement(e,t){return qp(e,t)}query(e,t,i){return Up(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,s,n,r=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,s,n,r);const o={duration:i,delay:s,fill:0==s?"both":"forwards"};n&&(o.easing=n);const l={},h=r.filter(e=>e instanceof Dg);um(i,s)&&h.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=ug(e,t=pm(e,t=t.map(e=>em(e,!1)),l));return new Dg(e,t,o,c)}}function Ag(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Mg extends Za{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:Ne.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?$a(e):e;return Rg(this._renderer,null,t,"register",[i]),new Lg(t,this._renderer)}}class Lg extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Tg(this._id,e,t||{},this._renderer)}}class Tg{constructor(e,t,i,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Rg(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function Rg(e,t,i,s,n){return e.setProperty(t,`@@${i}:${s}`,n)}class Pg{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(i);return e||(e=new Ig("",i,this.engine),this._rendererCache.set(i,e)),e}const s=t.id,n=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(n,e),t.data.animation.forEach(t=>this.engine.registerTrigger(s,n,e,t.name,t)),new Og(this,n,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){e>=0&&e<this._microtaskId?this._zone.run(()=>t(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,i]=e;t(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Ig{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Og extends Ig{constructor(e,t,i,s){super(t,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let n=t.substr(1),r="";return"@"!=n.charAt(0)&&([n,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(n)),this.engine.listen(this.namespaceId,s,n,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,i,e)})}return this.delegate.listen(e,t,i)}}class Ng extends dg{constructor(e,t,i){super(e.body,t,i)}}function Vg(){return"function"==typeof Ag()?new kg:new Eg}function Fg(){return new Bm}function Bg(e,t,i){return new Pg(e,t,i)}const zg=new _e("AnimationModuleType");class Hg{}var jg=Fi({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Wg(e){return zr(2,[Mr(671088640,1,{ripple:0}),(e()(),Cr(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Ir(null,0),(e()(),Cr(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),Gs(4,212992,[[1,4]],0,gc,[Zt,qn,jl,[2,mc],[2,zg]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(e()(),Cr(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(e,t){var i=t.component;e(t,4,0,i.isIconButton,i._isRippleDisabled(),i._getHostElement())}),(function(e,t){var i=t.component;e(t,3,0,i.isRoundButton||i.isIconButton,Is(t,4).unbounded)}))}var Yg=Fi({encapsulation:2,styles:[],data:{}});function qg(e){return zr(2,[(e()(),Cr(0,0,null,null,12,"div",[["class","mat-calendar-header"]],null,null,null,null,null)),(e()(),Cr(1,0,null,null,11,"div",[["class","mat-calendar-controls"]],null,null,null,null,null)),(e()(),Cr(2,0,null,null,4,"button",[["cdkAriaLive","polite"],["class","mat-calendar-period-button"],["mat-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,i){var s=!0;return"click"===t&&(s=!1!==e.component.currentPeriodClicked()&&s),s}),Wg,jg)),Gs(3,180224,null,0,kp,[Zt,Ph,[2,zg]],null,null),Gs(4,147456,null,0,Th,[Zt,Lh,xp,qn],{politeness:[0,"politeness"]},null),(e()(),Vr(5,0,["",""])),(e()(),Cr(6,0,null,0,0,"div",[["class","mat-calendar-arrow"]],[[2,"mat-calendar-invert",null]],null,null,null,null)),(e()(),Cr(7,0,null,null,0,"div",[["class","mat-calendar-spacer"]],null,null,null,null,null)),Ir(null,0),(e()(),Cr(9,0,null,null,1,"button",[["class","mat-calendar-previous-button"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,i){var s=!0;return"click"===t&&(s=!1!==e.component.previousClicked()&&s),s}),Wg,jg)),Gs(10,180224,null,0,kp,[Zt,Ph,[2,zg]],{disabled:[0,"disabled"]},null),(e()(),Cr(11,0,null,null,1,"button",[["class","mat-calendar-next-button"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,i){var s=!0;return"click"===t&&(s=!1!==e.component.nextClicked()&&s),s}),Wg,jg)),Gs(12,180224,null,0,kp,[Zt,Ph,[2,zg]],{disabled:[0,"disabled"]},null)],(function(e,t){var i=t.component;e(t,4,0,"polite"),e(t,10,0,!i.previousEnabled()),e(t,12,0,!i.nextEnabled())}),(function(e,t){var i=t.component;e(t,2,0,i.periodButtonLabel,Is(t,3).disabled||null,"NoopAnimations"===Is(t,3)._animationMode),e(t,5,0,i.periodButtonText),e(t,6,0,"month"!=i.calendar.currentView),e(t,9,0,i.prevButtonLabel,Is(t,10).disabled||null,"NoopAnimations"===Is(t,10)._animationMode),e(t,11,0,i.nextButtonLabel,Is(t,12).disabled||null,"NoopAnimations"===Is(t,12)._animationMode)}))}function Ug(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"mat-calendar-header",[],null,null,null,qg,Yg)),Gs(1,49152,null,0,up,[sp,pp,[2,qh],[2,Uh],vt],null,null)],null,null)}var Gg=Ss("mat-calendar-header",up,Ug,{},{},["*"]),Xg=Fi({encapsulation:2,styles:[".mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}"],data:{}});function Zg(e){return zr(0,[(e()(),Sr(0,null,null,0))],null,null)}function $g(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"mat-month-view",[],null,[[null,"activeDateChange"],[null,"selectedChange"],[null,"_userSelection"]],(function(e,t,i){var s=!0,n=e.component;return"activeDateChange"===t&&(s=!1!==(n.activeDate=i)&&s),"selectedChange"===t&&(s=!1!==n._dateSelected(i)&&s),"_userSelection"===t&&(s=!1!==n._userSelected()&&s),s}),pf,df)),Gs(1,1097728,[[1,4]],0,ap,[vt,[2,Uh],[2,qh],[2,Ld]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"],dateClass:[5,"dateClass"]},{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"})],(function(e,t){var i=t.component;e(t,1,0,i.activeDate,i.selected,i.minDate,i.maxDate,i.dateFilter,i.dateClass)}),null)}function Kg(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"mat-year-view",[],null,[[null,"activeDateChange"],[null,"monthSelected"],[null,"selectedChange"]],(function(e,t,i){var s=!0,n=e.component;return"activeDateChange"===t&&(s=!1!==(n.activeDate=i)&&s),"monthSelected"===t&&(s=!1!==n._monthSelectedInYearView(i)&&s),"selectedChange"===t&&(s=!1!==n._goToDateInView(i,"month")&&s),s}),gf,mf)),Gs(1,1097728,[[2,4]],0,dp,[vt,[2,Uh],[2,qh],[2,Ld]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"})],(function(e,t){var i=t.component;e(t,1,0,i.activeDate,i.selected,i.minDate,i.maxDate,i.dateFilter)}),null)}function Qg(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"mat-multi-year-view",[],null,[[null,"activeDateChange"],[null,"yearSelected"],[null,"selectedChange"]],(function(e,t,i){var s=!0,n=e.component;return"activeDateChange"===t&&(s=!1!==(n.activeDate=i)&&s),"yearSelected"===t&&(s=!1!==n._yearSelectedInMultiYearView(i)&&s),"selectedChange"===t&&(s=!1!==n._goToDateInView(i,"year")&&s),s}),yf,ff)),Gs(1,1097728,[[3,4]],0,op,[vt,[2,qh],[2,Ld]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"})],(function(e,t){var i=t.component;e(t,1,0,i.activeDate,i.selected,i.minDate,i.maxDate,i.dateFilter)}),null)}function Jg(e){return zr(2,[Mr(671088640,1,{monthView:0}),Mr(671088640,2,{yearView:0}),Mr(671088640,3,{multiYearView:0}),(e()(),Sr(16777216,null,null,1,null,Zg)),Gs(4,212992,null,0,Dc,[qt,xi],{portal:[0,"portal"]},null),(e()(),Cr(5,0,null,null,8,"div",[["cdkMonitorSubtreeFocus",""],["class","mat-calendar-content"],["tabindex","-1"]],null,null,null,null,null)),Gs(6,16384,null,0,wo,[],{ngSwitch:[0,"ngSwitch"]},null),Gs(7,147456,null,0,Ih,[Zt,Ph],null,null),(e()(),Sr(16777216,null,null,1,null,$g)),Gs(9,278528,null,0,xo,[xi,vi,wo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Sr(16777216,null,null,1,null,Kg)),Gs(11,278528,null,0,xo,[xi,vi,wo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Sr(16777216,null,null,1,null,Qg)),Gs(13,278528,null,0,xo,[xi,vi,wo],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var i=t.component;e(t,4,0,i._calendarHeaderPortal),e(t,6,0,i.currentView),e(t,9,0,"month"),e(t,11,0,"year"),e(t,13,0,"multi-year")}),null)}var ef=Fi({encapsulation:2,styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.71429%;padding-right:4.71429%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}@media (-ms-high-contrast:active){.mat-calendar-body-cell-content{border:none}}@media (-ms-high-contrast:active){.mat-calendar-body-selected,.mat-datepicker-popup:not(:empty){outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}}[dir=rtl] .mat-calendar-body-label{text-align:right}"],data:{}});function tf(e){return zr(0,[(e()(),Cr(0,0,null,null,2,"tr",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Cr(1,0,null,null,1,"td",[["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(e()(),Vr(2,null,["",""]))],null,(function(e,t){var i=t.component;e(t,1,0,i.numCols,i._cellPadding,i._cellPadding),e(t,2,0,i.label)}))}function sf(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"td",[["aria-hidden","true"],["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(e()(),Vr(1,null,["",""]))],null,(function(e,t){var i=t.component;e(t,0,0,i._firstRowOffset,i._cellPadding,i._cellPadding),e(t,1,0,i._firstRowOffset>=i.labelMinRequiredCells?i.label:"")}))}function nf(e){return zr(0,[(e()(),Cr(0,0,null,null,4,"td",[["class","mat-calendar-body-cell"],["role","button"]],[[8,"tabIndex",0],[2,"mat-calendar-body-disabled",null],[2,"mat-calendar-body-active",null],[1,"aria-label",0],[1,"aria-disabled",0],[1,"aria-selected",0],[4,"width",null],[4,"paddingTop",null],[4,"paddingBottom",null]],[[null,"click"]],(function(e,t,i){var s=!0;return"click"===t&&(s=!1!==e.component._cellClicked(e.context.$implicit)&&s),s}),null,null)),Zs(512,null,lo,ho,[mi,gi,Zt,ei]),Gs(2,278528,null,0,uo,[lo],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Cr(3,0,null,null,1,"div",[["class","mat-calendar-body-cell-content"]],[[2,"mat-calendar-body-selected",null],[2,"mat-calendar-body-today",null]],null,null,null,null)),(e()(),Vr(4,null,["",""]))],(function(e,t){e(t,2,0,"mat-calendar-body-cell",t.context.$implicit.cssClasses)}),(function(e,t){var i=t.component;e(t,0,0,i._isActiveCell(t.parent.context.index,t.context.index)?0:-1,!t.context.$implicit.enabled,i._isActiveCell(t.parent.context.index,t.context.index),t.context.$implicit.ariaLabel,!t.context.$implicit.enabled||null,i.selectedValue===t.context.$implicit.value,i._cellWidth,i._cellPadding,i._cellPadding),e(t,3,0,i.selectedValue===t.context.$implicit.value,i.todayValue===t.context.$implicit.value),e(t,4,0,t.context.$implicit.displayValue)}))}function rf(e){return zr(0,[(e()(),Cr(0,0,null,null,4,"tr",[["role","row"]],null,null,null,null,null)),(e()(),Sr(16777216,null,null,1,null,sf)),Gs(2,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null),(e()(),Sr(16777216,null,null,1,null,nf)),Gs(4,278528,null,0,mo,[xi,vi,mi],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,0===t.context.index&&t.component._firstRowOffset),e(t,4,0,t.context.$implicit)}),null)}function af(e){return zr(2,[(e()(),Sr(16777216,null,null,1,null,tf)),Gs(1,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null),(e()(),Sr(16777216,null,null,1,null,rf)),Gs(3,278528,null,0,mo,[xi,vi,mi],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var i=t.component;e(t,1,0,i._firstRowOffset<i.labelMinRequiredCells),e(t,3,0,i.rows)}),null)}var of=Fi({encapsulation:2,styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation:landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation:portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}"],data:{animation:[{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(1, 0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1, 1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms linear"},options:null}],options:{}},{type:7,name:"fadeInCalendar",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"},options:null}],options:{}}]}});function lf(e){return zr(2,[Mr(671088640,1,{_calendar:0}),(e()(),Cr(1,0,null,null,4,"mat-calendar",[["cdkTrapFocus",""],["class","mat-calendar"]],[[8,"id",0],[24,"@fadeInCalendar",0]],[[null,"selectedChange"],[null,"yearSelected"],[null,"monthSelected"],[null,"_userSelection"]],(function(e,t,i){var s=!0,n=e.component;return"selectedChange"===t&&(s=!1!==n.datepicker.select(i)&&s),"yearSelected"===t&&(s=!1!==n.datepicker._selectYear(i)&&s),"monthSelected"===t&&(s=!1!==n.datepicker._selectMonth(i)&&s),"_userSelection"===t&&(s=!1!==n.datepicker.close()&&s),s}),Jg,Xg)),Zs(512,null,lo,ho,[mi,gi,Zt,ei]),Gs(3,278528,null,0,uo,[lo],{ngClass:[0,"ngClass"]},null),Gs(4,1458176,null,0,kh,[Zt,Dh,Lo],{enabled:[0,"enabled"]},null),Gs(5,10141696,[[1,4]],0,pp,[sp,[2,qh],[2,Uh],vt],{headerComponent:[0,"headerComponent"],startAt:[1,"startAt"],startView:[2,"startView"],selected:[3,"selected"],minDate:[4,"minDate"],maxDate:[5,"maxDate"],dateFilter:[6,"dateFilter"],dateClass:[7,"dateClass"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"})],(function(e,t){var i=t.component;e(t,3,0,i.datepicker.panelClass),e(t,4,0,""),e(t,5,0,i.datepicker.calendarHeaderComponent,i.datepicker.startAt,i.datepicker.startView,i.datepicker._selected,i.datepicker._minDate,i.datepicker._maxDate,i.datepicker._dateFilter,i.datepicker.dateClass)}),(function(e,t){e(t,1,0,t.component.datepicker.id,"enter")}))}function hf(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"mat-datepicker-content",[["class","mat-datepicker-content"]],[[40,"@transformPanel",0],[2,"mat-datepicker-content-touch",null]],null,null,lf,of)),Gs(1,4243456,null,0,bp,[Zt],null,null)],null,(function(e,t){e(t,0,0,"enter",Is(t,1).datepicker.touchUi)}))}var cf=Ss("mat-datepicker-content",bp,hf,{color:"color"},{},[]),df=Fi({encapsulation:2,styles:[],data:{}});function uf(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"th",[["scope","col"]],[[1,"aria-label",0]],null,null,null,null)),(e()(),Vr(1,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.$implicit.long),e(t,1,0,t.context.$implicit.narrow)}))}function pf(e){return zr(2,[Mr(671088640,1,{_matCalendarBody:0}),(e()(),Cr(1,0,null,null,8,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Cr(2,0,null,null,5,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),Cr(3,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Sr(16777216,null,null,1,null,uf)),Gs(5,278528,null,0,mo,[xi,vi,mi],{ngForOf:[0,"ngForOf"]},null),(e()(),Cr(6,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Cr(7,0,null,null,0,"th",[["aria-hidden","true"],["class","mat-calendar-table-header-divider"],["colspan","7"]],null,null,null,null,null)),(e()(),Cr(8,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(e,t,i){var s=!0,n=e.component;return"selectedValueChange"===t&&(s=!1!==n._dateSelected(i)&&s),"keydown"===t&&(s=!1!==n._handleCalendarBodyKeydown(i)&&s),s}),af,ef)),Gs(9,573440,[[1,4]],0,rp,[Zt,qn],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],activeCell:[5,"activeCell"]},{selectedValueChange:"selectedValueChange"})],(function(e,t){var i=t.component;e(t,5,0,i._weekdays),e(t,9,0,i._monthLabel,i._weeks,i._todayDate,i._selectedDate,3,i._dateAdapter.getDate(i.activeDate)-1)}),null)}var mf=Fi({encapsulation:2,styles:[],data:{}});function gf(e){return zr(2,[Mr(671088640,1,{_matCalendarBody:0}),(e()(),Cr(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Cr(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),Cr(3,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Cr(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(e()(),Cr(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(e,t,i){var s=!0,n=e.component;return"selectedValueChange"===t&&(s=!1!==n._monthSelected(i)&&s),"keydown"===t&&(s=!1!==n._handleCalendarBodyKeydown(i)&&s),s}),af,ef)),Gs(6,573440,[[1,4]],0,rp,[Zt,qn],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],numCols:[5,"numCols"],activeCell:[6,"activeCell"],cellAspectRatio:[7,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],(function(e,t){var i=t.component;e(t,6,0,i._yearLabel,i._months,i._todayMonth,i._selectedMonth,2,4,i._dateAdapter.getMonth(i.activeDate),4/7)}),null)}var ff=Fi({encapsulation:2,styles:[],data:{}});function yf(e){return zr(2,[Mr(671088640,1,{_matCalendarBody:0}),(e()(),Cr(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Cr(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(e()(),Cr(3,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Cr(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(e()(),Cr(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],(function(e,t,i){var s=!0,n=e.component;return"selectedValueChange"===t&&(s=!1!==n._yearSelected(i)&&s),"keydown"===t&&(s=!1!==n._handleCalendarBodyKeydown(i)&&s),s}),af,ef)),Gs(6,573440,[[1,4]],0,rp,[Zt,qn],{rows:[0,"rows"],todayValue:[1,"todayValue"],selectedValue:[2,"selectedValue"],numCols:[3,"numCols"],activeCell:[4,"activeCell"],cellAspectRatio:[5,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],(function(e,t){var i=t.component;e(t,6,0,i._years,i._todayYear,i._selectedYear,4,i._getActiveCell(),4/7)}),null)}const bf=new _e("mat-tooltip-scroll-strategy");function vf(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}class wf{constructor(e,t){this._changeDetectorRef=e,this._breakpointObserver=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new E,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(e){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},e)}hide(e){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},e)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}class xf{}var _f=Fi({encapsulation:2,styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"initial, void, hidden",styles:{type:6,styles:{opacity:0,transform:"scale(0)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"scale(0)",offset:0},offset:null},{type:6,styles:{opacity:.5,transform:"scale(0.99)",offset:.5},offset:null},{type:6,styles:{opacity:1,transform:"scale(1)",offset:1},offset:null}]},timings:"200ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms cubic-bezier(0, 0, 0.2, 1)"},options:null}],options:{}}]}});function Sf(e){return zr(2,[(e()(),Cr(0,0,null,null,4,"div",[["class","mat-tooltip"]],[[2,"mat-tooltip-handset",null],[24,"@state",0]],[[null,"@state.start"],[null,"@state.done"]],(function(e,t,i){var s=!0,n=e.component;return"@state.start"===t&&(s=!1!==n._animationStart()&&s),"@state.done"===t&&(s=!1!==n._animationDone(i)&&s),s}),null,null)),Zs(512,null,lo,ho,[mi,gi,Zt,ei]),Gs(2,278528,null,0,uo,[lo],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xs(131072,Do,[vt]),(e()(),Vr(4,null,["",""]))],(function(e,t){e(t,2,0,"mat-tooltip",t.component.tooltipClass)}),(function(e,t){var i,s=t.component;e(t,0,0,null==(i=Vi(t,0,0,Is(t,3).transform(s._isHandset)))?null:i.matches,s._visibility),e(t,4,0,s.message)}))}function Cf(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"mat-tooltip-component",[["aria-hidden","true"]],[[4,"zoom",null]],[["body","click"]],(function(e,t,i){var s=!0;return"body:click"===t&&(s=!1!==Is(e,1)._handleBodyInteraction()&&s),s}),Sf,_f)),Gs(1,180224,null,0,wf,[vt,Hc],null,null)],null,(function(e,t){e(t,0,0,"visible"===Is(t,1)._visibility?1:null)}))}var Ef=Ss("mat-tooltip-component",wf,Cf,{},{},[]);class Df{constructor(e,t){this._overlayRef=t,this._afterDismissed=new E,this._afterOpened=new E,this._onAction=new E,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),e)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const kf=new _e("MatSnackBarData");class Af{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}class Mf{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}class Lf extends Cc{constructor(e,t,i,s){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=i,this.snackBarConfig=s,this._destroyed=!1,this._onExit=new E,this._onEnter=new E,this._animationState="void",this._role="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?null:"status":"alert"}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:t,toState:i}=e;if(("void"===i&&"void"!==t||"hidden"===i)&&this._completeExit(),"visible"===i){const e=this._onEnter;this._ngZone.run(()=>{e.next(),e.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(vh(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(t=>e.classList.add(t)):e.classList.add(t)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}class Tf{}var Rf=Fi({encapsulation:2,styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"scale(0.8)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}});function Pf(e){return zr(0,[(e()(),Sr(0,null,null,0))],null,null)}function If(e){return zr(0,[Mr(402653184,1,{_portalOutlet:0}),(e()(),Sr(16777216,null,null,1,null,Pf)),Gs(2,212992,[[1,4]],0,Dc,[qt,xi],{portal:[0,"portal"]},null)],(function(e,t){e(t,2,0,"")}),null)}function Of(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"snack-bar-container",[["class","mat-snack-bar-container"]],[[1,"role",0],[40,"@state",0]],[["component","@state.done"]],(function(e,t,i){var s=!0;return"component:@state.done"===t&&(s=!1!==Is(e,1).onAnimationEnd(i)&&s),s}),If,Rf)),Gs(1,180224,null,0,Lf,[qn,Zt,vt,Af],null,null)],null,(function(e,t){e(t,0,0,Is(t,1)._role,Is(t,1)._animationState)}))}var Nf=Ss("snack-bar-container",Lf,Of,{},{},[]),Vf=Fi({encapsulation:2,styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],data:{}});function Ff(e){return zr(0,[(e()(),Cr(0,0,null,null,3,"div",[["class","mat-simple-snackbar-action"]],null,null,null,null,null)),(e()(),Cr(1,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,i){var s=!0;return"click"===t&&(s=!1!==e.component.action()&&s),s}),Wg,jg)),Gs(2,180224,null,0,kp,[Zt,Ph,[2,zg]],null,null),(e()(),Vr(3,0,["",""]))],null,(function(e,t){var i=t.component;e(t,1,0,Is(t,2).disabled||null,"NoopAnimations"===Is(t,2)._animationMode),e(t,3,0,i.data.action)}))}function Bf(e){return zr(2,[(e()(),Cr(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Vr(1,null,["",""])),(e()(),Sr(16777216,null,null,1,null,Ff)),Gs(3,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.hasAction)}),(function(e,t){e(t,1,0,t.component.data.message)}))}function zf(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"simple-snack-bar",[["class","mat-simple-snackbar"]],null,null,null,Bf,Vf)),Gs(1,49152,null,0,Mf,[Df,kf],null,null)],null,null)}var Hf=Ss("simple-snack-bar",Mf,zf,{},{},[]);const jf=new _e("mat-checkbox-click-action");let Wf=0;const Yf=function(){var e={Init:0,Checked:1,Unchecked:2,Indeterminate:3};return e[e.Init]="Init",e[e.Checked]="Checked",e[e.Unchecked]="Unchecked",e[e.Indeterminate]="Indeterminate",e}();class qf{}class Uf{constructor(e){this._elementRef=e}}const Gf=jh(zh(Hh(Bh(Uf)),"accent"));class Xf extends Gf{constructor(e,t,i,s,n,r,a){super(e),this._changeDetectorRef=t,this._focusMonitor=i,this._ngZone=s,this._clickAction=r,this._animationMode=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId=`mat-checkbox-${++Wf}`,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new fn,this.indeterminateChange=new fn,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Yf.Init,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this.tabIndex=parseInt(n)||0,this._focusMonitor.monitor(e,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),t.markForCheck()})})}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Nl(e)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const t=Nl(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const t=e!=this._indeterminate;this._indeterminate=e,t&&(this._transitionCheckState(this._indeterminate?Yf.Indeterminate:this.checked?Yf.Checked:Yf.Unchecked),this.indeterminateChange.emit(this._indeterminate))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let t=this._currentCheckState,i=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const e=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(e)},1e3)})}}_emitChangeEvent(){const e=new qf;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)}toggle(){this.checked=!this.checked}_onInputClick(e){e.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?Yf.Checked:Yf.Unchecked),this._emitChangeEvent())}focus(e="keyboard",t){this._focusMonitor.focusVia(this._inputElement,e,t)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,t){if("NoopAnimations"===this._animationMode)return"";let i="";switch(e){case Yf.Init:if(t===Yf.Checked)i="unchecked-checked";else{if(t!=Yf.Indeterminate)return"";i="unchecked-indeterminate"}break;case Yf.Unchecked:i=t===Yf.Checked?"unchecked-checked":"unchecked-indeterminate";break;case Yf.Checked:i=t===Yf.Unchecked?"checked-unchecked":"checked-indeterminate";break;case Yf.Indeterminate:i=t===Yf.Checked?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${i}`}}class Zf{}class $f{}var Kf=Fi({encapsulation:2,styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.91026}50%{animation-timing-function:cubic-bezier(0,0,.2,.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0,0,0,1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(.4,0,1,1);stroke-dashoffset:0}to{stroke-dashoffset:-22.91026}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}100%,32.8%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0,0,.2,.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}@media (-ms-high-contrast:active){.mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0,0,.2,.1),opacity 90ms cubic-bezier(0,0,.2,.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media (hover:none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.91026;stroke-dasharray:22.91026;stroke-width:2.13333px}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0);border-radius:2px}@media (-ms-high-contrast:active){.mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0s mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0s mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:.3s linear 0s mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}"],data:{}});function Qf(e){return zr(2,[Mr(671088640,1,{_inputElement:0}),Mr(671088640,2,{ripple:0}),(e()(),Cr(2,0,[["label",1]],null,16,"label",[["class","mat-checkbox-layout"]],[[1,"for",0]],null,null,null,null)),(e()(),Cr(3,0,null,null,10,"div",[["class","mat-checkbox-inner-container"]],[[2,"mat-checkbox-inner-container-no-side-margin",null]],null,null,null,null)),(e()(),Cr(4,0,[[1,0],["input",1]],null,0,"input",[["class","mat-checkbox-input cdk-visually-hidden"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"checked",0],[1,"value",0],[8,"disabled",0],[1,"name",0],[8,"tabIndex",0],[8,"indeterminate",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-checked",0]],[[null,"change"],[null,"click"]],(function(e,t,i){var s=!0,n=e.component;return"change"===t&&(s=!1!==n._onInteractionEvent(i)&&s),"click"===t&&(s=!1!==n._onInputClick(i)&&s),s}),null,null)),(e()(),Cr(5,0,null,null,3,"div",[["class","mat-checkbox-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),Gs(6,212992,[[2,4]],0,gc,[Zt,qn,jl,[2,mc],[2,zg]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),Nr(7,{enterDuration:0}),(e()(),Cr(8,0,null,null,0,"div",[["class","mat-ripple-element mat-checkbox-persistent-ripple"]],null,null,null,null,null)),(e()(),Cr(9,0,null,null,0,"div",[["class","mat-checkbox-frame"]],null,null,null,null,null)),(e()(),Cr(10,0,null,null,3,"div",[["class","mat-checkbox-background"]],null,null,null,null,null)),(e()(),Cr(11,0,null,null,1,":svg:svg",[[":xml:space","preserve"],["class","mat-checkbox-checkmark"],["focusable","false"],["version","1.1"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(e()(),Cr(12,0,null,null,0,":svg:path",[["class","mat-checkbox-checkmark-path"],["d","M4.1,12.7 9,17.6 20.3,6.3"],["fill","none"],["stroke","white"]],null,null,null,null,null)),(e()(),Cr(13,0,null,null,0,"div",[["class","mat-checkbox-mixedmark"]],null,null,null,null,null)),(e()(),Cr(14,0,[["checkboxLabel",1]],null,4,"span",[["class","mat-checkbox-label"]],null,[[null,"cdkObserveContent"]],(function(e,t,i){var s=!0;return"cdkObserveContent"===t&&(s=!1!==e.component._onLabelTextChange()&&s),s}),null,null)),Gs(15,1196032,null,0,_p,[xp,Zt,qn],null,{event:"cdkObserveContent"}),(e()(),Cr(16,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(e()(),Vr(-1,null,["\xa0"])),Ir(null,0)],(function(e,t){var i=t.component,s=e(t,7,0,150);e(t,6,0,!0,20,s,i._isRippleDisabled(),Is(t,2))}),(function(e,t){var i=t.component;e(t,2,0,i.inputId),e(t,3,0,!Is(t,14).textContent||!Is(t,14).textContent.trim()),e(t,4,1,[i.inputId,i.required,i.checked,i.value,i.disabled,i.name,i.tabIndex,i.indeterminate,i.ariaLabel||null,i.ariaLabelledby,i._getAriaChecked()]),e(t,5,0,Is(t,6).unbounded)}))}function Jf(e){throw Error(`A drawer was already declared for 'position="${e}"'`)}const ey=new _e("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}});class ty extends class{constructor(e,t,i,s){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=i,this.dir=s,this._destroyed=new E,this._elementScrolled=new v(e=>this.ngZone.runOutsideAngular(()=>Wc(this.elementRef.nativeElement,"scroll").pipe(Ic(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;e.left=null==e.left?i?e.end:e.start:e.left,e.right=null==e.right?i?e.start:e.end:e.right,null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),i&&Kl()!=Xl.NORMAL?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),Kl()==Xl.INVERTED?e.left=e.right:Kl()==Xl.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t=this.elementRef.nativeElement;if("top"==e)return t.scrollTop;if("bottom"==e)return t.scrollHeight-t.clientHeight-t.scrollTop;const i=this.dir&&"rtl"==this.dir.value;return"start"==e?e=i?"right":"left":"end"==e&&(e=i?"left":"right"),i&&Kl()==Xl.INVERTED?"left"==e?t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft:i&&Kl()==Xl.NEGATED?"left"==e?t.scrollLeft+t.scrollWidth-t.clientWidth:-t.scrollLeft:"left"==e?t.scrollLeft:t.scrollWidth-t.clientWidth-t.scrollLeft}}{constructor(e,t,i,s,n){super(i,s,n),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}class iy{constructor(e,t,i,s,n,r){var a;this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=i,this._platform=s,this._ngZone=n,this._doc=r,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new E,this._animationEnd=new E,this._animationState="void",this.openedChange=new fn(!0),this._destroyed=new E,this.onPositionChanged=new fn,this._modeChanged=new E,this._opened=!1,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._isFocusTrapEnabled&&this._focusTrap&&this._trapFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Wc(this._elementRef.nativeElement,"keydown").pipe(mh(e=>27===e.keyCode&&!this.disableClose&&!nh(e)),Ic(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()}))}),this._animationEnd.pipe((a=(e,t)=>e.fromState===t.fromState&&e.toState===t.toState,e=>e.lift(new Gc(a,void 0)))).subscribe(e=>{const{fromState:t,toState:i}=e;(0===i.indexOf("open")&&"void"===t||"void"===i&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Nl(e)}get autoFocus(){return this._autoFocus}set autoFocus(e){this._autoFocus=Nl(e)}get _openedStream(){return this.openedChange.pipe(mh(e=>e),z(()=>{}))}get openedStart(){return this._animationStarted.pipe(mh(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),z(()=>{}))}get _closedStream(){return this.openedChange.pipe(mh(e=>!e),z(()=>{}))}get closedStart(){return this._animationStarted.pipe(mh(e=>e.fromState!==e.toState&&"void"===e.toState),z(()=>{}))}get _isFocusTrapEnabled(){return this.opened&&"side"!==this.mode}_trapFocus(){this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then(e=>{e||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const e=this._doc&&this._doc.activeElement;e&&this._elementRef.nativeElement.contains(e)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}get opened(){return this._opened}set opened(e){this.toggle(Nl(e))}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}toggle(e=!this.opened,t="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=t):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise(e=>{this.openedChange.pipe(vh(1)).subscribe(t=>e(t?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}class sy{constructor(e,t,i,s,n,r=!1,a){this._dir=e,this._element=t,this._ngZone=i,this._changeDetectorRef=s,this._animationMode=a,this.backdropClick=new fn,this._destroyed=new E,this._doCheckSubject=new E,this._contentMargins={left:null,right:null},this._contentMarginChanges=new E,e&&e.change.pipe(Ic(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),n.change().pipe(Ic(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=r}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Nl(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Nl(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._drawers.changes.pipe(sh(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(ch(10),Ic(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._width;else if("push"==this._left.mode){const i=this._left._width;e+=i,t-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._width;else if("push"==this._right.mode){const i=this._right._width;t+=i,e-=i}e=e||null,t=t||null,e===this._contentMargins.left&&t===this._contentMargins.right||(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(mh(e=>e.fromState!==e.toState),Ic(this._drawers.changes)).subscribe(e=>{"open-instant"!==e.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Ic(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Ic(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(vh(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Ic(Z(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?t.add(i):t.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?(null!=this._end&&Jf("end"),this._end=e):(null!=this._start&&Jf("start"),this._start=e)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}class ny{}var ry=Fi({encapsulation:2,styles:[],data:{}});function ay(e){return zr(2,[Ir(null,0)],null,null)}var oy=Fi({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function ly(e){return zr(2,[(e()(),Cr(0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),Ir(null,0)],null,null)}var hy=Fi({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function cy(e){return zr(0,[(e()(),Cr(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],(function(e,t,i){var s=!0;return"click"===t&&(s=!1!==e.component._onBackdropClicked()&&s),s}),null,null))],null,(function(e,t){e(t,0,0,t.component._isShowingBackdrop())}))}function dy(e){return zr(0,[(e()(),Cr(0,0,null,null,2,"mat-drawer-content",[["class","mat-drawer-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,ay,ry)),Gs(1,1294336,[[1,4]],0,ty,[vt,sy,Zt,ed,qn],null,null),Ir(0,2)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,Is(t,1)._container._contentMargins.left,Is(t,1)._container._contentMargins.right)}))}function uy(e){return zr(2,[Mr(671088640,1,{_userContent:0}),(e()(),Sr(16777216,null,null,1,null,cy)),Gs(2,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null),Ir(null,0),Ir(null,1),(e()(),Sr(16777216,null,null,1,null,dy)),Gs(6,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null)],(function(e,t){var i=t.component;e(t,2,0,i.hasBackdrop),e(t,6,0,!i._content)}),null)}class py{}function my(e){return Error(`A hint was already declared for 'align="${e}"'.`)}let gy=0;class fy{constructor(e){this._elementRef=e}}const yy=zh(fy,"primary"),by=new _e("MAT_FORM_FIELD_DEFAULT_OPTIONS");class vy extends yy{constructor(e,t,i,s,n,r,a,o){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=s,this._defaults=n,this._platform=r,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new E,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${gy++}`,this._labelId=`mat-form-field-label-${gy++}`,this._previousDirection="ltr",this._labelOptions=i||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==o,this.appearance=n&&n.appearance?n.appearance:"legacy",this._hideRequiredMarker=!(!n||null==n.hideRequiredMarker)&&n.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Nl(e)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(sh(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ic(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Ic(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Z(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(sh(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(sh(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ic(this._destroyed)).subscribe(()=>{this.updateOutlineGap(),this._previousDirection=this._dir.value})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,Wc(this._label.nativeElement,"transitionend").pipe(vh(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let e,t;this._hintChildren.forEach(i=>{if("start"===i.align){if(e||this.hintLabel)throw my("start");e=i}else if("end"===i.align){if(t)throw my("end");t=i}})}}_syncDescribedByIds(){if(this._control){let e=[];if("hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,i=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&(e=this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,i=0;const s=this._connectionContainerRef.nativeElement,n=s.querySelectorAll(".mat-form-field-outline-start"),r=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const n=s.getBoundingClientRect();if(0===n.width&&0===n.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const r=this._getStartEnd(n),a=this._getStartEnd(e.children[0].getBoundingClientRect());let o=0;for(const t of e.children)o+=t.offsetWidth;t=a-r-5,i=o>0?.75*o+10:0}for(let a=0;a<n.length;a++)n.item(a).style.width=`${t}px`;for(let a=0;a<r.length;a++)r.item(a).style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return"rtl"===this._previousDirection?e.right:e.left}}class wy{}var xy=Fi({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function _y(e){return zr(0,[(e()(),Cr(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),Cr(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(e()(),Cr(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(e()(),Cr(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(e()(),Cr(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(e()(),Cr(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(e()(),Cr(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(e()(),Cr(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(e()(),Cr(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function Sy(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Ir(null,0)],null,null)}function Cy(e){return zr(0,[(e()(),Cr(0,0,null,null,3,null,null,null,null,null,null,null)),Ir(null,2),(e()(),Cr(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Vr(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.component._control.placeholder)}))}function Ey(e){return zr(0,[Ir(null,3),(e()(),Sr(0,null,null,0))],null,null)}function Dy(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(e()(),Vr(-1,null,[" *"]))],null,null)}function ky(e){return zr(0,[(e()(),Cr(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(e,t,i){var s=!0;return"cdkObserveContent"===t&&(s=!1!==e.component.updateOutlineGap()&&s),s}),null,null)),Gs(1,16384,null,0,wo,[],{ngSwitch:[0,"ngSwitch"]},null),Gs(2,1196032,null,0,_p,[xp,Zt,qn],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(e()(),Sr(16777216,null,null,1,null,Cy)),Gs(4,278528,null,0,xo,[xi,vi,wo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Sr(16777216,null,null,1,null,Ey)),Gs(6,278528,null,0,xo,[xi,vi,wo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Sr(16777216,null,null,1,null,Dy)),Gs(8,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null)],(function(e,t){var i=t.component;e(t,1,0,i._hasLabel()),e(t,2,0,"outline"!=i.appearance),e(t,4,0,!1),e(t,6,0,!0),e(t,8,0,!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}),(function(e,t){var i=t.component;e(t,0,0,i._labelId,i._control.id,i._control.id,i._control.empty&&!i._shouldAlwaysFloat,i._control.empty&&!i._shouldAlwaysFloat,"accent"==i.color,"warn"==i.color)}))}function Ay(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Ir(null,4)],null,null)}function My(e){return zr(0,[(e()(),Cr(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(e()(),Cr(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(e,t){var i=t.component;e(t,1,0,"accent"==i.color,"warn"==i.color)}))}function Ly(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Ir(null,5)],null,(function(e,t){e(t,0,0,t.component._subscriptAnimationState)}))}function Ty(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(e()(),Vr(1,null,["",""]))],null,(function(e,t){var i=t.component;e(t,0,0,i._hintLabelId),e(t,1,0,i.hintLabel)}))}function Ry(e){return zr(0,[(e()(),Cr(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(e()(),Sr(16777216,null,null,1,null,Ty)),Gs(2,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null),Ir(null,6),(e()(),Cr(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Ir(null,7)],(function(e,t){e(t,2,0,t.component.hintLabel)}),(function(e,t){e(t,0,0,t.component._subscriptAnimationState)}))}function Py(e){return zr(2,[Mr(671088640,1,{underlineRef:0}),Mr(402653184,2,{_connectionContainerRef:0}),Mr(671088640,3,{_inputContainerRef:0}),Mr(671088640,4,{_label:0}),(e()(),Cr(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(e()(),Cr(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(e,t,i){var s=!0,n=e.component;return"click"===t&&(s=!1!==(n._control.onContainerClick&&n._control.onContainerClick(i))&&s),s}),null,null)),(e()(),Sr(16777216,null,null,1,null,_y)),Gs(7,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null),(e()(),Sr(16777216,null,null,1,null,Sy)),Gs(9,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null),(e()(),Cr(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Ir(null,1),(e()(),Cr(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(e()(),Sr(16777216,null,null,1,null,ky)),Gs(14,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null),(e()(),Sr(16777216,null,null,1,null,Ay)),Gs(16,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null),(e()(),Sr(16777216,null,null,1,null,My)),Gs(18,16384,null,0,fo,[xi,vi],{ngIf:[0,"ngIf"]},null),(e()(),Cr(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),Gs(20,16384,null,0,wo,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),Sr(16777216,null,null,1,null,Ly)),Gs(22,278528,null,0,xo,[xi,vi,wo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Sr(16777216,null,null,1,null,Ry)),Gs(24,278528,null,0,xo,[xi,vi,wo],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var i=t.component;e(t,7,0,"outline"==i.appearance),e(t,9,0,i._prefixChildren.length),e(t,14,0,i._hasFloatingLabel()),e(t,16,0,i._suffixChildren.length),e(t,18,0,"outline"!=i.appearance),e(t,20,0,i._getDisplayedMessages()),e(t,22,0,"error"),e(t,24,0,"hint")}),null)}const Iy=Gl({passive:!0});let Oy=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Jl;const t=Bl(e),i=this._monitoredElements.get(t);if(i)return i.subject.asObservable();const s=new E,n="cdk-text-field-autofilled",r=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(n)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(n)&&(t.classList.remove(n),this._ngZone.run(()=>s.next({target:e.target,isAutofilled:!1}))):(t.classList.add(n),this._ngZone.run(()=>s.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",r,Iy),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:s,unlisten:()=>{t.removeEventListener("animationstart",r,Iy)}}),s.asObservable()}stopMonitoring(e){const t=Bl(e),i=this._monitoredElements.get(t);i&&(i.unlisten(),i.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(jl),Me(qn))},token:e,providedIn:"root"}),e})();class Ny{}const Vy=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Fy=0;class By{constructor(e,t,i,s){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=s}}const zy=Wh(By);class Hy extends zy{constructor(e,t,i,s,n,r,a,o,l){super(r,s,n,i),this._elementRef=e,this._platform=t,this.ngControl=i,this._autofillMonitor=o,this._uid=`mat-input-${Fy++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new E,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>ql().has(e));const h=this._elementRef.nativeElement;this._inputValueAccessor=a||h,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&l.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Nl(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Nl(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea()&&ql().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Nl(e)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){if(Vy.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focused||this.focus()}}class jy{}function Wy(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a}function Yy(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}let qy=0;function Uy(e,t){let i=t;return i.unshift(void 0),new(Function.prototype.bind.apply(e,i))}function Gy(e,t){let i=t,s=e.replace(/\[/g,".").replace(/\]/g,"").split(".");for(let n=0;n<s.length&&!Jy(i);n++)i=i[s[n]];return i}function Xy(e,t,i){let s,n,r=e.replace(/\[/g,".").replace(/\]/g,"").split("."),a=i||{},o=a,l=r.length;for(s=0;s<l;s++)n=r[s],s+1===l?o[n]=void 0===t?{}:t:Qy(o[n])&&(o[n]={}),o=o[n];return a}function Zy(e){return!Qy(e)&&e.constructor==={}.constructor}function $y(e,t){if(!Qy(t)){let i=e,s=t,n=Object.keys(t),r="deepMerge";for(let e of n)Qy(i[r])||-1===i[r].indexOf(e)||!Zy(s[e])&&!Array.isArray(s[e])?i[e]=s[e]:Ky(i[e],i[e],s[e],!0)}}function Ky(e,t,i,s){let n=e&&"object"==typeof e?e:{},r=arguments.length;s&&(r-=1);for(let a=1;a<r;a++){if(!arguments[a])continue;let e=arguments[a];Object.keys(e).forEach(t=>{let i,r=n[t],a=e[t];Array.isArray(a)&&Array.isArray(r);s&&(Zy(a)||Array.isArray(a))?Zy(a)?(i=r||{},Array.isArray(i)&&i.hasOwnProperty("isComplexArray")?Ky(i,{},a,s):n[t]=Ky(i,{},a,s)):(i=r||[],n[t]=Ky([],i,a,s)):n[t]=a})}return n}function Qy(e){return null==e}function Jy(e){return void 0===e}function eb(e){return e+"_"+qy++}function tb(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}}function ib(e){let t=e+"";return"auto"===t||-1!==t.indexOf("%")||-1!==t.indexOf("px")?t:t+"px"}const sb={latn:{_digits:"0123456789",_type:"numeric"}},nb={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},rb=[0,1,2,3,4,5,6,7,8,9];let ab=(()=>{class e{static getMainObject(e,t){return Gy("main."+t,e)}static getNumberingSystem(e){return Gy("supplemental.numberingSystems",e)||this.numberingSystems}static reverseObject(e,t){let i=t||Object.keys(e),s={};for(let n of i)s.hasOwnProperty(e[n])||(s[e[n]]=n);return s}static getSymbolRegex(e){let t=e.map(e=>e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")).join("|");return new RegExp(t,"g")}static getSymbolMatch(e){let t=Object.keys(nb),i={};for(let s of t)i[e[s]]=nb[s];return i}static constructRegex(e){let t=e.length,i="";for(let s=0;s<t;s++)i+=s!==t-1?e[s]+"|":e[s];return i}static convertValueParts(e,t,i){return e.replace(t,e=>i[e])}static getDefaultNumberingSystem(e){let t={};return t.obj=Gy("numbers",e),t.nSystem=Gy("defaultNumberingSystem",t.obj),t}static getCurrentNumericOptions(e,t,i,s){let n={},r=this.getDefaultNumberingSystem(e);if(!Jy(r.nSystem)||s){let e=s?Gy("obj.mapperDigits",r):Gy(r.nSystem+"._digits",t);Jy(e)||(n.numericPair=this.reverseObject(e,rb),n.numberParseRegex=new RegExp(this.constructRegex(e),"g"),n.numericRegex="["+e[0]+"-"+e[9]+"]",i&&(n.numericRegex=e[0]+"-"+e[9],n.symbolNumberSystem=Gy(s?"numberSymbols":"symbols-numberSystem-"+r.nSystem,r.obj),n.symbolMatch=this.getSymbolMatch(n.symbolNumberSystem),n.numberSystem=r.nSystem))}return n}static getNumberMapper(e,t,i){let s={mapper:{}},n=this.getDefaultNumberingSystem(e);if(!Jy(n.nSystem)){s.numberSystem=n.nSystem,s.numberSymbols=Gy("symbols-numberSystem-"+n.nSystem,n.obj),s.timeSeparator=Gy("timeSeparator",s.numberSymbols);let e=Gy(n.nSystem+"._digits",t);if(!Jy(e))for(let t of rb)s.mapper[t]=e[t]}return s}}return e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=sb,e})();var ob;!function(e){const t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){let i=e.getDate(),s=e.getMonth(),n=e.getFullYear(),r=s+1,a=n;r<3&&(a-=1,r+=12);let o=Math.floor(a/100),l=o-Math.floor(o/4)-2,h=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(r+1))+i-l-1524;o=Math.floor((h-1867216.25)/36524.25),l=o-Math.floor(o/4)+1;let c=h+l+1524,d=Math.floor((c-122.1)/365.25),u=Math.floor(365.25*d),p=Math.floor((c-u)/30.6001);i=c-u-Math.floor(30.6001*p),s=Math.floor((c-u)/20.6001),s>13&&(d+=1,s-=12),s-=1,n=d-4716;let m=h-24e5,g=h-1948084,f=Math.floor(g/10631);g-=10631*f;let y=Math.floor((g-.1335)/(10631/30)),b=30*f+y;g-=Math.floor(y*(10631/30)+.1335);let v=Math.floor((g+28.5001)/29.5);13===v&&(v=12);let w=g-Math.floor(29.5001*v-29),x=0;for(;x<t.length&&!(t[x]>m);x++);let _=x+16260,S=Math.floor((_-1)/12),C=S+1,E=_-12*S,D=m-t[x-1]+1;return(D+"").length>2&&(D=w,E=v,C=b),{year:C,month:E,date:D}},e.toGregorian=function(e,i,s){let n=Math.floor(s+t[12*(e-1)+1+(i-1)-16260-1]-1+24e5+.5),r=Math.floor((n-1867216.25)/36524.25);r=n+1+r-Math.floor(r/4);let a=r+1524,o=Math.floor((a-122.1)/365.25),l=Math.floor(365.25*o),h=Math.floor((a-l)/30.6001),c=a-l-Math.floor(30.6001*h),d=h-(h>13.5?13:1),u=o-(d>2.5?4716:4715);return u<=0&&d--,new Date(u+"/"+d+"/"+c)}}(ob||(ob={}));const lb=/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|cccc|ccc|G+|z+/gi,hb=["sun","mon","tue","wed","thu","fri","sat"],cb={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},db={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"};class ub{static dateFormat(e,t,i){let s=Ab.getDependables(i,e,t.calendar),n=(Gy("parserObject.numbers",s),s.dateObject),r={isIslamic:Ab.islamicRegex.test(t.calendar)},a=t.format||Ab.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,"");if(r.dateSeperator=Ab.getDateSeparator(s.dateObject),Jy(a))tb("Format options or type given must be invalid");else{a=Ab.ConvertDateToWeekFormat(a),r.pattern=a,r.numMapper=ab.getNumberMapper(s.parserObject,ab.getNumberingSystem(i));let e=a.match(lb)||[];for(let t of e){let e=t.length,i=t[0];switch("K"===i&&(i="h"),i){case"E":case"c":r.weekday=s.dateObject[Ab.days]["stand-alone"][Ab.monthIndex[e]];break;case"M":case"L":r.month=s.dateObject[Ab.month]["stand-alone"][Ab.monthIndex[e]];break;case"a":r.designator=Gy("dayPeriods.format.wide",n);break;case"G":r.era=Gy("eras."+(e<=3?"eraAbbr":4===e?"eraNames":"eraNarrow"),s.dateObject);break;case"z":r.timeZone=Gy("dates.timeZoneNames",s.parserObject)}}}return e=>isNaN(e.getDate())?null:this.intDateFormatter(e,r)}static intDateFormatter(e,t){let i="",s=t.pattern.match(Ab.dateParseRegex),n=this.getCurrentDateValue(e,t.isIslamic);for(let r of s){let s,a=r.length,o=r[0];"K"===o&&(o="h");let l,h,c="",d="";switch(o){case"M":case"L":s=n.month,a>2?i+=t.month[s]:l=!0;break;case"E":case"c":i+=t.weekday[hb[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(l=!0,"d"===o)s=n.date;else if("f"===o){l=!1,h=!0,c=e[cb[o]]().toString(),c=c.substring(0,a);let t=c.length;if(a!==t){if(a>3)continue;for(let e=0;e<a-t;e++)c="0"+c.toString()}d+=c}else s=e[cb[o]]();"h"===o&&(s=s%12||12);break;case"y":h=!0,d+=n.year,2===a&&(d=d.substr(d.length-2));break;case"a":let u=e.getHours()<12?"am":"pm";i+=t.designator[u];break;case"G":let p=e.getFullYear()<0?0:1,m=t.era[p];Qy(m)&&(m=t.era[p?0:1]),i+=m||"";break;case"'":i+="''"===r?"'":r.replace(/\'/g,"");break;case"z":let g=e.getTimezoneOffset(),f=a<4?"+H;-H":t.timeZone.hourFormat;f=f.replace(/:/g,t.numMapper.timeSeparator),0===g?i+=t.timeZone.gmtZeroFormat:(h=!0,d=this.getTimeZoneValue(g,f)),d=t.timeZone.gmtFormat.replace(/\{0\}/,d);break;case":":i+=t.numMapper.numberSymbols.timeSeparator;break;case"/":i+=t.dateSeperator;break;default:i+=r}l&&(h=!0,d=this.checkTwodigitNumber(s,a)),h&&(i+=ab.convertValueParts(d,Ab.latnParseRegex,t.numMapper.mapper))}return i}static getCurrentDateValue(e,t){return t?ob.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}}static checkTwodigitNumber(e,t){let i=e+"";return 2===t&&2!==i.length?"0"+i:i}static getTimeZoneValue(e,t){let i=t.split(";")[e>0?1:0],s=Math.abs(e);return i.replace(/HH?|mm/g,e=>{let t=e.length,i=-1!==e.indexOf("H");return this.checkTwodigitNumber(Math.floor(i?s/60:s%60),t)})}}const pb={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},mb=["infinity","nan","group","decimal","exponential"];class gb{static numberFormatter(e,t,i){let s,n=Ky({},t),r={},a={},o=Ab.getDependables(i,e,"",!0);a.numberMapper=ab.getNumberMapper(o.parserObject,ab.getNumberingSystem(i),!0),a.currencySymbol=Ab.getCurrencySymbol(o.numericObject,n.currency||Cb,t.altSymbol),a.percentSymbol=a.numberMapper.numberSymbols.percentSign,a.minusSymbol=a.numberMapper.numberSymbols.minusSign;let l=a.numberMapper.numberSymbols;if(t.format&&!Ab.formatRegex.test(t.format))r=Ab.customFormat(t.format,a,o.numericObject);else{Ky(n,Ab.getProperNumericSkeleton(t.format||"N")),n.isCurrency="currency"===n.type,n.isPercent="percent"===n.type,s=Ab.getSymbolPattern(n.type,a.numberMapper.numberSystem,o.numericObject,n.isAccount),n.groupOne=this.checkValueRange(n.maximumSignificantDigits,n.minimumSignificantDigits,!0),this.checkValueRange(n.maximumFractionDigits,n.minimumFractionDigits,!1,!0),Jy(n.fractionDigits)||(n.minimumFractionDigits=n.maximumFractionDigits=n.fractionDigits),Jy(n.useGrouping)&&(n.useGrouping=!0),n.isCurrency&&(s=s.replace(/\u00A4/g,Ab.defaultCurrency));{let e=s.split(";");r.nData=Ab.getFormatData(e[1]||"-"+e[0],!0,a.currencySymbol),r.pData=Ab.getFormatData(e[0],!1,a.currencySymbol),n.useGrouping&&(n.groupSeparator=l[mb[2]],n.groupData=this.getGroupingDetails(e[0]))}if(Jy(n.minimumFractionDigits)&&(n.minimumFractionDigits=r.nData.minimumFraction),Jy(n.maximumFractionDigits)){let e=r.nData.maximumFraction;n.maximumFractionDigits=Jy(e)&&n.isPercent?0:e}let e=n.minimumFractionDigits,i=n.maximumFractionDigits;Jy(e)||Jy(i)||e>i&&(n.maximumFractionDigits=e)}return Ky(r.nData,n),Ky(r.pData,n),e=>isNaN(e)?l[mb[1]]:isFinite(e)?this.intNumberFormatter(e,r,a):l[mb[0]]}static getGroupingDetails(e){let t={},i=e.match(Ab.negativeDataRegex);if(i&&i[4]){let e=i[4],s=e.lastIndexOf(",");if(-1!==s){let i=e.split(".")[0];t.primary=i.length-s-1;let n=e.lastIndexOf(",",s-1);-1!==n&&(t.secondary=s-1-n)}}return t}static checkValueRange(e,t,i,s){let n=s?"f":"s",r=0,a=pb["l"+n],o=pb["m"+n];if(Jy(e)||(this.checkRange(e,a,s),r++),Jy(t)||(this.checkRange(t,o,s),r++),2===r){if(!(e<t))return!0;tb(o+"specified must be less than the"+a)}else i&&1===r&&tb("Both"+o+"and"+o+"must be present");return!1}static checkRange(e,t,i){let s=i?[0,20]:[1,21];(e<s[0]||e>s[1])&&tb(t+"value must be within the range"+s[0]+"to"+s[1])}static intNumberFormatter(e,t,i){let s;if(!Jy(t.nData.type)){e<0?(e*=-1,s=t.nData):s=0===e&&t.zeroData||t.pData;let n="";return s.isPercent&&(e*=100),s.groupOne?n=this.processSignificantDigits(e,s.minimumSignificantDigits,s.maximumSignificantDigits):(n=this.processFraction(e,s.minimumFractionDigits,s.maximumFractionDigits),s.minimumIntegerDigits&&(n=this.processMinimumIntegers(n,s.minimumIntegerDigits))),"scientific"===s.type&&(n=e.toExponential(s.maximumFractionDigits),n=n.replace("e",i.numberMapper.numberSymbols[mb[4]])),n=n.replace(".",i.numberMapper.numberSymbols[mb[3]]),s.useGrouping&&(n=this.groupNumbers(n,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[mb[3]]||".",s.groupData.secondary)),n=ab.convertValueParts(n,Ab.latnParseRegex,i.numberMapper.mapper),"N/A"===s.nlead?s.nlead:s.nlead+n+s.nend}}static processSignificantDigits(e,t,i){let s,n=e+"";return n.length<t?e.toPrecision(t):(n=e.toPrecision(i),s=+n,s+"")}static groupNumbers(e,t,i,s,n){let r=!Qy(n)&&0!==n,a=e.split(s),o=a[0],l=o.length,h="";for(;l>t;)h=o.slice(l-t,l)+(h.length?i+h:""),l-=t,r&&(t=n,r=!1);return a[0]=o.slice(0,l)+(h.length?i:"")+h,a.join(s)}static processFraction(e,t,i){let s=(e+"").split(".")[1],n=s?s.length:0;if(t&&n<t){let i="";if(0!==n){i+=e;for(let e=0;e<t-n;e++)i+="0";return i}return i=e.toFixed(t),e.toFixed(t)}return!Qy(i)&&(n>i||0===i)?e.toFixed(i):e+""}static processMinimumIntegers(e,t){let i=e.split("."),s=i[0],n=s.length;if(n<t){for(let e=0;e<t-n;e++)s="0"+s;i[0]=s}return i.join(".")}}const fb=/^[0-9]*$/,yb={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},bb=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,vb=/,/g,wb=["minusSign","infinity"];class xb{constructor(e){this.ranArray=[],this.boundedEvents={},Qy(e)||(this.context=e)}on(e,t,i,s){if(Qy(t))return;let n=i||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:n}]:Qy(s)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:n}):-1===this.ranArray.indexOf(s)&&(this.ranArray.push(s),this.boundedEvents[e].push({handler:t,context:n,id:s}))}off(e,t,i){if(this.notExist(e))return;let s=Gy(e,this.boundedEvents);if(t){for(let e=0;e<s.length;e++)if(i){if(s[e].id===i){s.splice(e,1);let t=this.ranArray.indexOf(i);-1!==t&&this.ranArray.splice(t,1);break}}else if(t===s[e].handler){s.splice(e,1);break}}else delete this.boundedEvents[e]}notify(e,t,i,s){if(this.notExist(e))return void(i&&i.call(this,t));t&&(t.name=e);let n=Gy(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(n,t,i,s,0);for(let r of n)r.handler.call(r.context,t);i&&i.call(this,t)}blazorCallback(e,t,i,s,n){let r=n===e.length-1;if(n<e.length){let a=e[n],o=a.handler.call(a.context,t);if(o&&"function"==typeof o.then){if(!i)return o;o.then(o=>{if(o="string"==typeof o&&this.isJson(o)?JSON.parse(o):o,Ky(t,t,o,!0),!i||!r)return this.blazorCallback(e,t,i,s,n+1);i.call(a.context,t)}).catch(e=>{s&&s.call(a.context,"string"==typeof e&&this.isJson(e)?JSON.parse(e):e)})}else{if(!i||!r)return this.blazorCallback(e,t,i,s,n+1);i.call(a.context,t)}}}isJson(e){try{JSON.parse(e)}catch(t){return!1}return!0}destroy(){this.boundedEvents=this.context=void 0}notExist(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0}isHandlerPresent(e,t){for(let i of e)if(i.handler===t)return!0;return!1}}let _b=new xb,Sb={},Cb="USD";const Eb=["numericObject","dateObject"];class Db{constructor(e){e&&(this.culture=e)}getDateFormat(e){return ub.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},Sb)}getNumberFormat(e){return e&&!e.currency&&(e.currency=Cb),gb.numberFormatter(this.getCulture(),e||{},Sb)}getDateParser(e){return class{static dateParser(e,t,i){let s,n=Ab.getDependables(i,e,t.calendar),r=ab.getCurrentNumericOptions(n.parserObject,ab.getNumberingSystem(i),!1,!1),a={},o=t.format||Ab.getResultantPattern(t.skeleton,n.dateObject,t.type,!1,""),l="";if(Jy(o))tb("Format options or type given must be invalid");else{o=Ab.ConvertDateToWeekFormat(o),a={isIslamic:Ab.islamicRegex.test(t.calendar),pattern:o,evalposition:{}};let e=o.match(Ab.dateParseRegex)||[],h=e.length,c=0,d=0,u=!1,p=r.numericRegex,m=ab.getNumberMapper(n.parserObject,ab.getNumberingSystem(i));for(let t=0;t<h;t++){let i,r,o=e[t],g=o.length,f="K"===o[0]?"h":o[0],y=db[f],b=2===g?"":"?";switch(u&&(c=d,u=!1),f){case"E":case"c":let e;e=n.dateObject[Ab.days]["stand-alone"][Ab.monthIndex[g]];let t=ab.reverseObject(e);l+="("+Object.keys(t).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(r=!0,("M"===f||"L"===f)&&g>2){let e;e=n.dateObject.months["stand-alone"][Ab.monthIndex[g]],a[y]=ab.reverseObject(e),l+="("+Object.keys(a[y]).join("|")+")"}else if("f"===f){if(g>3)continue;i=!0,l+="("+p+p+"?"+p+"?)"}else i=!0,l+="("+p+p+b+")";"h"===f&&(a.hour12=!0);break;case"y":r=i=!0,l+=2===g?"("+p+p+")":"("+p+"{"+g+",})";break;case"a":r=!0;let h=Gy("dayPeriods.format.wide",n.dateObject);a[y]=ab.reverseObject(h),l+="("+Object.keys(a[y]).join("|")+")";break;case"G":r=!0,a[y]=ab.reverseObject(Gy("eras."+(g<=3?"eraAbbr":4===g?"eraNames":"eraNarrow"),n.dateObject)),l+="("+Object.keys(a[y]).join("|")+"?)";break;case"z":r=0!==(new Date).getTimezoneOffset(),a[y]=Gy("dates.timeZoneNames",n.parserObject);let c=a[y];s=g<4;let v=s?"+H;-H":c.hourFormat;v=v.replace(/:/g,m.timeSeparator),l+="("+this.parseTimeZoneRegx(v,c,p)+")?",u=!0,d=s?6:12;break;case"'":l+="("+o.replace(/\'/g,"")+")?";break;default:l+="([\\D])"}r&&(a.evalposition[y]={isNumber:i,pos:t+1+c,hourOnly:s}),t!==h-1||Qy(l)||(a.parserRegex=new RegExp("^"+l+"$","i"))}}return e=>{let t=this.internalDateParse(e,a,r);if(Qy(t)||!Object.keys(t).length)return null;if(a.isIslamic){let e={},i=t.year,s=t.day,n=t.month,r=i?i+"":"",a=2===r.length;i&&n&&s&&!a||(e=ob.getHijriDate(new Date)),a&&(i=parseInt((e.year+"").slice(0,2)+r,10));let o=ob.toGregorian(i||e.year,n||e.month,s||e.date);t.year=o.getFullYear(),t.month=o.getMonth()+1,t.day=o.getDate()}return this.getDateObject(t)}}static getDateObject(e,t){let i=t||new Date;i.setMilliseconds(0);let s=["hour","minute","second","milliseconds","month","day"],n=e.year,r=e.designator,a=e.timeZone;Jy(n)||((n+"").length<=2&&(n+=100*Math.floor(i.getFullYear()/100)),i.setFullYear(n));for(let o of s){let t=e[o];if(Jy(t)&&"day"===o&&i.setDate(1),!Jy(t))if("month"===o){if(t-=1,t<0||t>11)return new Date("invalid");let e=i.getDate();i.setDate(1),i[yb[o]](t);let s=new Date(i.getFullYear(),t+1,0).getDate();i.setDate(e<s?e:s)}else{if("day"===o){let e=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(t<1||t>e)return null}i[yb[o]](t)}}if(!Jy(r)){let e=i.getHours();"pm"===r?i.setHours(e+(12===e?0:12)):12===e&&i.setHours(0)}if(!Jy(a)){let e=a-i.getTimezoneOffset();0!==e&&i.setMinutes(i.getMinutes()+e)}return i}static internalDateParse(e,t,i){let s=e.match(t.parserRegex),n={hour:0,minute:0,second:0};if(Qy(s))return null;{let e=Object.keys(t.evalposition);for(let r of e){let e=t.evalposition[r],a=s[e.pos];if(e.isNumber)n[r]=this.internalNumberParser(a,i);else if("timeZone"!==r||Jy(a))n[r]=t[r][a];else{let t,a=e.pos,o=s[a+1],l=!Jy(o);e.hourOnly?t=60*this.getZoneValue(l,o,s[a+4],i):(t=60*this.getZoneValue(l,o,s[a+7],i),t+=this.getZoneValue(l,s[a+4],s[a+10],i)),Qy(t)||(n[r]=t)}}t.hour12&&(n.hour12=!0)}return n}static internalNumberParser(e,t){return e=ab.convertValueParts(e,t.numberParseRegex,t.numericPair),fb.test(e)?+e:null}static parseTimeZoneRegx(e,t,i){let s,n,r=t.gmtFormat,a="("+i+")("+i+")";return s=e.replace("+","\\+"),s=-1!==e.indexOf("HH")?s.replace(/HH|mm/g,"("+a+")"):s.replace(/H|m/g,"("+a+"?)"),n=s.split(";").map(e=>r.replace("{0}",e)),s=n.join("|")+"|"+t.gmtZeroFormat,s}static getZoneValue(e,t,i,s){let n=e?t:i;if(!n)return 0;let r=this.internalNumberParser(n,s);return e?-r:r}}.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},Sb)}getNumberParser(e){return class{static numberParser(e,t,i){let s,n,r=Ab.getDependables(i,e,"",!0),a={custom:!0};if(Ab.formatRegex.test(t.format)||!t.format?(Ky(a,Ab.getProperNumericSkeleton(t.format||"N")),a.custom=!1):Ky(a,Ab.customFormat(t.format,null,null)),Gy("numbers",r.parserObject),s=ab.getCurrentNumericOptions(r.parserObject,ab.getNumberingSystem(i),!0,!1),a.symbolRegex=ab.getSymbolRegex(Object.keys(s.symbolMatch)),a.infinity=s.symbolNumberSystem[wb[1]],n=Ab.getSymbolPattern(a.type,s.numberSystem,r.numericObject,a.isAccount),n){n=n.replace(/\u00A4/g,Ab.defaultCurrency);let e=n.split(";");a.nData=Ab.getFormatData(e[1]||"-"+e[0],!0,""),a.pData=Ab.getFormatData(e[0],!0,"")}return e=>this.getParsedNumber(e,a,s)}static getParsedNumber(e,t,i){let s,n,r,a,o,l;if(-1!==e.indexOf(t.infinity))return 1/0;{e=ab.convertValueParts(e,t.symbolRegex,i.symbolMatch),0===(e=ab.convertValueParts(e,i.numberParseRegex,i.numericPair)).indexOf(".")&&(e="0"+e);let h=e.match(bb);if(Qy(h))return NaN;a=h[1],r=h[2];let c=h[5];return o=h[6],s=t.custom?a===t.nData.nlead&&o===t.nData.nend:-1!==a.indexOf(t.nData.nlead)&&-1!==o.indexOf(t.nData.nend),n=s?t.nData.isPercent:t.pData.isPercent,r=r.replace(vb,""),c&&(r+=c),l=+r,("percent"===t.type||n)&&(l/=100),(t.custom||t.fractionDigits)&&(l=parseFloat(l.toFixed(t.custom?s?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),s&&(l*=-1),l}}}.numberParser(this.getCulture(),e||{format:"N"},Sb)}formatNumber(e,t){return this.getNumberFormat(t)(e)}formatDate(e,t){return this.getDateFormat(t)(e)}parseDate(e,t){return this.getDateParser(t)(e)}parseNumber(e,t){return this.getNumberParser(t)(e)}getDatePattern(e,t){return Ab.getActualDateTimeFormat(this.getCulture(),e,Sb,t)}getNumberPattern(e){return Ab.getActualNumberFormat(this.getCulture(),e,Sb)}getFirstDayOfWeek(){return Ab.getWeekData(this.getCulture(),Sb)}getCulture(){return this.culture||"en-US"}}const kb={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};var Ab;!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;const t=/[0-9]/g;e.defaultCurrency="$";const i=["infinity","nan","group","decimal"],s=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,n={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};e.dateConverterMapper=/dddd|ddd/gi,e.islamicRegex=/^islamic/;const r={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,e.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,e.curWithoutNumberRegex=/(c|a)$/gi;const a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function o(t,i,s,n,r){let a,o=s||"date";if(r)a=d({skeleton:t},r).format||d({skeleton:"d"},"en-US").format;else{if(-1!==e.basicPatterns.indexOf(t)){if(a=Gy(o+"Formats."+t,i),"dateTime"===o){let e=Gy("dateFormats."+t,i),s=Gy("timeFormats."+t,i);a=a.replace("{1}",e).replace("{0}",s)}}else a=Gy("dateTimeFormats.availableFormats."+t,i);Jy(a)&&"yMd"===t&&(a="M/d/y")}return a}function l(t,i,s,n){let r={},a=s||"gregorian";return r.parserObject=ab.getMainObject(t,i)||e.defaultObject,n?r.numericObject=Gy("numbers",r.parserObject):r.dateObject=Gy("dates.calendars."+a,r.parserObject),r}function h(e,t,i,s){return Gy(e+"Formats-numberSystem-"+t+(s?".accounting":".standard"),i)||(s?Gy(e+"Formats-numberSystem-"+t+".standard",i):"")}function c(t){return t.match(e.dateConverterMapper),t}function d(e,t){let i=e.format||e.skeleton,s=Gy((t||"en-US")+"."+i,kb);return s||(s=Gy("en-US."+i,kb)),s&&(s=c(s),e.format=s.replace(/tt/,"a")),e}function u(t){let i=t.match(e.formatRegex),s={},n=i[1].toUpperCase();return s.isAccount="A"===n,s.type=e.patternMatcher[n],t.length>1&&(s.fractionDigits=parseInt(i[2],10)),s}function p(i,s,n,r){let a=r?{}:{nlead:"",nend:""},o=i.match(e.customRegex);if(o){r||(a.nlead=m(o[1],n),a.nend=m(o[10],n),a.groupPattern=o[4]);let e=o[7];if(e&&s){let i=e.match(t);a.minimumFraction=Qy(i)?0:i.length,a.maximumFraction=e.length-1}}return a}function m(t,i){return t?t.replace(e.defaultCurrency,i):""}function g(e,t,i){return Gy("currencies."+t+(i?"."+i:".symbol"),e)||Gy("currencies."+t+".symbol-alt-narrow",e)||"$"}function f(t,s,n){let r={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},a=t.match(e.customRegex);if(Qy(a)||""===a[5]&&"N/A"!==t)return r.type=void 0,r;r.nlead=a[1],r.nend=a[10];let o=a[6];r.useGrouping=-1!==o.indexOf(","),o=o.replace(/,/g,"");let l=a[7];if(-1!==o.indexOf("0")&&(r.minimumIntegerDigits=o.length-o.indexOf("0")),Qy(l)||(r.minimumFractionDigits=l.lastIndexOf("0"),r.maximumFractionDigits=l.lastIndexOf("#"),-1===r.minimumFractionDigits&&(r.minimumFractionDigits=0),(-1===r.maximumFractionDigits||r.maximumFractionDigits<r.minimumFractionDigits)&&(r.maximumFractionDigits=r.minimumFractionDigits)),Qy(s)?Ky(r,y([r.nlead,r.nend],"%","%")):(Ky(r,y([r.nlead,r.nend],"$",s.currencySymbol)),r.isCurrency||Ky(r,y([r.nlead,r.nend],"%",s.percentSymbol))),!Qy(n)){let e=h(r.type,s.numberMapper.numberSystem,n,!1);r.useGrouping&&(r.groupSeparator=s.numberMapper.numberSymbols[i[2]],r.groupData=gb.getGroupingDetails(e.split(";")[0])),r.nlead=r.nlead.replace(/\'/g,""),r.nend=r.nend.replace(/\'/g,"")}return r}function y(e,t,i){let s={nlead:e[0],nend:e[1]};for(let n=0;n<2;n++){let r=e[n],o=r.indexOf(t);if(-1!==o&&(o<r.indexOf("'")||o>r.lastIndexOf("'"))){s[a[n]]=r.substr(0,o)+i+r.substr(o+1),s[a[t]]=!0,s.type=s.isCurrency?"currency":"percent";break}}return s}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=o,e.getDependables=l,e.getSymbolPattern=h,e.ConvertDateToWeekFormat=c,e.compareBlazorDateFormats=d,e.getProperNumericSkeleton=u,e.getFormatData=p,e.getCurrencySymbol=g,e.customFormat=function(e,t,i){let s={},n=e.split(";"),r=["pData","nData","zeroData"];for(let a=0;a<n.length;a++)s[r[a]]=f(n[a],t,i);return Qy(s.nData)&&(s.nData=Ky({},s.pData),s.nData.nlead=Qy(t)?"-"+s.nData.nlead:t.minusSymbol+s.nData.nlead),s},e.isCurrencyPercent=y,e.getDateSeparator=function(e){let t=(Gy("dateFormats.short",e)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,i,r){let a=l(i,e,t.calendar),h=t.format||o(t.skeleton,a.dateObject,t.type);if(r){if(h=h.replace(s,e=>n[e]),-1!==h.indexOf("z")){let e,t=h.match(/z/g).length,s={timeZone:{}};s.numMapper=ab.getNumberMapper(a.parserObject,ab.getNumberingSystem(i)),s.timeZone=Gy("dates.timeZoneNames",a.parserObject);let n=(new Date).getTimezoneOffset(),r=t<4?"+H;-H":s.timeZone.hourFormat;r=r.replace(/:/g,s.numMapper.timeSeparator),0===n?e=s.timeZone.gmtZeroFormat:(e=ub.getTimeZoneValue(n,r),e=s.timeZone.gmtFormat.replace(/\{0\}/,e)),h=h.replace(/[z]+/,'"'+e+'"')}h=h.replace(/ $/,"")}return h},e.getActualNumberFormat=function(t,i,s){let n,r,a=l(s,t,"",!0),o={custom:!0},c={},d=(i.format||"").match(e.currencyFormatRegex),m=(e.formatRegex.test(i.format)&&u(i.format||"N"),{});if(d){m.numberMapper=ab.getNumberMapper(a.parserObject,ab.getNumberingSystem(s),!0);let e=g(a.numericObject,i.currency||Cb,i.altSymbol),t=h("currency",m.numberMapper.numberSystem,a.numericObject,/a/i.test(i.format));t=t.replace(/\u00A4/g,e);let r=t.split(";");c.hasNegativePattern=r.length>1,c.nData=p(r[1]||"-"+r[0],!0,e),c.pData=p(r[0],!1,e),d[2]||i.minimumFractionDigits||i.maximumFractionDigits||(n=p(t.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(i.format)||!i.format){if(Ky(o,u(i.format||"N")),o.custom=!1,r="###0",o.fractionDigits||i.minimumFractionDigits||i.maximumFractionDigits||n){let e=0;o.fractionDigits&&(i.minimumFractionDigits=i.maximumFractionDigits=o.fractionDigits),r=function(e,t,i){e+=".";for(let s=0;s<t;s++)e+="0";if(t<i){let s=i-t;for(let t=0;t<s;t++)e+="#"}return e}(r,n||o.fractionDigits||i.minimumFractionDigits||e,i.maximumFractionDigits||e)}if(i.minimumIntegerDigits&&(r=function(e,t){let i=e.split("."),s="";for(let n=0;n<t;n++)s+="0";return i[1]?s+"."+i[1]:s}(r,i.minimumIntegerDigits)),i.useGrouping&&(r=function(e){let t=e.split("."),i=t[0],s=3-i.length%3;i=(s&&1===s?"#":2===s?"##":"")+i,e="";for(let n=i.length-1;n>0;n-=3)e=","+i[n-2]+i[n-1]+i[n]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}(r)),"currency"===o.type){let e=r;r=c.pData.nlead+e+c.pData.nend,c.hasNegativePattern&&(r+=";"+c.nData.nlead+e+c.nData.nend)}"percent"!==o.type||(r+=" %")}else r=i.format.replace(/\'/g,'"');return Object.keys(m).length>0&&(r=function(e,t){for(let i=0;i<e.length;i++){let s={".":"decimal",",":"group"}[e[i]];"decimal"===s?e=e.replace(/\./g,Gy("numberMapper.numberSymbols.decimal",t)||"."):"group"===s&&(e=e.replace(/,/g,Gy("numberMapper.numberSymbols.group",t)||"."))}return e}(r,m)),r},e.getWeekData=function(e,t){let i="sun",s=Gy("supplemental.weekData.firstDay",t),n=e;return/en-/.test(n)&&(n=n.slice(3)),n=n.slice(0,2).toUpperCase()+n.substr(2),s&&(i=s[n]||"sun"),r[i]}}(Ab||(Ab={}));const Mb=/^(.*?):[ \t]*([^\r\n]*)$/gm;class Lb{constructor(e,t,i,s){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!Qy(i)||i):"object"==typeof e&&(this.options=e,$y(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:s}send(e){this.data=Qy(e)?this.data:e;let t={cancel:!1,httpRequest:null};return new Promise((e,i)=>{this.httpRequest=new XMLHttpRequest,this.httpRequest.onreadystatechange=()=>{this.stateChange(e,i)},Qy(this.onLoad)||(this.httpRequest.onload=this.onLoad),Qy(this.onProgress)||(this.httpRequest.onprogress=this.onProgress),Qy(this.onAbort)||(this.httpRequest.onabort=this.onAbort),Qy(this.onError)||(this.httpRequest.onerror=this.onError),Qy(this.onUploadProgress)||(this.httpRequest.upload.onprogress=this.onUploadProgress),this.httpRequest.open(this.type,this.url,this.mode),Qy(this.data)||null===this.contentType||this.httpRequest.setRequestHeader("Content-Type",this.contentType||"application/json; charset=utf-8"),this.beforeSend&&(t.httpRequest=this.httpRequest,this.beforeSend(t)),t.cancel||this.httpRequest.send(Qy(this.data)?null:this.data)})}successHandler(e){return this.onSuccess&&this.onSuccess(e,this),e}failureHandler(e){return this.onFailure&&this.onFailure(this.httpRequest),e}stateChange(e,t){let i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch(s){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())}getResponseHeader(e){let t,i;t={};let s=Mb.exec(this.httpRequest.getAllResponseHeaders());for(;s;)t[s[1].toLowerCase()]=s[2],s=Mb.exec(this.httpRequest.getAllResponseHeaders());return i=t[e.toLowerCase()],Qy(i)?null:i}}class Tb{static addOrGetEventData(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])}static add(e,t,i,s,n){let r,a=Tb.addOrGetEventData(e);r=n?function(e,t){let i;return function(){let s=arguments,n=()=>(i=null,e.apply(this,s));clearTimeout(i),i=setTimeout(n,t)}}(i,n):i,s&&(r=r.bind(s));let o=t.split(" ");for(let l=0;l<o.length;l++)a.push({name:o[l],listener:i,debounce:r}),e.addEventListener(o[l],r,{passive:!1});return r}static remove(e,t,i){let s=Tb.addOrGetEventData(e),n=t.split(" ");for(let r=0;r<n.length;r++){let t,a=-1;s&&0!==s.length&&s.some((e,s)=>e.name===n[r]&&e.listener===i&&(a=s,t=e.debounce,!0)),-1!==a&&s.splice(a,1),t&&e.removeEventListener(n[r],t)}}static clearEvents(e){let t,i;t=Tb.addOrGetEventData(e),i=Ky([],i,t);for(let s=0;s<i.length;s++)e.removeEventListener(i[s].name,i[s].debounce),t.shift()}static trigger(e,t,i){let s=Tb.addOrGetEventData(e);for(let n of s)n.name===t&&n.debounce.call(this,i)}}const Rb=new RegExp("\\n|\\r|\\s\\s+","g"),Pb=new RegExp(/'|"/g),Ib=new RegExp("if ?\\("),Ob=new RegExp("else if ?\\("),Nb=new RegExp("else"),Vb=new RegExp("for ?\\("),Fb=new RegExp("(/if|/for)"),Bb=new RegExp("\\((.*)\\)",""),zb=new RegExp("^[0-9]+$","g"),Hb=new RegExp("[\\w\"'.\\s+]+","g"),jb=new RegExp('"(.*?)"',"g"),Wb=new RegExp("[\\w\"'@#$.\\s+]+","g");let Yb=new RegExp("\\${([^}]*)}","g"),qb=/^\..*/gm,Ub=/\\/gi,Gb=/\\\\/gi;const Xb=new RegExp("[\\w\"'@#$.\\s+]+","g"),Zb=/\window\./gm;function $b(e,t,i,s){return t&&!zb.test(e)&&-1===s.indexOf(e.split(".")[0])?i+"."+e:e}function Kb(e,t,i,s){return t&&!zb.test(e)&&-1===s.indexOf(e.split(".")[0])?i+'["'+e:e}function Qb(e){return e.match(Gb)?e:e.replace(Ub,"\\\\")}function Jb(e,t,i){if(e=e.trim(),/\window\./gm.test(e))return e;{let s=/'|"/gm;return/\@|\$|\#/gm.test(e)&&(e=Kb(e,-1===i.indexOf(e),t,i)+'"]'),qb.test(e)?function(e,t,i,s){return!t||zb.test(e)||-1!==s.indexOf(e.split(".")[0])||/^\..*/gm.test(e)?e:i+"."+e}(e,!s.test(e)&&-1===i.indexOf(e),t,i):$b(e,!s.test(e)&&-1===i.indexOf(e),t,i)}}const ev=/^[\n\r.]+\<tr|^\<tr/,tv=/^[\n\r.]+\<svg|^\<path|^\<g/;function iv(){return"-"+Math.random().toString(36).substr(2,5)}function sv(e,t){let i=rv.compile(e,t);return(e,t,s,n,r,a)=>{let o=i(e,t,s);return"string"==typeof o?tv.test(o)?Sv("svg",{innerHTML:o}).childNodes:Sv(ev.test(o)?"table":"div",{innerHTML:o}).childNodes:o}}function nv(e,t,i){let s=document.getElementById(e);if(s){let e=s.getElementsByClassName("blazor-inner-template");for(let t=0;t<e.length;t++){let s=" ";s=Qy(i)?e[t].getAttribute("data-templateId"):e[i].getAttribute("data-templateId");let n=document.getElementById(s);if(n){let s=n.childNodes.length;for(let r=0;r<s;r++)Qy(i)?e[t].appendChild(n.childNodes[0]):(e[i].appendChild(n.childNodes[0]),t=e.length)}}}}let rv={compile:(new class{compile(e,t={}){return function(e,t){let i=function(e,t,i){let s=0,n=[],r=e.match(/class="([^\"]+|)\s{2}/g),a="";return r&&r.forEach(t=>{a=t.replace(/\s\s+/g," "),e=e.replace(t,a)}),e.replace(Rb,"").replace(jb,"'$1'").replace(Yb,(e,t,r,a)=>{let o=t.match(Bb);if(o){let e=o[1];if(Ob.test(t))t='";} '+t.replace(o[1],e.replace(Hb,e=>$b(e=e.trim(),!Pb.test(e)&&-1===n.indexOf(e),"data",n)))+'{ \n str = str + "';else if(Ib.test(t))t='"; '+t.replace(o[1],e.replace(Wb,e=>Jb(e,"data",n)))+'{ \n str = str + "';else if(Vb.test(t)){let e=o[1].split(" of ");t='"; '+t.replace(o[1],t=>(n.push(e[0]),n.push(e[0]+"Index"),s+=1,"var i"+s+"=0; i"+s+" < "+$b(e[1],!0,"data",n)+".length; i"+s+"++"))+"{ \n "+e[0]+"= "+$b(e[1],!0,"data",n)+"[i"+s+"]; \n var "+e[0]+"Index=i"+s+'; \n str = str + "'}else{let s=t.split("("),r=i&&i.hasOwnProperty(s[0])?"this.":"global";r=/\./.test(s[0])?"":r;let a=o[1].split(",");0===o[1].length||/data/.test(a[0])||/window./.test(a[0])||(o[1]="global"===r?"data."+o[1]:o[1]);let l=/\@|\$|\#/gm,h=/\]\./gm;Zb.test(t)&&h.test(t)||l.test(t)?/\@|\$|\#|\]\./gm.test(t)&&(t='"+ '+("global"===r?"":r)+t.replace(o[1],e.replace(Xb,e=>Jb(e,"data",n)))+'+ "'):t='" + '+("global"===r?"":r)+t.replace(e,$b(o[1].replace(/,( |)data.|,/gi,",data.").replace(/,( |)data.window/gi,",window"),"global"!==r,"data",n))+'+"'}}else Nb.test(t)?t='"; '+t.replace(Nb,'} else { \n str = str + "'):t.match(Fb)?t=t.replace(Fb,'"; \n } \n str = str + "'):/\@|\#|\$/gm.test(t)?(t.match(Ub)&&(t=Qb(t)),t='"+'+Kb(t,-1===n.indexOf(t),"data",n)+'"]+"'):t=t.match(Ub)?'"+'+Kb(t=Qb(t),-1===n.indexOf(t),"data",n)+'"]+"':'"+'+$b(t.replace(/\,/gi,"+data."),-1===n.indexOf(t),"data",n)+'+"';return t})}(e,0,t);return new Function("data",`var str="${i}"; return str;`).bind(t)}(e,t)}}).compile};const av=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ov=/(?:#([\w-]+)|(\w+)|\.([\w-]+))/g,lv=/^(\.|#)/,hv={".":"className","#":"id"},cv={className:"attributes.className",id:"attributes.id",tagName:"tagName"},dv=["area","base","basefont","br","col","frame","hr","img","input","link","meta","param","embed","command","keygen","source","track","wbr"],uv=["a","address","article","applet","aside","audio","blockquote","button","canvas","center","dd","del","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","ins","isindex","li","map","menu","noframes","noscript","object","ol","output","p","pre","section","script","table","tbody","td","tfoot","th","thead","tr","ul","video"],pv=["abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","script","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],mv=["colgroup","dd","dt","li","options","p","td","tfoot","th","thead","tr"],gv=["checked","compact","declare","defer","disabled","ismap","multiple","nohref","noresize","noshade","nowrap","readonly","selected"],fv=["Script","style"],yv={tabindex:"tabIndex"},bv=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,vv=/^<\/([-A-Za-z0-9_]+)[^>]*>/,wv=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;var xv;!function(e){function t(e,t){t&&e&&e.forEach(e=>(Zy(e)&&(e.parent&&i(e),e.parent=t),e))}function i(e){let t=e.parent;if(t){let i=t.children.indexOf(e);-1!==i&&t.children.splice(i)}return t}function s(e,t){let i=e.match(lv),s={};if(i){let n=hv[i[0]];if("className"===n){let i=t.filter(e=>e.hasOwnProperty("className"))[0],s=!1;i||(s=!0,i={}),i[n]=(i[n]||"")+"(?=.*?\\b{value}\\b)".replace("{value}",e.replace(".","")),s&&t.push(i)}else s[n]=e.replace(i[0],""),t.push(s)}else t.push({tagName:e})}function n(e,t,i,s){if(e.children){let r=e.children.filter((function(e){if("string"!=typeof e){let i=!0;for(let s of t){let t=Object.keys(s)[0],n=s[t],r=Gy(cv[t],e);if("className"===t){if(!new RegExp("^"+n+".*$").test(r)){i=!1;break}}else if(r!==n){i=!1;break}}return i}return!1}));return s||r.length&&!i||e.children.forEach(e=>{Zy(e)&&(r=r.concat(n(e,t,i)))}),r}return[]}function r(e){let t,i=[],s=[],n=[];for(;e;){t=!0;let i=a(s);if(i&&o(fv,i))e=e.replace(new RegExp("([\\s\\S]*?)</"+a(n)+"[^>]*>"),(e,t)=>(h(t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2")),"")),l(0,a(s));else{if(0===e.indexOf("</")){let i=e.match(vv);i&&(e=e.substring(i[0].length),i[0].replace(vv,l)),t=!1}else if(0===e.indexOf("<")){let i=e.match(bv);i&&(e=e.substring(i[0].length),i[0].replace(bv,r)),t=!1}if(t){let t=e.indexOf("<"),i=t<0?e:e.substring(0,t);e=t<0?"":e.substring(t),h(i)}}}function r(e,t,r){if(t=t.toLowerCase(),o(uv,t))for(;a(s)&&o(pv,a(s));)l(0,a(s));o(mv,t)&&a(s)&&l(0,t);let h=o(dv,t);h||s.push(t);let c={};r.replace(wv,(function(e,t,...i){let s=i[2]?i[2]:i[3]?i[3]:i[4]?i[4]:o(gv,t)?t:"";if("style"===t){let e=s.split(";"),t={};for(let i=0,s=e.length;i<s;i++){let s=e[i].split(":");t[s[0]]=s[1]}s=t}c[t=yv[t]||t]=s})),c["data-id"]=iv();let d={tagName:t,attributes:c};if(h){let e=n[0]||i;void 0===e.children&&(e.children=[]),d.parent=e,e.children.push(d)}else n.unshift(d)}function l(e,t){let r;if(t)for(r=s.length-1;r>=0&&s[r]!==t;r--);else r=0;if(r>=0){for(let e=n.length-1;e>=r;e--){let e=n.shift();if(0===n.length)i.push(e);else{let t=n[0];void 0===t.children&&(t.children=[]),e.parent=t,t.children.push(e)}}s.length=r}}function h(e){if(0===n.length)i.push(e);else{let t=n[0];void 0===t.children&&(t.children=[]),t.children.push(e)}}return i}function a(e){return e[e.length-1]}function o(e,t){return-1!==e.indexOf(t)}e.createElement=function(e,t){let i=[],s=Ky({},{},t,!0);if(!Qy(t)&&Object.keys(t).length&&(s.innerHTML&&(i=r(s.innerHTML),delete s.innerHTML),s.attrs&&(Ky(s,s.attrs),delete s.attrs),s.styles)){let e=s.styles.split(";"),t={};for(let i=0,s=e.length;i<s;i++){let s=e[i].split(":");t[s[0]]=s[1]}delete s.styles,s.style=t}return{tagName:e,attributes:s||{},children:i}},e.assignParent=t,e.append=function(e,i){t(e,i),i.children=i.children?i.children.concat(e):[].concat(e)},e.prepend=function(e,i){if(t(e,i),i.children&&i.children.length)for(let t=e.length-1;t>=0;t--)i.children.unshift(e[t]);else i.children=[],i.children.concat(e)},e.detach=i,e.vDomSelector=function e({ele:t,selector:i,selectAll:r,immediateParent:a}){let o=i.split(" "),l=t;for(let h=0,c=o.length;h<c;h++){let i=!1,c=l,d=o[h],u=[];if(av.test(d))s(d,u);else if(-1===d.indexOf(">")){let e=d.match(ov);for(let t of e)s(t,u)}else if(-1!==d.indexOf(">")){i=!0;let s,n=d.split(">"),a=t,o=0;for(let t of n){if(!a)break;if(a.length){let i=[];for(let s of a)i=i.concat(e({ele:s,selector:t,selectAll:r,immediateParent:!!o}));s=i}else s=e({ele:a,selector:t,selectAll:r,immediateParent:!!o});o++,a=s}s&&(l=s)}if(!i)if(c.length){let e=[];for(let t of c)e=e.concat(n(t,u,r,a));l=e}else l=n(c,u,r,a)}return r?l:l[0]||null},e.accessElement=n,e.ConvertHTMLToJSon=r,e.cloneNode=function(e,t){return Zy(e)?t?Ky({},{},e,!0):{tagName:e.tagName,attributes:e.attributes}:e.cloneNode(t)},e.setStyleAttribute=function(e,t){e.attributes.style=Ky(e.attributes.style?{}:e.attributes.style,t)}}(xv||(xv={}));const _v=/^svg|^path|^g/;function Sv(e,t){let i=_v.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return void 0===t?i:(i.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(i.className=t.className),void 0!==t.id&&(i.id=t.id),void 0!==t.styles&&i.setAttribute("style",t.styles),void 0!==t.attrs&&Pv(i,t.attrs),i)}function Cv(e,t){let i=Dv(t);for(let s of e)for(let e of i)if(Zy(s)){let t=Gy("attributes.className",s);Qy(t)?Xy("attributes.className",e,s):new RegExp("\\b"+e+"\\b","i").test(t)||Xy("attributes.className",t+" "+e,s)}else s.classList.contains(e)||s.classList.add(e);return e}function Ev(e,t){let i=Dv(t);for(let s of e){let e=Zy(s);if(e?Gy("attributes.className",s):""!==s.className)for(let t of i)if(e){let e=Gy("attributes.className",s).split(" "),i=e.indexOf(t);-1!==i&&e.splice(i,1),Xy("attributes.className",e.join(" "),s)}else s.classList.remove(t)}return e}function Dv(e){let t=[];return"string"==typeof e?t.push(e):t=e,t}function kv(e){return""===e.style.visibility&&e.offsetWidth>0}function Av(e,t,i){if(Zy(t))xv.prepend(e,t);else{let s=document.createDocumentFragment();for(let t of e)s.appendChild(t);t.insertBefore(s,t.firstElementChild),i&&Lv(t)}return e}function Mv(e,t,i){if(Zy(t))xv.append(e,t);else{let s=document.createDocumentFragment();for(let t of e)s.appendChild(t);t.appendChild(s),i&&Lv(t)}return e}function Lv(e){e.querySelectorAll("script").forEach(e=>{let t=document.createElement("script");t.text=e.innerHTML,document.head.appendChild(t),Tv(t)})}function Tv(e){return Zy(e)?xv.detach(e):e.parentNode.removeChild(e)}function Rv(e){if(Zy(e))xv.detach(e);else{let t=e.parentNode;Tb.clearEvents(e),t.removeChild(e)}}function Pv(e,t){let i=Object.keys(t),s=e;for(let n of i)if(Zy(s)){let e=n;"tabindex"===n&&(e="tabIndex"),s.attributes[e]=t[n]}else s.setAttribute(n,t[n]);return s}function Iv(e,t=document,i){return Zy(t)&&i?xv.vDomSelector({ele:t,selector:e,selectAll:!1}):t.querySelector(e)}function Ov(e,t=document,i){return Zy(t)&&!i?xv.vDomSelector({ele:t,selector:e,selectAll:!0}):t.querySelectorAll(e)}function Nv(e,t){let i=e;if("function"==typeof i.closest)return i.closest(t);for(;i&&1===i.nodeType;){if(Bv(i,t))return i;i=i.parentNode}return null}function Vv(e,t){void 0!==t&&(Zy(e)?xv.setStyleAttribute(e,t):Object.keys(t).forEach(i=>{e.style[i]=t[i]}))}function Fv(e,t,i){Cv([e],t),Ev([e],i)}function Bv(e,t){let i=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return i?i.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}const zv=new RegExp("]");class Hv{constructor(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=()=>{},this.childChangedProperties={},this.modelObserver=new xb(this),Jy(t)||(this.element="string"==typeof t?document.querySelector(t):t,Qy(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Jy(e)||this.setProperties(e,!0),this.isDestroyed=!1}setProperties(e,t){let i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,$y(this,e),!0!==t&&($y(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i}static callChildDataBind(e,t){let i=Object.keys(e);for(let s of i)if(t[s]instanceof Array)for(let e of t[s])void 0!==e.dataBind&&e.dataBind();else t[s].dataBind()}clearChanges(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}}dataBind(){if(Hv.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){let e=this.isProtectedOnChange,t=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(t,i),this.isProtectedOnChange=e}}serverDataBind(e){}saveChanges(e,t,i){this.isProtectedOnChange||(this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(e){let t,i=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(i);let s="ej2"+function(e){let t="";for(let i=0;i<5;i++)t+=(i?",":"")+e[i];return t}(i),n=i=>{i.source===window&&"string"==typeof i.data&&i.data.length<=32&&i.data===s&&(e(),t())};return window.addEventListener("message",n,!1),window.postMessage(s,"*"),t=()=>{window.removeEventListener("message",n),e=n=s=void 0}}(this.dataBind.bind(this)))}addEventListener(e,t){this.modelObserver.on(e,t)}removeEventListener(e,t){this.modelObserver.off(e,t)}trigger(e,t,i,s){if(!0!==this.isDestroyed){let n=this.isProtectedOnChange;this.isProtectedOnChange=!1;let r=this.modelObserver.notify(e,t,i,s);if(zv.test(e)){let n=Gy(e,this);if(n)if(window.Blazor){let e=n.call(this,t);e&&"function"==typeof e.then?i?e.then(e=>{i&&(e="string"==typeof e&&this.modelObserver.isJson(e)?JSON.parse(e):e,i.call(this,e))}).catch(e=>{s&&(e="string"==typeof e&&this.modelObserver.isJson(e)?JSON.parse(e):e,s.call(this,e))}):r=e:i&&i.call(this,t)}else n.call(this,t),i&&i.call(this,t);else i&&i.call(this,t)}return this.isProtectedOnChange=n,r}}addInstance(){let e="e-"+this.getModuleName().toLowerCase();Cv([this.element],["e-lib",e]),Qy(this.element.ej2_instances)?Xy("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)}destroy(){this.element.ej2_instances=this.element.ej2_instances.filter(e=>e!==this),Ev([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&Ev([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0}}const jv=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,Wv=/msie|trident/i,Yv=/Trident\/7\./,qv=/(ipad|iphone|ipod touch)/i,Uv=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,Gv=/android/i,Xv=/trident|windows phone|edge/i,Zv=/(version)[ \/]([\w.]+)/i,$v={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});let Kv=(()=>{class e{static extractBrowserDetail(){let t={culture:{}},i=Object.keys($v),s=[];for(let n of i)if(s=e.userAgent.match($v[n]),s){if(t.name="opr"===s[1].toLowerCase()?"opera":s[1].toLowerCase(),t.name="crios"===s[1].toLowerCase()?"chrome":t.name,t.version=s[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(Yv)){t.name="msie";break}let i=e.userAgent.match(Zv);"safari"===t.name&&i&&(t.version=i[2]);break}return t}static getEvent(t){let i={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?i[t].isPointer:e.isTouch?i[t].isTouch+(e.isDevice?"":" "+i[t].isDevice):i[t].isDevice}static getTouchStartEvent(){return e.getEvent("start")}static getTouchEndEvent(){return e.getEvent("end")}static getTouchMoveEvent(){return e.getEvent("move")}static getTouchCancelEvent(){return e.getEvent("cancel")}static getValue(t,i){let s=window.browserDetails;return void 0===s[t]?s[t]=i.test(e.userAgent):s[t]}static set userAgent(t){e.uA=t,window.browserDetails={}}static get userAgent(){return e.uA}static get info(){return Jy(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info}static get isIE(){return e.getValue("isIE",Wv)}static get isTouch(){return Jy(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window:window.browserDetails.isTouch}static get isPointer(){return Jy(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer}static get isMSPointer(){return Jy(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer}static get isDevice(){return e.getValue("isDevice",jv)}static get isIos(){return e.getValue("isIos",qv)}static get isIos7(){return e.getValue("isIos7",Uv)}static get isAndroid(){return e.getValue("isAndroid",Gv)}static get isWebView(){return Jy(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(Jy(window.cordova)&&Jy(window.PhoneGap)&&Jy(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView}static get isWindows(){return e.getValue("isWindows",Xv)}static get touchStartEvent(){return Jy(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent}static get touchMoveEvent(){return Jy(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent}static get touchEndEvent(){return Jy(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent}static get touchCancelEvent(){return Jy(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent}}return e.uA="undefined"!=typeof navigator?navigator.userAgent:"",e})();function Qv(e,t,i,s){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof s||(e.properties[t]=Uy(s,[e,t,i])),e.properties[t]}function Jv(e,t,i,s,n,r){let a=[],o=i?i.length:0;for(let l=0;l<o;l++){let o=s;if(r&&(o=s(i[l],e)),n){let s=Uy(o,[e,t,{},!0]);s.setProperties(i[l],!0),a.push(s)}else a.push(Uy(o,[e,t,i[l],!1]))}return a}function ew(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=e),this.properties[t]}}function tw(e,t){return function(i){if(this.properties[t]!==i){let s=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,i,s),this.properties[t]=i}}}function iw(e,t,i){return function(){return Qv(this,t,e,i)}}function sw(e,t,i){return function(s){Qv(this,t,e,i).setProperties(s)}}function nw(e,t,i){return function(){if(!this.properties.hasOwnProperty(t)){let s=Jv(this,t,e,i,!1);this.properties[t]=s}let s=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return this.properties[t].hasOwnProperty("push")||s||["push","pop"].forEach(e=>{let i={value:aw(e,t,0,this.properties[t]).bind(this),configurable:!0};Object.defineProperty(this.properties[t],e,i)}),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[t],"isComplexArray",{value:!0}),this.properties[t]}}function rw(e,t,i){return function(s){this.isComplexArraySetter=!0;let n=Jv(this,t,e,i,!1),r=Jv(this,t,s,i,!0);this.isComplexArraySetter=!1,this.saveChanges(t,r,n),this.properties[t]=r}}function aw(e,t,i,s){return function(...i){let n=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(e){case"push":for(let r=0;r<i.length;r++){Array.prototype[e].apply(s,[i[r]]);let t=ow(n+(s.length-1),i[r],!this.controlParent,e);this.serverDataBind(t,i[r],!1,e)}break;case"pop":Array.prototype[e].apply(s);let t=ow(n+s.length,null,!this.controlParent,e);this.serverDataBind(t,{ejsAction:"pop"},!1,e)}return s}}function ow(e,t,i,s){let n=e;return i&&(n={},n[e]=t,t&&"object"==typeof t)&&(n[e].ejsAction=s),n}function lw(e){return(t,i)=>{let s={set:tw(e,i),get:ew(e,i),enumerable:!0,configurable:!0};Object.defineProperty(t,i,s),pw(t,i,"prop",e)}}function hw(e,t){return(i,s)=>{let n={set:sw(e,s,t),get:iw(e,s,t),enumerable:!0,configurable:!0};Object.defineProperty(i,s,n),pw(i,s,"complexProp",e,t)}}function cw(e,t){return(i,s)=>{let n={set:rw(e,s,t),get:nw(e,s,t),enumerable:!0,configurable:!0};Object.defineProperty(i,s,n),pw(i,s,"colProp",e,t)}}function dw(){return(e,t)=>{let i={set:function(e){let i=this.properties[t];if(i!==e){let s=function e(t,i){if(!1===t.hasOwnProperty("parentObj"))return{context:t,prefix:i};{let s=Gy("propName",t);return s&&(i=s+"-"+i),e(Gy("parentObj",t),i)}}(this,t);!1===Jy(i)&&s.context.removeEventListener(s.prefix,i),s.context.addEventListener(s.prefix,e),this.properties[t]=e}},get:ew(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),pw(e,t,"event")}}function uw(e){}function pw(e,t,i,s,n){Jy(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[i+"s"].push({propertyName:t,defaultValue:s,type:n}),e.propList[i+"Names"].push(t)}var mw;let gw=(()=>{let e=mw=class extends Hv{constructor(e){super(e,void 0),this.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"}}animate(e,t){let i=this.getModel(t=t||{});if("string"==typeof e){let t=Array.prototype.slice.call(Ov(e,document));for(let e of t)i.element=e,mw.delayAnimation(i)}else i.element=e,mw.delayAnimation(i)}static stop(e,t){e.style.animation="",e.removeAttribute("e-animate");let i=e.getAttribute("e-animation-id");if(i){let t=parseInt(i,10);cancelAnimationFrame(t),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)}static delayAnimation(e){e.delay?setTimeout(()=>{mw.applyAnimation(e)},e.delay):mw.applyAnimation(e)}static applyAnimation(e){e.timeStamp=0;let t=0,i=0,s=0,n=0,r=e.duration;e.element.setAttribute("e-animate","true");let a=o=>{try{if(o){n=0===n?o:n,e.timeStamp=o+e.timeStamp-n,n=o,!t&&e.begin&&e.begin.call(this,e),t+=1;let s=e.timeStamp/t;e.timeStamp<r&&e.timeStamp+s<r&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(this,e),requestAnimationFrame(a)):(cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(this,e))}else s=performance.now(),i=requestAnimationFrame(a),e.element.setAttribute("e-animation-id",i.toString())}catch(l){cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(this,l)}};a()}getModel(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}}onPropertyChanged(e,t){}getModuleName(){return"animation"}destroy(){}};return Wy([lw("FadeIn")],e.prototype,"name",void 0),Wy([lw(400)],e.prototype,"duration",void 0),Wy([lw("ease")],e.prototype,"timingFunction",void 0),Wy([lw(0)],e.prototype,"delay",void 0),Wy([dw()],e.prototype,"progress",void 0),Wy([dw()],e.prototype,"begin",void 0),Wy([dw()],e.prototype,"end",void 0),Wy([dw()],e.prototype,"fail",void 0),e=mw=Wy([uw],e),e})();function fw(e,t,i){let s=function(e){return{selector:e&&e.selector?e.selector:null,ignore:e&&e.ignore?e.ignore:null,rippleFlag:e&&e.rippleFlag,isCenterRipple:e&&e.isCenterRipple,duration:e&&e.duration?e.duration:350}}(t);return!1===s.rippleFlag||void 0===s.rippleFlag&&!xw?Function:(e.setAttribute("data-ripple","true"),Tb.add(e,"mousedown",yw,{parent:e,rippleOptions:s}),Tb.add(e,"mouseup",bw,{parent:e,rippleOptions:s,done:i}),Tb.add(e,"mouseleave",vw,{parent:e,rippleOptions:s}),Kv.isPointer&&Tb.add(e,"transitionend",vw,{parent:e,rippleOptions:s}),()=>{e.removeAttribute("data-ripple"),Tb.remove(e,"mousedown",yw),Tb.remove(e,"mouseup",bw),Tb.remove(e,"mouseleave",vw),Tb.remove(e,"transitionend",vw)})}function yw(e){let t=e.target,i=this.rippleOptions.selector,s=i?Nv(t,i):t;if(!s||this.rippleOptions&&Nv(t,this.rippleOptions.ignore))return;let n=s.getBoundingClientRect(),r=e.pageX-document.body.scrollLeft,a=e.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),o=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),l=Math.max(Math.abs(a-n.top),Math.abs(a-n.bottom)),h=Math.sqrt(o*o+l*l),c=2*h+"px",d=r-n.left-h,u=a-n.top-h;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(d=0,u=0,c="100%"),s.classList.add("e-ripple");let p=Sv("div",{className:"e-ripple-element",styles:"width: "+c+";height: "+c+";left: "+d+"px;top: "+u+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});s.appendChild(p),window.getComputedStyle(p).getPropertyValue("opacity"),p.style.transform="scale(1)",s!==this.parent&&Tb.add(s,"mouseleave",vw,{parent:this.parent,rippleOptions:this.rippleOptions})}function bw(e){ww(e,this)}function vw(e){ww(e,this)}function ww(e,t){let i=t.rippleOptions.duration,s=e.target,n=t.rippleOptions.selector,r=n?Nv(s,n):s;if(!r||r&&-1===r.className.indexOf("e-ripple"))return;let a=Ov(".e-ripple-element",r),o=a[a.length-1];o&&(o.style.opacity="0.5"),t.parent!==r&&Tb.remove(r,"mouseleave",vw),setTimeout(()=>{o&&o.parentNode&&o.parentNode.removeChild(o),r.getElementsByClassName("e-ripple-element").length||r.classList.remove("e-ripple"),t.done&&t.done(e)},i)}let xw=!1;class _w{constructor(e){this.loadedModules=[],this.parent=e}inject(e,t){let i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(let s=0;s<i;s++){let i=e[s];for(let e of t){let t=i.member;if(e.prototype.getModuleName()===i.member&&!this.isModuleLoaded(t)){let s=Uy(e,i.args),n=this.getMemberName(t);Xy(n,i.isProperty?e:s,this.parent);let r=i;r.member=n,this.loadedModules.push(r)}}}}else this.clean()}clean(){for(let e of this.loadedModules)e.isProperty||Gy(e.member,this.parent).destroy();this.loadedModules=[]}clearUnusedModule(e){let t=e.map(e=>this.getMemberName(e.member)),i=this.loadedModules.filter(e=>-1===t.indexOf(e.member));for(let s of i)s.isProperty||Gy(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),delete this.parent[s.member]}getMemberName(e){return e[0].toLowerCase()+e.substring(1)+"Module"}isModuleLoaded(e){for(let t of this.loadedModules)if(t.member===this.getMemberName(e))return!0;return!1}}class Sw{constructor(e,t,i,s){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=()=>{},this.callChildDataBind=Gy("callChildDataBind",Hv),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=s,this.setProperties(i,!0)}updateChange(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)}updateTimeOut(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{let e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=()=>{clearTimeout(e)}}}clearChanges(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}}setProperties(e,t){!0===t?($y(this,e),this.updateChange(!1,this.propName),this.clearChanges()):$y(this,e)}dataBind(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){let e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Xy(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),Xy(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()}saveChanges(e,t,i,s){this.controlParent.isProtectedOnChange||(s||this.serverDataBind(e,t,!0),this.oldProperties[e]=i,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())}serverDataBind(e,t,i,s){}getParentKey(e){let t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);let s=this.parentObj[this.propName].length;s=e?s:s>0?s-1:0,t=-1!==t?"-"+t:"-"+s,i+=t}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i}}let Cw,Ew=0,Dw=0,kw=(()=>{let e=class extends Hv{constructor(e,t){super(e,t),this.randomId=function(){if("undefined"==typeof window)return;let e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}(),this.isStringTemplate=!1,this.needsID=!1,this.isReactHybrid=!1,Qy(this.enableRtl)&&this.setProperties({enableRtl:!1},!0),Qy(this.locale)&&this.setProperties({locale:"en-US"},!0),this.moduleLoader=new _w(this),this.localObserver=new xb(this),_b.on("notifyExternalChange",this.detectFunction,this,this.randomId),Jy(t)||this.appendTo()}requiredModules(){return[]}destroy(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(Ev([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),super.destroy(),this.moduleLoader.clean(),_b.off("notifyExternalChange",this.detectFunction,this.randomId)))}refresh(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new xb(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1}accessMount(){this.mount&&!this.isReactHybrid&&this.mount()}getRootElement(){return this.isReactHybrid?this.actualElement:this.element}appendTo(e){if(Qy(e)||"string"!=typeof e?Qy(e)||(this.element=e):this.element=document.querySelector(e),!Qy(this.element)){let e="e-"+this.getModuleName().toLowerCase();Cv([this.element],["e-control",e]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));let t=Gy("ej2_instances",this.element);t&&-1!==t.indexOf(this)||super.addInstance(),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}}renderComplete(e){this.isRendered=!0}dataBind(){this.injectModules(),super.dataBind()}on(e,t,i){if("string"==typeof e)this.localObserver.on(e,t,i);else for(let s of e)this.localObserver.on(s.event,s.handler,s.context)}off(e,t){if("string"==typeof e)this.localObserver.off(e,t);else for(let i of e)this.localObserver.off(i.event,i.handler)}notify(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)}getInjectedModules(){return this.injectedModules}static Inject(...e){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(let t=0;t<e.length;t++)-1===this.prototype.injectedModules.indexOf(e[t])&&this.prototype.injectedModules.push(e[t])}createElement(e,t,i){return i&&this.isReactHybrid?(t&&(t={}),t["data-id"]=iv(),xv.createElement(e,t)):Sv(e,t)}triggerStateChange(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})}injectModules(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)}detectFunction(e){let t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])}mergePersistData(){let e=window.localStorage.getItem(this.getModuleName()+this.element.id);Qy(e)||""===e||this.setProperties(JSON.parse(e),!0)}setPersistData(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())}clearTemplate(e,t){}getUniqueID(e){return this.isHistoryChanged()&&(Ew=0),Cw=this.pageID(location.href),Dw=history.length,e+"_"+Cw+"_"+Ew++}pageID(e){let t=0;if(0===e.length)return t;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return Math.abs(t)}isHistoryChanged(){return Cw!==this.pageID(location.href)||Dw!==history.length}addOnPersist(e){let t={};for(let i of e){let e;e=Gy(i,this),Jy(e)||Xy(i,this.getActualProperties(e),t)}return JSON.stringify(t,(e,t)=>this.getActualProperties(t))}getActualProperties(e){return e instanceof Sw?Gy("properties",e):e}ignoreOnPersist(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))}iterateJsonProperties(e,t){let i={};for(let s of Object.keys(e))if(-1===t.indexOf(s)){let n=e[s];if("object"!=typeof n||n instanceof Array)i[s]=n;else{let e=t.filter(e=>new RegExp(s+".").test(e)).map(e=>e.replace(s+".",""));i[s]=this.iterateJsonProperties(this.getActualProperties(n),e)}}return i}};return Wy([lw(!1)],e.prototype,"enablePersistence",void 0),Wy([lw()],e.prototype,"enableRtl",void 0),Wy([lw()],e.prototype,"locale",void 0),e=Wy([uw],e),e})();var Aw;"undefined"!=typeof window&&window.addEventListener("popstate",()=>{Ew=0});const Mw={left:0,top:0,bottom:0,right:0},Lw={isDragged:!1};let Tw=(()=>{class e extends Sw{}return Wy([lw(0)],e.prototype,"left",void 0),Wy([lw(0)],e.prototype,"top",void 0),e})(),Rw=(()=>{let e=Aw=class extends Hv{constructor(e,t){super(t,e),this.dragLimit=Aw.getDefaultPosition(),this.borderWidth=Aw.getDefaultPosition(),this.padding=Aw.getDefaultPosition(),this.diffX=0,this.prevLeft=0,this.prevTop=0,this.dragProcessStarted=!1,this.tapHoldTimer=0,this.externalInitialize=!1,this.diffY=0,this.parentScrollX=0,this.parentScrollY=0,this.droppables={},this.bind()}bind(){this.toggleEvents(),Kv.isIE&&Cv([this.element],"e-block-touch"),this.droppables[this.scope]={}}static getDefaultPosition(){return Ky({},Mw)}toggleEvents(e){let t;Jy(this.handle)||(t=Iv(this.handle,this.element));let i=this.enableTapHold&&Kv.isDevice&&Kv.isTouch?this.mobileInitialize:this.initialize;e?Tb.remove(t||this.element,Kv.touchStartEvent,i):Tb.add(t||this.element,Kv.touchStartEvent,i,this)}mobileInitialize(e){let t=e.currentTarget;this.tapHoldTimer=setTimeout(()=>{this.externalInitialize=!0,this.removeTapholdTimer(),this.initialize(e,t)},this.tapHoldThreshold),Tb.add(document,Kv.touchMoveEvent,this.removeTapholdTimer,this),Tb.add(document,Kv.touchEndEvent,this.removeTapholdTimer,this)}removeTapholdTimer(){clearTimeout(this.tapHoldTimer),Tb.remove(document,Kv.touchMoveEvent,this.removeTapholdTimer),Tb.remove(document,Kv.touchEndEvent,this.removeTapholdTimer)}getScrollableParent(e,t){return Qy(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY):this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),Qy(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)}getScrollableValues(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")}initialize(e,t){if(this.currentStateTarget=e.target,this.isDragStarted())return;if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){let t=this.abort;"string"==typeof t&&(t=[t]);for(let i=0;i<t.length;i++)if(!Qy(Nv(e.target,t[i])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!Jy(e.changedTouches)&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");let i=this.getCoordinates(e);if(this.initialPosition={x:i.pageX,y:i.pageY},!this.clone){let t=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=i.pageX-(t.left+this.parentScrollX),this.relativeYPosition=i.pageY-(t.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(Tb.add(document,Kv.touchMoveEvent,this.intDragStart,this),Tb.add(document,Kv.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,Tb.trigger(document.documentElement,Kv.touchStartEvent,e)}intDragStart(e){this.removeTapholdTimer();let t=!Jy(e.changedTouches);if(t&&1!==e.changedTouches.length)return;t&&e.preventDefault();let i,s=this.getCoordinates(e),n=getComputedStyle(this.element);this.margin={left:parseInt(n.marginLeft,10),top:parseInt(n.marginTop,10),right:parseInt(n.marginRight,10),bottom:parseInt(n.marginBottom,10)};let r=this.element;if(this.clone&&this.dragTarget){let t=Nv(e.target,this.dragTarget);Qy(t)||(r=t)}this.offset=this.calculateParentPosition(r),this.position=this.getMousePosition(e,this.isDragScroll);let a=this.initialPosition.x-s.pageX,o=this.initialPosition.y-s.pageY;if(Math.sqrt(a*a+o*o)>=this.distance||this.externalInitialize){let t=this.getHelperElement(e);if(!t||Qy(t))return;let s=this.helperElement=t;if(this.parentClientRect=this.calculateParentPosition(s.offsetParent),this.dragStart){let t={event:e,element:r,target:this.getProperTargetElement(e),bindEvents:null,dragElement:s};this.trigger("dragStart",t)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),i={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();let n=this.getProcessedPositionValue({top:i.top-this.diffY+"px",left:i.left-this.diffX+"px"});this.dragElePosition={top:i.top,left:i.left},Vv(s,this.getDragPosition({position:"absolute",left:n.left,top:n.top})),Tb.remove(document,Kv.touchMoveEvent,this.intDragStart),Tb.remove(document,Kv.touchEndEvent,this.intDestroy),this.bindDragEvents(s)}}bindDragEvents(e){kv(e)?(Tb.add(document,Kv.touchMoveEvent,this.intDrag,this),Tb.add(document,Kv.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}elementInViewport(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)this.top+=(e=e.offsetParent).offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth}getProcessedPositionValue(e){return this.queryPositionInfo?this.queryPositionInfo(e):e}calculateParentPosition(e){if(Qy(e))return{left:0,top:0};let t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}}intDrag(e){if(!Jy(e.changedTouches)&&1!==e.changedTouches.length)return;let t,i;this.position=this.getMousePosition(e,this.isDragScroll);let s=this.getDocumentWidthHeight("Height");s<this.position.top&&(this.position.top=s);let n=this.getDocumentWidthHeight("Width");if(n<this.position.left&&(this.position.left=n),this.drag){let t=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:t})}let r=this.checkTargetElement(e);if(r.target&&r.instance){let t=!0;this.hoverObject&&(this.hoverObject.instance!==r.instance?this.triggerOutFunction(e,r):t=!1),t&&(r.instance.dragData[this.scope]=this.droppables[this.scope],r.instance.intOver(e,r.target),this.hoverObject=r)}else this.hoverObject&&this.triggerOutFunction(e,r);let a=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);let o=this.parentClientRect.left,l=this.parentClientRect.top,h=this.getCoordinates(e),c=h.pageX,d=h.pageY,u=this.position.left-this.diffX,p=this.position.top-this.diffY;if(this.dragArea){let e=getComputedStyle(a);if(this.pageX!==c||this.skipDistanceCheck){let i=a.offsetWidth+(parseFloat(e.marginLeft)+parseFloat(e.marginRight));t=this.dragLimit.left>u&&u>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<u+i&&u>0?u-(u-this.dragLimit.right)+window.pageXOffset-i:u<0?this.dragLimit.left:u}if(this.pageY!==d||this.skipDistanceCheck){let t=a.offsetHeight+(parseFloat(e.marginTop)+parseFloat(e.marginBottom));i=this.dragLimit.top>p&&p>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<p+t&&p>0?p-(p-this.dragLimit.bottom)+window.pageYOffset-t:p<0?this.dragLimit.top:p}}else t=u,i=p;let m,g,f=l+this.borderWidth.top,y=o+this.borderWidth.left;this.dragProcessStarted&&(Qy(i)&&(i=this.prevTop),Qy(t)&&(t=this.prevLeft)),this.dragArea?(m=i-f<0?this.dragLimit.top:i-f,g=t-y<0?this.dragElePosition.left:t-y):(m=i-f,g=t-y);let b=this.getProcessedPositionValue({top:m+"px",left:g+"px"});Vv(a,this.getDragPosition(b)),!this.elementInViewport(a)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=c,this.pageY=d}triggerOutFunction(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null}getDragPosition(e){let t=Ky({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t}getDocumentWidthHeight(e){let t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])}intDragStop(e){if(this.dragProcessStarted=!1,!Jy(e.changedTouches)&&1!==e.changedTouches.length)return;if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){let t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");let t=this.checkTargetElement(e);t.target&&t.instance&&(t.instance.dragStopCalled=!0,t.instance.dragData[this.scope]=this.droppables[this.scope],t.instance.intDrop(e,t.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}intDestroy(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),Tb.remove(document,Kv.touchMoveEvent,this.intDragStart),Tb.remove(document,Kv.touchEndEvent,this.intDragStop),Tb.remove(document,Kv.touchEndEvent,this.intDestroy),Tb.remove(document,Kv.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)}onPropertyChanged(e,t){}getModuleName(){return"draggable"}isDragStarted(e){return e&&(Lw.isDragged=!Lw.isDragged),Lw.isDragged}setDragArea(){let e,t,i,s=0,n=0;if(i="string"==typeof this.dragArea?Iv(this.dragArea):this.dragArea,i){let r=i.getBoundingClientRect();e=i.scrollWidth?i.scrollWidth:r.right-r.left,t=i.scrollHeight?i.scrollHeight:r.bottom-r.top;let a=["Top","Left","Bottom","Right"],o=getComputedStyle(i);for(let e=0;e<a.length;e++){let t=a[e],i=o["border"+t+"Width"],s=o["padding"+t],n=t.toLowerCase();this.borderWidth[n]=isNaN(parseFloat(i))?0:parseFloat(i),this.padding[n]=isNaN(parseFloat(s))?0:parseFloat(s)}s=r.top,n=r.left,this.dragLimit.left=n+this.borderWidth.left+this.padding.left,this.dragLimit.top=i.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=n+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=s+t-(this.borderWidth.bottom+this.padding.bottom)}}getProperTargetElement(e){let t,i=this.getCoordinates(e),s=this.helperElement.style.pointerEvents||"";return function e(t,i){return t===i||!(t===document||!t)&&e(t.parentNode,i)}(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(i.clientX,i.clientY),this.helperElement.style.pointerEvents=s):t=e.target,t}getMousePosition(e,t){let i,s,n=void 0!==e.srcElement?e.srcElement:e.target,r=this.getCoordinates(e),a=Qy(n.offsetParent);return t?(i=this.clone?r.pageX:r.pageX+(a?0:n.offsetParent.scrollLeft)-this.relativeXPosition,s=this.clone?r.pageY:r.pageY+(a?0:n.offsetParent.scrollTop)-this.relativeYPosition):(i=this.clone?r.pageX:r.pageX+window.pageXOffset-this.relativeXPosition,s=this.clone?r.pageY:r.pageY+window.pageYOffset-this.relativeYPosition),{left:i-(this.margin.left+this.cursorAt.left),top:s-(this.margin.top+this.cursorAt.top)}}getCoordinates(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e}getHelperElement(e){let t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=Sv("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t}setGlobalDroppables(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}}checkTargetElement(e){let t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!Qy(t.parentNode)){let e=Nv(t.parentNode,".e-droppable")||t.parentElement;e&&(i=this.getDropInstance(e))}return{target:t,instance:i}}getDropInstance(e){let t,i=e&&e.ej2_instances;if(i)for(let s of i)if("droppable"===s.getModuleName()){t=s;break}return t}destroy(){this.toggleEvents(!0),super.destroy()}};return Wy([hw({},Tw)],e.prototype,"cursorAt",void 0),Wy([lw(!0)],e.prototype,"clone",void 0),Wy([lw()],e.prototype,"dragArea",void 0),Wy([lw()],e.prototype,"isDragScroll",void 0),Wy([dw()],e.prototype,"drag",void 0),Wy([dw()],e.prototype,"dragStart",void 0),Wy([dw()],e.prototype,"dragStop",void 0),Wy([lw(1)],e.prototype,"distance",void 0),Wy([lw()],e.prototype,"handle",void 0),Wy([lw()],e.prototype,"abort",void 0),Wy([lw()],e.prototype,"helper",void 0),Wy([lw("default")],e.prototype,"scope",void 0),Wy([lw("")],e.prototype,"dragTarget",void 0),Wy([lw()],e.prototype,"axis",void 0),Wy([lw()],e.prototype,"queryPositionInfo",void 0),Wy([lw(!1)],e.prototype,"enableTailMode",void 0),Wy([lw(!1)],e.prototype,"skipDistanceCheck",void 0),Wy([lw(!0)],e.prototype,"preventDefault",void 0),Wy([lw(!1)],e.prototype,"enableAutoScroll",void 0),Wy([lw(!1)],e.prototype,"enableTapHold",void 0),Wy([lw(750)],e.prototype,"tapHoldThreshold",void 0),e=Aw=Wy([uw],e),e})();var Pw;let Iw={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},Ow=(()=>{let e=Pw=class extends Hv{constructor(e,t){super(t,e),this.keyPressHandler=e=>{let t=e.altKey,i=e.ctrlKey,s=e.shiftKey,n=e.which,r=Object.keys(this.keyConfigs);for(let a of r){let r=this.keyConfigs[a].split(",");for(let o of r){let r=Pw.getKeyConfigData(o.trim());t===r.altKey&&i===r.ctrlKey&&s===r.shiftKey&&n===r.keyCode&&(e.action=a,this.keyAction&&this.keyAction(e))}}},this.bind()}destroy(){this.unwireEvents(),super.destroy()}onPropertyChanged(e,t){}bind(){this.wireEvents()}getModuleName(){return"keyboard"}wireEvents(){this.element.addEventListener(this.eventName,this.keyPressHandler)}unwireEvents(){this.element.removeEventListener(this.eventName,this.keyPressHandler)}static getKeyConfigData(e){if(e in this.configCache)return this.configCache[e];let t=e.toLowerCase().split("+"),i={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return i.keyCode=t[t.length-1].length>1&&Number(t[t.length-1])?Number(t[t.length-1]):Pw.getKeyCode(t[t.length-1]),Pw.configCache[e]=i,i}static getKeyCode(e){return Iw[e]||e.toUpperCase().charCodeAt(0)}};return e.configCache={},Wy([lw({})],e.prototype,"keyConfigs",void 0),Wy([lw("keyup")],e.prototype,"eventName",void 0),Wy([dw()],e.prototype,"keyAction",void 0),e=Pw=Wy([uw],e),e})(),Nw=(()=>{class e{constructor(e,t,i){this.controlName=e,this.localeStrings=t,this.setLocale(i||"en-US")}setLocale(t){let i=this.intGetControlConstant(e.locale,t);this.currentLocale=i||this.localeStrings}static load(e){this.locale=Ky(this.locale,e,{},!0)}getConstant(e){return Qy(this.currentLocale[e])?this.localeStrings[e]||"":this.currentLocale[e]}intGetControlConstant(e,t){return e[t]?e[t][this.controlName]:null}}return e.locale={},e})(),Vw=(()=>{class e extends Sw{}return Wy([lw(50)],e.prototype,"swipeThresholdDistance",void 0),e})();const Fw=/(Up|Down)/;let Bw=(()=>{let e=class extends Hv{constructor(e,t){super(t,e),this.touchAction=!0,this.tapCount=0,this.startEvent=e=>{if(!0===this.touchAction){let t=e.changedTouches?e.changedTouches[0]:e;void 0!==e.changedTouches&&(this.touchAction=!1),this.isTouchMoved=!1,this.movedDirection="",this.startPoint=this.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},this.startEventData=t,this.hScrollLocked=this.vScrollLocked=!1,this.tStampStart=Date.now(),this.timeOutTapHold=setTimeout(()=>{this.tapHoldEvent(e)},this.tapHoldThreshold),Tb.add(this.element,Kv.touchMoveEvent,this.moveEvent,this),Tb.add(this.element,Kv.touchEndEvent,this.endEvent,this),Tb.add(this.element,Kv.touchCancelEvent,this.cancelEvent,this)}},this.moveEvent=e=>{let t=e.changedTouches?e.changedTouches[0]:e;this.movedPoint=t,this.isTouchMoved=!(t.clientX===this.startPoint.clientX&&t.clientY===this.startPoint.clientY);let i={};this.isTouchMoved&&(clearTimeout(this.timeOutTapHold),this.calcScrollPoints(e),i=Ky(i,{},{startEvents:this.startEventData,originalEvent:e,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,scrollDirection:this.scrollDirection,velocity:this.getVelocity(t)}),this.trigger("scroll",i),this.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},this.cancelEvent=e=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap),this.tapCount=0,this.swipeFn(e),Tb.remove(this.element,Kv.touchCancelEvent,this.cancelEvent)},this.endEvent=e=>{this.swipeFn(e),this.isTouchMoved||"function"==typeof this.tap&&(this.trigger("tap",{originalEvent:e,tapCount:++this.tapCount}),this.timeOutTap=setTimeout(()=>{this.tapCount=0},this.tapThreshold)),this.modeclear()},this.swipeFn=e=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap);let t=e;e.changedTouches&&(t=e.changedTouches[0]);let i=t.clientX-this.startPoint.clientX,s=t.clientY-this.startPoint.clientY;i=Math.floor(i<0?-1*i:i),s=Math.floor(s<0?-1*s:i),this.isTouchMoved=i>1||s>1,this.endPoint=t,this.calcPoints(e);let n={originalEvent:e,startEvents:this.startEventData,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,swipeDirection:this.movedDirection,velocity:this.getVelocity(t)};if(this.isTouchMoved){let e,t=this.swipeSettings.swipeThresholdDistance;e=Ky(e,this.defaultArgs,n);let i=!1,s=this.element,r=this.isScrollable(s),a=Fw.test(this.movedDirection);(t<this.distanceX&&!a||t<this.distanceY&&a)&&(i=!r||this.checkSwipe(s,a)),i&&this.trigger("swipe",e)}this.modeclear()},this.modeclear=()=>{this.modeClear=setTimeout(()=>{this.touchAction=!0},"function"!=typeof this.tap?0:20),this.lastTapTime=(new Date).getTime(),Tb.remove(this.element,Kv.touchMoveEvent,this.moveEvent),Tb.remove(this.element,Kv.touchEndEvent,this.endEvent),Tb.remove(this.element,Kv.touchCancelEvent,this.cancelEvent)},this.bind()}onPropertyChanged(e,t){}bind(){this.wireEvents(),Kv.isIE&&this.element.classList.add("e-block-touch")}destroy(){this.unwireEvents(),super.destroy()}wireEvents(){Tb.add(this.element,Kv.touchStartEvent,this.startEvent,this)}unwireEvents(){Tb.remove(this.element,Kv.touchStartEvent,this.startEvent)}getModuleName(){return"touch"}isScrollable(e){let t=getComputedStyle(e);return!!/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}tapHoldEvent(e){let t;this.tapCount=0,this.touchAction=!0,Tb.remove(this.element,Kv.touchMoveEvent,this.moveEvent),Tb.remove(this.element,Kv.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),Tb.remove(this.element,Kv.touchCancelEvent,this.cancelEvent)}calcPoints(e){let t=e.changedTouches?e.changedTouches[0]:e;this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"}calcScrollPoints(e){let t=e.changedTouches?e.changedTouches[0]:e;this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)}getVelocity(e){let t=e.clientX,i=e.clientY,s=Date.now(),n=t-this.startPoint.clientX,r=i-this.startPoint.clientX,a=s-this.tStampStart;return Math.sqrt(n*n+r*r)/a}checkSwipe(e,t){let i=["scroll","offset"],s=t?["Height","Top"]:["Width","Left"];return e[i[0]+s[0]]<=e[i[1]+s[0]]||0===e[i[0]+s[1]]||e[i[1]+s[0]]+e[i[0]+s[1]]>=e[i[0]+s[0]]}};return Wy([dw()],e.prototype,"tap",void 0),Wy([dw()],e.prototype,"tapHold",void 0),Wy([dw()],e.prototype,"swipe",void 0),Wy([dw()],e.prototype,"scroll",void 0),Wy([lw(350)],e.prototype,"tapThreshold",void 0),Wy([lw(750)],e.prototype,"tapHoldThreshold",void 0),Wy([hw({},Vw)],e.prototype,"swipeSettings",void 0),e=Wy([uw],e),e})();const zw=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],Hw=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],jw=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"];class Ww{static beforeSanitize(){return{selectors:{tags:zw,attributes:Hw}}}static sanitize(e){let t=this.beforeSanitize();return this.serializeValue(t,e)}static serializeValue(e,t){return this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs(),this.wrapElement.innerHTML}static removeXssTags(){let e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach(e=>{Tv(e)})}static removeJsEvents(){let e=this.wrapElement.querySelectorAll("["+jw.join("],[")+"]");e.length>0&&e.forEach(e=>{jw.forEach(t=>{e.hasAttribute(t)&&e.removeAttribute(t)})})}static removeXssAttrs(){this.removeAttrs.forEach((e,t)=>{let i=this.wrapElement.querySelectorAll(e.selector);i.length>0&&i.forEach(t=>{t.removeAttribute(e.attribute)})})}}function Yw(e,t,i){var s={};if(e&&e.length){for(var n=0,r=e;n<r.length;n++){var a=r[n];!0===i?(t.propCollection[a]=new fn(!1),t[a]=t.propCollection[a]):s[a]=new fn(!1)}!0!==i&&t.setProperties(s,!0)}}function qw(e,t,i){var s=Object.keys(e.registeredTemplate);if(s.length)for(var n=t&&t.filter((function(e){return!/\./g.test(e)})),r=0,a=n&&n||s;r<a.length;r++){var o=a[r];if(i&&i.length)for(var l=0;l<i.length;l++)for(var h=0;h<e.registeredTemplate.template.length;h++)e.registeredTemplate.template[h].rootNodes[0]===i[l]&&(u=e.registeredTemplate[o])[h].destroy();else for(var c=0,d=e.registeredTemplate[o];c<d.length;c++){var u;if(!(u=d[c]).destroyed){if(u._view){var p=u._view.renderer.parentNode(u.rootNodes[0]);for(h=0;h<u.rootNodes.length;h++)p.appendChild(u.rootNodes[h])}u.destroy()}}delete e.registeredTemplate[o]}for(var m=function(e){e.instance&&e.instance.clearTemplate(t&&t.filter((function(t){return!!new RegExp(e.name).test(t)})))},g=0,f=e.tagObjects;g<f.length;g++)m(f[g])}function Uw(e,t,i){for(var s=e.replace(/\[/g,".").replace(/\]/g,"").split("."),n=i||{},r=0;r<s.length;r++){var a=s[r];r+1===s.length?n[a]=void 0===t?{}:t:void 0===n[a]&&(n[a]={}),n=n[a]}return n}var Gw=function(){function e(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return e.prototype.ngOnInit=function(){this.registeredTemplate={};for(var e=0,t=this.tags;e<t.length;e++){var i=t[e],s=Gy("child"+i.substring(0,1).toUpperCase()+i.substring(1),this);s&&this.tagObjects.push({instance:s,name:i})}for(var n=Object.keys(this),r=0,a=n=n.filter((function(e){return/Ref$/i.test(e)}));r<a.length;r++){var o=a[r].replace("Ref","");Xy(o.replace("_","."),Gy(o,this),this.propCollection)}var l=Object.keys(this);if(this.directivePropList){for(var h=0;h<this.directivePropList.length;h++){var c=this.directivePropList[h];-1!==l.indexOf(c)&&Xy(c,Gy(c,this),this.propCollection)}this.hasChanges=!0}},e.prototype.registerEvents=function(e){Yw(e,this,!0)},e.prototype.ngOnChanges=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var s=i[t];this.propCollection[s]=e[s].currentValue}this.isUpdated=!1,this.hasChanges=!0},e.prototype.clearTemplate=function(e){qw(this,e)},e.prototype.getProperties=function(){for(var e=0,t=this.tagObjects;e<t.length;e++){var i=t[e];this.propCollection[i.name]=i.instance.getProperties()}return this.propCollection},e.prototype.isChanged=function(){for(var e=this.hasChanges,t=0,i=this.tagObjects;t<i.length;t++)e=e||i[t].instance.hasChanges;return e},e.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=Object.keys(this),t=0,i=e=e.filter((function(e){return/Ref$/i.test(e)}));t<i.length;t++){var s=i[t].replace("Ref","");Xy(s.replace("_","."),Gy(s,this),this.propCollection)}},e.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},e}(),Xw=function(){function e(e){this.list=[],this.hasChanges=!1,this.propertyName=e}return e.prototype.ngOnInit=function(){this.isInitChanges=!0},e.prototype.ngAfterContentInit=function(){var e=this,t=0;this.list=this.children.map((function(i){return i.index=t++,i.property=e.propertyName,i})),this.hasChanges=!0},e.prototype.getProperties=function(){for(var e=[],t=0,i=this.list;t<i.length;t++)e.push(i[t].getProperties());return e},e.prototype.isChanged=function(){var e=this,t=!1,i=0,s=!1,n=this.children.map((function(e){return e}));if(this.list.length===this.children.length)for(var r=0;r<this.list.length;r++)if(this.list[r].propCollection.dataSource)this.list[r].dataSource&&this.list[r].propCollection.dataSource!==this.list[r].dataSource&&(this.list[r].propCollection.dataSource=this.list[r].dataSource,this.list[r].hasChanges=!0),s=JSON.stringify(this.list[r].propCollection.dataSource)!==JSON.stringify(n[r].propCollection.dataSource);else for(var a=Object.keys(this.list[r].propCollection),o=0;o<a.length;o++)if(this.list[r].propCollection[a[o]]&&"TemplateRef_"===this.list[r].propCollection[a[o]].constructor.name){s=!0;break}this.hasNewChildren=!(this.list.length===this.children.length&&!s)||null,this.hasNewChildren&&(this.list=this.children.map((function(t){return t.index=i++,t.property=e.propertyName,t})));for(var l=0,h=this.list;l<h.length;l++)t=t||h[l].hasChanges;return!!this.list.length&&t},e.prototype.clearTemplate=function(e){for(var t=this,i=0,s=this.list;i<s.length;i++)s[i].clearTemplate(e&&e.map((function(e){return new RegExp(t.propertyName).test(e)?e.replace(t.propertyName+".",""):e})))},e.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=0;e<this.list.length;e++)this.list[e].isUpdated=!0},e.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},e}(),Zw=function(){function e(){this.isProtectedOnChange=!0}return e.prototype.saveChanges=function(e,t,i){if(!this.isProtectedOnChange){this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate();var s=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(s)}}},e.prototype.ngOnInit=function(e){var t=e||this;t.registeredTemplate={},t.ngBoundedEvents={},t.isAngular=!0,e&&(this.tags=e.tags),t.tags=this.tags||[],t.complexTemplate=this.complexTemplate||[],t.tagObjects=[],t.ngAttr=this.getAngularAttr(t.element),t.createElement=function(e,i){var s=t.srenderer?t.srenderer.createElement(e):Sv(e);return void 0===i?s:(s.innerHTML=i.innerHTML?i.innerHTML:"",void 0!==i.className&&(s.className=i.className),void 0!==i.id&&(s.id=i.id),void 0!==i.styles&&s.setAttribute("style",i.styles),void 0!==t.ngAttr&&s.setAttribute(t.ngAttr,""),void 0!==i.attrs&&Pv(s,i.attrs),s)};for(var i=0,s=t.tags;i<s.length;i++){var n=s[i],r={instance:Gy("child"+n.substring(0,1).toUpperCase()+n.substring(1),t),name:n};t.tagObjects.push(r)}for(var a=Object.keys(t),o=0,l=a=a.filter((function(e){return/Ref$/i.test(e)&&/\_/i.test(e)}));o<l.length;o++){var h=l[o].replace("Ref",""),c={};Xy(h.replace("_","."),Gy(h,t),c),t.setProperties(c,!0)}},e.prototype.getAngularAttr=function(e){for(var t,i=e.attributes,s=i.length,n=0;n<s;n++)/_ngcontent/g.test(i[n].name)&&(t=i[n].name);return t},e.prototype.ngAfterViewInit=function(e){var t=e||this;/ejs-tab|ejs-accordion/g.test(t.ngEle.nativeElement.outerHTML)&&(t.ngEle.nativeElement.style.visibility="hidden"),setTimeout((function(){"undefined"!=typeof window&&(t.appendTo(t.element),t.ngEle.nativeElement.style.visibility="")}))},e.prototype.ngOnDestroy=function(e){var t=e||this;"undefined"!=typeof window&&t.element.classList.contains("e-control")&&(t.destroy(),t.clearTemplate(null))},e.prototype.clearTemplate=function(e,t){qw(this,e,t)},e.prototype.ngAfterContentChecked=function(e){for(var t=e||this,i=0,s=t.tagObjects;i<s.length;i++){var n=s[i];if(!Jy(n.instance)&&(n.instance.isInitChanges||n.instance.hasChanges||n.instance.hasNewChildren))if(n.instance.isInitChanges){var r={},a=void 0;(_=Gy("instance.list",n))&&_.length&&(a=_[0].directivePropList);var o=!0;if(t.getModuleName&&"gantt"===t.getModuleName()&&(o=!1),a&&o&&-1===a.indexOf(n.instance.propertyName))for(var l=Object.keys(n.instance.list[0].propCollection),h=0;h<n.instance.list.length;h++){n.instance.list[h].propCollection[n.instance.propertyName]=[];for(var c={},d=0;d<l.length;d++){var u=l[d];c[u]=n.instance.list[h].propCollection[u]}for(var p=0;p<n.instance.list[h].tags.length;p++){var m=n.instance.list[h].tags[p],g=Gy("child"+m.substring(0,1).toUpperCase()+m.substring(1),n.instance.list[h]);if(g){var f=n.instance.list[h]["child"+m.substring(0,1).toUpperCase()+m.substring(1)];if(f)for(var y=0;y<f.list.length;y++){var b=f.list[0].tags[0];if(b){var v=Gy("child"+b.substring(0,1).toUpperCase()+b.substring(1),f.list[y]);f.list[y].tagObjects.push({instance:v,name:b})}}n.instance.list[h].tagObjects.push({instance:g,name:m})}}n.instance.list[h].propCollection[n.instance.propertyName].push(c)}r[n.name]=n.instance.getProperties(),t.setProperties(r,n.instance.isInitChanges)}else{t[n.name].length!==n.instance.list.length&&n.instance.list[0].hasChanges&&(t[n.name]=n.instance.list);for(var w=0,x=n.instance.list;w<x.length;w++){var _;if((_=x[w]).hasChanges){var S=n.instance.list.indexOf(_),C=Gy(n.name,t)[S];void 0!==C&&void 0!==C.setProperties&&C.setProperties(_.getProperties()),_.isUpdated=!0}}}}},e.prototype.registerEvents=function(e){Yw(e,this)},e.prototype.twoWaySetter=function(e,t){var i=Gy(t,this.properties);i!==e&&(this.saveChanges(t,e,i),Xy(t,Qy(e)?null:e,this.properties),Gy(t+"Change",this).emit(e))},e.prototype.addTwoWay=function(e){for(var t=this,i=function(e){Gy(e,s),Object.defineProperty(s,e,{get:function(){return Gy(e,t.properties)},set:function(i){return t.twoWaySetter(i,e)}}),Xy(e+"Change",new fn,s)},s=this,n=0,r=e;n<r.length;n++)i(r[n])},e.prototype.addEventListener=function(e,t){var i=Gy(e,this);Jy(i)||(this.ngBoundedEvents[e]||(this.ngBoundedEvents[e]=new Map),this.ngBoundedEvents[e].set(t,i.subscribe(t)))},e.prototype.removeEventListener=function(e,t){Jy(Gy(e,this))||this.ngBoundedEvents[e].get(t).unsubscribe()},e.prototype.trigger=function(e,t,i){var s=Gy(e,this),n=this.isProtectedOnChange;this.isProtectedOnChange=!1,t&&(t.name=e),Jy(s)||s.next(t);var r=Gy("local"+e.charAt(0).toUpperCase()+e.slice(1),this);Jy(r)||r.call(this,t),this.isProtectedOnChange=n,i&&i.call(this,t)},e}(),$w=rv.compile;function Kw(e){return function(t,i){var s={set:Qw(i),get:Jw(i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,s)}}function Qw(e){return function(t){void 0!==t&&(Xy(e+"Ref",t,this),"string"!=typeof t?(t.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,t.elementRef.nativeElement.propName=e):this.saveChanges&&(this.saveChanges(e,t,void 0),this.dataBind()))}}function Jw(e,t){return function(){return Gy(e+"Ref",this)||t}}rv.compile=function(e,t){if("string"==typeof e)return $w(e,t);var i=e.elementRef.nativeElement._viewContainerRef,s=e.elementRef.nativeElement.propName;return function(t,n,r){var a=i||n.viewContainerRef,o=a.createEmbeddedView(e,{$implicit:t});o.markForCheck();var l=n?n.registeredTemplate:Gy("currentInstance.registeredTemplate",a);return void 0===l[r=r||s]&&(l[r]=[]),l[r].push(o),o.rootNodes}};class ex{constructor(e){this.svgLink="http://www.w3.org/2000/svg",this.rootId=e}getOptionValue(e,t){return e[t]}createSvg(e){return Qy(e.id)&&(e.id=this.rootId+"_svg"),this.svgObj=document.getElementById(e.id),Qy(document.getElementById(e.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(e,this.svgObj),this.setSVGSize(e.width,e.height),this.svgObj}setSVGSize(e,t){let i=document.getElementById(this.rootId),s=Qy(i)?null:i.getBoundingClientRect();Qy(this.width)||this.width<=0?this.svgObj.setAttribute("width",e?e.toString():s.width.toString()):this.svgObj.setAttribute("width",this.width.toString()),Qy(this.height)||this.height<=0?this.svgObj.setAttribute("height",t?t.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())}drawPath(e,t){let i=document.getElementById(e.id);return null===i&&(i=document.createElementNS(this.svgLink,"path")),i=this.setElementAttributes(e,i),i}drawLine(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"line")),t=this.setElementAttributes(e,t),t}drawRectangle(e,t){let i=document.getElementById(e.id);return null===i&&(i=document.createElementNS(this.svgLink,"rect")),i=this.setElementAttributes(e,i),i}drawCircle(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"circle")),t=this.setElementAttributes(e,t),t}drawPolyline(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polyline")),t=this.setElementAttributes(e,t),t}drawEllipse(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"ellipse")),t=this.setElementAttributes(e,t),t}drawPolygon(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polygon")),t=this.setElementAttributes(e,t),t}drawImage(e){let t=document.createElementNS(this.svgLink,"image");return t.setAttributeNS(null,"height",e.height.toString()),t.setAttributeNS(null,"width",e.width.toString()),t.setAttributeNS("http://www.w3.org/1999/xlink","href",e.href),t.setAttributeNS(null,"x",e.x.toString()),t.setAttributeNS(null,"y",e.y.toString()),t.setAttributeNS(null,"id",e.id),t.setAttributeNS(null,"visibility",e.visibility),Qy(this.getOptionValue(e,"clip-path"))||t.setAttributeNS(null,"clip-path",this.getOptionValue(e,"clip-path")),Qy(e.preserveAspectRatio)||t.setAttributeNS(null,"preserveAspectRatio",e.preserveAspectRatio),t}createText(e,t,i,s){let n=document.createElementNS(this.svgLink,"text");return n=this.setElementAttributes(e,n),Qy(t)||(n.textContent=t),n}createTSpan(e,t){let i=document.createElementNS(this.svgLink,"tspan");return i=this.setElementAttributes(e,i),Qy(t)||(i.textContent=t),i}createTitle(e){let t=document.createElementNS(this.svgLink,"title");return t.textContent=e,t}createDefs(){return document.createElementNS(this.svgLink,"defs")}createClipPath(e){let t=document.createElementNS(this.svgLink,"clipPath");return t=this.setElementAttributes(e,t),t}createForeignObject(e){let t=document.createElementNS(this.svgLink,"foreignObject");return t=this.setElementAttributes(e,t),t}createGroup(e){let t=document.createElementNS(this.svgLink,"g");return t=this.setElementAttributes(e,t),t}createPattern(e,t){let i=document.createElementNS(this.svgLink,t);return i=this.setElementAttributes(e,i),i}createRadialGradient(e,t,i){let s;return Qy(e[0].colorStop)?s=e[0].color.toString():(this.drawGradient("radialGradient",{id:this.rootId+"_"+t+"radialGradient",cx:i.cx+"%",cy:i.cy+"%",r:i.r+"%",fx:i.fx+"%",fy:i.fy+"%"},e),s="url(#"+this.rootId+"_"+t+"radialGradient)"),s}createLinearGradient(e,t,i){let s;return Qy(e[0].colorStop)?s=e[0].color.toString():(this.drawGradient("linearGradient",{id:this.rootId+"_"+t+"linearGradient",x1:i.x1+"%",y1:i.y1+"%",x2:i.x2+"%",y2:i.y2+"%"},e),s="url(#"+this.rootId+"_"+t+"linearGradient)"),s}drawGradient(e,t,i){let s=this.createDefs(),n=document.createElementNS(this.svgLink,e);n=this.setElementAttributes(t,n);for(let r=0;r<i.length;r++){let e=document.createElementNS(this.svgLink,"stop");e.setAttribute("offset",i[r].colorStop),e.setAttribute("stop-color",i[r].color),e.setAttribute("stop-opacity","1"),n.appendChild(e)}return s.appendChild(n),s}drawClipPath(e){let t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Rect";let s=this.drawRectangle(e);return i.appendChild(s),t.appendChild(i),t}drawCircularClipPath(e){let t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Circle";let s=this.drawCircle(e);return i.appendChild(s),t.appendChild(i),t}setElementAttributes(e,t){let i=Object.keys(e);for(let s=0;s<i.length;s++)t.setAttribute(i[s],e[i[s]]);return t}createCanvas(e){return null}}class tx{constructor(e){this.rootId=e}getOptionValue(e,t){return e[t]}createCanvas(e){let t=document.createElement("canvas");return t.setAttribute("id",this.rootId+"_canvas"),this.ctx=t.getContext("2d"),this.canvasObj=t,this.setCanvasSize(e.width,e.height),this.canvasObj}setCanvasSize(e,t){let i=document.getElementById(this.rootId),s=Qy(i)?null:i.getBoundingClientRect();Qy(this.width)?this.canvasObj.setAttribute("width",e?e.toString():s.width.toString()):this.canvasObj.setAttribute("width",this.width.toString()),Qy(this.height)?this.canvasObj.setAttribute("height",t?t.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())}setAttributes(e){this.ctx.lineWidth=this.getOptionValue(e,"stroke-width");let t=this.getOptionValue(e,"stroke-dasharray");if(!Qy(t)){let e=t.split(",");this.ctx.setLineDash([parseInt(e[0],10),parseInt(e[1],10)])}this.ctx.strokeStyle=this.getOptionValue(e,"stroke")}drawLine(e){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.moveTo(e.x1,e.y1),this.ctx.lineTo(e.x2,e.y2),this.ctx.stroke(),this.ctx.restore()}drawRectangle(e,t){let i=this.ctx,s=e.rx;return this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=this.getOptionValue(e,"opacity"),this.setAttributes(e),this.ctx.rect(e.x,e.y,e.width,e.height),null!==s&&s>=0?this.drawCornerRadius(e):("none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.stroke()),this.ctx.restore(),this.ctx=i,this.canvasObj}drawCornerRadius(e){let t=e.rx,i=e.x,s=e.y,n=e.width,r=e.height;"none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,n<2*t&&(t=n/2),r<2*t&&(t=r/2),this.ctx.beginPath(),this.ctx.moveTo(i+n-t,s),this.ctx.arcTo(i+n,s,i+n,s+r,t),this.ctx.arcTo(i+n,s+r,i,s+r,t),this.ctx.arcTo(i,s+r,i,s,t),this.ctx.arcTo(i,s,i+n,s,t),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()}drawPath(e,t){let i=e.d.split(" "),s=this.getOptionValue(e,"stroke-width"),n=this.ctx,r=!0;this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=e.opacity?e.opacity:this.getOptionValue(e,"fill-opacity"),this.setAttributes(e);for(let a=0;a<i.length;a+=3){let t=parseFloat(i[a+1]),s=parseFloat(i[a+2]);switch(i[a]){case"M":e.innerR||e.cx||this.ctx.moveTo(t,s);break;case"L":e.innerR||this.ctx.lineTo(t,s);break;case"Q":let n=parseFloat(i[a+3]),o=parseFloat(i[a+4]);this.ctx.quadraticCurveTo(t,s,n,o),a+=2;break;case"C":let l=parseFloat(i[a+3]),h=parseFloat(i[a+4]),c=parseFloat(i[a+5]),d=parseFloat(i[a+6]);this.ctx.bezierCurveTo(t,s,l,h,c,d),a+=4;break;case"A":e.innerR?r&&(this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.arc(e.x,e.y,e.innerR,e.end,e.start,!e.counterClockWise),r=!1):e.cx?this.ctx.arc(e.cx,e.cy,e.radius,0,2*Math.PI,e.counterClockWise):(this.ctx.moveTo(e.x,e.y),this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.lineTo(e.x,e.y)),a+=5;break;case"z":case"Z":this.ctx.closePath(),a-=2}}return"none"!==e.fill&&void 0!==e.fill&&(this.ctx.fillStyle=e.fill,this.ctx.fill()),s>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=n,this.canvasObj}createText(e,t,i,s){let n=this.getOptionValue(e,"font-weight");Qy(n)||"regular"!==n.toLowerCase()||(n="normal");let r=this.getOptionValue(e,"font-size"),a=this.getOptionValue(e,"font-family"),o=this.getOptionValue(e,"font-style").toLowerCase()+" "+n+" "+r+" "+a,l=this.getOptionValue(e,"text-anchor"),h=void 0!==e.opacity?e.opacity:1;return"middle"===l&&(l="center"),this.ctx.save(),this.ctx.fillStyle=e.fill,this.ctx.font=o,this.ctx.textAlign=l,this.ctx.globalAlpha=h,e.baseline&&(this.ctx.textBaseline=e.baseline),this.ctx.translate(e.x+0+(i||0),e.y+(s||0)),this.ctx.rotate(e.labelRotation*Math.PI/180),this.ctx.fillText(t,0,0),this.ctx.restore(),this.canvasObj}drawCircle(e,t){let i=this.ctx;return this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.cx,e.cy,e.r,0,2*Math.PI),this.ctx.fillStyle=e.fill,this.ctx.globalAlpha=e.opacity,this.ctx.fill(),t&&this.ctx.translate(t[0],t[1]),this.setAttributes(e),this.ctx.stroke(),this.ctx.restore(),this.ctx=i,this.canvasObj}drawPolyline(e){this.ctx.save(),this.ctx.beginPath();let t=e.points.split(" ");for(let i=0;i<t.length-1;i++){let e=t[i].split(","),s=parseFloat(e[0]),n=parseFloat(e[1]);0===i?this.ctx.moveTo(s,n):this.ctx.lineTo(s,n)}this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore()}drawEllipse(e,t){let i=this.ctx,s=Math.max(e.rx,e.ry),n=e.rx/s,r=e.ry/s;this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(e.cx,e.cy),t&&this.ctx.translate(t[0],t[1]),this.ctx.save(),this.ctx.scale(n,r),this.ctx.arc(0,0,s,0,2*Math.PI,!1),this.ctx.fillStyle=e.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i}drawImage(e){this.ctx.save();let t=new Image;Qy(e.href)||(t.src=e.href,this.ctx.drawImage(t,e.x,e.y,e.width,e.height)),this.ctx.restore()}createLinearGradient(e){let t;return Qy(e[0].colorStop)||(t=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)}createRadialGradient(e){let t;return Qy(e[0].colorStop)||(t=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)}setGradientValues(e,t){let i;if(Qy(e[0].colorStop))i=e[0].color.toString();else{for(let i=0;i<=e.length-1;i++){let s=e[i].color,n=e[i].colorStop.slice(0,-1),r=parseInt(n,10)/100;t.addColorStop(r,s)}i=t.toString()}return i}setElementAttributes(e,t){let i=Object.keys(e),s=Object.keys(e).map(t=>e[t]);for(let n=0;n<i.length;n++)t.setAttribute(i[n],s[n]);return null}updateCanvasAttributes(e){this.setElementAttributes(e,this.canvasObj);let t=this.ctx;if(!Qy(this.dataUrl)){let e=new Image;e.onload=()=>{t.drawImage(e,0,0)},e.src=this.dataUrl}}clearRect(e){this.ctx.restore(),this.ctx.clearRect(e.x,e.y,e.width,e.height)}createGroup(e){return null}drawClipPath(e){return null}canvasClip(e){this.ctx.save(),this.ctx.fillStyle="transparent",this.ctx.rect(e.x,e.y,e.width,e.height),this.ctx.fill(),this.ctx.clip()}canvasRestore(){this.ctx.restore()}drawPolygon(e){return null}createDefs(){return null}createClipPath(e){return null}createSvg(e){return null}}function ix(e,t){let i=e||"",s=document.getElementById("chartmeasuretext");if(null===s&&(s=Sv("text",{id:"chartmeasuretext"}),document.body.appendChild(s)),"string"==typeof e&&(e.indexOf("<")>-1||e.indexOf(">")>-1)){let t=e.split(" ");for(let e=0;e<t.length;e++)-1===t[e].indexOf("<br/>")&&(t[e]=t[e].replace(/[<>]/g,"&"));e=t.join(" ")}return s.innerHTML=i.indexOf("<br>")>-1||i.indexOf("<br/>")>-1?i:e,s.style.position="fixed",s.style.fontSize=t.size,s.style.fontWeight=t.fontWeight,s.style.fontStyle=t.fontStyle,s.style.fontFamily=t.fontFamily,s.style.visibility="hidden",s.style.top="-100",s.style.left="0",s.style.whiteSpace="nowrap",s.style.lineHeight="normal",new nx(s.clientWidth,s.clientHeight)}function sx(e,t,i,s,n,r,a,o,l,h,c){let d="",u=i.x,p=i.y,m=i.x+i.width,g=i.y+i.height;return c=c||0,r?(d=d.concat("M "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u+e)+" "+p+"  L "+(m-e)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+t)),d=d.concat(" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g),0!==n&&(d=d.concat(" L "+(s.x+n/2)+" "+g),d=d.concat(" L "+(l+c)+" "+(g+n-c)),d+=" Q "+l+" "+(g+n)+" "+(l-c)+" "+(g+n-c)),d=d.concat(s.x-n/2>u?" L "+(s.x-n/2)+" "+g+" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z":0===n?" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z":" L "+u+" "+(g+t)+" z")):a?(d=d.concat("M "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u+e)+" "+p+" L "+(s.x-n/2)+" "+p),d=d.concat(" L "+(l-c)+" "+(s.y+c)),d+=" Q "+l+" "+s.y+" "+(l+c)+" "+(s.y+c),d=d.concat(" L "+(s.x+n/2)+" "+p+" L "+(m-e)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+t)),d=d.concat(" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g+" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z")):o?(d=d.concat("M "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u+e)+" "+p),d=d.concat(" L "+(m-e)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+t)+" L "+m+" "+(s.y-n/2)),d=d.concat(" L "+(m+n-c)+" "+(h-c)),d+=" Q "+(m+n)+" "+h+" "+(m+n-c)+" "+(h+c),d=d.concat(" L "+m+" "+(s.y+n/2)+" L "+m+" "+(g-t)+" Q "+m+" "+g+" "+(m-e)+" "+g),d=d.concat(" L "+(u+e)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-t)+" z")):(d=d.concat("M "+(u+e)+" "+p+" Q "+u+" "+p+" "+u+" "+(p+t)+" L "+u+" "+(s.y-n/2)),d=d.concat(" L "+(u-n+c)+" "+(h-c)),d+=" Q "+(u-n)+" "+h+" "+(u-n+c)+" "+(h+c),d=d.concat(" L "+u+" "+(s.y+n/2)+" L "+u+" "+(g-t)+" Q "+u+" "+g+" "+(u+e)+" "+g),d=d.concat(" L "+(m-e)+" "+g+" Q "+m+" "+g+" "+m+" "+(g-t)+" L "+m+" "+(p+t)+" Q "+m+" "+p+" "+(m-e)+" "+p+" z")),d}class nx{constructor(e,t){this.width=e,this.height=t}}class rx{constructor(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s}}class ax{constructor(e,t){this.isRight=t,this.isBottom=e}}class ox{constructor(e){this.id=e}}class lx extends ox{constructor(e,t,i,s,n,r="",a,o){super(e),this.transform="",this.baseLine="auto",this.labelRotation=0,this.x=t,this.y=i,this.anchor=s,this.text=n,this.transform=r,this.baseLine=a,this.labelRotation=o}}function hx(e){return document.getElementById(e)}function cx(e){let t=hx(e);t&&Rv(t)}function dx(e,t,i,s,n,r){let a=new ex(""),o=function(e,t,i,s,n){let r,a="Path",o=t.width,l=t.height,h=e.x,c=e.y,d=e.x+-o/2,u=e.y+-l/2;switch(i){case"Circle":case"Bubble":a="Ellipse",$y(s,{rx:o/2,ry:l/2,cx:h,cy:c});break;case"Cross":r="M "+d+" "+c+" L "+(h+o/2)+" "+c+" M "+h+" "+(c+l/2)+" L "+h+" "+(c+-l/2),$y(s,{d:r});break;case"HorizontalLine":r="M "+d+" "+c+" L "+(h+o/2)+" "+c,$y(s,{d:r});break;case"VerticalLine":r="M "+h+" "+(c+l/2)+" L "+h+" "+(c+-l/2),$y(s,{d:r});break;case"Diamond":r="M "+d+" "+c+" L "+h+" "+(c+-l/2)+" L "+(h+o/2)+" "+c+" L "+h+" "+(c+l/2)+" L "+d+" "+c+" z",$y(s,{d:r});break;case"Rectangle":r="M "+d+" "+(c+-l/2)+" L "+(h+o/2)+" "+(c+-l/2)+" L "+(h+o/2)+" "+(c+l/2)+" L "+d+" "+(c+l/2)+" L "+d+" "+(c+-l/2)+" z",$y(s,{d:r});break;case"Triangle":r="M "+d+" "+(c+l/2)+" L "+h+" "+(c+-l/2)+" L "+(h+o/2)+" "+(c+l/2)+" L "+d+" "+(c+l/2)+" z",$y(s,{d:r});break;case"InvertedTriangle":r="M "+(h+o/2)+" "+(c-l/2)+" L "+h+" "+(c+l/2)+" L "+(h-o/2)+" "+(c-l/2)+" L "+(h+o/2)+" "+(c-l/2)+" z",$y(s,{d:r});break;case"Pentagon":let e,t,i=72;for(let s=0;s<=5;s++)e=o/2*Math.cos(Math.PI/180*(s*i)),t=l/2*Math.sin(Math.PI/180*(s*i)),r=0===s?"M "+(h+e)+" "+(c+t)+" ":r.concat("L "+(h+e)+" "+(c+t)+" ");r=r.concat("Z"),$y(s,{d:r});break;case"Image":a="Image",$y(s,{href:n,height:l,width:o,x:d,y:u})}return{renderOption:s,functionName:a}}(e,i,t,n,s),l=a["draw"+o.functionName](o.renderOption);return l.setAttribute("aria-label",r),l}class ux extends ox{constructor(e,t,i,s,n,r,a){super(e),this.opacity=n,this.fill=t,this.stroke=s,this["stroke-width"]=i,this["stroke-dasharray"]=r,this.d=a}}class px{constructor(e,t){this.x=e,this.y=t}}let mx=(()=>{class e extends Sw{}return Wy([lw(null)],e.prototype,"size",void 0),Wy([lw("")],e.prototype,"color",void 0),Wy([lw("Segoe UI")],e.prototype,"fontFamily",void 0),Wy([lw("Normal")],e.prototype,"fontWeight",void 0),Wy([lw("Normal")],e.prototype,"fontStyle",void 0),Wy([lw(1)],e.prototype,"opacity",void 0),e})(),gx=(()=>{class e extends Sw{}return Wy([lw("")],e.prototype,"color",void 0),Wy([lw(1)],e.prototype,"width",void 0),e})(),fx=(()=>{class e extends Sw{}return Wy([lw(0)],e.prototype,"x",void 0),Wy([lw(0)],e.prototype,"y",void 0),Wy([lw(0)],e.prototype,"width",void 0),Wy([lw(0)],e.prototype,"height",void 0),e})(),yx=(()=>{class e extends Sw{}return Wy([lw(0)],e.prototype,"x",void 0),Wy([lw(0)],e.prototype,"y",void 0),e})(),bx=(()=>{let e=class extends kw{constructor(e,t){super(e,t)}preRender(){this.allowServerDataBinding=!1,this.initPrivateVariable(),this.isCanvas||this.removeSVG(),this.createTooltipElement()}initPrivateVariable(){this.renderer=new ex(this.element.id),this.themeStyle=function(e){let t;switch(e){case"Highcontrast":case"HighContrast":t={tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A"};break;case"Bootstrap4":t={tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255, 255, 255)",tooltipLightLabel:"rgba(255, 255, 255, 0.9)",tooltipHeaderLine:"rgba(255, 255, 255, 0.2)"};break;default:t={tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff"}}return t}(this.theme),this.formattedText=[],this.padding=5,this.isFirst=!0,this.markerPoint=[]}removeSVG(){let e=document.getElementById(this.element.id+"_svg"),t=document.getElementById(this.element.id+"parent_template");this.blazorTemplate&&nv(this.element.id+"parent_template_blazorTemplate"),e&&e.parentNode&&Rv(e),t&&t.parentNode&&Rv(t)}render(){if(this.fadeOuted=!1,this.template)this.updateTemplateFn(),this.createTemplate(this.areaBounds,this.location);else{this.renderText(this.isFirst),this.trigger("tooltipRender",{cancel:!1,name:"tooltipRender",tooltip:this});let e=this.renderTooltipElement(this.areaBounds,this.location);this.drawMarker(e.isBottom,e.isRight,this.markerSize)}this.trigger("loaded",{tooltip:this});let e=document.getElementById("chartmeasuretext");e&&Rv(e),this.allowServerDataBinding=!0}createTooltipElement(){if(this.textElements=[],!this.template||this.shared){let e=this.renderer.createSvg({id:this.element.id+"_svg"});this.element.appendChild(e);let t=document.getElementById(this.element.id+"_group");t||(t=this.renderer.createGroup({id:this.element.id+"_group"}),t.setAttribute("transform","translate(0,0)")),e.appendChild(t);let i=this.renderer.drawPath({id:this.element.id+"_path","stroke-width":"Bootstrap4"===this.theme?0:this.border.width,fill:this.fill||this.themeStyle.tooltipFill,opacity:"Bootstrap4"===this.theme?.9:this.opacity,stroke:this.border.color});t.appendChild(i)}}drawMarker(e,t,i){if(this.shapes.length<=0)return null;let s,n=0,r=this.renderer.createGroup({id:this.element.id+"_trackball_group"}),a=hx(this.element.id+"_group"),o=2*this.marginX+i/2+(t?this.arrowPadding:0);for(let l of this.shapes)s=new ux(this.element.id+"_Trackball_"+n,this.palette[n],1,"#cccccc",1,null),this.markerPoint[n]&&r.appendChild(dx(new px(o,this.markerPoint[n]-this.padding+(e?this.arrowPadding:0)),l,new nx(i,i),"",s,null)),n++;a.appendChild(r)}renderTooltipElement(e,t){let i,s=hx(this.element.id),n=new px(0,0),r=new px(0,0),a=hx(this.element.id+"_svg"),o=hx(this.element.id+"_group"),l=hx(this.element.id+"_path"),h=!1,c=!1,d=!1,u=0,p=0;if(this.tipRadius=1,""!==this.header&&(this.elementSize.height+=this.marginY),this.content.length>1?(i=this.sharedTooltipLocation(e,this.location.x,this.location.y),h=!0):(i=this.tooltipLocation(e,t,n,r),this.inverted?(c=i.x<t.x+this.clipBounds.x,u=c?0:this.arrowPadding):(h=i.y<t.y+this.clipBounds.y,d=!h,p=h?0:this.arrowPadding)),""!==this.header){let e=ix(this.isWrap?this.wrappedText:this.header,this.textStyle).height+2*this.marginY+(d?this.arrowPadding:0)+(this.isWrap?5:0),t=this.renderer.drawPath({id:this.element.id+"_header_path","stroke-width":1,fill:null,opacity:.8,stroke:this.themeStyle.tooltipHeaderLine,d:"M "+(3*this.marginX+(c||h||d?0:this.arrowPadding))+" "+e+"L "+(i.width+(c||h||d?0:this.arrowPadding)-2*this.marginX)+" "+e});o.appendChild(t)}let m=this.border.width/2,g=new rx(m+u,m+p,i.width-m,i.height-m);if(o.setAttribute("opacity","1"),!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(s,i.x,i.y):this.animateTooltipDiv(s,i),a.setAttribute("height",(i.height+this.border.width+(this.inverted?0:this.arrowPadding)+5).toString()),a.setAttribute("width",(i.width+this.border.width+(this.inverted?this.arrowPadding:0)+5).toString()),a.setAttribute("opacity","1"),Qy(this.tooltipPlacement)||(h=this.tooltipPlacement.indexOf("Top")>-1,d=this.tooltipPlacement.indexOf("Bottom")>-1,c=this.tooltipPlacement.indexOf("Left")>-1),l.setAttribute("d",sx(this.rx,this.ry,g,n,this.arrowPadding,h,d,c,r.x,r.y,this.tipRadius)),this.enableShadow&&"Bootstrap4"!==this.theme){let e=this.element.id+"_shadow";l.setAttribute("filter",Kv.isIE?"":"url(#"+e+")");let t='<filter id="'+e+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';t+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',t+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';let i=this.renderer.createDefs();i.setAttribute("id",this.element.id+"SVG_tooltip_definition"),o.appendChild(i),i.innerHTML=t}return l.setAttribute("stroke",this.border.color),this.changeText(new px(u,p),d,!c&&!h&&!d,i),new ax(d,!c&&!h&&!d)}changeText(e,t,i,s){let n=document.getElementById(this.element.id+"_text");t&&n.setAttribute("transform","translate(0,"+this.arrowPadding+")"),i&&n.setAttribute("transform","translate("+this.arrowPadding+" 0)")}findFormattedText(){this.formattedText=[],""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()&&(this.formattedText=this.formattedText.concat(this.header)),this.formattedText=this.formattedText.concat(this.content)}renderText(e){let t,i,s,n,r,a,o,l=0,h=0,c=0,d=Ky({},this.textStyle,null,!0).properties,u=hx(this.element.id+"_group"),p="";this.findFormattedText(),this.leftSpace=this.areaBounds.x+this.location.x,this.rightSpace=this.areaBounds.x+this.areaBounds.width-this.leftSpace;let m,g=this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim(),f=this.header.indexOf("<b>")>-1&&this.header.indexOf("</b>")>-1,y=ix(this.formattedText[0],d).width+2*this.marginX+this.arrowPadding,b=this.location.x-y<this.location.x,v=this.areaBounds.x+this.areaBounds.width<this.location.x+y,w=""!==g?this.marginY:0,x=!0,_=!0;this.markerPoint=[];let S,C=this.shapes.length>0?10:0,E=this.shapes.length>0?5:0,D="Normal",k=this.themeStyle.tooltipLightLabel,A=22/parseFloat("13px")*parseFloat(d.size);e&&!this.isCanvas||(cx(this.element.id+"_text"),cx(this.element.id+"_header_path"),cx(this.element.id+"_trackball_group"),cx(this.element.id+"SVG_tooltip_definition"));let M=new lx(this.element.id+"_text",2*this.marginX,2*this.marginY+2*this.padding+(2===this.marginY?3:0),"start",""),L=function(e,t,i,s){let n,r,a={},o=new ex("");return a={id:e.id,x:e.x,y:e.y,fill:null,"font-size":t.size,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine},r="string"==typeof e.text?e.text:e.text[0],n=o.createText(a,r),s.appendChild(n),n}(M,d,0,u),T=1===this.formattedText.length&&this.formattedText[0].indexOf(" : <b>")>-1;o=""!==this.header,i=o&&f?16:13;for(let P=0,I=this.formattedText.length;P<I;P++)if(n=this.formattedText[P].replace(/<(b|strong)>/g,"<b>").replace(/<\/(b|strong)>/g,"</b>").split(/<br.*?>/g),0===P&&!T&&this.isTextWrap&&(this.leftSpace<y||b)&&(this.rightSpace<y||v)&&(S=Math.round(this.leftSpace>this.rightSpace?this.leftSpace/i:this.rightSpace/i),m=""!==g?g:this.formattedText[P],n=m.match(new RegExp(".{1,"+S+"}","g")),this.wrappedText=f?"<b>"+n.join("<br>")+"</b>":n.join("<br>"),this.isWrap=n.length>1),""!==n[0]){0===P&&""!==g||this.markerPoint.push((""!==g?this.marginY:0)+M.y+l);for(let e=0,i=n.length;e<i;e++){t=n[e].replace(/<b>/g,"<br><b>").replace(/<\/b>/g,"</b><br>").replace(/:/g,"<br>\u200e:<br>").split("<br>"),c=0,_=!0,l+=A;for(let e=0,i=t.length;e<i;e++)r=t[e],/\S/.test(r)||""===r||(r=" "),(!_&&" "===r||""!==r.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())&&(c+=" "!==r?4:0,_&&!x?(a={x:2*this.marginX+(C+E),dy:A+(_?w:0),fill:""},w=null):a=x&&_?{x:""===g?2*this.marginX+(C+E):2*this.marginX+(this.isWrap?C+E:0)}:{},_=!1,s=this.renderer.createTSpan(a,""),L.appendChild(s),r.indexOf("<b>")>-1||f&&0===e&&0===P&&(o||this.isWrap)?(D="bold",k=this.themeStyle.tooltipBoldLabel,p="font-weight:"+D,d.fontWeight=D,s.setAttribute("fill",this.textStyle.color||k)):(p="bold"===D?"font-weight:"+D:"",d.fontWeight=D,s.setAttribute("fill",this.textStyle.color||k)),(r.indexOf("</b>")>-1||f&&e===i-1&&0===P&&(o||this.isWrap))&&(D="Normal",k=this.themeStyle.tooltipLightLabel),s.textContent=r=r.replace(/<[a-zA-Z\/](.|\n)*?>/g,""),c+=ix(r,d).width,""!==p&&s.setAttribute("style",p),x=!1);c-=4,h=Math.max(h,c)}}this.elementSize=new nx(h+(h>0?2*this.marginX:0),l),this.elementSize.width+=C+E;let R=L.childNodes[0];if(""!==g&&R&&!this.isWrap){d.fontWeight="bold";let e=(this.elementSize.width+2*this.padding)/2-ix(g,d).width/2;R.setAttribute("x",e.toString())}}createTemplate(e,t){let i={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",i);let s=document.getElementById(this.element.id);this.isCanvas&&this.removeSVG();let n=s.firstElementChild;if(n&&Rv(n),i.cancel)Rv(hx(this.element.id+"_tooltip"));else{let i=Sv("div",{id:this.element.id+"parent_template"}),n=this.templateFn(this.data,null,null,i.id+"_blazorTemplate","");for(;n&&n.length>0;)i.appendChild(n[0]);s.appendChild(i);let r=this.isCanvas?i:this.element,a=r.getBoundingClientRect();this.padding=0,this.elementSize=new nx(a.width,a.height);let o=this.tooltipLocation(e,t,new px(0,0),new px(0,0));if(!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(r,o.x,o.y):this.animateTooltipDiv(this.element,o),this.blazorTemplate){let i=()=>{let i=hx(s.element.id).getBoundingClientRect();s.elementSize=new nx(i.width,i.height);let n=s.tooltipLocation(e,t,new px(0,0),new px(0,0));s.updateDiv(hx(s.element.id),n.x,n.y)},s=this;i.bind(s,e,t)}}}sharedTooltipLocation(e,t,i){let s=this.elementSize.height+2*this.marginY,n=new rx(t+2*this.padding,i-s-this.padding,this.elementSize.width+2*this.marginX,s);return n.y<e.y&&(n.y+=n.height+2*this.padding),n.x+n.width>e.x+e.width&&(n.x-=n.width+4*this.padding),n}getCurrentPosition(e,t,i,s){let n=this.tooltipPlacement,r=this.clipBounds.x,a=this.clipBounds.y,o=this.offset,l=this.elementSize.width+2*this.marginX,h=this.elementSize.height+2*this.marginY,c=new px(t.x,t.y);return"Top"===n||"Bottom"===n?(c=new px(c.x+r-this.elementSize.width/2-this.padding,c.y+a-this.elementSize.height-2*this.padding-this.arrowPadding-o),i.x=s.x=l/2,"Bottom"===n&&(c.y=t.y+a+o),e.x+e.width<c.x+l?(c.x=e.width>l?e.x+e.width-l+6:e.x,i.x=s.x=e.width>l?e.x+t.x-c.x:t.x):e.x>c.x&&(c.x=e.x,i.x=s.x=t.x)):(c=new px(c.x+r+o,c.y+a-this.elementSize.height/2-this.padding),i.y=s.y=h/2,"Left"===n&&(c.x=t.x+r-o-(l+this.arrowPadding)),e.y+e.height<c.y+h?(c.y=e.height>h?e.y+e.height-h+6:e.y,i.y=s.y=e.height>h?e.y+t.y-c.y:t.y):e.y>c.y&&(c.y=e.y,i.y=s.y=t.y)),new rx(c.x,c.y,l,h)}tooltipLocation(e,t,i,s){if(!Qy(this.tooltipPlacement))return this.getCurrentPosition(e,t,i,s);let n=new px(t.x,t.y),r=this.elementSize.width+2*this.marginX,a=this.elementSize.height+2*this.marginY,o=this.offset,l=this.clipBounds.x,h=this.clipBounds.y,c=e.x,d=e.y;return this.inverted?(n=new px(n.x+l+o,n.y+h-this.elementSize.height/2-this.padding),i.y=s.y=a/2,(n.x+r+this.arrowPadding>c+e.width||this.isNegative)&&(n.x=(t.x>e.width?e.width:t.x)+l-o-(r+this.arrowPadding)),n.x<c&&(n.x=(t.x<0?0:t.x)+l+o),n.y<=d&&(i.y-=d-n.y,s.y-=d-n.y,n.y=d),n.y+a>=d+e.height&&(i.y+=n.y+a-(d+e.height),s.y+=n.y+a-(d+e.height),n.y-=n.y+a-(d+e.height)),i.y+this.arrowPadding/2>a-this.ry&&(i.y=a-this.ry-this.arrowPadding/2,s.y=a,this.tipRadius=0),i.y-this.arrowPadding/2<this.ry&&(i.y=this.ry+this.arrowPadding/2,s.y=0,this.tipRadius=0)):(n=new px(n.x+l-this.elementSize.width/2-this.padding,n.y+h-this.elementSize.height-2*this.padding-this.arrowPadding-o),i.x=s.x=r/2,(n.y<d||this.isNegative)&&(n.y=(t.y<0?0:t.y)+h+o),n.y+a+this.arrowPadding>d+e.height&&(n.y=(t.y>e.height?e.height:t.y)+h-this.elementSize.height-2*this.padding-this.arrowPadding-o),s.x=r/2,n.x<c&&(i.x-=c-n.x,s.x-=c-n.x,n.x=c),n.x+r>c+e.width&&(i.x+=n.x+r-(c+e.width),s.x+=n.x+r-(c+e.width),n.x-=n.x+r-(c+e.width)),i.x+this.arrowPadding/2>r-this.rx&&(i.x=r-this.rx-this.arrowPadding/2,s.x=r,this.tipRadius=0),i.x-this.arrowPadding/2<this.rx&&(i.x=this.rx+this.arrowPadding/2,s.x=0,this.tipRadius=0)),new rx(n.x,n.y,r,a)}animateTooltipDiv(e,t){let i,s=parseFloat(e.style.left),n=parseFloat(e.style.top);new gw({}).animate(e,{duration:this.duration,progress:r=>{i=r.timeStamp/r.duration,e.style.animation=null,e.style.left=s+i*(t.x-s)+"px",e.style.top=n+i*(t.y-n)+"px"},end:i=>{this.updateDiv(e,t.x,t.y),this.trigger("animationComplete",{tooltip:this})}})}updateDiv(e,t,i){e.style.left=t+"px",e.style.top=i+"px"}updateTemplateFn(){if(this.template)try{document.querySelectorAll(this.template).length&&(this.templateFn=sv(document.querySelector(this.template).innerHTML.trim()))}catch(e){this.templateFn=sv(this.template)}}fadeOut(){let e=hx(this.isCanvas&&!this.template?this.element.id+"_svg":this.element.id);if(e){let t,i=e.firstChild;this.isCanvas&&!this.template&&(i=document.getElementById(this.element.id+"_group")?document.getElementById(this.element.id+"_group"):i),i&&(t=parseFloat(i.getAttribute("opacity"))||1),new gw({}).animate(i,{duration:200,progress:e=>{this.progressAnimation(i,t,e.timeStamp/e.duration)},end:e=>{this.fadeOuted=!0,this.endAnimation(i)}})}}progressAnimation(e,t,i){e.style.animation="",e.setAttribute("opacity",(t-i).toString())}endAnimation(e){e.setAttribute("opacity","0"),this.template&&!this.shared&&(e.style.display="none"),this.trigger("animationComplete",{tooltip:this})}getPersistData(){return this.addOnPersist([])}getModuleName(){return"tooltip"}destroy(){super.destroy(),this.element.classList.remove("e-tooltip")}onPropertyChanged(e,t){this.blazorTemplate&&nv(this.element.id+"parent_template_blazorTemplate"),this.isFirst=!1,this.render()}};return Wy([lw(!1)],e.prototype,"enable",void 0),Wy([lw(!1)],e.prototype,"shared",void 0),Wy([lw(!0)],e.prototype,"enableShadow",void 0),Wy([lw(null)],e.prototype,"fill",void 0),Wy([lw("")],e.prototype,"header",void 0),Wy([lw(.75)],e.prototype,"opacity",void 0),Wy([hw({size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},mx)],e.prototype,"textStyle",void 0),Wy([lw(null)],e.prototype,"template",void 0),Wy([lw(!0)],e.prototype,"enableAnimation",void 0),Wy([lw(300)],e.prototype,"duration",void 0),Wy([lw(!1)],e.prototype,"inverted",void 0),Wy([lw(!1)],e.prototype,"isNegative",void 0),Wy([hw({color:"#cccccc",width:.5},gx)],e.prototype,"border",void 0),Wy([lw([])],e.prototype,"content",void 0),Wy([lw(10)],e.prototype,"markerSize",void 0),Wy([hw({x:0,y:0},yx)],e.prototype,"clipBounds",void 0),Wy([lw([])],e.prototype,"palette",void 0),Wy([lw([])],e.prototype,"shapes",void 0),Wy([hw({x:0,y:0},yx)],e.prototype,"location",void 0),Wy([lw(0)],e.prototype,"offset",void 0),Wy([lw(2)],e.prototype,"rx",void 0),Wy([lw(2)],e.prototype,"ry",void 0),Wy([lw(5)],e.prototype,"marginX",void 0),Wy([lw(5)],e.prototype,"marginY",void 0),Wy([lw(12)],e.prototype,"arrowPadding",void 0),Wy([lw(null)],e.prototype,"data",void 0),Wy([lw("Material")],e.prototype,"theme",void 0),Wy([hw({x:0,y:0,width:0,height:0},fx)],e.prototype,"areaBounds",void 0),Wy([lw(null)],e.prototype,"availableSize",void 0),Wy([lw()],e.prototype,"blazorTemplate",void 0),Wy([lw(!1)],e.prototype,"isCanvas",void 0),Wy([lw(!1)],e.prototype,"isTextWrap",void 0),Wy([lw(null)],e.prototype,"tooltipPlacement",void 0),Wy([dw()],e.prototype,"tooltipRender",void 0),Wy([dw()],e.prototype,"loaded",void 0),Wy([dw()],e.prototype,"animationComplete",void 0),e=Wy([uw],e),e})();class vx{constructor(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this}setKey(e){return this.key=e,this}using(e){return this.dataManager=e,this}execute(e,t,i,s){return(e=e||this.dataManager)?e.executeQuery(this,t,i,s):xx.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')}executeLocal(e){return(e=e||this.dataManager)?e.executeLocal(this):xx.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')}clone(){let e=new vx;return e.queries=this.queries.slice(0),e.key=this.key,e.isChild=this.isChild,e.dataManager=this.dataManager,e.fromTable=this.fromTable,e.params=this.params.slice(0),e.expands=this.expands.slice(0),e.sortedColumns=this.sortedColumns.slice(0),e.groupedColumns=this.groupedColumns.slice(0),e.subQuerySelector=this.subQuerySelector,e.subQuery=this.subQuery,e.fKey=this.fKey,e.isCountRequired=this.isCountRequired,e.distincts=this.distincts.slice(0),e}from(e){return this.fromTable=e,this}addParams(e,t){return this.params.push("function"==typeof t?{key:e,fn:t}:{key:e,value:t}),this}distinct(e){return this.distincts="string"==typeof e?[].slice.call([e],0):e.slice(0),this}expand(e){return this.expands="string"==typeof e?[].slice.call([e],0):e.slice(0),this}where(e,t,i,s,n){t=t?t.toLowerCase():null;let r=null;return"string"==typeof e?r=new wx(e,t,i,s,n):e instanceof wx&&(r=e),this.queries.push({fn:"onWhere",e:r}),this}search(e,t,i,s,n){return"string"==typeof t&&(t=[t]),i&&"none"!==i||(i="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:e,ignoreCase:s,ignoreAccent:n,comparer:xx.fnOperators[i]}}),this}sortBy(e,t,i){let s,n,r="ascending";if("string"==typeof e&&xx.endsWith(e.toLowerCase()," desc")&&(e=e.replace(/ desc$/i,""),t="descending"),t&&"string"!=typeof t||(r=t?t.toLowerCase():"ascending",t=xx.fnSort(t)),i){s=vx.filterQueries(this.queries,"onSortBy");for(let t=0;t<s.length;t++)if(n=s[t].e.fieldName,"string"==typeof n){if(n===e)return this}else if(n instanceof Array)for(let i=0;i<n.length;i++)if(n[i]===e||e.toLowerCase()===n[i]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:t,direction:r}}),this}sortByDesc(e){return this.sortBy(e,"descending")}group(e,t,i){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:i||null}}),this}page(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this}range(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this}take(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this}skip(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this}select(e){return"string"==typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this}hierarchy(e,t){return this.subQuerySelector=t,this.subQuery=e,this}foreignKey(e){return this.fKey=e,this}requiresCount(){return this.isCountRequired=!0,this}aggregate(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this}static filterQueries(e,t){return e.filter(e=>e.fn===t)}static filterQueryLists(e,t){let i=e.filter(e=>-1!==t.indexOf(e.fn)),s={};for(let n=0;n<i.length;n++)s[i[n].fn]||(s[i[n].fn]=i[n].e);return s}}class wx{constructor(e,t,i,s=!1,n){return this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof e?(this.field=e,this.operator=t.toLowerCase(),this.value=i,this.ignoreCase=s,this.ignoreAccent=n,this.isComplex=!1,this.comparer=xx.fnOperators.processOperator(this.operator)):(e instanceof wx&&i instanceof wx||i instanceof Array)&&(this.isComplex=!0,this.condition=t.toLowerCase(),this.predicates=[e],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}static and(...e){return wx.combinePredicates([].slice.call(e,0),"and")}and(e,t,i,s,n){return wx.combine(this,e,t,i,"and",s,n)}static or(...e){return wx.combinePredicates([].slice.call(e,0),"or")}or(e,t,i,s,n){return wx.combine(this,e,t,i,"or",s,n)}static fromJson(e){if(e instanceof Array){let t=[];for(let i=0,s=e.length;i<s;i++)t.push(this.fromJSONData(e[i]));return t}return this.fromJSONData(e)}validate(e){let t,i,s=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,xx.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);t="and"===this.condition;for(let n=0;n<s.length;n++)if(i=s[n].validate(e),t){if(!i)return!1}else if(i)return!0;return t}toJson(){let e,t;if(this.isComplex){e=[],t=this.predicates;for(let i=0;i<t.length;i++)e.push(t[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}}static combinePredicates(e,t){if(1===e.length){if(!(e[0]instanceof Array))return e[0];e=e[0]}return new wx(e[0],t,e.slice(1))}static combine(e,t,i,s,n,r,a){return t instanceof wx?wx[n](e,t):"string"==typeof t?wx[n](e,new wx(t,i,s,r,a)):xx.throwError("Predicate - "+n+" : invalid arguments")}static fromJSONData(e){let t,i=e.predicates||[],s=i.length,n=[];for(let r=0;r<s;r++)n.push(this.fromJSONData(i[r]));return t=e.isComplex?new wx(n[0],e.condition,n.slice(1)):new wx(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent),t}}let xx=(()=>{class e{static getValue(e,t){return"function"==typeof e?e.call(t||{}):e}static endsWith(e,t){return e.slice&&e.slice(-t.length)===t}static startsWith(e,t){return e.slice(0,t.length)===t}static fnSort(t){return"ascending"===(t=t?e.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending}static fnAscending(e,t){return Qy(e)&&Qy(t)?-1:null==t?-1:"string"==typeof e?e.localeCompare(t):null==e?1:e-t}static fnDescending(e,t){return Qy(e)&&Qy(t)?-1:null==t?1:"string"==typeof e?-1*e.localeCompare(t):null==e?-1:t-e}static extractFields(e,t){let i={};for(let s=0;s<t.length;s++)i=this.setValue(t[s],this.getObject(t[s],e),i);return i}static select(e,t){let i=[];for(let s=0;s<e.length;s++)i.push(this.extractFields(e[s],t));return i}static group(t,i,s,n,r,a){n=n||1;let o=t;if("{271bbba0-1ee7}"===o.GroupGuid){for(let e=0;e<o.length;e++)if(Qy(r))o[e].items=this.group(o[e].items,i,s,o.level+1,null,a),o[e].count=o[e].items.length;else{let t=-1,n=r.filter(t=>t.key===o[e].key);t=r.indexOf(n[0]),o[e].items=this.group(o[e].items,i,s,o.level+1,r[t].items,a),o[e].count=r[t].count}return o.childLevels+=1,o}let l={},h=[];h.GroupGuid="{271bbba0-1ee7}",h.level=n,h.childLevels=0,h.records=o;for(let e=0;e<o.length;e++){let t=this.getVal(o,e,i);if(Qy(a)||(t=a(t,i)),!l[t]&&(l[t]={key:t,count:0,items:[],aggregates:{},field:i},h.push(l[t]),!Qy(r))){let e=r.filter(e=>e.key===l[t].key);l[t].count=e[0].count}l[t].count=Qy(r)?l[t].count+=1:l[t].count,l[t].items.push(o[e])}if(s&&s.length)for(let c=0;c<h.length;c++){let t,i={},n=s;for(let a=0;a<s.length;a++)if(t=e.aggregates[s[a].type],Qy(r))t&&(i[n[a].field+" - "+n[a].type]=t(h[c].items,n[a].field));else{let e=r.filter(e=>e.key===h[c].key);t&&(i[n[a].field+" - "+n[a].type]=t(e[0].items,n[a].field))}h[c].aggregates=i}return o.length&&h||o}static buildHierarchy(e,t,i,s,n){let r,a,o={};for(s.result&&(s=s.result),s.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),r=0;r<s.length;r++){let t=this.getObject(e,s[r]);a=o[t]||(o[t]=[]),a.push(s[r])}for(r=0;r<i.length;r++){let s=this.getObject(n||e,i[r]);i[r][t]=o[s]}}static getFieldList(e,t,i){if(void 0===i&&(i=""),null==t)return this.getFieldList(e,[],i);let s=e,n=Object.keys(e);for(let r of n)"object"!=typeof s[r]||s[r]instanceof Array?t.push(i+r):this.getFieldList(s[r],t,i+r+".");return t}static getObject(e,t){if(!e)return t;if(!t)return;if(-1===e.indexOf("."))return t[e];let i=t,s=e.split(".");for(let n=0;n<s.length&&null!=i;n++)i=i[s[n]];return i}static setValue(e,t,i){let s,n,r=e.toString().split("."),a=i||{},o=a,l=r.length;for(s=0;s<l;s++)n=r[s],s+1===l?o[n]=void 0===t?void 0:t:Qy(o[n])&&(o[n]={}),o=o[n];return a}static sort(e,t,i){if(e.length<=1)return e;let s=parseInt((e.length/2).toString(),10),n=e.slice(0,s),r=e.slice(s);return n=this.sort(n,t,i),r=this.sort(r,t,i),this.merge(n,r,t,i)}static ignoreDiacritics(t){return"string"!=typeof t?t:t.split("").map(t=>t in e.diacritics?e.diacritics[t]:t).join("")}static merge(e,t,i,s){let n,r=[];for(;e.length>0||t.length>0;)n=e.length>0&&t.length>0?s?s(this.getVal(e,0,i),this.getVal(t,0,i),e[0],t[0])<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,r.push(n.shift());return r}static getVal(e,t,i){return i?this.getObject(i,e[t]):e[t]}static toLowerCase(e){return e?"string"==typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""}static callAdaptorFunction(e,t,i,s){if(t in e){let n=e[t](i,s);Qy(n)||(i=n)}return i}static getAddParams(t,i,s){let n={};return e.callAdaptorFunction(t,"addParams",{dm:i,query:s,params:s.params,reqParams:n}),n}static isPlainObject(e){return!!e&&e.constructor===Object}static isCors(){let e=null;try{e=new window.XMLHttpRequest}catch(t){}return!!e&&"withCredentials"in e}static getGuid(e){let t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(e,i)=>{if("crypto"in window&&"getRandomValues"in crypto){let e=new Uint8Array(1);window.crypto.getRandomValues(e),t=e[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===i?3&t|8:t]})}static isNull(e){return null==e}static getItemFromComparer(t,i,s){let n,r,a,o=0,l="string"==typeof e.getVal(t,0,i);if(t.length)for(;Qy(n)&&o<t.length;)n=e.getVal(t,o,i),a=t[o++];for(;o<t.length;o++)r=e.getVal(t,o,i),Qy(r)||(l&&(n=+n,r=+r),s(n,r)>0&&(n=r,a=t[o]));return a}static distinct(t,i,s){s=!Qy(s)&&s;let n,r=[],a={};return t.forEach((o,l)=>{n="object"==typeof t[l]?e.getVal(t,l,i):t[l],n in a||(r.push(s?t[l]:n),a[n]=1)}),r}}return e.serverTimezoneOffset=null,e.timeZoneHandling=!0,e.throwError=e=>{try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},e.aggregates={sum:(t,i)=>{let s,n=0,r="number"!=typeof e.getVal(t,0,i);for(let a=0;a<t.length;a++)s=e.getVal(t,a,i),isNaN(s)||null===s||(r&&(s=+s),n+=s);return n},average:(t,i)=>e.aggregates.sum(t,i)/t.length,min:(t,i)=>{let s;return"function"==typeof i&&(s=i,i=null),e.getObject(i,e.getItemFromComparer(t,i,s||e.fnAscending))},max:(t,i)=>{let s;return"function"==typeof i&&(s=i,i=null),e.getObject(i,e.getItemFromComparer(t,i,s||e.fnDescending))},truecount:(e,t)=>new Ax(e).executeLocal((new vx).where(t,"equal",!0,!0)).length,falsecount:(e,t)=>new Ax(e).executeLocal((new vx).where(t,"equal",!1,!0)).length,count:(e,t)=>e.length},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},e.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},e.fnOperators={equal:(t,i,s,n)=>(n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),s?e.toLowerCase(t)===e.toLowerCase(i):t===i),notequal:(t,i,s,n)=>(n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),!e.fnOperators.equal(t,i,s)),lessthan:(t,i,s)=>s?e.toLowerCase(t)<e.toLowerCase(i):t<i,greaterthan:(t,i,s)=>s?e.toLowerCase(t)>e.toLowerCase(i):t>i,lessthanorequal:(t,i,s)=>s?e.toLowerCase(t)<=e.toLowerCase(i):t<=i,greaterthanorequal:(t,i,s)=>s?e.toLowerCase(t)>=e.toLowerCase(i):t>=i,contains:(t,i,s,n)=>(n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),s?!Qy(t)&&!Qy(i)&&-1!==e.toLowerCase(t).indexOf(e.toLowerCase(i)):!Qy(t)&&!Qy(i)&&-1!==t.toString().indexOf(i)),notnull:e=>null!==e,isnull:e=>null===e,startswith:(t,i,s,n)=>(n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),s?t&&i&&e.startsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.startsWith(t,i)),endswith:(t,i,s,n)=>(n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),s?t&&i&&e.endsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.endsWith(t,i)),processSymbols:t=>{let i=e.operatorSymbols[t];return i?e.fnOperators[i]:e.throwError("Query - Process Operator : Invalid operator")},processOperator:t=>e.fnOperators[t]||e.fnOperators.processSymbols(t)},e.parse={parseJson:t=>("string"==typeof t?t=JSON.parse(t,e.parse.jsonReviver):t instanceof Array?e.parse.iterateAndReviveArray(t):"object"==typeof t&&null!==t&&e.parse.iterateAndReviveJson(t),t),iterateAndReviveArray:t=>{for(let i=0;i<t.length;i++)"object"==typeof t[i]&&null!==t[i]?e.parse.iterateAndReviveJson(t[i]):t[i]="string"!=typeof t[i]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[i])?e.parse.parseJson(t[i]):e.parse.jsonReviver("",t[i])},iterateAndReviveJson:t=>{let i,s=Object.keys(t);for(let n of s)e.startsWith(n,"__")||(i=t[n],"object"==typeof i?i instanceof Array?e.parse.iterateAndReviveArray(i):i&&e.parse.iterateAndReviveJson(i):t[n]=e.parse.jsonReviver(t[n],i))},jsonReviver:(t,i)=>{if("string"==typeof i){let t=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i),s=e.timeZoneHandling?e.serverTimezoneOffset:null;if(t)return e.dateParse.toTimeZone(new Date(parseInt(t[1],10)),s,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i)){let t=i.indexOf("Z")>-1||i.indexOf("z")>-1,s=i.split(/[^0-9.]/);if(t)i=e.dateParse.toTimeZone(new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),e.serverTimezoneOffset,!1);else{let t=new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),n=parseInt(s[6],10),r=parseInt(s[7],10);if(isNaN(n)&&isNaN(r))return t;i.indexOf("+")>-1?t.setHours(t.getHours()-n,t.getMinutes()-r):t.setHours(t.getHours()+n,t.getMinutes()+r),i=e.dateParse.toTimeZone(t,e.serverTimezoneOffset,!1)}null==e.serverTimezoneOffset&&(i=e.dateParse.addSelfOffset(i))}}return i},isJson:t=>"string"==typeof t[0]?t:e.parse.parseJson(t),isGuid:e=>null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e),replacer:(t,i)=>e.isPlainObject(t)?e.parse.jsonReplacer(t,i):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},i).val:t,jsonReplacer:(t,i)=>{let s,n=Object.keys(t);for(let r of n){if(s=t[r],!(s instanceof Date))continue;let i=s;null==e.serverTimezoneOffset?t[r]=e.dateParse.toTimeZone(i,null).toJSON():(i=new Date(+i+36e5*e.serverTimezoneOffset),t[r]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(i),null).toJSON())}return t},arrayReplacer:t=>{for(let i=0;i<t.length;i++)e.isPlainObject(t[i])?t[i]=e.parse.jsonReplacer(t[i]):t[i]instanceof Date&&(t[i]=e.parse.jsonReplacer({date:t[i]}).date);return t},jsonDateReplacer:(t,i)=>{if("value"===t&&i){if("string"==typeof i){let t=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i);if(t)i=e.dateParse.toTimeZone(new Date(parseInt(t[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i)){let t=i.split(/[^0-9]/);i=e.dateParse.toTimeZone(new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10),parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10)),null,!0)}}if(i instanceof Date)return i=e.dateParse.addSelfOffset(i),null===e.serverTimezoneOffset?e.dateParse.toTimeZone(e.dateParse.addSelfOffset(i),null).toJSON():(i=e.dateParse.toTimeZone(i,i.getTimezoneOffset()/60*2-e.serverTimezoneOffset,!1)).toJSON()}return i}},e.dateParse={addSelfOffset:e=>new Date(+e-6e4*e.getTimezoneOffset()),toUTC:e=>new Date(+e+6e4*e.getTimezoneOffset()),toTimeZone:(t,i,s)=>{if(null===i)return t;let n=s?e.dateParse.toUTC(t):t;return new Date(+n-36e5*i)},toLocalTime:e=>{let t=e,i=-t.getTimezoneOffset(),s=i>=0?"+":"-",n=e=>{let t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+"T"+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())+s+n(i/60)+":"+n(i%60)}},e})();class _x{constructor(e){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=_x,this.dataSource=e,this.pvt={}}processResponse(e,t,i,s){return e}}class Sx extends _x{processQuery(e,t){let i,s,n=e.dataSource.json.slice(0),r=n.length,a=!0,o={};for(let l=0;l<t.queries.length;l++)s=t.queries[l],i=this[s.fn].call(this,n,s.e,t),"onAggregates"===s.fn?o[s.e.field+" - "+s.e.type]=i:n=void 0!==i?i:n,"onPage"!==s.fn&&"onSkip"!==s.fn&&"onTake"!==s.fn&&"onRange"!==s.fn||(a=!1),a&&(r=n.length);return t.isCountRequired&&(n={result:n,count:r,aggregates:o}),n}batchRequest(e,t,i){let s,n=t.deletedRecords.length;for(s=0;s<t.addedRecords.length;s++)this.insert(e,t.addedRecords[s]);for(s=0;s<t.changedRecords.length;s++)this.update(e,i.key,t.changedRecords[s]);for(s=0;s<n;s++)this.remove(e,i.key,t.deletedRecords[s]);return t}onWhere(e,t){return e&&e.length?e.filter(e=>{if(t)return t.validate(e)}):e}onAggregates(e,t){let i=xx.aggregates[t.type];return e&&i&&0!==e.length?i(e,t.field):null}onSearch(e,t){return e&&e.length?(0===t.fieldNames.length&&xx.getFieldList(e[0],t.fieldNames),e.filter(e=>{for(let i=0;i<t.fieldNames.length;i++)if(t.comparer.call(e,xx.getObject(t.fieldNames[i],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1})):e}onSortBy(e,t,i){if(!e||!e.length)return e;let s,n=xx.getValue(t.fieldName,i);if(!n)return e.sort(t.comparer);if(n instanceof Array){n=n.slice(0);for(let i=n.length-1;i>=0;i--)n[i]&&(s=t.comparer,xx.endsWith(n[i]," desc")&&(s=xx.fnSort("descending"),n[i]=n[i].replace(" desc","")),e=xx.sort(e,n[i],s));return e}return xx.sort(e,n,t.comparer)}onGroup(e,t,i){if(!e||!e.length)return e;let s=vx.filterQueries(i.queries,"onAggregates"),n=[];if(s.length){let e;for(let t=0;t<s.length;t++)e=s[t].e,n.push({type:e.type,field:xx.getValue(e.field,i)})}return xx.group(e,xx.getValue(t.fieldName,i),n,null,null,t.comparer)}onPage(e,t,i){let s=xx.getValue(t.pageSize,i),n=(xx.getValue(t.pageIndex,i)-1)*s;return e&&e.length?e.slice(n,n+s):e}onRange(e,t){return e&&e.length?e.slice(xx.getValue(t.start),xx.getValue(t.end)):e}onTake(e,t){return e&&e.length?e.slice(0,xx.getValue(t.nos)):e}onSkip(e,t){return e&&e.length?e.slice(xx.getValue(t.nos)):e}onSelect(e,t){return e&&e.length?xx.select(e,xx.getValue(t.fieldNames)):e}insert(e,t,i,s,n){return Qy(n)?e.dataSource.json.push(t):e.dataSource.json.splice(n,0,t)}remove(e,t,i,s){let n,r=e.dataSource.json;for("object"!=typeof i||i instanceof Date||(i=xx.getObject(t,i)),n=0;n<r.length&&xx.getObject(t,r[n])!==i;n++);return n!==r.length?r.splice(n,1):null}update(e,t,i,s){let n,r,a=e.dataSource.json;for(Qy(t)||(r=Gy(t,i)),n=0;n<a.length&&(Qy(t)||Gy(t,a[n])!==r);n++);return n<a.length?$y(a[n],i):null}}class Cx extends _x{processQuery(e,t,i){let s,n,r=this.getQueryRequest(t),a=vx.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=t.params,l=e.dataSource.url,h=null,c=this.options,d={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in a?(s=a.onPage,n=xx.getValue(s.pageIndex,t),h=xx.getValue(s.pageSize,t),n=(n-1)*h):"onRange"in a&&(s=a.onRange,n=s.start,h=s.end-s.start);for(let g=0;g<r.sorts.length;g++)s=xx.getValue(r.sorts[g].e.fieldName,t),d.sorts.push(xx.callAdaptorFunction(this,"onEachSort",{name:s,direction:r.sorts[g].e.direction},t));i&&(s=this.getFiltersFrom(i,t),s&&d.filters.push(xx.callAdaptorFunction(this,"onEachWhere",s.toJson(),t)));for(let g=0;g<r.filters.length;g++){d.filters.push(xx.callAdaptorFunction(this,"onEachWhere",r.filters[g].e.toJson(),t));let e="object"==typeof d.filters[g]?Object.keys(d.filters[g]):[];for(let t of e)xx.isNull(d[t])&&delete d[t]}for(let g=0;g<r.searches.length;g++)s=r.searches[g].e,d.searches.push(xx.callAdaptorFunction(this,"onEachSearch",{fields:s.fieldNames,operator:s.operator,key:s.searchKey,ignoreCase:s.ignoreCase},t));for(let g=0;g<r.groups.length;g++)d.groups.push(xx.getValue(r.groups[g].e.fieldName,t));for(let g=0;g<r.aggregates.length;g++)s=r.aggregates[g].e,d.aggregates.push({type:s.type,field:xx.getValue(s.field,t)});let u={};this.getRequestQuery(c,t,a,d,u),xx.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:o,reqParams:u});let p=Object.keys(u);for(let g of p)(xx.isNull(u[g])||""===u[g]||0===u[g].length)&&delete u[g];c.skip in u&&c.take in u||null===h||(u[c.skip]=xx.callAdaptorFunction(this,"onSkip",n,t),u[c.take]=xx.callAdaptorFunction(this,"onTake",h,t));let m=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(u,xx.parse.jsonDateReplacer),url:l,pvtData:m,type:"POST",contentType:"application/json; charset=utf-8"}:(s=this.convertToQueryString(u,t,e),s=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+s,{type:"GET",url:s.length?l.replace(/\/*$/,s):l,pvtData:m})}getRequestQuery(e,t,i,s,n){let r=n;r[e.from]=t.fromTable,e.apply&&t.distincts.length&&(r[e.apply]="onDistinct"in this?xx.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(r[e.expand]="onExpand"in this&&"onSelect"in i?xx.callAdaptorFunction(this,"onExpand",{selects:xx.getValue(i.onSelect.fieldNames,t),expands:t.expands},t):t.expands),r[e.select]="onSelect"in i&&!t.distincts.length?xx.callAdaptorFunction(this,"onSelect",xx.getValue(i.onSelect.fieldNames,t),t):"",r[e.count]=t.isCountRequired?xx.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",r[e.search]=s.searches.length?xx.callAdaptorFunction(this,"onSearch",s.searches,t):"",r[e.skip]="onSkip"in i?xx.callAdaptorFunction(this,"onSkip",xx.getValue(i.onSkip.nos,t),t):"",r[e.take]="onTake"in i?xx.callAdaptorFunction(this,"onTake",xx.getValue(i.onTake.nos,t),t):"",r[e.where]=s.filters.length||s.searches.length?xx.callAdaptorFunction(this,"onWhere",s.filters,t):"",r[e.sortBy]=s.sorts.length?xx.callAdaptorFunction(this,"onSortBy",s.sorts,t):"",r[e.group]=s.groups.length?xx.callAdaptorFunction(this,"onGroup",s.groups,t):"",r[e.aggregates]=s.aggregates.length?xx.callAdaptorFunction(this,"onAggregates",s.aggregates,t):"",r.param=[]}convertToQueryString(e,t,i){return""}processResponse(e,t,i,s,n,r){if(s&&s.getResponseHeader("Content-Type")&&-1!==s.getResponseHeader("Content-Type").indexOf("application/json")){let i=xx.timeZoneHandling;t&&!t.timeZoneHandling&&(xx.timeZoneHandling=!1),e=xx.parse.parseJson(e),xx.timeZoneHandling=i}let a=n,o=a.pvtData||{},l=e?e.groupDs:[];if(s&&s.getResponseHeader("Content-Type")&&-1!==s.getResponseHeader("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];let h=JSON.parse(a.data);if(h&&"batch"===h.action&&e&&e.addedRecords)return r.addedRecords=e.addedRecords,r;e&&e.d&&(e=e.d);let c={};return e&&"count"in e&&(c.count=e.count),c.result=e&&e.result?e.result:e,this.getAggregateResult(o,e,c,l,i),xx.isNull(c.count)?c.result:{result:c.result,count:c.count,aggregates:c.aggregates}}onGroup(e){return this.pvt.groups=e,e}onAggregates(e){this.pvt.aggregates=e}batchRequest(e,t,i,s,n){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(Ky({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i[void 0],key:i[void 0]},xx.getAddParams(this,e,s)))}}beforeSend(e,t){}insert(e,t,i,s){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ky({},{value:t,table:i,action:"insert"},xx.getAddParams(this,e,s)))}}remove(e,t,i,s,n){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ky({},{key:i,keyColumn:t,table:s,action:"remove"},xx.getAddParams(this,e,n)))}}update(e,t,i,s,n){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ky({},{value:i,action:"update",keyColumn:t,key:xx.getObject(t,i),table:s},xx.getAddParams(this,e,n)))}}getFiltersFrom(e,t){let i,s=t.fKey,n=s,r=t.key,a=[];"object"!=typeof e[0]&&(n=null);for(let o=0;o<e.length;o++)i="object"==typeof e[0]?xx.getObject(r||n,e[o]):e[o],a.push(new wx(s,"equal",i));return wx.or(a)}getAggregateResult(e,t,i,s,n){let r=t;if(t&&t.result&&(r=t.result),e&&e.aggregates&&e.aggregates.length){let s,n=e.aggregates,a=r,o={};t.aggregate&&(a=t.aggregate);for(let e=0;e<n.length;e++)s=xx.aggregates[n[e].type],s&&(o[n[e].field+" - "+n[e].type]=s(a,n[e].field));i.aggregates=o}if(e&&e.groups&&e.groups.length){let t=e.groups;for(let i=0;i<t.length;i++){let a=null;Qy(s)||(s=xx.group(s,t[i]));let o=vx.filterQueries(n.queries,"onGroup")[i].e;r=xx.group(r,t[i],e.aggregates,a,s,o.comparer)}i.result=r}return i}getQueryRequest(e){let t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=vx.filterQueries(e.queries,"onSortBy"),t.groups=vx.filterQueries(e.queries,"onGroup"),t.filters=vx.filterQueries(e.queries,"onWhere"),t.searches=vx.filterQueries(e.queries,"onSearch"),t.aggregates=vx.filterQueries(e.queries,"onAggregates"),t}addParams(e){let t=e.reqParams;e.params.length&&(t.params={});for(let i of e.params){if(t[i.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[i.key]=i.value,i.fn&&(t[i.key]=i.fn.call(e.query,i.key,e.query,e.dm)),t.params[i.key]=t[i.key]}}}class Ex extends Cx{constructor(e){super(),this.options=Ky({},this.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),Ky(this.options,e||{})}getModuleName(){return"ODataAdaptor"}onPredicate(e,t,i){let s,n,r="",a=e.value,o=typeof a,l=e.field?Ex.getField(e.field):null;if(a instanceof Date&&(a="datetime'"+xx.parse.replacer(a)+"'"),"string"===o&&(a=encodeURIComponent(a),a="'"+a+"'",i&&(l="cast("+l+", 'Edm.String')"),xx.parse.isGuid(a)&&(n="guid"),e.ignoreCase&&(n||(l="tolower("+l+")"),a=a.toLowerCase())),s=xx.odBiOperator[e.operator],s)return r+=l,r+=s,n&&(r+=n),r+a;if(s=Qy(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?xx.odUniOperator[e.operator]:xx.odv4UniOperator[e.operator],"substringof"===s){let e=a;a=l,l=e}return r+=s+"(",r+=l+",",n&&(r+=n),r+=a+")",r}addParams(e){super.addParams(e),delete e.reqParams.params}onComplexPredicate(e,t,i){let s=[];for(let n=0;n<e.predicates.length;n++)s.push("("+this.onEachWhere(e.predicates[n],t,i)+")");return s.join(" "+e.condition+" ")}onEachWhere(e,t,i){return e.isComplex?this.onComplexPredicate(e,t,i):this.onPredicate(e,t,i)}onWhere(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")}onEachSearch(e){e.fields&&0===e.fields.length&&xx.throwError("Query() - Search : oData search requires list of field names to search");let t=this.pvt.search||[];for(let i=0;i<e.fields.length;i++)t.push(new wx(e.fields[i],e.operator,e.key,e.ignoreCase));this.pvt.search=t}onSearch(e){return this.pvt.search=wx.or(this.pvt.search),""}onEachSort(e){let t=[];if(e.name instanceof Array)for(let i=0;i<e.name.length;i++)t.push(Ex.getField(e.name[i])+("descending"===e.direction?" desc":""));else t.push(Ex.getField(e.name)+("descending"===e.direction?" desc":""));return t.join(",")}onSortBy(e){return e.reverse().join(",")}onGroup(e){return this.pvt.groups=e,[]}onSelect(e){for(let t=0;t<e.length;t++)e[t]=Ex.getField(e[t]);return e.join(",")}onAggregates(e){return this.pvt.aggregates=e,""}onCount(e){return!0===e?"allpages":""}beforeSend(e,t,i){xx.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")}processResponse(e,t,i,s,n,r){if(n&&"GET"===n.type&&!this.rootUrl&&e["odata.metadata"]){let t=e["odata.metadata"].split("/$metadata#");this.rootUrl=t[0],this.resourceTableName=t[1]}if(!Qy(e.d)){let t=i&&i.isCountRequired?e.d.results:e.d,s="__metadata";if(!Qy(t))for(let e=0;e<t.length;e++)Qy(t[e][s])||delete t[e][s]}let a=n&&n.pvtData,o=this.processBatchResponse(e,i,s,n,r);if(o)return o;let l=s&&n.getResponseHeader("DataServiceVersion"),h=null,c=l&&parseInt(l,10)||2;if(i&&i.isCountRequired){let t="__count";(e[t]||e["odata.count"])&&(h=e[t]||e["odata.count"]),e.d&&(e=e.d),(e[t]||e["odata.count"])&&(h=e[t]||e["odata.count"])}3===c&&e.value&&(e=e.value),e.d&&(e=e.d),c<3&&e.results&&(e=e.results);let d={};return d.count=h,d.result=e,this.getAggregateResult(a,e,d,null,i),xx.isNull(h)?d.result:{result:d.result,count:d.count,aggregates:d.aggregates}}convertToQueryString(e,t,i){let s=[],n=e.table||"";delete e.table,i.dataSource.requiresFormat&&(e.$format="json");let r=Object.keys(e);for(let a of r)s.push(a+"="+e[a]);return s=s.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!n?s:s.length?n+"?"+s:n||""}localTimeReplacer(e,t){for(let i of Qy(t)?[]:Object.keys(t))t[i]instanceof Date&&(t[i]=xx.dateParse.toLocalTime(t[i]));return t}insert(e,t,i){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}}remove(e,t,i,s){let n;return n="string"!=typeof i||xx.parse.isGuid(i)?`(${i})`:`('${i}')`,{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+n}}update(e,t,i,s,n,r){let a;return"PATCH"!==this.options.updateType||Qy(r)||(i=this.compareAndRemove(i,r,t)),a="string"!=typeof i[t]||xx.parse.isGuid(i[t])?`(${i[t]})`:`('${i[t]}')`,{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+a,data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}}batchRequest(e,t,i,s,n){let r=i.guid=xx.getGuid(this.options.batchPre),a=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);i.url=this.resourceTableName?this.resourceTableName:i.url;let o={url:i.url,key:i.key,cid:1,cSet:xx.getGuid(this.options.changeSet)},l="--"+r+"\n";return l+="Content-Type: multipart/mixed; boundary="+o.cSet.replace("--","")+"\n",this.pvt.changeSet=0,l+=this.generateInsertRequest(t.addedRecords,o,e),l+=this.generateUpdateRequest(t.changedRecords,o,e,n?n.changedRecords:[]),l+=this.generateDeleteRequest(t.deletedRecords,o,e),l+=o.cSet+"--\n",l+="--"+r+"--",{type:"POST",url:a,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+r,data:l}}generateDeleteRequest(e,t,i){if(!e)return"";let s="";return s=this.generateBodyContent(e,t,{method:"DELETE ",url:(e,t,i)=>{let s=xx.getObject(i,e[t]);return"number"==typeof s||xx.parse.isGuid(s)?"("+s+")":s instanceof Date?"("+e[t][i].toJSON()+")":`('${s}')`},data:(e,t)=>""},i),s+"\n"}generateInsertRequest(e,t,i){if(!e)return"";let s="";return s=this.generateBodyContent(e,t,{method:"POST ",url:(e,t,i)=>"",data:(e,t)=>JSON.stringify(e[t])+"\n\n"},i),s}generateUpdateRequest(e,t,i,s){if(!e)return"";let n="";return e.forEach(e=>e=this.compareAndRemove(e,s.filter(i=>xx.getObject(t.key,i)===xx.getObject(t.key,e))[0],t.key)),n=this.generateBodyContent(e,t,{method:this.options.updateType+" ",url:(e,t,i)=>"number"==typeof e[t][i]||xx.parse.isGuid(e[t][i])?"("+e[t][i]+")":e[t][i]instanceof Date?"("+e[t][i].toJSON()+")":`('${e[t][i]}')`,data:(e,t)=>JSON.stringify(e[t])+"\n\n"},i),n}static getField(e){return e.replace(/\./g,"/")}generateBodyContent(e,t,i,s){let n="";for(let r=0;r<e.length;r++)n+="\n"+t.cSet+"\n",n+=this.options.changeSetContent+"\n\n",n+=i.method,"POST "===i.method?n+=(s.dataSource.insertUrl||s.dataSource.crudUrl||t.url)+i.url(e,r,t.key)+" HTTP/1.1\n":"PUT "===i.method||"PATCH "===i.method?n+=(s.dataSource.updateUrl||s.dataSource.crudUrl||t.url)+i.url(e,r,t.key)+" HTTP/1.1\n":"DELETE "===i.method&&(n+=(s.dataSource.removeUrl||s.dataSource.crudUrl||t.url)+i.url(e,r,t.key)+" HTTP/1.1\n"),n+="Accept: "+this.options.accept+"\n",n+="Content-Id: "+this.pvt.changeSet+++"\n",n+=this.options.batchChangeSetContentType+"\n",Qy(e[r]["@odata.etag"])?n+="\n":(n+="If-Match: "+e[r]["@odata.etag"]+"\n\n",delete e[r]["@odata.etag"]),n+=i.data(e,r);return n}processBatchResponse(e,t,i,s,n){if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(s&&this.options.batch&&xx.endsWith(s.url,this.options.batch)&&"post"===s.type.toLowerCase()){let t,s,r=i.getResponseHeader("Content-Type"),a=e+"";if(r=r.substring(r.indexOf("=batchresponse")+1),a=a.split(r),a.length<2)return{};a=a[1];let o=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(a);o&&a.replace(o[0],""),a=a.split(o?o[1]:"");for(let e=a.length;e>-1;e--)/\bContent-ID:/i.test(a[e])&&/\bHTTP.+201/.test(a[e])&&(t=parseInt(/\bContent-ID: (\d+)/i.exec(a[e])[1],10),n.addedRecords[t]&&(s=xx.parse.parseJson(/^\{.+\}/m.exec(a[e])[0]),Ky({},n.addedRecords[t],this.processResponse(s))));return n}return null}compareAndRemove(e,t,i){return Qy(t)?e:(Object.keys(e).forEach(s=>{s!==i&&"@odata.etag"!==s&&(xx.isPlainObject(e[s])?(this.compareAndRemove(e[s],t[s]),0===Object.keys(e[s]).filter(e=>"@odata.etag"!==e).length&&delete e[s]):e[s]===t[s]?delete e[s]:e[s]&&t[s]&&e[s].valueOf()===t[s].valueOf()&&delete e[s])}),e)}}class Dx extends Sx{constructor(){super(),Xy("beforeSend",Cx.prototype.beforeSend,this)}insert(e,t,i,s,n){return this.pvt.position=n,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ky({},{value:t,table:i,action:"insert"},xx.getAddParams(this,e,s)))}}remove(e,t,i,s,n){return super.remove(e,t,i),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ky({},{key:i,keyColumn:t,table:s,action:"remove"},xx.getAddParams(this,e,n)))}}update(e,t,i,s,n){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Ky({},{value:i,action:"update",keyColumn:t,key:i[t],table:s},xx.getAddParams(this,e,n)))}}processResponse(e,t,i,s,n,r,a){let o;if("add"===this.updateType&&super.insert(t,e,null,null,this.pvt.position),"update"===this.updateType&&super.update(t,this.updateKey,e),this.updateType=void 0,e.added)for(o=0;o<e.added.length;o++)super.insert(t,e.added[o]);if(e.changed)for(o=0;o<e.changed.length;o++)super.update(t,a.key,e.changed[o]);if(e.deleted)for(o=0;o<e.deleted.length;o++)super.remove(t,a.key,e.deleted[o]);return e}batchRequest(e,t,i,s,n){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(Ky({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i.url,key:i.key},xx.getAddParams(this,e,s)))}}addParams(e){(new Cx).addParams(e)}}class kx extends Cx{constructor(e,t,i){super(),this.isCrudAction=!1,this.isInsertAction=!1,Qy(e)||(this.cacheAdaptor=e),this.pageSize=i,this.guidId=xx.getGuid("cacheAdaptor"),window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]}));let s=this.guidId;Qy(t)||setInterval(()=>{let e;e=xx.parse.parseJson(window.localStorage.getItem(s));let i=[];for(let s=0;s<e.results.length;s++){let n=+new Date,r=+new Date(e.results[s].timeStamp);e.results[s].timeStamp=n-r,n-r>t&&i.push(s)}for(let t=0;t<i.length;t++)e.results.splice(i[t],1),e.keys.splice(i[t],1);window.localStorage.removeItem(s),window.localStorage.setItem(s,JSON.stringify(e))},t)}generateKey(e,t){let i=this.getQueryRequest(t),s=vx.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),n=e;"onPage"in s&&(n+=s.onPage.pageIndex),i.sorts.forEach(e=>{n+=e.e.direction+e.e.fieldName}),i.groups.forEach(e=>{n+=e.e.fieldName}),i.searches.forEach(e=>{n+=e.e.searchKey});for(let r=0;r<i.filters.length;r++){let s=i.filters[r];if(s.e.isComplex){let i=t.clone();i.queries=[];for(let e=0;e<s.e.predicates.length;e++)i.queries.push({fn:"onWhere",e:s.e.predicates[e],filter:t.queries.filter});n+=s.e.condition+this.generateKey(e,i)}else n+=s.e.field+s.e.operator+s.e.value}return n}processQuery(e,t,i){let s,n=this.generateKey(e.dataSource.url,t);s=xx.parse.parseJson(window.localStorage.getItem(this.guidId));let r=s?s.results[s.keys.indexOf(n)]:null;return null==r||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):r}processResponse(e,t,i,s,n,r){if(this.isInsertAction||n&&this.cacheAdaptor.options.batch&&xx.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,i,s,n,r);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));let a=i?this.generateKey(t.dataSource.url,i):t.dataSource.url,o={};o=xx.parse.parseJson(window.localStorage.getItem(this.guidId));let l=o.keys.indexOf(a);for(-1!==l&&(o.results.splice(l,1),o.keys.splice(l,1)),o.results[o.keys.push(a)-1]={keys:a,result:e.result,timeStamp:new Date,count:e.count};o.results.length>this.pageSize;)o.results.splice(0,1),o.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(o)),e}beforeSend(e,t,i){!Qy(this.cacheAdaptor.options.batch)&&xx.endsWith(i.url,this.cacheAdaptor.options.batch)&&"post"===i.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)}update(e,t,i,s){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,i,s)}insert(e,t,i){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,i)}remove(e,t,i,s){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,i,s)}batchRequest(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}}class Ax{constructor(e,t,i){let s;return this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],e||this.dataSource||(e=[]),i=i||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?s={json:e,offline:!0}:"object"==typeof e?(e.json||(e.json=[]),s={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof Dx||e.url),requiresFormat:e.requiresFormat}):xx.throwError("DataManager: Invalid arguments"),void 0!==s.requiresFormat||xx.isCors()||(s.requiresFormat=!!Qy(s.crossDomain)||s.crossDomain),void 0===s.dataType&&(s.dataType="json"),this.dataSource=s,this.defaultQuery=t,s.url&&s.offline&&!s.json.length?(this.isDataAvailable=!1,this.adaptor=i||new Ex,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new vx),this.ready.then(e=>{this.dataSource.offline=!0,this.isDataAvailable=!0,s.json=e.result,this.adaptor=new Sx})):this.adaptor=s.offline?new Sx:new Ex,!s.jsonp&&this.adaptor instanceof Ex&&(s.jsonp="callback"),this.adaptor=i||this.adaptor,s.enableCaching&&(this.adaptor=new kx(this.adaptor,s.timeTillExpiration,s.cachingPageSize)),this}setDefaultQuery(e){return this.defaultQuery=e,this}executeLocal(e){this.defaultQuery||e instanceof vx||xx.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||xx.throwError("DataManager - executeLocal() : Json data is required to execute");let t=this.adaptor.processQuery(this,e=e||this.defaultQuery);if(e.subQuery){let i=e.subQuery.fromTable,s=e.subQuery.lookups,n=e.isCountRequired?t.result:t;s&&s instanceof Array&&xx.buildHierarchy(e.subQuery.fKey,i,n,s,e.subQuery.key);for(let t=0;t<n.length;t++)n[t][i]instanceof Array&&(n[t]=Ky({},{},n[t]),n[t][i]=this.adaptor.processResponse(e.subQuery.using(new Ax(n[t][i].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(t,this,e)}executeQuery(e,t,i,s){"function"==typeof e&&(s=i,i=t,t=e,e=null),e||(e=this.defaultQuery),e instanceof vx||xx.throwError("DataManager - executeQuery() : A query is required to execute");let n=new Mx,r={query:e};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!Qy(this.adaptor.makeRequest)){let t=this.adaptor.processQuery(this,e);Qy(this.adaptor.makeRequest)?Qy(t.url)?(r=Ax.getDeferedArgs(e,t,r),n.resolve(r)):this.makeRequest(t,n,r,e):this.adaptor.makeRequest(t,n,r,e)}else Ax.nextTick(()=>{let t=this.executeLocal(e);r=Ax.getDeferedArgs(e,t,r),n.resolve(r)});return(t||i)&&n.promise.then(t,i),s&&n.promise.then(s,s),n.promise}static getDeferedArgs(e,t,i){return e.isCountRequired?(i.result=t.result,i.count=t.count,i.aggregates=t.aggregates):i.result=t,i}static nextTick(e){(window.setImmediate||window.setTimeout)(e,0)}extendRequest(e,t,i){return Ky({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:i},e)}makeRequest(e,t,i,s){let n=!!s.subQuerySelector,r=e=>{i.error=e,t.reject(i)},a=(e,s,n,r,a,o,l)=>{i.xhr=n,i.count=s?parseInt(s.toString(),10):0,i.result=e,i.request=r,i.aggregates=o,i.actual=a,i.virtualSelectRecords=l,t.resolve(i)},o=(e,t)=>{let o=new Mx,l={parent:i};s.subQuery.isChild=!0;let h=this.adaptor.processQuery(this,s.subQuery,e?this.adaptor.processResponse(e):t),c=this.makeRequest(h,o,l,s.subQuery);return n||o.then(t=>{e&&(xx.buildHierarchy(s.subQuery.fKey,s.subQuery.fromTable,e,t,s.subQuery.key),a(e,t.count,t.xhr))},r),c},l=this.extendRequest(e,(e,t)=>{-1===t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&this.dateParse&&(e=xx.parse.parseJson(e));let i=this.adaptor.processResponse(e,this,s,t.httpRequest,t),r=0,l=null,h=e.virtualSelectRecords;s.isCountRequired&&(r=i.count,l=i.aggregates,i=i.result),s.subQuery?n||o(i,t):a(i,r,t.httpRequest,t.type,e,l,h)},r),h=new Lb(l);if(h.beforeSend=()=>{this.beforeSend(h.httpRequest,h)},l=h.send(),l.catch(e=>!0),this.requests.push(h),n){let e,t=s.subQuerySelector.call(this,{query:s.subQuery,parent:s});t&&t.length?(e=Promise.all([l,o(null,t)]),e.then((...e)=>{let t=e[0],i=this.adaptor.processResponse(t[0],this,s,this.requests[0].httpRequest,this.requests[0]),r=0;s.isCountRequired&&(r=i.count,i=i.result);let o=this.adaptor.processResponse(t[1],this,s.subQuery,this.requests[1].httpRequest,this.requests[1]);r=0,s.subQuery.isCountRequired&&(r=o.count,o=o.result),xx.buildHierarchy(s.subQuery.fKey,s.subQuery.fromTable,i,o,s.subQuery.key),n=!1,a(i,r,this.requests[0].httpRequest)})):n=!1}return l}beforeSend(e,t){this.adaptor.beforeSend(this,e,t);let i,s=this.dataSource.headers;for(let n=0;s&&n<s.length;n++){i=[];let t=Object.keys(s[n]);for(let r of t)i.push(r),e.setRequestHeader(r,s[n][r])}}saveChanges(e,t,i,s,n){i instanceof vx&&(s=i,i=null);let r={url:i,key:t||this.dataSource.key},a=this.adaptor.batchRequest(this,e,r,s||new vx,n);if(this.dataSource.offline)return a;if(Qy(this.adaptor.doAjaxRequest)){let t=new Mx,i=new Lb(a);return i.beforeSend=()=>{this.beforeSend(i.httpRequest,i)},i.onSuccess=(i,s)=>{t.resolve(this.adaptor.processResponse(i,this,null,s.httpRequest,s,e,r))},i.onFailure=e=>{t.reject([{error:e}])},i.send().catch(e=>!0),t.promise}return this.adaptor.doAjaxRequest(a)}insert(e,t,i,s){t instanceof vx&&(i=t,t=null);let n=this.adaptor.insert(this,e,t,i,s);return this.dataSource.offline?n:Qy(this.adaptor.doAjaxRequest)?this.doAjaxRequest(n):this.adaptor.doAjaxRequest(n)}remove(e,t,i,s){"object"==typeof t&&(t=xx.getObject(e,t)),i instanceof vx&&(s=i,i=null);let n=this.adaptor.remove(this,e,t,i,s);return this.dataSource.offline?n:Qy(this.adaptor.doAjaxRequest)?this.doAjaxRequest(n):this.adaptor.doAjaxRequest(n)}update(e,t,i,s,n){i instanceof vx&&(s=i,i=null);let r=this.adaptor.update(this,e,t,i,s,n);return this.dataSource.offline?r:Qy(this.adaptor.doAjaxRequest)?this.doAjaxRequest(r):this.adaptor.doAjaxRequest(r)}doAjaxRequest(e){let t=new Mx;e=Ky({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e);let i=new Lb(e);return i.beforeSend=()=>{this.beforeSend(i.httpRequest,i)},i.onSuccess=(e,i)=>{try{xx.parse.parseJson(e)}catch(s){e=[]}e=this.adaptor.processResponse(xx.parse.parseJson(e),this,null,i.httpRequest,i),t.resolve(e)},i.onFailure=e=>{t.reject([{error:e}])},i.send().catch(e=>!0),t.promise}}class Mx{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}class Lx{constructor(){}static save(e,t){if(null==e||""===e)throw new Error("ArgumentException: fileName cannot be undefined, null or empty");let i=e.substring(e.lastIndexOf(".")+1,e.length),s=this.getMimeType(i);if(""!==s&&(t=new Blob([t],{type:s})),this.isMicrosoftBrowser)navigator.msSaveBlob(t,e);else{let s=document.createElementNS("http://www.w3.org/1999/xhtml","a");this.saveInternal(e,i,t,s,"download"in s)}}static saveInternal(e,t,i,s,n){if(n){s.download=e;let t=window.URL.createObjectURL(i);s.href=t;let n=document.createEvent("MouseEvent");n.initEvent("click",!0,!0),s.dispatchEvent(n),setTimeout(()=>{window.URL.revokeObjectURL(t),t=void 0})}else if("docx"!==t&&"xlsx"!==t){let e=window.URL.createObjectURL(i);window.open(e,"_blank")||(window.location.href=e)}else{let e=new FileReader;e.onloadend=()=>{window.open(e.result,"_blank")||(window.location.href=e.result)},e.readAsDataURL(i)}}static getMimeType(e){let t="";switch(e){case"html":t="text/html";break;case"pdf":t="application/pdf";break;case"docx":t="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"txt":t="text/plain"}return t}}class Tx{constructor(e){this.emitBOM=!0,this.encodingType="Ansi",this.initBOM(e)}get includeBom(){return this.emitBOM}get type(){return this.encodingType}set type(e){this.encodingType=e}initBOM(e){this.emitBOM=null==e||e}getByteCount(e){return Rx(e,"string"),""===e?this.utf8Len(e.charCodeAt(0)):(null==this.type&&(this.type="Ansi"),this.getByteCountInternal(e,0,e.length))}utf8Len(e){return e<=127?1:e<=2047?2:e<=65535?3:e<=2097151?4:0}isHighSurrogate(e){return e>=55296&&e<=56319}toCodepoint(e,t){return 65536+((e=(1023&e)<<10)|1023&t)}getByteCountInternal(e,t,i){let s=0;if("Utf8"===this.encodingType||"Unicode"===this.encodingType){let n="Utf8"===this.encodingType;for(let r=0;r<i;r++){let i=e.charCodeAt(n?t:t++);if(this.isHighSurrogate(i))if(n){let n=i,r=e.charCodeAt(++t);s+=this.utf8Len(this.toCodepoint(n,r))}else s+=4,++r;else s+=n?this.utf8Len(i):2;n&&t++}return s}return s=i,s}getBytes(e,t,i){if(Rx(e,"string"),Rx(t,"charIndex"),Rx(i,"charCount"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");if(e.length-t<i)throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");let s;if(""===e)return s=new ArrayBuffer(0),s;null==this.type&&(this.type="Ansi");let n=this.getByteCountInternal(e,t,i);switch(this.type){case"Utf8":return s=this.getBytesOfUtf8Encoding(n,e,t,i),s;case"Unicode":return s=this.getBytesOfUnicodeEncoding(n,e,t,i),s;default:return s=this.getBytesOfAnsiEncoding(n,e,t,i),s}}getString(e,t,i){if(Rx(e,"bytes"),Rx(t,"index"),Rx(i,"count"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");if(e.byteLength-t<i)throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");if(0===e.byteLength||0===i)return"";null==this.type&&(this.type="Ansi");let s="",n=new Uint8Array(e);switch(this.type){case"Utf8":return this.getStringOfUtf8Encoding(n,t,i);case"Unicode":let r=new Uint16Array(e);return s=this.getStringofUnicodeEncoding(r,t,i),s;default:let a=t;for(let e=0;e<i;e++)s+=String.fromCharCode(n[a]),a++;return s}}getBytesOfAnsiEncoding(e,t,i,s){let n=new ArrayBuffer(e),r=new Uint8Array(n),a=0;for(let o=0;o<s;o++){let e=t.charCodeAt(i++);r[a]=e<2048?e:63,a++}return n}getBytesOfUtf8Encoding(e,t,i,s){let n=new ArrayBuffer(e),r=new Uint8Array(n),a=i,o=0;for(let l=0;l<s;l++){let e=t.charCodeAt(a);e<=127?r[o]=e:e<2048?(r[o]=192|e>>6,r[++o]=128|63&e):e<55296||e>=57344?(r[o]=224|e>>12,r[++o]=128|e>>6&63,r[++o]=128|63&e):(r[o]=239,r[++o]=191,r[++o]=189),++o,++a}return n}getBytesOfUnicodeEncoding(e,t,i,s){let n=new ArrayBuffer(e),r=new Uint16Array(n);for(let a=0;a<s;a++){let e=t.charCodeAt(a);r[a]=e}return n}getStringOfUtf8Encoding(e,t,i){let s=0,n=t,r="";for(;s<i;s++){let t=e[n++];for(;n>e.length;)return r;t>127&&(t>191&&t<224&&n<i?t=(31&t)<<6|63&e[n]:t>223&&t<240&&n<e.byteLength?t=(15&t)<<12|(63&e[n])<<6|63&e[++n]:t>239&&t<248&&n<e.byteLength&&(t=(7&t)<<18|(63&e[n])<<12|(63&e[++n])<<6|63&e[++n]),++n),r+=String.fromCharCode(t)}return r}getStringofUnicodeEncoding(e,t,i){if(i>e.length)throw new RangeError("ArgumentOutOfRange_Count");let s=new Uint16Array(i),n="";for(let r=0;r<i&&r<e.length;r++)s[r]=e[t++];return n=String.fromCharCode.apply(null,s),n}destroy(){this.emitBOM=void 0,this.encodingType=void 0}}function Rx(e,t){if(null==e)throw new Error("ArgumentException: "+t+" cannot be null or undefined")}class Px{get buffer(){return this.flush(),this.bufferBlob}get encoding(){return this.enc}constructor(e){this.bufferBlob=new Blob([""]),this.bufferText="",this.init(e),Lx.isMicrosoftBrowser=!!navigator.msSaveBlob}init(e){null==e?(this.enc=new Tx(!1),this.enc.type="Utf8"):(this.enc=e,this.setBomByte())}setBomByte(){if(this.encoding.includeBom)switch(this.encoding.type){case"Unicode":let e=new ArrayBuffer(2),t=new Uint8Array(e);t[0]=255,t[1]=254,this.bufferBlob=new Blob([e]);break;case"Utf8":let i=new ArrayBuffer(3),s=new Uint8Array(i);s[0]=239,s[1]=187,s[2]=191,this.bufferBlob=new Blob([i]);break;default:this.bufferBlob=new Blob([""])}}save(e){""!==this.bufferText&&this.flush(),Lx.save(e,this.buffer)}write(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");Rx(e,"string"),this.bufferText+=e,this.bufferText.length>=10240&&this.flush()}flush(){if(null==this.bufferText||0===this.bufferText.length)return;let e=this.encoding.getBytes(this.bufferText,0,this.bufferText.length);this.bufferText="",this.bufferBlob=new Blob([this.bufferBlob,e])}writeLine(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");Rx(e,"string"),this.bufferText=this.bufferText+e+"\r\n",this.bufferText.length>=10240&&this.flush()}destroy(){this.bufferBlob=void 0,this.bufferText=void 0,this.enc instanceof Tx&&this.enc.destroy(),this.enc=void 0}}const Ix=new Int16Array(286),Ox=new Uint8Array(286),Nx=new Int16Array(30),Vx=new Uint8Array(30);let Fx=(()=>{class e{constructor(t){this.pendingBuffer=new Uint8Array(65536),this.pendingBufLength=0,this.pendingBufCache=0,this.pendingBufBitsInCache=0,this.bufferPosition=0,this.extraBits=0,this.currentHash=0,this.matchStart=0,this.matchLength=0,this.matchPrevAvail=!1,this.blockStart=0,this.stringStart=0,this.lookAhead=0,this.totalBytesIn=0,this.inputOffset=0,this.inputEnd=0,this.windowSize=32768,this.windowMask=this.windowSize-1,this.hashSize=32768,this.hashMask=this.hashSize-1,this.hashShift=Math.floor(17/3),this.maxDist=this.windowSize-262,this.checkSum=1,this.noWrap=!1,e.isHuffmanTreeInitiated||(e.initHuffmanTree(),e.isHuffmanTreeInitiated=!0),this.treeLiteral=new Bx(this,286,257,15),this.treeDistances=new Bx(this,30,1,15),this.treeCodeLengths=new Bx(this,19,4,7),this.arrDistances=new Uint16Array(16384),this.arrLiterals=new Uint8Array(16384),this.stream=[],this.dataWindow=new Uint8Array(2*this.windowSize),this.hashHead=new Int16Array(this.hashSize),this.hashPrevious=new Int16Array(this.windowSize),this.blockStart=this.stringStart=1,this.noWrap=t,t||this.writeZLibHeader()}get compressedData(){return this.stream}get getCompressedString(){let e="";if(void 0!==this.stream)for(let t=0;t<this.stream.length;t++)e+=String.fromCharCode.apply(null,this.stream[t]);return e}write(e,t,i){if(null==e)throw new Error("ArgumentException: data cannot null or undefined");let s=t+i;if(0>t||t>s||s>e.length)throw new Error("ArgumentOutOfRangeException: Offset or length is incorrect");if("string"==typeof e){let i=new Tx(!1);i.type="Utf8",s=t+(e=new Uint8Array(i.getBytes(e,0,e.length))).length}for(this.inputBuffer=e,this.inputOffset=t,this.inputEnd=s,this.noWrap||(this.checkSum=zx.checksumUpdate(this.checkSum,this.inputBuffer,this.inputOffset,s));this.inputEnd!==this.inputOffset||0!==this.pendingBufLength;)this.pendingBufferFlush(),this.compressData(!1)}writeZLibHeader(){let e=30720;e|=64,e+=31-e%31,this.pendingBufferWriteShortBytes(e)}pendingBufferWriteShortBytes(e){this.pendingBuffer[this.pendingBufLength++]=e>>8,this.pendingBuffer[this.pendingBufLength++]=e}compressData(e){let t;do{this.fillWindow(),t=this.compressSlow(e&&this.inputEnd===this.inputOffset,e)}while(0===this.pendingBufLength&&t);return t}compressSlow(e,t){if(this.lookAhead<262&&!e)return!1;for(;this.lookAhead>=262||e;){if(0===this.lookAhead)return this.lookAheadCompleted(t);this.stringStart>=2*this.windowSize-262&&this.slideWindow();let e=this.matchStart,i=this.matchLength;if(this.lookAhead>=3&&this.discardMatch(),i>=3&&this.matchLength<=i?i=this.matchPreviousBest(e,i):this.matchPreviousAvailable(),this.bufferPosition>=16384)return this.huffmanIsFull(t)}return!0}discardMatch(){let e=this.insertString();0!==e&&this.stringStart-e<=this.maxDist&&this.findLongestMatch(e)&&this.matchLength<=5&&3===this.matchLength&&this.stringStart-this.matchStart>4096&&(this.matchLength=2)}matchPreviousAvailable(){this.matchPrevAvail&&this.huffmanTallyLit(255&this.dataWindow[this.stringStart-1]),this.matchPrevAvail=!0,this.stringStart++,this.lookAhead--}matchPreviousBest(e,t){this.huffmanTallyDist(this.stringStart-1-e,t),t-=2;do{this.stringStart++,this.lookAhead--,this.lookAhead>=3&&this.insertString()}while(--t>0);return this.stringStart++,this.lookAhead--,this.matchPrevAvail=!1,this.matchLength=2,t}lookAheadCompleted(e){return this.matchPrevAvail&&this.huffmanTallyLit(255&this.dataWindow[this.stringStart-1]),this.matchPrevAvail=!1,this.huffmanFlushBlock(this.dataWindow,this.blockStart,this.stringStart-this.blockStart,e),this.blockStart=this.stringStart,!1}huffmanIsFull(e){let t=this.stringStart-this.blockStart;this.matchPrevAvail&&t--;let i=e&&0===this.lookAhead&&!this.matchPrevAvail;return this.huffmanFlushBlock(this.dataWindow,this.blockStart,t,i),this.blockStart+=t,!i}fillWindow(){for(this.stringStart>=this.windowSize+this.maxDist&&this.slideWindow();this.lookAhead<262&&this.inputOffset<this.inputEnd;){let e=2*this.windowSize-this.lookAhead-this.stringStart;e>this.inputEnd-this.inputOffset&&(e=this.inputEnd-this.inputOffset),this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset,this.inputOffset+e),this.stringStart+this.lookAhead),this.inputOffset+=e,this.totalBytesIn+=e,this.lookAhead+=e}this.lookAhead>=3&&this.updateHash()}slideWindow(){this.dataWindow.set(this.dataWindow.subarray(this.windowSize,this.windowSize+this.windowSize),0),this.matchStart-=this.windowSize,this.stringStart-=this.windowSize,this.blockStart-=this.windowSize;for(let e=0;e<this.hashSize;++e){let t=65535&this.hashHead[e];this.hashHead[e]=t>=this.windowSize?t-this.windowSize:0}for(let e=0;e<this.windowSize;e++){let t=65535&this.hashPrevious[e];this.hashPrevious[e]=t>=this.windowSize?t-this.windowSize:0}}insertString(){let e,t=(this.currentHash<<this.hashShift^this.dataWindow[this.stringStart+2])&this.hashMask;return this.hashPrevious[this.stringStart&this.windowMask]=e=this.hashHead[t],this.hashHead[t]=this.stringStart,this.currentHash=t,65535&e}findLongestMatch(e){let t,i=4096,s=258,n=this.stringStart,r=this.stringStart+this.matchLength,a=Math.max(this.matchLength,2),o=Math.max(this.stringStart-this.maxDist,0),l=this.stringStart+258-1,h=this.dataWindow[r-1],c=this.dataWindow[r],d=this.dataWindow;a>=32&&(i>>=2),s>this.lookAhead&&(s=this.lookAhead);do{if(d[e+a]===c&&d[e+a-1]===h&&d[e]===d[n]&&d[e+1]===d[n+1]){for(t=e+2,n+=2;d[++n]===d[++t]&&d[++n]===d[++t]&&d[++n]===d[++t]&&d[++n]===d[++t]&&d[++n]===d[++t]&&d[++n]===d[++t]&&d[++n]===d[++t]&&d[++n]===d[++t]&&n<l;);if(n>r){if(this.matchStart=e,r=n,a=n-this.stringStart,a>=s)break;h=d[r-1],c=d[r]}n=this.stringStart}}while((e=65535&this.hashPrevious[e&this.windowMask])>o&&0!=--i);return this.matchLength=Math.min(a,this.lookAhead),this.matchLength>=3}updateHash(){this.currentHash=this.dataWindow[this.stringStart]<<this.hashShift^this.dataWindow[this.stringStart+1]}huffmanTallyLit(e){return this.arrDistances[this.bufferPosition]=0,this.arrLiterals[this.bufferPosition++]=e,this.treeLiteral.codeFrequencies[e]++,this.bufferPosition>=16384}huffmanTallyDist(e,t){this.arrDistances[this.bufferPosition]=e,this.arrLiterals[this.bufferPosition++]=t-3;let i=this.huffmanLengthCode(t-3);this.treeLiteral.codeFrequencies[i]++,i>=265&&i<285&&(this.extraBits+=Math.floor((i-261)/4));let s=this.huffmanDistanceCode(e-1);return this.treeDistances.codeFrequencies[s]++,s>=4&&(this.extraBits+=Math.floor(s/2-1)),this.bufferPosition>=16384}huffmanFlushBlock(e,t,i,s){this.treeLiteral.codeFrequencies[256]++,this.treeLiteral.buildTree(),this.treeDistances.buildTree(),this.treeLiteral.calculateBLFreq(this.treeCodeLengths),this.treeDistances.calculateBLFreq(this.treeCodeLengths),this.treeCodeLengths.buildTree();let n=4;for(let o=18;o>n;o--)this.treeCodeLengths.codeLengths[Bx.huffCodeLengthOrders[o]]>0&&(n=o+1);let r=14+3*n+this.treeCodeLengths.getEncodedLength()+this.treeLiteral.getEncodedLength()+this.treeDistances.getEncodedLength()+this.extraBits,a=this.extraBits;for(let o=0;o<286;o++)a+=this.treeLiteral.codeFrequencies[o]*Ox[o];for(let o=0;o<30;o++)a+=this.treeDistances.codeFrequencies[o]*Vx[o];r>=a&&(r=a),t>=0&&i+4<r>>3?this.huffmanFlushStoredBlock(e,t,i,s):r==a?(this.pendingBufferWriteBits(2+(s?1:0),3),this.treeLiteral.setStaticCodes(Ix,Ox),this.treeDistances.setStaticCodes(Nx,Vx),this.huffmanCompressBlock(),this.huffmanReset()):(this.pendingBufferWriteBits(4+(s?1:0),3),this.huffmanSendAllTrees(n),this.huffmanCompressBlock(),this.huffmanReset())}huffmanFlushStoredBlock(e,t,i,s){this.pendingBufferWriteBits(0+(s?1:0),3),this.pendingBufferAlignToByte(),this.pendingBufferWriteShort(i),this.pendingBufferWriteShort(~i),this.pendingBufferWriteByteBlock(e,t,i),this.huffmanReset()}huffmanLengthCode(e){if(255===e)return 285;let t=257;for(;e>=8;)t+=4,e>>=1;return t+e}huffmanDistanceCode(e){let t=0;for(;e>=4;)t+=2,e>>=1;return t+e}huffmanSendAllTrees(e){this.treeCodeLengths.buildCodes(),this.treeLiteral.buildCodes(),this.treeDistances.buildCodes(),this.pendingBufferWriteBits(this.treeLiteral.treeLength-257,5),this.pendingBufferWriteBits(this.treeDistances.treeLength-1,5),this.pendingBufferWriteBits(e-4,4);for(let t=0;t<e;t++)this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[Bx.huffCodeLengthOrders[t]],3);this.treeLiteral.writeTree(this.treeCodeLengths),this.treeDistances.writeTree(this.treeCodeLengths)}huffmanReset(){this.bufferPosition=0,this.extraBits=0,this.treeLiteral.reset(),this.treeDistances.reset(),this.treeCodeLengths.reset()}huffmanCompressBlock(){for(let e=0;e<this.bufferPosition;e++){let t=255&this.arrLiterals[e],i=this.arrDistances[e];if(0!=i--){let e=this.huffmanLengthCode(t);this.treeLiteral.writeCodeToStream(e);let s=Math.floor((e-261)/4);s>0&&s<=5&&this.pendingBufferWriteBits(t&(1<<s)-1,s);let n=this.huffmanDistanceCode(i);this.treeDistances.writeCodeToStream(n),s=Math.floor(n/2-1),s>0&&this.pendingBufferWriteBits(i&(1<<s)-1,s)}else this.treeLiteral.writeCodeToStream(t)}this.treeLiteral.writeCodeToStream(256)}pendingBufferWriteBits(e,t){let i=new Uint32Array(1);i[0]=this.pendingBufCache|e<<this.pendingBufBitsInCache,this.pendingBufCache=i[0],this.pendingBufBitsInCache+=t,this.pendingBufferFlushBits()}pendingBufferFlush(e){if(this.pendingBufferFlushBits(),this.pendingBufLength>0){let e=new Uint8Array(this.pendingBufLength);e.set(this.pendingBuffer.subarray(0,this.pendingBufLength),0),this.stream.push(e)}this.pendingBufLength=0}pendingBufferFlushBits(){let e=0;for(;this.pendingBufBitsInCache>=8&&this.pendingBufLength<65536;)this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache,this.pendingBufCache>>=8,this.pendingBufBitsInCache-=8,e++;return e}pendingBufferWriteByteBlock(e,t,i){let s=e.subarray(t,t+i);this.pendingBuffer.set(s,this.pendingBufLength),this.pendingBufLength+=i}pendingBufferWriteShort(e){this.pendingBuffer[this.pendingBufLength++]=e,this.pendingBuffer[this.pendingBufLength++]=e>>8}pendingBufferAlignToByte(){this.pendingBufBitsInCache>0&&(this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache),this.pendingBufCache=0,this.pendingBufBitsInCache=0}static initHuffmanTree(){let e=0;for(;e<144;)Ix[e]=Bx.bitReverse(48+e<<8),Ox[e++]=8;for(;e<256;)Ix[e]=Bx.bitReverse(256+e<<7),Ox[e++]=9;for(;e<280;)Ix[e]=Bx.bitReverse(-256+e<<9),Ox[e++]=7;for(;e<286;)Ix[e]=Bx.bitReverse(-88+e<<8),Ox[e++]=8;for(e=0;e<30;e++)Nx[e]=Bx.bitReverse(e<<11),Vx[e]=5}close(){do{this.pendingBufferFlush(!0),this.compressData(!0)||(this.pendingBufferFlush(!0),this.pendingBufferAlignToByte(),this.noWrap||(this.pendingBufferWriteShortBytes(this.checkSum>>16),this.pendingBufferWriteShortBytes(65535&this.checkSum)),this.pendingBufferFlush(!0))}while(this.inputEnd!==this.inputOffset||0!==this.pendingBufLength)}destroy(){this.stream=[],this.stream=void 0,this.pendingBuffer=void 0,this.treeLiteral=void 0,this.treeDistances=void 0,this.treeCodeLengths=void 0,this.arrLiterals=void 0,this.arrDistances=void 0,this.hashHead=void 0,this.hashPrevious=void 0,this.dataWindow=void 0,this.inputBuffer=void 0,this.pendingBufLength=void 0,this.pendingBufCache=void 0,this.pendingBufBitsInCache=void 0,this.bufferPosition=void 0,this.extraBits=void 0,this.currentHash=void 0,this.matchStart=void 0,this.matchLength=void 0,this.matchPrevAvail=void 0,this.blockStart=void 0,this.stringStart=void 0,this.lookAhead=void 0,this.totalBytesIn=void 0,this.inputOffset=void 0,this.inputEnd=void 0,this.windowSize=void 0,this.windowMask=void 0,this.hashSize=void 0,this.hashMask=void 0,this.hashShift=void 0,this.maxDist=void 0,this.checkSum=void 0,this.noWrap=void 0}}return e.isHuffmanTreeInitiated=!1,e})(),Bx=(()=>{class e{constructor(e,t,i,s){this.writer=e,this.codeMinCount=i,this.maxLength=s,this.codeFrequency=new Uint16Array(t),this.lengthCount=new Int32Array(s)}get treeLength(){return this.codeCount}get codeLengths(){return this.codeLength}get codeFrequencies(){return this.codeFrequency}setStaticCodes(e,t){let i=new Int16Array(e.length);i.set(e,0),this.codes=i;let s=new Uint8Array(t.length);s.set(t,0),this.codeLength=s}reset(){for(let e=0;e<this.codeFrequency.length;e++)this.codeFrequency[e]=0;this.codes=void 0,this.codeLength=void 0}writeCodeToStream(e){this.writer.pendingBufferWriteBits(65535&this.codes[e],this.codeLength[e])}buildCodes(){let t=new Int32Array(this.maxLength);this.codes=new Int16Array(this.codeCount);let i=0;for(let e=0;e<this.maxLength;e++)t[e]=i,i+=this.lengthCount[e]<<15-e;for(let s=0;s<this.codeCount;s++){let i=this.codeLength[s];i>0&&(this.codes[s]=e.bitReverse(t[i-1]),t[i-1]+=1<<16-i)}}static bitReverse(t){return e.reverseBits[15&t]<<12|e.reverseBits[t>>4&15]<<8|e.reverseBits[t>>8&15]<<4|e.reverseBits[t>>12]}getEncodedLength(){let e=0;for(let t=0;t<this.codeFrequency.length;t++)e+=this.codeFrequency[t]*this.codeLength[t];return e}calculateBLFreq(e){let t,i,s,n=-1,r=0;for(;r<this.codeCount;){s=1;let a=this.codeLength[r];for(0===a?(t=138,i=3):(t=6,i=3,n!==a&&(e.codeFrequency[a]++,s=0)),n=a,r++;r<this.codeCount&&n===this.codeLength[r]&&(r++,!(++s>=t)););s<i?e.codeFrequency[n]+=s:0!==n?e.codeFrequency[16]++:s<=10?e.codeFrequency[17]++:e.codeFrequency[18]++}}writeTree(e){let t,i,s,n=-1,r=0;for(;r<this.codeCount;){s=1;let a=this.codeLength[r];for(0===a?(t=138,i=3):(t=6,i=3,n!==a&&(e.writeCodeToStream(a),s=0)),n=a,r++;r<this.codeCount&&n===this.codeLength[r]&&(r++,!(++s>=t)););if(s<i)for(;s-- >0;)e.writeCodeToStream(n);else 0!==n?(e.writeCodeToStream(16),this.writer.pendingBufferWriteBits(s-3,2)):s<=10?(e.writeCodeToStream(17),this.writer.pendingBufferWriteBits(s-3,3)):(e.writeCodeToStream(18),this.writer.pendingBufferWriteBits(s-11,7))}}buildTree(){let e=this.codeFrequency.length,t=new Int32Array(e),i=0,s=0;for(let o=0;o<e;o++){let e=this.codeFrequency[o];if(0!==e){let n=i++,r=0;for(;n>0&&this.codeFrequency[t[r=Math.floor((n-1)/2)]]>e;)t[n]=t[r],n=r;t[n]=o,s=o}}for(;i<2;)t[i++]=s<2?++s:0;this.codeCount=Math.max(s+1,this.codeMinCount);let n=i,r=new Int32Array(4*i-2),a=new Int32Array(2*i-1);for(let o=0;o<i;o++){let e=t[o],i=2*o;r[i]=e,r[i+1]=-1,a[o]=this.codeFrequency[e]<<8,t[o]=o}this.constructHuffmanTree(t,i,a,n,r),this.buildLength(r)}constructHuffmanTree(e,t,i,s,n){do{let r=e[0],a=e[--t],o=i[a],l=0,h=1;for(;h<t;)h+1<t&&i[e[h]]>i[e[h+1]]&&h++,e[l]=e[h],l=h,h=2*l+1;for(;(h=l)>0&&i[e[l=Math.floor((h-1)/2)]]>o;)e[h]=e[l];e[h]=a;let c=e[0];a=s++,n[2*a]=r,n[2*a+1]=c;let d=Math.min(255&i[r],255&i[c]);for(i[a]=o=i[r]+i[c]-d+1,l=0,h=1;h<t;)h+1<t&&i[e[h]]>i[e[h+1]]&&h++,e[l]=e[h],l=h,h=2*l+1;for(;(h=l)>0&&i[e[l=Math.floor((h-1)/2)]]>o;)e[h]=e[l];e[h]=a}while(t>1)}buildLength(e){this.codeLength=new Uint8Array(this.codeFrequency.length);let t=Math.floor(e.length/2),i=Math.floor((t+1)/2),s=0;for(let r=0;r<this.maxLength;r++)this.lengthCount[r]=0;if(s=this.calculateOptimalCodeLength(e,s,t),0===s)return;let n=this.maxLength-1;do{for(;0===this.lengthCount[--n];);do{this.lengthCount[n]--,this.lengthCount[++n]++,s-=1<<this.maxLength-1-n}while(s>0&&n<this.maxLength-1)}while(s>0);this.recreateTree(e,s,i)}recreateTree(e,t,i){this.lengthCount[this.maxLength-1]+=t,this.lengthCount[this.maxLength-2]-=t;let s=2*i;for(let n=this.maxLength;0!==n;n--){let t=this.lengthCount[n-1];for(;t>0;){let i=2*e[s++];-1===e[i+1]&&(this.codeLength[e[i]]=n,t--)}}}calculateOptimalCodeLength(e,t,i){let s=new Int32Array(i);s[i-1]=0;for(let n=i-1;n>=0;n--){let i=2*n+1;if(-1!==e[i]){let r=s[n]+1;r>this.maxLength&&(r=this.maxLength,t++),s[e[i-1]]=s[e[i]]=r}else this.lengthCount[s[n]-1]++,this.codeLength[e[i-1]]=s[n]}return t}}return e.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],e.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],e})(),zx=(()=>{class e{static checksumUpdate(t,i,s,n){let r=new Uint32Array(1);r[0]=t;let a=r[0],o=r[0]=65535&a,l=r[0]=a>>e.checkSumBitOffset;for(;n>0;){let t=Math.min(n,e.checksumIterationCount);for(n-=t;--t>=0;)o+=r[0]=255&i[s++],l+=o;o%=e.checksumBase,l%=e.checksumBase}return a=l<<e.checkSumBitOffset|o,a}}return e.checkSumBitOffset=16,e.checksumBase=65521,e.checksumIterationCount=3800,e})();function Hx(e){return"[object String]"===Object.prototype.toString.call(e)?"$s"+e:"$o"+e.toString()}class jx{constructor(e){this.table={},this.nElements=0,this.toStr=e||Hx}getValue(e){const t=this.table["$"+this.toStr(e)];if(void 0!==t)return t.value}setValue(e,t){let i;const s="$"+this.toStr(e);this.nElements++,i=void 0,this.table[s]={key:e,value:t}}remove(e){const t="$"+this.toStr(e),i=this.table[t];return delete this.table[t],this.nElements--,i.value}keys(){const e=[];let t=Object.keys(this.table);for(let i=0;i<t.length;i++)e.push(this.table[t[i]].key);return e}values(){const e=[];let t=Object.keys(this.table);for(let i=0;i<t.length;i++)e.push(this.table[t[i]].value);return e}containsKey(e){let t=!0;return t=void 0===this.getValue(e),!t}clear(){this.table={},this.nElements=0}size(){return this.nElements}}let Wx=(()=>{class e{constructor(e){this.stringStartMark="/",this.internalValue="",this.isSaving6=!1,this.position6=-1,this.internalValue=this.normalizeValue(e)}get status(){return this.status6}set status(e){this.status6=e}get isSaving(){return this.isSaving6}set isSaving(e){this.isSaving6=e}get objectCollectionIndex(){return this.index6}set objectCollectionIndex(e){this.index6=e}get position(){return this.position6}set position(e){this.position6=e}get clonedObject(){return null}get value(){return this.internalValue}set value(e){let t=e;null!==e&&e.length>0?(t=e,this.internalValue=this.normalizeValue(t)):this.internalValue=t}save(e){e.write(this.toString())}toString(){return this.stringStartMark+this.escapeString(this.value)}clone(t){let i=new e;return i.value=this.internalValue,i}escapeString(t){let i="";for(let s=0,n=t.length;s<n;s++){let n=t[s];e.delimiters.indexOf(n),i+=n}return i}normalizeValue(e,t){return e}}return e.delimiters="()<>[]{}/%}",e.replacements=[" ","\t","\n","\r"],e})(),Yx=(()=>{class e{constructor(){this.forTest="test",this.forTest=e.obj}}return e.obj="obj",e.endObj="endobj",e.r="R",e.whiteSpace=" ",e.slash="/",e.newLine="\r\n",e.stream="stream",e.endStream="endstream",e.xref="xref",e.f="f",e.n="n",e.trailer="trailer",e.startxref="startxref",e.eof="%%EOF",e.header="%PDF-1.5",e.beginText="BT",e.endText="ET",e.beginPath="m",e.appendLineSegment="l",e.stroke="S",e.fill="f",e.fillEvenOdd="f*",e.fillStroke="B",e.fillStrokeEvenOdd="B*",e.appendbeziercurve="c",e.appendRectangle="re",e.saveState="q",e.restoreState="Q",e.paintXObject="Do",e.modifyCtm="cm",e.modifyTM="Tm",e.setLineWidth="w",e.setLineCapStyle="J",e.setLineJoinStyle="j",e.setDashPattern="d",e.setFlatnessTolerance="i",e.closePath="h",e.closeStrokePath="s",e.closeFillStrokePath="b",e.setCharacterSpace="Tc",e.setWordSpace="Tw",e.setHorizontalScaling="Tz",e.setTextLeading="TL",e.setFont="Tf",e.setRenderingMode="Tr",e.setTextRise="Ts",e.setTextScaling="Tz",e.setCoords="Td",e.goToNextLine="T*",e.setText="Tj",e.setTextWithFormatting="TJ",e.setTextOnNewLine="'",e.selectcolorspaceforstroking="CS",e.selectcolorspacefornonstroking="cs",e.setrbgcolorforstroking="RG",e.setrbgcolorfornonstroking="rg",e.setcmykcolorforstroking="K",e.setcmykcolorfornonstroking="k",e.setgraycolorforstroking="G",e.setgraycolorfornonstroking="g",e.clipPath="W",e.clipPathEvenOdd="W*",e.endPath="n",e.setGraphicsState="gs",e.comment="%",e.evenOdd="*",e.setMiterLimit="M",e})();class qx{constructor(){this.pages="Pages",this.kids="Kids",this.count="Count",this.resources="Resources",this.type="Type",this.size="Size",this.mediaBox="MediaBox",this.parent="Parent",this.root="Root",this.decodeParms="DecodeParms",this.filter="Filter",this.font="Font",this.type1="Type1",this.baseFont="BaseFont",this.encoding="Encoding",this.subtype="Subtype",this.contents="Contents",this.procset="ProcSet",this.colorSpace="ColorSpace",this.extGState="ExtGState",this.pattern="Pattern",this.xObject="XObject",this.length="Length",this.width="Width",this.height="Height",this.bitsPerComponent="BitsPerComponent",this.image="Image",this.dctdecode="DCTDecode",this.columns="Columns",this.blackIs1="BlackIs1",this.k="K",this.s="S",this.predictor="Predictor",this.deviceRgb="DeviceRGB",this.next="Next",this.action="Action",this.link="Link",this.a="A",this.annot="Annot",this.p="P",this.c="C",this.rect="Rect",this.uri="URI",this.annots="Annots",this.ca="ca",this.CA="CA",this.xyz="XYZ",this.fit="Fit",this.dest="Dest",this.BM="BM",this.flatedecode="FlateDecode",this.rotate="Rotate",this.bBox="BBox",this.form="Form",this.w="W",this.cIDFontType2="CIDFontType2",this.cIDToGIDMap="CIDToGIDMap",this.identity="Identity",this.dw="DW",this.fontDescriptor="FontDescriptor",this.cIDSystemInfo="CIDSystemInfo",this.fontName="FontName",this.flags="Flags",this.fontBBox="FontBBox",this.missingWidth="MissingWidth",this.stemV="StemV",this.italicAngle="ItalicAngle",this.capHeight="CapHeight",this.ascent="Ascent",this.descent="Descent",this.leading="Leading",this.avgWidth="AvgWidth",this.fontFile2="FontFile2",this.maxWidth="MaxWidth",this.xHeight="XHeight",this.stemH="StemH",this.registry="Registry",this.ordering="Ordering",this.supplement="Supplement",this.type0="Type0",this.identityH="Identity-H",this.toUnicode="ToUnicode",this.descendantFonts="DescendantFonts"}}class Ux{constructor(e){if(this.position7=-1,this.primitiveItems=new jx,this.prefix="<<",this.suffix=">>",this.resources=[],this.object=null,this.archive=!0,this.isFont=!1,void 0===e)this.primitiveItems=new jx,this.encrypt=!0,this.dictionaryProperties=new qx;else{this.primitiveItems=new jx;let t=e.items.keys(),i=e.items.values();for(let s=0;s<e.items.size();s++)this.primitiveItems.setValue(t[s],i[s]);this.status=e.status,this.freezeChanges(this),this.encrypt=!0,this.dictionaryProperties=new qx}}get items(){return this.primitiveItems}get status(){return this.status7}set status(e){this.status7=e}get isSaving(){return this.isSaving7}set isSaving(e){this.isSaving7=e}get objectCollectionIndex(){return this.index7}set objectCollectionIndex(e){this.index7=e}get clonedObject(){return this.object}get position(){return this.position7}set position(e){this.position7=e}get Count(){return this.primitiveItems.size()}get Dictionary(){return this}getArchive(){return this.archive}setArchive(e){this.archive=e}setEncrypt(e){this.encrypt=e,this.modify()}getEncrypt(){return this.encrypt}freezeChanges(e){this.bChanged=!1}clone(e){return new Ux}modify(){this.bChanged=!0}remove(e){"string"!=typeof e?(this.primitiveItems.remove(e.value),this.modify()):this.remove(new Wx(e))}containsKey(e){let t=!1;return t=this.primitiveItems.containsKey(e.toString()),t}onBeginSave(){this.beginSave.sender.beginSave()}onFontDictionaryBeginSave(){this.fontDictionaryBeginSave.sender.fontDictionaryBeginSave()}onDescendantFontBeginSave(){this.descendantFontBeginSave.sender.descendantFontBeginSave()}onTemplateBeginSave(){this.pageBeginDrawTemplate.sender.pageBeginSave()}onBeginAnnotationSave(){this.annotationBeginSave.sender.beginSave()}onSectionBeginSave(e){let t=this.sectionBeginSave;t.sender.beginSave(t.state,e)}save(e,t){void 0===t?this.save(e,!0):(e.write(this.prefix),void 0!==this.beginSave&&this.onBeginSave(),void 0!==this.descendantFontBeginSave&&this.onDescendantFontBeginSave(),void 0!==this.fontDictionaryBeginSave&&this.onFontDictionaryBeginSave(),void 0!==this.annotationBeginSave&&this.onBeginAnnotationSave(),void 0!==this.sectionBeginSave&&this.onSectionBeginSave(e),void 0!==this.pageBeginDrawTemplate&&this.onTemplateBeginSave(),this.Count>0&&this.saveItems(e),e.write(this.suffix),e.write(Yx.newLine))}saveItems(e){e.write(Yx.newLine);let t=this.primitiveItems.keys(),i=this.primitiveItems.values();for(let s=0;s<t.length;s++)new Wx(t[s]).save(e),e.write(Yx.whiteSpace),i[s].save(e),e.write(Yx.newLine)}}class Gx{constructor(e){this.sender=e}}class Xx{constructor(e){this.sender=e}}class Zx{constructor(e){this.sender=e}}class $x{constructor(e,t){this.sender=e,this.state=t}}class Kx{constructor(e){this.sender=e}}class Qx{constructor(e){this.position5=-1,this.value=e}get intValue(){return this.value}set intValue(e){this.value=e}get isInteger(){return this.integer}set isInteger(e){this.integer=e}get status(){return this.status5}set status(e){this.status5=e}get isSaving(){return this.isSaving5}set isSaving(e){this.isSaving5=e}get objectCollectionIndex(){return this.index5}set objectCollectionIndex(e){this.index5=e}get position(){return this.position5}set position(e){this.position5=e}get clonedObject(){return null}save(e){e.write(this.intValue.toString())}clone(e){return new Qx(this.value)}static floatToString(e){let t=e.toFixed(2);return"0.00"===t&&(t=".00"),t}static min(e,t,i){let s=Math.min(e,t);return Math.min(i,s)}}class Jx{constructor(e){if(this.startMark="[",this.endMark="]",this.position9=-1,this.clonedObject9=null,this.isFont=!1,void 0===e)this.internalElements=[];else if(void 0===e||e instanceof Jx){let t=e;this.internalElements=[];for(let e=0;e<t.elements.length;e++)this.internalElements.push(t.elements[e])}else{let t=e;for(let e=0;e<t.length;e++){let i=new Qx(t[e]);this.add(i)}}}items(e){return this.internalElements[e]}get count(){return this.internalElements.length}get status(){return this.status9}set status(e){this.status9=e}get isSaving(){return this.isSaving9}set isSaving(e){this.isSaving9=e}get clonedObject(){return this.clonedObject9}get position(){return this.position9}set position(e){this.position9=e}get objectCollectionIndex(){return this.index9}set objectCollectionIndex(e){this.index9=e}get CrossTable(){return this.pdfCrossTable}get elements(){return this.internalElements}add(e){void 0===this.internalElements&&(this.internalElements=[]),this.internalElements.push(e),this.markedChange()}markedChange(){this.bChanged=!0}contains(e){for(let t=0;t<this.internalElements.length;t++){let i=this.internalElements[t],s=e;if(null!=i&&void 0!==i&&null!=s&&void 0!==s&&i.value===s.value)return!0}return!1}getItems(e){return this.internalElements[e]}save(e){e.write(this.startMark);for(let t=0,i=this.count;t<i;t++)this.getItems(t).save(e),t+1!==i&&e.write(Yx.whiteSpace);e.write(this.endMark)}clone(e){this.clonedObject9=null;let t=new Jx;for(let i=0;i<this.internalElements.length;i++)t.add(this.internalElements[i].clone(e));return t.pdfCrossTable=e,this.clonedObject9=t,t}static fromRectangle(e){return new Jx([e.x,e.y,e.width,e.height])}insert(e,t){if(e<this.internalElements.length&&e>0){let i=[];for(let t=0;t<e;t++)i.push(this.internalElements[t]);i.push(t);for(let t=e;t<this.internalElements.length;t++)i.push(this.internalElements[t]);this.internalElements=i}else this.internalElements.push(t);this.markChanged()}indexOf(e){return this.internalElements.indexOf(e)}remove(e){let t=this.internalElements.indexOf(e);this.internalElements[t]=null,this.markChanged()}removeAt(e){if(this.internalElements.length>e){let t=[];for(let i=0;i<e;i++)t.push(this.internalElements[i]);for(let i=e+1;i<this.internalElements.length;i++)t.push(this.internalElements[i]);this.internalElements=t}this.markChanged()}clear(){this.internalElements=[],this.markChanged()}markChanged(){this.bChanged=!0}}class e_ extends Ux{constructor(e,t){super(e),this.dicPrefix="stream",this.dicSuffix="endstream",this.clonedObject2=null,this.bCompress=!0,this.isImageStream=!1,this.isFontStream=!1,void 0!==e||void 0!==t?(this.dataStream2=[],this.dataStream2=t,this.bCompress2=!1):(this.dataStream2=[],this.bCompress2=!0)}get internalStream(){return this.dataStream2}set internalStream(e){this.dataStream2=[],this.dataStream2=e,this.modify()}get isImage(){return this.isImageStream}set isImage(e){this.isImageStream=e}get isFont(){return this.isFontStream}set isFont(e){this.isFontStream=e}get compress(){return this.bCompress}set compress(e){this.bCompress=e,this.modify()}get data(){return this.dataStream2}set data(e){this.dataStream2=[],this.dataStream2=e,this.modify()}clearStream(){this.internalStream=[],this.items.containsKey(this.dictionaryProperties.filter)&&this.remove(this.dictionaryProperties.filter),this.bCompress=!0,this.modify()}write(e){if(null==e)throw new Error("ArgumentNullException:text");if(e.length<=0)throw new Error("ArgumentException: Can not write an empty string, text");this.dataStream2.push(e),this.modify()}writeBytes(e){if(null===e)throw new Error("ArgumentNullException:data");if(e.length<=0)throw new Error("ArgumentException: Can not write an empty bytes, data");let t="";for(let i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);this.dataStream2.push(t),this.modify()}onCmapBeginSave(){this.cmapBeginSave.sender.cmapBeginSave()}onFontProgramBeginSave(){this.fontProgramBeginSave.sender.fontProgramBeginSave()}compressContent(e,t){if(this.bCompress){let t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));let i=new Uint8Array(t),s=new Fx;s.write(i,0,i.length),s.close(),e=s.getCompressedString,this.addFilter(this.dictionaryProperties.flatedecode)}return e}addFilter(e){let t=this.items.getValue(this.dictionaryProperties.filter);t instanceof a_&&(t=t.object);let i=t,s=t;null!=s&&(i=new Jx,i.insert(0,s),this.items.setValue(this.dictionaryProperties.filter,i)),s=new Wx(e),null==i?this.items.setValue(this.dictionaryProperties.filter,s):i.insert(0,s)}save(e){void 0!==this.cmapBeginSave&&this.onCmapBeginSave(),void 0!==this.fontProgramBeginSave&&this.onFontProgramBeginSave();let t="";for(let i=0;i<this.data.length;i++)t+=this.data[i];t.length>1&&!this.isImage&&!this.isFont&&(t="q\r\n"+t+"Q\r\n"),t=this.compressContent(t,e),this.items.setValue(this.dictionaryProperties.length,new Qx(t.length)),super.save(e,!1),e.write(this.dicPrefix),e.write(Yx.newLine),t.length>0&&e.write(t),e.write(Yx.newLine),e.write(this.dicSuffix),e.write(Yx.newLine)}static bytesToString(e){let t="";for(let i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t}}class t_{constructor(e){this.sender=e}}class i_{constructor(e){this.sender=e}}var s_;!function(e){let t,i;!function(e){e[e.None=0]="None",e[e.Ascii=1]="Ascii",e[e.Unicode=2]="Unicode"}(t=e.ForceEncoding||(e.ForceEncoding={})),function(e){e[e.StringValue=0]="StringValue",e[e.ByteBuffer=1]="ByteBuffer"}(i||(i={}))}(s_||(s_={}));let n_=(()=>{class e{constructor(e){if(this.bHex=!1,this.position1=-1,this.clonedObject1=null,this.bDecrypted=!1,this.isParentDecrypted=!1,this.isPacked=!1,this.isFormField=!1,this.isColorSpace=!1,this.isHexString=!0,void 0===e)this.bHex=!1;else if(!(e.length>0&&"0xfeff"===e[0])){this.stringValue=e,this.data=[];for(let t=0;t<e.length;++t)this.data.push(e.charCodeAt(t))}}get hex(){return this.bHex}get value(){return this.stringValue}set value(e){this.stringValue=e,this.data=null}get status(){return this.status1}set status(e){this.status1=e}get isSaving(){return this.isSaving1}set isSaving(e){this.isSaving1=e}get objectCollectionIndex(){return this.index1}set objectCollectionIndex(e){this.index1=e}get clonedObject(){return this.clonedObject1}get position(){return this.position1}set position(e){this.position1=e}get CrossTable(){return this.crossTable}get converted(){return this.bConverted}set converted(e){this.bConverted=e}get encode(){return this.bForceEncoding}set encode(e){this.bForceEncoding=e}static bytesToHex(e){return""}save(t){if(null===t)throw new Error("ArgumentNullException : writer");t.write(void 0!==this.encode&&this.encode===s_.ForceEncoding.Ascii?this.pdfEncode():e.stringMark[0]+this.value+e.stringMark[1])}pdfEncode(){let t="";if(void 0!==this.encode&&this.encode===s_.ForceEncoding.Ascii){let i=this.escapeSymbols(this.value);for(let e=0;e<i.length;e++)t+=String.fromCharCode(i[e]);t=e.stringMark[0]+t+e.stringMark[1]}else t=this.value;return t}escapeSymbols(e){let t=[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);switch(s){case 40:case 41:t.push(92),t.push(s);break;case 13:t.push(92),t.push(114);break;case 92:t.push(92),t.push(s);break;default:t.push(s)}}return t}clone(t){if(null!==this.clonedObject1&&this.clonedObject1.CrossTable===t)return this.clonedObject1;this.clonedObject1=null;let i=new e(this.stringValue);return i.bHex=this.bHex,i.crossTable=t,i.isColorSpace=this.isColorSpace,this.clonedObject1=i,i}static toUnicodeArray(e,t){if(null==e)throw new Error("Argument Null Exception : value");let i=[];for(let s=0;s<e.length;s++){let t=e.charCodeAt(s);i.push(t/256>>>0),i.push(255&t)}return i}static byteToString(e){if(null==e)throw new Error("Argument Null Exception : stream");let t="";for(let i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t}}return e.stringMark="()",e.hexStringMark="<>",e.hexFormatPattern="{0:X2}",e})();class r_{constructor(e,t){this.index3=-1,this.position3=-1,this.objNumber=0,this.genNumber=0,"number"==typeof e&&"number"==typeof t?(this.objNumber=e,this.genNumber=t):(this.objNumber=Number(e),this.genNumber=Number(t))}get status(){return this.status3}set status(e){this.status3=e}get isSaving(){return this.isSaving3}set isSaving(e){this.isSaving3=e}get objectCollectionIndex(){return this.index3}set objectCollectionIndex(e){this.index3=e}get position(){return this.position3}set position(e){this.position3=e}get clonedObject(){return null}save(e){e.write(this.toString())}toString(){return this.objNumber.toString()+" "+this.genNumber.toString()+" R"}clone(e){return null}}class a_{constructor(e,t){this.index4=-1,this.position4=-1,this.objectIndex=-1,this.dictionaryProperties=new qx,this.initialize(e)}get status(){return this.status4}set status(e){this.status4=e}get isSaving(){return this.isSaving4}set isSaving(e){this.isSaving4=e}get objectCollectionIndex(){return this.index4}set objectCollectionIndex(e){this.index4=e}get position(){return this.position4}set position(e){this.position4=e}get clonedObject(){return null}get object(){return this.primitiveObject}get reference(){return this.pdfReference}get index(){return this.objectIndex}get element(){return this.primitiveObject}initialize(e){e instanceof Jx||e instanceof Ux||e instanceof Wx||e instanceof Qx||e instanceof e_||e instanceof r_||e instanceof n_?this.primitiveObject=e:this.initialize(e.element)}save(e){let t=e.document.crossTable;this.object.isSaving=!0;let i=null;i=t.getReference(this.object),i.save(e)}clone(e){return null}}var o_=function(e){return e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom",e}({}),l_=function(e){return e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e[e.Justify=3]="Justify",e}({}),h_=function(e){return e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.FillStroke=2]="FillStroke",e[e.None=3]="None",e[e.ClipFlag=4]="ClipFlag",e[e.ClipFill=4]="ClipFill",e[e.ClipStroke=5]="ClipStroke",e[e.ClipFillStroke=6]="ClipFillStroke",e[e.Clip=7]="Clip",e}({}),c_=function(e){return e[e.Solid=0]="Solid",e[e.Dash=1]="Dash",e[e.Dot=2]="Dot",e[e.DashDot=3]="DashDot",e[e.DashDotDot=4]="DashDotDot",e[e.Custom=5]="Custom",e}({}),d_=function(e){return e[e.Winding=0]="Winding",e[e.Alternate=1]="Alternate",e}({}),u_=function(e){return e[e.Rgb=0]="Rgb",e[e.Cmyk=1]="Cmyk",e[e.GrayScale=2]="GrayScale",e[e.Indexed=3]="Indexed",e}({}),p_=function(e){return e[e.Normal=0]="Normal",e[e.Multiply=1]="Multiply",e[e.Screen=2]="Screen",e[e.Overlay=3]="Overlay",e[e.Darken=4]="Darken",e[e.Lighten=5]="Lighten",e[e.ColorDodge=6]="ColorDodge",e[e.ColorBurn=7]="ColorBurn",e[e.HardLight=8]="HardLight",e[e.SoftLight=9]="SoftLight",e[e.Difference=10]="Difference",e[e.Exclusion=11]="Exclusion",e[e.Hue=12]="Hue",e[e.Saturation=13]="Saturation",e[e.Color=14]="Color",e[e.Luminosity=15]="Luminosity",e}({}),m_=function(e){return e[e.Centimeter=0]="Centimeter",e[e.Pica=1]="Pica",e[e.Pixel=2]="Pixel",e[e.Point=3]="Point",e[e.Inch=4]="Inch",e[e.Document=5]="Document",e[e.Millimeter=6]="Millimeter",e}({}),g_=function(e){return e[e.None=0]="None",e[e.LeftToRight=1]="LeftToRight",e[e.RightToLeft=2]="RightToLeft",e}({});let f_=(()=>{class e{constructor(t,i,s,n){void 0===t?void 0!==i&&void 0!==s&&void 0!==n?this.assignRGB(i,s,n):this.filled=!1:t instanceof e?(this.redColor=t.r,this.greenColor=t.g,this.blueColor=t.b,this.grayColor=t.gray,this.alpha=t.alpha,this.filled=0!==this.alpha):void 0===n?this.assignRGB(t,i,s):this.assignRGB(i,s,n,t)}assignRGB(t,i,s,n){void 0===t||void 0===i||void 0===s?this.filled=!1:(this.cyanColor=0,this.magentaColor=0,this.yellowColor=0,this.blackColor=0,this.grayColor=0,this.redColor=t,this.greenColor=i,this.blueColor=s,this.alpha=void 0===n?e.maxColourChannelValue:n,this.filled=!0,this.assignCMYK(t,i,s))}assignCMYK(t,i,s){let n=t/e.maxColourChannelValue,r=i/e.maxColourChannelValue,a=s/e.maxColourChannelValue,o=Qx.min(1-n,1-r,1-a),l=1===o?0:(1-n-o)/(1-o),h=1===o?0:(1-r-o)/(1-o),c=1===o?0:(1-a-o)/(1-o);this.blackColor=o,this.cyanColor=l,this.magentaColor=h,this.yellowColor=c}get r(){return this.redColor}set r(e){this.redColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get red(){return this.r/e.maxColourChannelValue}get b(){return this.blueColor}set b(e){this.blueColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get blue(){return this.b/e.maxColourChannelValue}get g(){return this.greenColor}set g(e){this.greenColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get green(){return this.g/e.maxColourChannelValue}get gray(){return(this.redColor+this.greenColor+this.blueColor)/(3*e.maxColourChannelValue)}set gray(t){this.grayColor=t<0?0:t>1?1:t,this.r=this.grayColor*e.maxColourChannelValue,this.g=this.grayColor*e.maxColourChannelValue,this.b=this.grayColor*e.maxColourChannelValue,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get isEmpty(){return!this.filled}get a(){return this.alpha}set a(e){this.alpha=e<0?0:e,this.filled=!0}toString(e,t){return this.isEmpty?"":this.rgbToString(t)}rgbToString(t){let i=this.r,s=this.g,n=this.b,r=(i<<16)+(s<<8)+n;t&&(r+=1<<24);let a="",o=null;if(e.rgbStrings.containsKey(r)&&(o=e.rgbStrings.getValue(r)),null==o){let o=i/e.maxColourChannelValue,l=s/e.maxColourChannelValue,h=n/e.maxColourChannelValue;a=t?o.toString()+" "+l.toString()+" "+h.toString()+" RG":o.toString()+" "+l.toString()+" "+h.toString()+" rg",e.rgbStrings.setValue(r,a)}else a=o.toString();return a+Yx.newLine}toArray(e){let t=new Jx;switch(e){case u_.Rgb:t.add(new Qx(this.red)),t.add(new Qx(this.green)),t.add(new Qx(this.blue));break;default:throw new Error("NotSupportedException : Unsupported colour space.")}return t}}return e.rgbStrings=new jx,e.grayStringsSroke=new jx,e.grayStringsFill=new jx,e.maxColourChannelValue=255,e})();class y_{constructor(e,t){void 0===e?(this.x=0,this.y=0):(this.x=null!==e?e:0,this.y=null!==t?t:0)}}class b_{constructor(e,t){void 0===t?(this.height=0,this.width=0):(this.height=null!==t?t:0,this.width=null!==e?e:0)}}class v_{constructor(e,t,i,s){if(typeof e==typeof e&&void 0===e)this.x=0,this.y=0,this.height=0,this.width=0;else if(e instanceof y_&&t instanceof b_&&void 0===i){let i=e;this.x=i.x,this.y=i.y;let s=t;this.height=s.height,this.width=s.width}else{let n=t,r=i,a=s;this.x=e,this.y=n,this.height=a,this.width=r}}}class w_{constructor(e,t,i,s){this.left=e,this.top=t,this.right=i,this.bottom=s}get width(){return this.right-this.left}get height(){return this.bottom-this.top}get topLeft(){return new y_(this.left,this.top)}get size(){return new b_(this.width,this.height)}toString(){return this.topLeft+"x"+this.size}}class x_{constructor(){}}class __ extends x_{constructor(e){super(),this.pdfColor=e}get color(){return this.pdfColor}set color(e){this.pdfColor=e}monitorChanges(e,t,i,s,n){if(null==t)throw new Error("ArgumentNullException:streamWriter");let r=!1;return r=!0,t.setColorAndSpace(this.pdfColor,n,!1),!0}resetChanges(e){e.setColorAndSpace(new f_(0,0,0),u_.Rgb,!1)}}var S_=function(e){return e[e.Regular=0]="Regular",e[e.Bold=1]="Bold",e[e.Italic=2]="Italic",e[e.Underline=4]="Underline",e[e.Strikeout=8]="Strikeout",e}({}),C_=function(e){return e[e.Helvetica=0]="Helvetica",e[e.Courier=1]="Courier",e[e.TimesRoman=2]="TimesRoman",e[e.Symbol=3]="Symbol",e[e.ZapfDingbats=4]="ZapfDingbats",e}({}),E_=function(e){return e[e.None=0]="None",e[e.Word=1]="Word",e[e.WordOnly=2]="WordOnly",e[e.Character=3]="Character",e}({}),D_=function(e){return e[e.None=0]="None",e[e.SuperScript=1]="SuperScript",e[e.SubScript=2]="SubScript",e}({}),k_=function(e){return e[e.Unknown=0]="Unknown",e[e.StandardEncoding=1]="StandardEncoding",e[e.MacRomanEncoding=2]="MacRomanEncoding",e[e.MacExpertEncoding=3]="MacExpertEncoding",e[e.WinAnsiEncoding=4]="WinAnsiEncoding",e[e.PdfDocEncoding=5]="PdfDocEncoding",e[e.IdentityH=6]="IdentityH",e}({}),A_=function(e){return e[e.Apple=0]="Apple",e[e.Microsoft=4]="Microsoft",e[e.Trimmed=6]="Trimmed",e}({}),M_=function(e){return e[e.Unknown=0]="Unknown",e[e.Symbol=1]="Symbol",e[e.Unicode=2]="Unicode",e[e.Macintosh=3]="Macintosh",e}({}),L_=function(e){return e[e.AppleUnicode=0]="AppleUnicode",e[e.Macintosh=1]="Macintosh",e[e.Iso=2]="Iso",e[e.Microsoft=3]="Microsoft",e}({}),T_=function(e){return e[e.Undefined=0]="Undefined",e[e.Unicode=1]="Unicode",e}({}),R_=function(e){return e[e.Roman=0]="Roman",e[e.Japanese=1]="Japanese",e[e.Chinese=2]="Chinese",e}({}),P_=function(e){return e[e.FixedPitch=1]="FixedPitch",e[e.Serif=2]="Serif",e[e.Symbolic=4]="Symbolic",e[e.Script=8]="Script",e[e.Nonsymbolic=32]="Nonsymbolic",e[e.Italic=64]="Italic",e[e.ForceBold=262144]="ForceBold",e}({}),I_=function(e){return e[e.Arg1And2AreWords=1]="Arg1And2AreWords",e[e.ArgsAreXyValues=2]="ArgsAreXyValues",e[e.RoundXyToGrid=4]="RoundXyToGrid",e[e.WeHaveScale=8]="WeHaveScale",e[e.Reserved=16]="Reserved",e[e.MoreComponents=32]="MoreComponents",e[e.WeHaveAnXyScale=64]="WeHaveAnXyScale",e[e.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",e[e.WeHaveInstructions=256]="WeHaveInstructions",e[e.UseMyMetrics=512]="UseMyMetrics",e}({});class O_{constructor(e,t){this.scalingFactor=100,this.wordWrapType=E_.Word,this.internalLineLimit=!0,this.wordWrapType=E_.Word,void 0!==e&&"string"!=typeof e&&(this.textAlignment=e),void 0!==t&&(this.verticalAlignment=t)}get alignment(){return this.textAlignment}set alignment(e){this.textAlignment=e}get textDirection(){return this.direction}set textDirection(e){this.direction=e}get lineAlignment(){return void 0===this.verticalAlignment||null==this.verticalAlignment?o_.Top:this.verticalAlignment}set lineAlignment(e){this.verticalAlignment=e}get rightToLeft(){return void 0!==this.isRightToLeft&&null!=this.isRightToLeft&&this.isRightToLeft}set rightToLeft(e){this.isRightToLeft=e}get characterSpacing(){return void 0===this.internalCharacterSpacing||null==this.internalCharacterSpacing?0:this.internalCharacterSpacing}set characterSpacing(e){this.internalCharacterSpacing=e}get wordSpacing(){return void 0===this.internalWordSpacing||null==this.internalWordSpacing?0:this.internalWordSpacing}set wordSpacing(e){this.internalWordSpacing=e}get lineSpacing(){return void 0===this.leading||null==this.leading?0:this.leading}set lineSpacing(e){this.leading=e}get clipPath(){return void 0!==this.clip&&null!=this.clip&&this.clip}set clipPath(e){this.clip=e}get subSuperScript(){return void 0===this.pdfSubSuperScript||null==this.pdfSubSuperScript?D_.None:this.pdfSubSuperScript}set subSuperScript(e){this.pdfSubSuperScript=e}get paragraphIndent(){return void 0===this.internalParagraphIndent||null==this.internalParagraphIndent?0:this.internalParagraphIndent}set paragraphIndent(e){this.internalParagraphIndent=e,this.firstLineIndent=e}get lineLimit(){return this.internalLineLimit}set lineLimit(e){this.internalLineLimit=e}get measureTrailingSpaces(){return void 0!==this.trailingSpaces&&null!=this.trailingSpaces&&this.trailingSpaces}set measureTrailingSpaces(e){this.trailingSpaces=e}get noClip(){return void 0!==this.isNoClip&&null!=this.isNoClip&&this.isNoClip}set noClip(e){this.isNoClip=e}get wordWrap(){return this.wordWrapType}set wordWrap(e){this.wordWrapType=e}get horizontalScalingFactor(){return this.scalingFactor}set horizontalScalingFactor(e){if(e<=0)throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");this.scalingFactor=e}get firstLineIndent(){return void 0===this.initialLineIndent||null==this.initialLineIndent?0:this.initialLineIndent}set firstLineIndent(e){this.initialLineIndent=e}clone(){return this}}let N_=(()=>{class e{constructor(e){if(this.currentPosition=0,null==e)throw new Error("ArgumentNullException:text");this.text=e}get length(){return this.text.length}get end(){return this.currentPosition===this.text.length}get position(){return this.currentPosition}set position(e){this.currentPosition=e}static getCharsCount(e,t){if("string"==typeof t){if(null==e)throw new Error("ArgumentNullException:wholeText");let i=0,s=0;for(;s=e.indexOf(t,s),-1!==s;)i++,s++;return i}{if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:symbols");let i=0;for(let s=0,n=e.length;s<n;s++)this.contains(t,e[s])&&i++;return i}}readLine(){let e=this.currentPosition;for(;e<this.length;){switch(this.text[e]){case"\r":case"\n":{let t=this.text.substring(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,this.currentPosition++,t}}e++}if(e>this.currentPosition){let t=this.text.substring(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,t}return null}peekLine(){let e=this.currentPosition,t=this.readLine();return this.currentPosition=e,t}readWord(){let e=this.currentPosition;for(;e<this.length;){let t=this.text[e];switch(t){case"\r":case"\n":let i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,"\r"===t&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i;case" ":case"\t":{e===this.currentPosition&&e++;let t=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,t}}e++}if(e>this.currentPosition){let t=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,t}return null}peekWord(){let e=this.currentPosition,t=this.readWord();return this.currentPosition=e,t}read(e){if(void 0===e){let e="0";return this.end||(e=this.text[this.currentPosition],this.currentPosition++),e}{let t=0,i="";for(;!this.end&&t<e;)i+=this.read(),t++;return i}}peek(){let e="0";return this.end||(e=this.text[this.currentPosition]),e}close(){this.text=null}readToEnd(){let e;return e=0===this.currentPosition?this.text:this.text.substring(this.length,this.currentPosition),this.currentPosition=this.length,e}static contains(e,t){let i=!1;for(let s=0;s<e.length;s++)if(e[s]===t){i=!0;break}return i}}return e.whiteSpace=" ",e.tab="\t",e.spaces=[e.whiteSpace,e.tab],e.whiteSpacePattern="^[ \t]+$",e})();class V_{constructor(){this.isOverloadWithPosition=!1}layout(e,t,i,s,n,r,a){if(s instanceof v_){this.initialize(e,t,i,s,n),this.isOverloadWithPosition=r,this.clientSize=a;let o=this.doLayout();return this.clear(),o}{this.initialize(e,t,i,s),this.isOverloadWithPosition=n,this.clientSize=r;let a=this.doLayout();return this.clear(),a}}initialize(e,t,i,s,n){if("number"==typeof n){if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:font");this.text=e,this.font=t,this.format=i,this.size=new b_(s.width,s.height),this.rectangle=s,this.pageHeight=n,this.reader=new N_(e)}else this.initialize(e,t,i,new v_(new y_(0,0),s),0)}clear(){this.font=null,this.format=null,this.reader.close(),this.reader=null,this.text=null}doLayout(){let e=new F_,t=new F_,i=[],s=this.reader.peekLine(),n=this.getLineIndent(!0);for(;null!=s;){if(t=this.layoutLine(s,n),null!==t||void 0!==t){let s=0,n=this.copyToResult(e,t,i,s);if(s=n.numInserted,!n.success){this.reader.read(s);break}}this.reader.readLine(),s=this.reader.peekLine(),n=this.getLineIndent(!1)}return this.finalizeResult(e,i),e}getLineIndent(e){let t=0;return null!=this.format&&(t=e?this.format.firstLineIndent:this.format.paragraphIndent,t=this.size.width>0?Math.min(this.size.width,t):t),t}getLineHeight(){let e=this.font.height;return null!=this.format&&0!==this.format.lineSpacing&&(e=this.format.lineSpacing+this.font.height),e}getLineWidth(e){return this.font.getLineWidth(e,this.format)}layoutLine(e,t){let i=new F_;i.layoutLineHeight=this.getLineHeight();let s=[],n=this.size.width,r=this.getLineWidth(e)+t,a=z_.FirstParagraphLine,o=!0;if(n<=0||Math.round(r)<=Math.round(n))this.addToLineResult(i,s,e,r,z_.NewLineBreak|a);else{let l="",h="";r=t;let c=t,d=new N_(e),u=d.peekWord();for(u.length!==d.length&&" "===u&&(h+=u,l+=u,d.position+=1,u=d.peekWord());null!=u;){h+=u;let t=this.getLineWidth(h.toString())+c;if(" "===h.toString()&&(h="",t=0),t>n){if(this.getWrapType()===E_.None)break;if(h.length===u.length){if(this.getWrapType()===E_.WordOnly){i.textRemainder=e.substring(d.position);break}if(1===h.length){l+=u;break}o=!1,h="",u=d.peek().toString();continue}if(this.getLineWidth(u.toString())>n?this.format.wordWrap=E_.Character:null!=this.format&&(this.format.wordWrap=E_.Word),this.getWrapType()===E_.Character&&o)o=!1,h="",h+=l.toString(),u=d.peek().toString();else{let e=l.toString();" "!==e&&this.addToLineResult(i,s,e,r,z_.LayoutBreak|a),this.isOverloadWithPosition&&(n=this.clientSize.width),h="",l="",r=0,c=0,t=0,a=z_.None,u=o?u:d.peekWord(),o=!0}}else l+=u,r=t,o?(d.readWord(),u=d.peekWord()):(d.read(),u=d.peek().toString())}if(l.length>0){let e=l.toString();this.addToLineResult(i,s,e,r,z_.NewLineBreak|z_.LastParagraphLine)}d.close()}i.layoutLines=[];for(let l=0;l<s.length;l++)i.layoutLines.push(s[l]);return s=[],i}addToLineResult(e,t,i,s,n){let r=new B_;r.text=i,r.width=s,r.lineType=n,t.push(r);let a=e.actualSize;a.height+=this.getLineHeight(),a.width=Math.max(a.width,s),e.size=a}copyToResult(e,t,i,s){let n=!0,r=null!=this.format&&!this.format.lineLimit,a=e.actualSize.height,o=this.size.height;if(this.pageHeight>0&&o+this.rectangle.y>this.pageHeight&&(o=this.rectangle.y-this.pageHeight,o=Math.max(o,-o)),s=0,null!=t.lines)for(let l=0,h=t.lines.length;l<h;l++){let h=a+t.lineHeight;if(!(h<=o||o<=0||r)){n=!1;break}{let n=t.lines[l];s+=n.text.length,n=this.trimLine(n,0===i.length),i.push(n);let r=e.actualSize;r.width=Math.max(r.width,n.width),e.size=r,a=h}}if(a!=e.size.height){let t=e.actualSize;t.height=a,e.size=t}return{success:n,numInserted:s}}finalizeResult(e,t){e.layoutLines=[];for(let i=0;i<t.length;i++)e.layoutLines.push(t[i]);e.layoutLineHeight=this.getLineHeight(),this.reader.end||(e.textRemainder=this.reader.readToEnd()),t=[]}trimLine(e,t){let i=e.text,s=e.width;return i=i.trim(),i.length!==e.text.length&&(s=this.getLineWidth(i),(e.lineType&z_.FirstParagraphLine)>0&&(s+=this.getLineIndent(t))),e.text=i,e.width=s,e}getWrapType(){return null!=this.format?this.format.wordWrap:E_.Word}}class F_{get remainder(){return this.textRemainder}get actualSize(){return void 0===this.size&&(this.size=new b_(0,0)),this.size}get lines(){return this.layoutLines}get lineHeight(){return this.layoutLineHeight}get empty(){return null==this.layoutLines||0===this.layoutLines.length}get lineCount(){return this.empty?0:this.layoutLines.length}}class B_{get lineType(){return this.type}set lineType(e){this.type=e}get text(){return this.content}set text(e){this.content=e}get width(){return this.lineWidth}set width(e){this.lineWidth=e}}var z_=function(e){return e[e.None=0]="None",e[e.NewLineBreak=1]="NewLineBreak",e[e.LayoutBreak=2]="LayoutBreak",e[e.FirstParagraphLine=4]="FirstParagraphLine",e[e.LastParagraphLine=8]="LastParagraphLine",e}({});let H_=(()=>{class e{constructor(e,t){this.fontStyle=S_.Regular,"number"==typeof e&&void 0===t?this.fontSize=e:(this.fontSize=e,this.setStyle(t))}get name(){return this.metrics.name}get size(){return this.fontSize}get height(){return this.metrics.getHeight(null)}get style(){return this.fontStyle}set style(e){this.fontStyle=e}get bold(){return(this.style&S_.Bold)>0}get italic(){return(this.style&S_.Italic)>0}get strikeout(){return(this.style&S_.Strikeout)>0}get underline(){return(this.style&S_.Underline)>0}get metrics(){return this.fontMetrics}set metrics(e){this.fontMetrics=e}get element(){return this.pdfFontInternals}measureString(e,t,i,s,n){if("string"==typeof e&&void 0===t)return this.measureString(e,null);if("string"==typeof e&&(t instanceof O_||null==t)&&void 0===i&&void 0===s)return this.measureString(e,t,0,0);if("string"==typeof e&&(t instanceof O_||null==t)&&"number"==typeof i&&"number"==typeof s)return this.measureString(e,0,t,i,s);if("string"==typeof e&&"number"==typeof t&&(i instanceof O_||null==i)&&"number"==typeof s&&"number"==typeof n){let r=new b_(t,0);return this.measureString(e,r,i,s,n)}{if(null==e)throw Error('ArgumentNullException("text")');let r=t,a=i,o=(new V_).layout(e,this,a,r,!1,new b_(0,0));return s=e.length,n=o.empty?0:o.lines.length,o.actualSize}}equalsTo(e){return this.equalsToFont(e)}getInternals(){return this.pdfFontInternals}setInternals(e){if(null==e)throw new Error("ArgumentNullException:internals");this.pdfFontInternals=e}setStyle(e){this.fontStyle=e}applyFormatSettings(e,t,i){let s=i;return null!=t&&i>0&&(0!==t.characterSpacing&&(s+=(e.length-1)*t.characterSpacing),0!==t.wordSpacing)&&(s+=N_.getCharsCount(e,N_.spaces)*t.wordSpacing),s}}return e.charSizeMultiplier=.001,e.syncObject=new Object,e})();class j_{constructor(e){this.streamWriter=e}get document(){return this.pdfDocument}set document(e){this.pdfDocument=e}get position(){return this.streamWriter.buffer.size}get length(){return this.streamWriter.buffer.size}get stream(){return this.streamWriter}write(e){this.streamWriter.write(e)}}var W_=function(e){return e[e.None=0]="None",e[e.Registered=1]="Registered",e}({});class Y_{constructor(){this.objectCollections=[],this.mainObjectCollection=new jx,this.primitiveObjectCollection=new jx}get count(){return this.objectCollections.length}items(e){return this.objectCollections[e]}get outIsNew(){return this.isNew}add(e){let t=new q_(e);this.objectCollections.push(t),this.primitiveObjectCollection.containsKey(e)||this.primitiveObjectCollection.setValue(e,this.objectCollections.length-1),e.position=this.index=this.objectCollections.length-1,e.status=W_.Registered}lookFor(e){let t=-1;if(-1!==e.position)return e.position;if(this.primitiveObjectCollection.containsKey(e)&&this.count===this.primitiveObjectCollection.size())t=this.primitiveObjectCollection.getValue(e);else for(let i=this.count-1;i>=0;i--)if(this.objectCollections[i].object===e){t=i;break}return t}getReference(e,t){let i;return this.index=this.lookFor(e),this.isNew=!1,i=this.objectCollections[this.index].reference,{reference:i,wasNew:t}}trySetReference(e,t,i){return this.index=this.lookFor(e),this.objectCollections[this.index].setReference(t),!0}destroy(){for(let e of this.objectCollections)void 0!==e&&(e.pdfObject.position=-1,e.pdfObject.isSaving=void 0,e.pdfObject.objectCollectionIndex=void 0,e.pdfObject.position=void 0);this.objectCollections=[],this.mainObjectCollection=new jx,this.primitiveObjectCollection=new jx}}class q_{constructor(e,t){this.pdfObject=e,this.pdfReference=t}get object(){return this.pdfObject}set object(e){this.pdfObject=e}get reference(){return this.pdfReference}setReference(e){this.pdfReference=e}}class U_{constructor(e){this.isStreamCopied=!1,e instanceof uC&&(this.document=e)}get pdfObjects(){return this.objects}get crossTable(){return this.pdfCrossTable}get currentSavingObj(){return this.currentSavingObject}set currentSavingObj(e){this.currentSavingObject=e}get catalog(){return this.pdfCatalog}set catalog(e){this.pdfCatalog=e}setMainObjectCollection(e){this.objects=e}setCrossTable(e){this.pdfCrossTable=e}setCatalog(e){this.pdfCatalog=e}save(e){let t=new Tx(!0),i=new Px(t);if(void 0===e){let e=new Tx(!0),t=new Px(e);return new Promise((e,i)=>{let s={};s.blobData=new Blob([this.document.docSave(t,!0)],{type:"application/pdf"}),e(s)})}this.document.docSave(i,e,!0)}clone(){return this.document}}var G_=function(e){return e[e.Free=0]="Free",e[e.Normal=1]="Normal",e[e.Packed=2]="Packed",e}({});class X_ extends Ux{constructor(){super(),this.sections=null,this.tempDictionaryProperties=new qx,this.items.setValue((new qx).type,new Wx("Catalog"))}get pages(){return this.sections}set pages(e){this.sections=e,this.items.setValue(this.tempDictionaryProperties.pages,new a_(e))}}class Z_{constructor(){this.objects=new jx,this.maxGenNumIndex=0,this.objectCount=0,this.dictionaryProperties=new qx}get isMerging(){return this.merging}set isMerging(e){this.merging=e}get trailer(){return null==this.internalTrailer&&(this.internalTrailer=new e_),this.internalTrailer}get document(){return this.pdfDocument}set document(e){this.pdfDocument=e,this.items=this.pdfDocument.pdfObjects}get pdfObjects(){return this.items}get objectCollection(){return this.pdfDocument.pdfObjects}get count(){return this.objectCount}set count(e){this.objectCount=e}get nextObjNumber(){return this.count=this.count+1,this.count}save(e,t){this.saveHead(e),this.mappedReferences=null,this.objects.clear(),this.markTrailerReferences(),this.saveObjects(e);let i=this.count,s=e.position;this.registerObject(0,new r_(0,-1),!0),e.write(Yx.xref),e.write(Yx.newLine),this.saveSections(e),this.saveTrailer(e,this.count,0),this.saveTheEndess(e,s),this.count=i;for(let n=0;n<this.objectCollection.count;++n)this.objectCollection.items(n).object.isSaving=!1;if(void 0===t)return e.stream.buffer;e.stream.save(t)}saveTheEndess(e,t){e.write(Yx.newLine+Yx.startxref+Yx.newLine),e.write(t.toString()+Yx.newLine),e.write(Yx.eof+Yx.newLine)}saveTrailer(e,t,i){e.write(Yx.trailer+Yx.newLine);let s=this.trailer;s.items.setValue(this.dictionaryProperties.size,new Qx(this.objectCount+1)),s=new Ux(s),s.setEncrypt(!1),s.save(e)}saveSections(e){let t=0,i=0;do{i=this.prepareSubsection(t),this.saveSubsection(e,t,i),t+=i}while(0!==i)}saveSubsection(e,t,i){if(!(i<=0||t>=this.count)){e.write(t+" "+(i+1)+Yx.newLine);for(let s=t;s<=t+i;++s){let t=this.objects.getValue(s),i="";i=t.type===G_.Free?this.getItem(t.offset,65535,!0):this.getItem(t.offset,t.generation,!1),e.write(i)}}}getItem(e,t,i){let s="",n=10-e.toString().length;t<=0&&(t=0);let r=5-t.toString().length<=0?0:5-t.toString().length;for(let a=0;a<n;a++)s+="0";s=s+e.toString()+" ";for(let a=0;a<r;a++)s+="0";return s=s+t.toString()+" ",s=s+(i?Yx.f:Yx.n)+Yx.newLine,s}prepareSubsection(e){let t,i=0,s=this.count;for(let n=0;n<this.document.pdfObjects.count;n++)this.document.pdfObjects.items(n).reference.toString().split(" ");if(e>=s)return i;for(t=e,e=t;t<s;++t)++i;return i}markTrailerReferences(){this.trailer.items.keys(),this.trailer.items.values()}saveHead(e){let t=this.generateFileVersion(e.document);e.write("%PDF-"+t),e.write(Yx.newLine)}generateFileVersion(e){return"1."+4..toString()}getReference(e,t){return void 0===t?this.getReference(e,!1):this.getSubReference(e,t)}getSubReference(e,t){let i,s=!1,n=null;if(this.items.count>0&&e.objectCollectionIndex>0&&this.items.count>e.objectCollectionIndex-1){let t=this.document.pdfObjects.getReference(e,i);n=t.reference,i=t.wasNew}if(i=null==n&&e.status!==W_.Registered,null==n){let t;n=new r_(this.nextObjNumber,0),i?(this.document.pdfObjects.add(e),this.document.pdfObjects.trySetReference(e,n,t),this.document.pdfObjects.mainObjectCollection.setValue(this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1].reference.objNumber,this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1]),e.position=-1):this.document.pdfObjects.trySetReference(e,n,t),e.objectCollectionIndex=n.objNumber,e.status=W_.None,s=!0}return n}saveObjects(e){let t=this.objectCollection;for(let i=0;i<t.count;++i){let s=t.items(i).object;s.isSaving=!0,this.saveIndirectObject(s,e)}}saveIndirectObject(e,t){let i=this.getReference(e);e instanceof X_&&this.trailer.items.setValue(this.dictionaryProperties.root,i),this.pdfDocument.currentSavingObj=i;let s=!1;s=e.getArchive(),this.registerObject(t.position,i),this.doSaveObject(e,i,t)}doSaveObject(e,t,i){i.write(t.objNumber.toString()),i.write(Yx.whiteSpace),i.write(t.genNumber.toString()),i.write(Yx.whiteSpace),i.write(Yx.obj),i.write(Yx.newLine),e.save(i),i.write(Yx.endObj),i.write(Yx.newLine)}registerObject(e,t,i){"boolean"==typeof i?(this.objects.setValue(t.objNumber,new $_(e,t,i)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber)):void 0===i&&(this.objects.setValue(t.objNumber,new $_(e,t)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber))}static dereference(e){return null!=e&&(e=e.object),e}}class $_{get objectNumber(){return this.object}get offset(){let e;return e=this.offsetNumber,e}constructor(e,t,i){this.offsetNumber=e;let s=t;this.generation=s.genNumber,this.object=s.objNumber,this.type=void 0===i?G_.Normal:G_.Free}}let K_=(()=>{class e{constructor(){}}return e.letter=new b_(612,792),e.note=new b_(540,720),e.legal=new b_(612,1008),e.a0=new b_(2380,3368),e.a1=new b_(1684,2380),e.a2=new b_(1190,1684),e.a3=new b_(842,1190),e.a4=new b_(595,842),e.a5=new b_(421,595),e.a6=new b_(297,421),e.a7=new b_(210,297),e.a8=new b_(148,210),e.a9=new b_(105,148),e.a10=new b_(74,105),e.b0=new b_(2836,4008),e.b1=new b_(2004,2836),e.b2=new b_(1418,2004),e.b3=new b_(1002,1418),e.b4=new b_(709,1002),e.b5=new b_(501,709),e.archE=new b_(2592,3456),e.archD=new b_(1728,2592),e.archC=new b_(1296,1728),e.archB=new b_(864,1296),e.archA=new b_(648,864),e.flsa=new b_(612,936),e.halfLetter=new b_(396,612),e.letter11x17=new b_(792,1224),e.ledger=new b_(1224,792),e})();var Q_=function(e){return e[e.Portrait=0]="Portrait",e[e.Landscape=1]="Landscape",e}({}),J_=function(e){return e[e.RotateAngle0=0]="RotateAngle0",e[e.RotateAngle90=1]="RotateAngle90",e[e.RotateAngle180=2]="RotateAngle180",e[e.RotateAngle270=3]="RotateAngle270",e}({}),eS=function(e){return e[e.None=0]="None",e[e.Top=1]="Top",e[e.Bottom=2]="Bottom",e[e.Left=3]="Left",e[e.Right=4]="Right",e}({});class tS{constructor(){this.pdfMargin=40,this.setMargins(this.pdfMargin)}get left(){return this.leftMargin}set left(e){this.leftMargin=e}get top(){return this.topMargin}set top(e){this.topMargin=e}get right(){return this.rightMargin}set right(e){this.rightMargin=e}get bottom(){return this.bottomMargin}set bottom(e){this.bottomMargin=e}set all(e){this.setMargins(e)}setMargins(e,t,i,s){void 0===t?this.leftMargin=this.topMargin=this.rightMargin=this.bottomMargin=e:void 0===i?(this.leftMargin=this.rightMargin=e,this.bottomMargin=this.topMargin=t):(this.leftMargin=e,this.topMargin=t,this.rightMargin=i,this.bottomMargin=s)}clone(){return this}}class iS{constructor(e){this.pageMargins=new tS,this.pageSize=K_.a4,this.rotateAngle=J_.RotateAngle0,this.pageOrientation=Q_.Portrait,this.pageOrigin=new y_(0,0),this.isRotation=!1,"number"==typeof e&&this.pageMargins.setMargins(e)}get size(){return this.pageSize}set size(e){this.setSize(e)}get orientation(){return this.pageOrientation}set orientation(e){this.pageOrientation!==e&&(this.pageOrientation=e,this.updateSize(e))}get margins(){return this.pageMargins}set margins(e){this.pageMargins=e}get width(){return this.pageSize.width}set width(e){this.pageSize.width=e}get height(){return this.pageSize.height}set height(e){this.pageSize.height=e}get origin(){return this.pageOrigin}set origin(e){this.pageOrigin=e}get rotate(){return this.rotateAngle}set rotate(e){this.rotateAngle=e,this.isRotation=!0}updateSize(e){let t=Math.min(this.pageSize.width,this.pageSize.height),i=Math.max(this.pageSize.width,this.pageSize.height);switch(e){case Q_.Portrait:this.pageSize=new b_(t,i);break;case Q_.Landscape:this.pageSize=new b_(i,t)}}clone(){return this.pageMargins=this.pageMargins.clone(),this}getActualSize(){return new b_(this.width-(this.margins.left+this.margins.right),this.height-(this.margins.top+this.margins.bottom))}setSize(e){let t=Math.min(e.width,e.height),i=Math.max(e.width,e.height);this.pageSize=this.orientation===Q_.Portrait?new b_(t,i):new b_(i,t)}}class sS{constructor(e){if(null==e)throw new Error("ArgumentNullException:stream");this.stream=e}clear(){this.stream.clearStream()}setGraphicsState(e){e instanceof Wx?(this.stream.write(e.toString()),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setGraphicsState)):(this.stream.write(Yx.slash),this.stream.write(e),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setGraphicsState))}executeObject(e){this.stream.write(e.toString()),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.paintXObject),this.stream.write(Yx.newLine)}closePath(){this.writeOperator(Yx.closePath)}clipPath(e){this.stream.write(Yx.clipPath),e&&this.stream.write(Yx.evenOdd),this.stream.write(Yx.whiteSpace),this.stream.write(Yx.endPath),this.stream.write(Yx.newLine)}closeFillStrokePath(e){this.stream.write(Yx.closeFillStrokePath),e?(this.stream.write(Yx.evenOdd),this.stream.write(Yx.newLine)):this.stream.write(Yx.newLine)}fillStrokePath(e){this.stream.write(Yx.fillStroke),e?(this.stream.write(Yx.evenOdd),this.stream.write(Yx.newLine)):this.stream.write(Yx.newLine)}fillPath(e){this.stream.write(Yx.fill),e?(this.stream.write(Yx.evenOdd),this.stream.write(Yx.newLine)):this.stream.write(Yx.newLine)}endPath(){this.writeOperator(Yx.n)}closeFillPath(e){this.writeOperator(Yx.closePath),this.stream.write(Yx.fill),e?(this.stream.write(Yx.evenOdd),this.stream.write(Yx.newLine)):this.stream.write(Yx.newLine)}closeStrokePath(){this.writeOperator(Yx.closeStrokePath)}setTextScaling(e){this.stream.write(Qx.floatToString(e)),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setTextScaling)}strokePath(){this.writeOperator(Yx.stroke)}restoreGraphicsState(){this.writeOperator(Yx.restoreState)}saveGraphicsState(){this.writeOperator(Yx.saveState)}startNextLine(e,t){void 0===e?this.writeOperator(Yx.goToNextLine):e instanceof y_?(this.writePoint(e),this.writeOperator(Yx.setCoords)):(this.writePoint(e,t),this.writeOperator(Yx.setCoords))}showText(e){this.checkTextParam(e),this.writeText(e),this.writeOperator(Yx.setText)}setLeading(e){this.stream.write(Qx.floatToString(e)),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setTextLeading)}beginPath(e,t){this.writePoint(e,t),this.writeOperator(Yx.beginPath)}beginText(){this.writeOperator(Yx.beginText)}endText(){this.writeOperator(Yx.endText)}appendRectangle(e,t,i,s){e instanceof v_?this.appendRectangle(e.x,e.y,e.width,e.height):(this.writePoint(e,t),this.writePoint(i,s),this.writeOperator(Yx.appendRectangle))}appendLineSegment(e,t){e instanceof y_?this.appendLineSegment(e.x,e.y):(this.writePoint(e,t),this.writeOperator(Yx.appendLineSegment))}setTextRenderingMode(e){this.stream.write(e.toString()),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setRenderingMode)}setCharacterSpacing(e){this.stream.write(Qx.floatToString(e)),this.stream.write(Yx.whiteSpace),this.stream.write(Yx.setCharacterSpace),this.stream.write(Yx.newLine)}setWordSpacing(e){this.stream.write(Qx.floatToString(e)),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setWordSpace)}showNextLineText(e,t){e instanceof n_?(this.checkTextParam(e),this.writeText(e),this.writeOperator(Yx.setTextOnNewLine)):(this.checkTextParam(e),this.writeText(e,t),this.writeOperator(Yx.setTextOnNewLine))}setColorSpace(e,t){if(e instanceof Wx&&"boolean"==typeof t){let i=t?Yx.selectcolorspaceforstroking:Yx.selectcolorspacefornonstroking;this.stream.write(e.toString()),this.stream.write(Yx.whiteSpace),this.stream.write(i),this.stream.write(Yx.newLine)}else{let i=t;this.setColorSpace(new Wx(e),i)}}modifyCtm(e){if(null==e)throw new Error("ArgumentNullException:matrix");this.stream.write(e.toString()),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.modifyCtm)}setFont(e,t,i){if("string"==typeof t)this.setFont(e,new Wx(t),i);else{if(null==e)throw new Error("ArgumentNullException:font");this.stream.write(t.toString()),this.stream.write(Yx.whiteSpace),this.stream.write(Qx.floatToString(i)),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setFont)}}writeOperator(e){this.stream.write(e),this.stream.write(Yx.newLine)}checkTextParam(e){if(null==e)throw new Error("ArgumentNullException:text");if("string"==typeof e&&""===e)throw new Error("ArgumentException:The text can not be an empty string, text")}writeText(e,t){if(e instanceof n_&&void 0===t)this.stream.write(e.pdfEncode());else{let i,s;t?(i=n_.hexStringMark[0],s=n_.hexStringMark[1]):(i=n_.stringMark[0],s=n_.stringMark[1]),this.stream.write(i),this.stream.write(e),this.stream.write(s)}}writePoint(e,t){e instanceof y_&&void 0===t?this.writePoint(e.x,e.y):(this.stream.write(Qx.floatToString(e)),this.stream.write(Yx.whiteSpace),t=this.updateY(t),this.stream.write(Qx.floatToString(t)),this.stream.write(Yx.whiteSpace))}updateY(e){return-e}write(e){let t="";t+=e,t+=Yx.newLine,this.writeOperator(t)}writeComment(e){if(!(null!=e&&e.length>0))throw new Error("Invalid comment");{let t="";t+=Yx.comment,t+=Yx.whiteSpace,t+=e,this.writeOperator(t)}}setColorAndSpace(e,t,i){e.isEmpty||(this.stream.write(e.toString(t,i)),this.stream.write(Yx.newLine))}setLineDashPattern(e,t){this.setLineDashPatternHelper(e,t)}setLineDashPatternHelper(e,t){let i="[";if(e.length>1)for(let s=0;s<e.length;s++)i+=s===e.length-1?e[s].toString():e[s].toString()+" ";i+="] ",i+=t.toString(),i+=" "+Yx.setDashPattern,this.stream.write(i),this.stream.write(Yx.newLine)}setMiterLimit(e){this.stream.write(Qx.floatToString(e)),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setMiterLimit)}setLineWidth(e){this.stream.write(Qx.floatToString(e)),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setLineWidth)}setLineCap(e){this.stream.write(e.toString()),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setLineCapStyle)}setLineJoin(e){this.stream.write(e.toString()),this.stream.write(Yx.whiteSpace),this.writeOperator(Yx.setLineJoinStyle)}get position(){return this.stream.position}get length(){let e=0;if(0!==this.stream.data.length&&-1!==this.stream.data.length)for(let t=0;t<this.stream.data.length;t++)e+=this.stream.data[t].length;return e}get document(){return null}}class nS{constructor(e,t){this.pdfColor=new f_(0,0,0),this.dashOffsetValue=0,this.penDashPattern=[0],this.pdfDashStyle=c_.Solid,this.pdfLineCap=0,this.pdfLineJoin=0,this.penWidth=1,this.internalMiterLimit=0,this.colorSpace=u_.Rgb,e instanceof x_?this.setBrush(e):e instanceof f_&&(this.color=e),"number"==typeof t&&(this.width=t)}get color(){return this.pdfColor}set color(e){this.pdfColor=e}get dashOffset(){return void 0===this.dashOffsetValue||null==this.dashOffsetValue?0:this.dashOffsetValue}set dashOffset(e){this.dashOffsetValue=e}get dashPattern(){return this.penDashPattern}set dashPattern(e){this.penDashPattern=e}get dashStyle(){return this.pdfDashStyle}set dashStyle(e){if(this.pdfDashStyle!==e)switch(this.pdfDashStyle=e,this.pdfDashStyle){case c_.Custom:break;case c_.Dash:this.penDashPattern=[3,1];break;case c_.Dot:this.penDashPattern=[1,1];break;case c_.DashDot:this.penDashPattern=[3,1,1,1];break;case c_.DashDotDot:this.penDashPattern=[3,1,1,1,1,1];break;case c_.Solid:break;default:this.pdfDashStyle=c_.Solid,this.penDashPattern=[0]}}get lineCap(){return this.pdfLineCap}set lineCap(e){this.pdfLineCap=e}get lineJoin(){return this.pdfLineJoin}set lineJoin(e){this.pdfLineJoin=e}get miterLimit(){return this.internalMiterLimit}set miterLimit(e){this.internalMiterLimit=e}get width(){return this.penWidth}set width(e){this.penWidth=e}clone(){return this}setBrush(e){let t=e;this.color=t.color,this.pdfBrush=t}monitorChanges(e,t,i,s,n,r){let a=!1;null==e&&(a=!0),a=this.dashControl(e,!0,t),t.setLineWidth(this.width),t.setLineJoin(this.lineJoin),t.setLineCap(this.lineCap);let o=this.miterLimit;return o>0&&(t.setMiterLimit(o),a=!0),t.setColorAndSpace(this.color,n,!0),a=!0,a}dashControl(e,t,i){let s=this.width,n=this.getPattern();return i.setLineDashPattern(n,this.dashOffset*s),!0}getPattern(){let e=this.dashPattern;for(let t=0;t<e.length;++t)e[t]*=this.width;return e}}let rS=(()=>{class e{constructor(e){this.radDegFactor=180/Math.PI,this.transformationMatrix=new aS(1,0,0,void 0===e?1:-1,0,0)}get matrix(){return this.transformationMatrix}set matrix(e){this.transformationMatrix=e}translate(e,t){this.transformationMatrix.translate(e,t)}scale(e,t){this.transformationMatrix.elements[0]=e,this.transformationMatrix.elements[3]=t}rotate(e){e=e*Math.PI/180,this.transformationMatrix.elements[0]=Math.cos(e),this.transformationMatrix.elements[1]=Math.sin(e),this.transformationMatrix.elements[2]=-Math.sin(e),this.transformationMatrix.elements[3]=Math.cos(e)}toString(){let e="";for(let t=0,i=this.transformationMatrix.elements.length;t<i;t++)e+=Qx.floatToString(this.transformationMatrix.elements[t]),e+=" ";return e}multiply(e){this.transformationMatrix.multiply(e.matrix)}static degreesToRadians(e){return this.degRadFactor*e}radiansToDegrees(e){return this.radDegFactor*e}clone(){return this}}return e.degRadFactor=Math.PI/180,e})();class aS{constructor(e,t,i,s,n,r){void 0===e?this.metrixElements=[]:"number"==typeof e?(this.metrixElements=[],this.metrixElements.push(e),this.metrixElements.push(t),this.metrixElements.push(i),this.metrixElements.push(s),this.metrixElements.push(n),this.metrixElements.push(r)):this.metrixElements=e}get elements(){return this.metrixElements}get offsetX(){return this.metrixElements[4]}get offsetY(){return this.metrixElements[5]}translate(e,t){this.metrixElements[4]=e,this.metrixElements[5]=t}transform(e){let t=e.x,i=e.y;return new y_(t*this.elements[0]+i*this.elements[2]+this.offsetX,t*this.elements[1]+i*this.elements[3]+this.offsetY)}multiply(e){let t=[];t.push(this.elements[0]*e.elements[0]+this.elements[1]*e.elements[2]),t[1]=this.elements[0]*e.elements[1]+this.elements[1]*e.elements[3],t[2]=this.elements[2]*e.elements[0]+this.elements[3]*e.elements[2],t[3]=this.elements[2]*e.elements[1]+this.elements[3]*e.elements[3],t[4]=this.offsetX*e.elements[0]+this.offsetY*e.elements[2]+e.offsetX,t[5]=this.offsetX*e.elements[1]+this.offsetY*e.elements[3]+e.offsetY;for(let i=0;i<t.length;i++)this.elements[i]=t[i]}dispose(){this.metrixElements=null}clone(){return new aS(this.metrixElements)}}class oS{constructor(){this.pdf="PDF",this.text="Text",this.imageB="ImageB",this.imageC="ImageC",this.imageI="ImageI"}}class lS{constructor(){this.mKeys=[],this.mValues=[]}size(){return this.mKeys.length}add(e,t){if(null==e||null==t)throw new ReferenceError("Provided key or value is not valid.");if(this.mKeys.indexOf(e)<0)return this.mKeys.push(e),this.mValues.push(t),1;throw new RangeError("An item with the same key has already been added.")}keys(){return this.mKeys}values(){return this.mValues}getValue(e){if(null==e)throw new ReferenceError("Provided key is not valid.");let t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mValues[t]}setValue(e,t){if(null==e)throw new ReferenceError("Provided key is not valid.");let i=this.mKeys.indexOf(e);i<0?(this.mKeys.push(e),this.mValues.push(t)):this.mValues[i]=t}remove(e){if(null==e)throw new ReferenceError("Provided key is not valid.");let t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mKeys.splice(t,1),this.mValues.splice(t,1),!0}containsKey(e){if(null==e)throw new ReferenceError("Provided key is not valid.");return!(this.mKeys.indexOf(e)<0)}clear(){this.mKeys=[],this.mValues=[]}}class hS{constructor(e,t,i){this.dictionary=new Ux,this.dictionaryProperties=new qx,this.dictionary.items.setValue(this.dictionaryProperties.CA,new Qx(e)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new Qx(t)),this.dictionary.items.setValue(this.dictionaryProperties.BM,new Wx(i.toString()))}get element(){return this.dictionary}}class cS{constructor(){this.automaticFieldsInformation=[]}get automaticFields(){return this.automaticFieldsInformation}add(e){return this.automaticFields.push(e)}}class dS{constructor(e,t,i,s){this.pageNumberFieldLocation=new y_,this.pageNumberField=null,this.scaleX=1,this.scaleY=1,void 0===t&&e instanceof dS?(this.pageNumberField=e.field,this.pageNumberFieldLocation=e.location,this.scaleX=e.scalingX,this.scaleY=e.scalingY):void 0===i&&t instanceof y_&&e instanceof class extends class{constructor(){}drawHelper(e,t,i){let s=0!==t||0!==i,n=null;s&&(n=e.save(),e.translateTransform(t,i)),this.drawInternal(e),s&&e.restore(n)}}{constructor(){super(),this.internalBounds=new v_(0,0,0,0),this.internalTemplateSize=new b_(0,0)}get bounds(){return this.internalBounds}set bounds(e){this.internalBounds=e}get size(){return new b_(this.bounds.width,this.bounds.height)}set size(e){this.bounds.width=e.width,this.bounds.height=e.height}get location(){return new y_(this.bounds.x,this.bounds.y)}set location(e){this.bounds.x=e.x,this.bounds.y=e.y}get font(){return this.internalFont}set font(e){this.internalFont=e}get brush(){return this.internalBrush}set brush(e){this.internalBrush=e}get pen(){return this.internalPen}set pen(e){this.internalPen=e}get stringFormat(){return this.internalStringFormat}set stringFormat(e){this.internalStringFormat=e}performDrawHelper(e,t,i,s){if(0===this.bounds.height||0===this.bounds.width){let t=this.getValue(e);this.internalTemplateSize=this.getFont().measureString(t,this.size,this.stringFormat)}}draw(e,t,i){if(void 0===t){let t=new y_(0,0);this.draw(e,t)}else if(t instanceof y_)this.draw(e,t.x,t.y);else{this.drawHelper(e,t,i);let s=new dS(this,new y_(t,i));e.automaticFields.add(s)}}getSize(){return 0===this.bounds.height||0===this.bounds.width?this.internalTemplateSize:this.size}drawInternal(e){}getBrush(){return void 0===this.internalBrush||null==this.internalBrush?new __(new f_(0,0,0)):this.internalBrush}getFont(){return void 0===this.internalFont||null==this.internalFont?uC.defaultFont:this.internalFont}getPageFromGraphics(e){return null!=e.page?e.page:e.currentPage}}?(this.pageNumberField=e,this.pageNumberFieldLocation=t):(this.pageNumberField=e,this.pageNumberFieldLocation=t,this.scaleX=i,this.scaleY=s)}get location(){return this.pageNumberFieldLocation}set location(e){this.pageNumberFieldLocation=e}get field(){return this.pageNumberField}set field(e){this.pageNumberField=e}get scalingX(){return this.scaleX}set scalingX(e){this.scaleX=e}get scalingY(){return this.scaleY}set scalingY(e){this.scaleY=e}}class uS{constructor(e){this.mPosition=0,this.buffer=new Uint8Array(e),this.dataView=new DataView(this.buffer.buffer)}get position(){return this.mPosition}set position(e){this.mPosition=e}read(e,t,i){for(let s=t;s<i;s++)e.buffer[s]=this.readByte(this.position),this.position++}getBuffer(e){return this.buffer[e]}writeFromBase64String(e){let t=this.encodedString(e);this.buffer=t}encodedString(e){let t,i,s,n,r,a,o,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,c=0,d=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;e.charAt(e.length-1)===l.charAt(64)&&d--;let u=new Uint8Array(0|d);for(;h<e.length;)n=l.indexOf(e.charAt(h++)),r=l.indexOf(e.charAt(h++)),a=l.indexOf(e.charAt(h++)),o=l.indexOf(e.charAt(h++)),t=n<<2|r>>4,i=(15&r)<<4|a>>2,s=(3&a)<<6|o,u[c++]=t,u[c++]=i,u[c++]=s;return u}readByte(e){return this.buffer[e]}get internalBuffer(){return this.buffer}get count(){return this.buffer.byteLength}readNextTwoBytes(e){let t=e.readByte(this.position);return this.position++,t<<=8,t|=e.readByte(this.position),this.position++,t}}class pS{constructor(e){this.currentPosition=-1,this.value=e}get status(){return this.objectStatus}set status(e){this.objectStatus=e}get isSaving(){return this.saving}set isSaving(e){this.saving=e}get objectCollectionIndex(){return this.index}set objectCollectionIndex(e){this.index=e}get position(){return this.currentPosition}set position(e){this.currentPosition=e}get clonedObject(){return null}save(e){e.write(this.boolToStr(this.value))}clone(e){return new pS(this.value)}boolToStr(e){return e?"true":"false"}}var mS=function(e){return e[e.Unknown=0]="Unknown",e[e.Bmp=1]="Bmp",e[e.Emf=2]="Emf",e[e.Gif=3]="Gif",e[e.Jpeg=4]="Jpeg",e[e.Png=5]="Png",e[e.Wmf=6]="Wmf",e[e.Icon=7]="Icon",e}({});let gS=(()=>{class e{constructor(e){this.sof1Marker=193,this.sof2Marker=194,this.sof3Marker=195,this.sof5Marker=197,this.sof6Marker=198,this.sof7Marker=199,this.sof9Marker=201,this.sof10Marker=202,this.sof11Marker=203,this.sof13Marker=205,this.sof14Marker=206,this.sof15Marker=207,this.mFormat=mS.Unknown,this.mbitsPerComponent=8,this.dictionaryProperties=new qx,this.mStream=e,this.initialize()}get height(){return this.mHeight}get width(){return this.mWidth}get bitsPerComponent(){return this.mbitsPerComponent}get size(){return this.mImageData.count}get imageData(){return this.mImageData}get imageDataAsNumberArray(){return this.mImageData.internalBuffer.buffer}initialize(){this.mFormat===mS.Unknown&&this.checkIfJpeg()&&(this.mFormat=mS.Jpeg,this.parseJpegImage()),this.reset(),this.mImageData=new uS(this.mStream.count),this.mStream.read(this.mImageData,0,this.mImageData.count)}reset(){this.mStream.position=0}parseJpegImage(){this.reset();let e=new uS(this.mStream.count);this.mStream.read(e,0,e.count);let t=4,i=!1,s=256*e.getBuffer(t)+e.getBuffer(t+1);for(;t<e.count;){if(t+=s,!(t<e.count)){i=!0;break}if(192===e.getBuffer(t+1))return this.mHeight=256*e.getBuffer(t+5)+e.getBuffer(t+6),void(this.mWidth=256*e.getBuffer(t+7)+e.getBuffer(t+8));t+=2,s=256*e.getBuffer(t)+e.getBuffer(t+1)}i&&(this.mStream.position=0,this.skip(this.mStream,2),this.readExceededJPGImage(this.mStream))}get format(){return this.mFormat}checkIfJpeg(){this.reset();for(let t=0;t<e.mJpegHeader.length;t++){if(e.mJpegHeader[t]!==this.mStream.readByte(t))return!1;this.mStream.position++}return!0}getImageDictionary(){if(this.mFormat===mS.Jpeg){this.imageStream=new e_,this.imageStream.isImage=!0;let e="",t="";for(let i=0;i<this.imageDataAsNumberArray.byteLength;i++)e+=String.fromCharCode(null,this.mStream.readByte(i));for(let i=0;i<e.length;i++)i%2!=0&&(t+=e[i]);return this.imageStream.data=[t],this.imageStream.compress=!1,this.imageStream.items.setValue(this.dictionaryProperties.type,new Wx(this.dictionaryProperties.xObject)),this.imageStream.items.setValue(this.dictionaryProperties.subtype,new Wx(this.dictionaryProperties.image)),this.imageStream.items.setValue(this.dictionaryProperties.width,new Qx(this.width)),this.imageStream.items.setValue(this.dictionaryProperties.height,new Qx(this.height)),this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent,new Qx(this.bitsPerComponent)),this.imageStream.items.setValue(this.dictionaryProperties.filter,new Wx(this.dictionaryProperties.dctdecode)),this.imageStream.items.setValue(this.dictionaryProperties.colorSpace,new Wx(this.getColorSpace())),this.imageStream.items.setValue(this.dictionaryProperties.decodeParms,this.getDecodeParams()),this.imageStream}return this.imageStream}getColorSpace(){return this.dictionaryProperties.deviceRgb}getDecodeParams(){let e=new Ux;return e.items.setValue(this.dictionaryProperties.columns,new Qx(this.width)),e.items.setValue(this.dictionaryProperties.blackIs1,new pS(!0)),e.items.setValue(this.dictionaryProperties.k,new Qx(-1)),e.items.setValue(this.dictionaryProperties.predictor,new Qx(15)),e.items.setValue(this.dictionaryProperties.bitsPerComponent,new Qx(this.bitsPerComponent)),e}readExceededJPGImage(e){this.mStream=e;let t=!0;for(;t;)switch(this.getMarker(e)){case this.sof1Marker:case this.sof2Marker:case this.sof3Marker:case this.sof5Marker:case this.sof6Marker:case this.sof7Marker:case this.sof9Marker:case this.sof10Marker:case this.sof11Marker:case this.sof13Marker:case this.sof14Marker:case this.sof15Marker:e.position+=3,this.mHeight=this.mStream.readNextTwoBytes(e),this.mWidth=this.mStream.readNextTwoBytes(e),t=!1;break;default:this.skipStream(e)}}skip(e,t){this.mStream=e;let i=new uS(t);this.mStream.read(i,0,i.count)}getMarker(e){let t=32;for(t=e.readByte(this.mStream.position),e.position++;255!==t;)t=e.readByte(this.mStream.position),e.position++;do{t=e.readByte(this.mStream.position),e.position++}while(255===t);return t}skipStream(e){let t=this.mStream.readNextTwoBytes(e)-2;t>0&&(e.position+=t)}}return e.mPngHeader=[137,80,78,71,13,10,26,10],e.mJpegHeader=[255,216],e.GIF_HEADER="G,I,F,8",e.BMP_HEADER="B,M",e})(),fS=(()=>{class e{constructor(e){this.updateProportionsHelper(e)}convertUnits(e,t,i){return this.convertFromPixels(this.convertToPixels(e,t),i)}convertToPixels(e,t){return e*this.proportions[t]}convertFromPixels(e,t){return e/this.proportions[t]}updateProportionsHelper(e){this.proportions=[e/2.54,e/6,1,e/72,e,e/300,e/25.4]}}return e.horizontalResolution=96,e.verticalResolution=96,e})();class yS{get width(){return this.imageWidth}set width(e){this.imageWidth=e}get height(){return this.imageHeight}set height(e){this.imageHeight=e}set size(e){this.width=e.width,this.height=e.height}get physicalDimension(){return this.imagePhysicalDimension=this.getPointSize(this.width,this.height,this.horizontalResolution,this.verticalResolution),new b_(this.width,this.height)}get element(){return this.imageStream}getPointSize(e,t,i,s){if(void 0===i)return this.getPointSize(e,t,fS.horizontalResolution,fS.verticalResolution);{let n=new fS(i),r=new fS(s),a=n.convertUnits(e,m_.Pixel,m_.Point),o=r.convertUnits(t,m_.Pixel,m_.Point);return new b_(a,o)}}}class bS extends yS{constructor(e){super(),this.imageStatus=!0,this.dictionaryProperties=new qx,this.loadImage(e)}loadImage(e){this.initializeAsync(e)}initializeAsync(e){let t=new uS(e.length);t.writeFromBase64String(e),this.decoder=new gS(t),this.height=this.decoder.height,this.width=this.decoder.width,this.bitsPerComponent=this.decoder.bitsPerComponent}save(){this.imageStatus=!0,this.imageStream=this.decoder.getImageDictionary()}}class vS{get empty(){return this.offset===this.length&&this.length===this.checksum&&0===this.checksum}}class wS{}class xS{}class _S{}class SS{get isItalic(){return 0!=(2&this.macStyle)}get isBold(){return 0!=(1&this.macStyle)}}class CS{}class ES{}class DS{}class kS{}class AS{}class MS{}class LS{get empty(){return this.index===this.width&&this.width===this.charCode&&0===this.charCode}compareTo(e){return this.index-e.index}}class TS{}class RS{}class PS{}class IS{}class OS{}class NS{constructor(e){this.int32Size=4,this.int16Size=2,this.int64Size=8,this.bufferLength=e,this.buffer=[]}get data(){if(this.buffer.length<this.bufferLength){let e=this.bufferLength-this.buffer.length;for(let t=0;t<e;t++)this.buffer.push(0)}return this.buffer}get position(){return null==this.internalPosition&&(this.internalPosition=0),this.internalPosition}writeShort(e){this.flush([(65280&e)>>8,255&e])}writeInt(e){this.flush([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}writeUInt(e){this.flush([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}writeString(e){if(null==e)throw new Error("Argument Null Exception : value");let t=[];for(let i=0;i<e.length;i++)t.push(e.charCodeAt(i));this.flush(t)}writeBytes(e){this.flush(e)}flush(e){if(null===e)throw new Error("Argument Null Exception : buff");let t=this.position;for(let i=0;i<e.length;i++)this.buffer[t]=e[i],t++;this.internalPosition+=e.length}}class VS{constructor(e){this.int32Size=4,this.isTtcFont=!1,this.isMacTtf=!1,this.metricsName="",this.isMacTTF=!1,this.missedGlyphs=0,this.tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this.entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this.fontData=e,this.initialize()}get macintosh(){return null==this.macintoshDictionary&&(this.macintoshDictionary=new jx),this.macintoshDictionary}get microsoft(){return null==this.microsoftDictionary&&(this.microsoftDictionary=new jx),this.microsoftDictionary}get macintoshGlyphs(){return null==this.internalMacintoshGlyphs&&(this.internalMacintoshGlyphs=new jx),this.internalMacintoshGlyphs}get microsoftGlyphs(){return null==this.internalMicrosoftGlyphs&&(this.internalMicrosoftGlyphs=new jx),this.internalMicrosoftGlyphs}initialize(){void 0===this.metrics&&(this.metrics=new SS),this.readFontDictionary();let e=this.readNameTable(),t=this.readHeadTable();this.initializeFontName(e),this.metrics.macStyle=t.macStyle}readFontDictionary(){this.offset=0,this.checkPreambula();let e=this.readInt16(this.offset);this.readInt16(this.offset),this.readInt16(this.offset),this.readInt16(this.offset),void 0===this.tableDirectory&&(this.tableDirectory=new jx);for(let t=0;t<e;++t){let e=new vS,t=this.readString(this.int32Size);e.checksum=this.readInt32(this.offset),e.offset=this.readInt32(this.offset),e.length=this.readInt32(this.offset),this.tableDirectory.setValue(t,e)}this.lowestPosition=this.offset,this.isTtcFont||this.fixOffsets()}fixOffsets(){let e=Number.MAX_VALUE,t=this.tableDirectory.keys();for(let s=0;s<t.length;s++){let i=this.tableDirectory.getValue(t[s]).offset;if(e>i&&(e=i,e<=this.lowestPosition))break}let i=e-this.lowestPosition;if(0!==i){let e=new jx;for(let s=0;s<t.length;s++){let n=this.tableDirectory.getValue(t[s]);n.offset-=i,e.setValue(t[s],n)}this.tableDirectory=e}}checkPreambula(){let e=this.readInt32(this.offset);if(this.isMacTtf=1953658213===e,65536!==e&&1953658213!==e&&1330926671!==e){if(this.isTtcFont=!0,this.offset=0,"ttcf"!==this.readString(4))throw new Error("Can not read TTF font data");if(this.offset+=4,this.readInt32(this.offset)<0)throw new Error("Can not read TTF font data");this.offset=this.readInt32(this.offset),e=this.readInt32(this.offset)}return e}readNameTable(){let e=this.getTable("name");this.offset=e.offset;let t=new wS;t.formatSelector=this.readUInt16(this.offset),t.recordsCount=this.readUInt16(this.offset),t.offset=this.readUInt16(this.offset),t.nameRecords=[];let i=this.offset;for(let s=0;s<t.recordsCount;s++){this.offset=i;let n=new xS;n.platformID=this.readUInt16(this.offset),n.encodingID=this.readUInt16(this.offset),n.languageID=this.readUInt16(this.offset),n.nameID=this.readUInt16(this.offset),n.length=this.readUInt16(this.offset),n.offset=this.readUInt16(this.offset),this.offset=e.offset+t.offset+n.offset,n.name=this.readString(n.length,0===n.platformID||3===n.platformID),t.nameRecords[s]=n,i+=12}return t}readHeadTable(){let e=this.getTable("head");this.offset=e.offset;let t=new _S;return t.version=this.readFixed(this.offset),t.fontRevision=this.readFixed(this.offset),t.checkSumAdjustment=this.readUInt32(this.offset),t.magicNumber=this.readUInt32(this.offset),t.flags=this.readUInt16(this.offset),t.unitsPerEm=this.readUInt16(this.offset),t.created=this.readInt64(this.offset),t.modified=this.readInt64(this.offset),t.xMin=this.readInt16(this.offset),t.yMin=this.readInt16(this.offset),t.xMax=this.readInt16(this.offset),t.yMax=this.readInt16(this.offset),t.macStyle=this.readUInt16(this.offset),t.lowestReadableSize=this.readUInt16(this.offset),t.fontDirectionHint=this.readInt16(this.offset),t.indexToLocalFormat=this.readInt16(this.offset),t.glyphDataFormat=this.readInt16(this.offset),t}readHorizontalHeaderTable(){let e=this.getTable("hhea");this.offset=e.offset;let t=new CS;return t.version=this.readFixed(this.offset),t.ascender=this.readInt16(this.offset),t.descender=this.readInt16(this.offset),t.lineGap=this.readInt16(this.offset),t.advanceWidthMax=this.readUInt16(this.offset),t.minLeftSideBearing=this.readInt16(this.offset),t.minRightSideBearing=this.readInt16(this.offset),t.xMaxExtent=this.readInt16(this.offset),t.caretSlopeRise=this.readInt16(this.offset),t.caretSlopeRun=this.readInt16(this.offset),this.offset+=10,t.metricDataFormat=this.readInt16(this.offset),t.numberOfHMetrics=this.readUInt16(this.offset),t}readOS2Table(){let e=this.getTable("OS/2");this.offset=e.offset;let t=new ES;return t.version=this.readUInt16(this.offset),t.xAvgCharWidth=this.readInt16(this.offset),t.usWeightClass=this.readUInt16(this.offset),t.usWidthClass=this.readUInt16(this.offset),t.fsType=this.readInt16(this.offset),t.ySubscriptXSize=this.readInt16(this.offset),t.ySubscriptYSize=this.readInt16(this.offset),t.ySubscriptXOffset=this.readInt16(this.offset),t.ySubscriptYOffset=this.readInt16(this.offset),t.ySuperscriptXSize=this.readInt16(this.offset),t.ySuperscriptYSize=this.readInt16(this.offset),t.ySuperscriptXOffset=this.readInt16(this.offset),t.ySuperscriptYOffset=this.readInt16(this.offset),t.yStrikeoutSize=this.readInt16(this.offset),t.yStrikeoutPosition=this.readInt16(this.offset),t.sFamilyClass=this.readInt16(this.offset),t.panose=this.readBytes(10),t.ulUnicodeRange1=this.readUInt32(this.offset),t.ulUnicodeRange2=this.readUInt32(this.offset),t.ulUnicodeRange3=this.readUInt32(this.offset),t.ulUnicodeRange4=this.readUInt32(this.offset),t.vendorIdentifier=this.readBytes(4),t.fsSelection=this.readUInt16(this.offset),t.usFirstCharIndex=this.readUInt16(this.offset),t.usLastCharIndex=this.readUInt16(this.offset),t.sTypoAscender=this.readInt16(this.offset),t.sTypoDescender=this.readInt16(this.offset),t.sTypoLineGap=this.readInt16(this.offset),t.usWinAscent=this.readUInt16(this.offset),t.usWinDescent=this.readUInt16(this.offset),t.ulCodePageRange1=this.readUInt32(this.offset),t.ulCodePageRange2=this.readUInt32(this.offset),t.version>1?(t.sxHeight=this.readInt16(this.offset),t.sCapHeight=this.readInt16(this.offset),t.usDefaultChar=this.readUInt16(this.offset),t.usBreakChar=this.readUInt16(this.offset),t.usMaxContext=this.readUInt16(this.offset)):(t.sxHeight=0,t.sCapHeight=0,t.usDefaultChar=0,t.usBreakChar=0,t.usMaxContext=0),t}readPostTable(){let e=this.getTable("post");this.offset=e.offset;let t=new DS;return t.formatType=this.readFixed(this.offset),t.italicAngle=this.readFixed(this.offset),t.underlinePosition=this.readInt16(this.offset),t.underlineThickness=this.readInt16(this.offset),t.isFixedPitch=this.readUInt32(this.offset),t.minType42=this.readUInt32(this.offset),t.maxType42=this.readUInt32(this.offset),t.minType1=this.readUInt32(this.offset),t.maxType1=this.readUInt32(this.offset),t}readWidthTable(e,t){let i=this.getTable("hmtx");this.offset=i.offset;let s=[];for(let n=0;n<e;n++){let e=new kS;e.advanceWidth=this.readUInt16(this.offset),e.lsb=this.readInt16(this.offset),s.push(Math.floor(1e3*e.advanceWidth/t))}return s}readCmapTable(){let e=this.getTable("cmap");this.offset=e.offset;let t=new MS;t.version=this.readUInt16(this.offset),t.tablesCount=this.readUInt16(this.offset);let i=this.offset,s=[];for(let n=0;n<t.tablesCount;n++){this.offset=i;let e=new AS;e.platformID=this.readUInt16(this.offset),e.encodingID=this.readUInt16(this.offset),e.offset=this.readUInt32(this.offset),i=this.offset,this.readCmapSubTable(e),s[n]=e}return s}readCmapSubTable(e){let t=this.getTable("cmap");this.offset=t.offset+e.offset;let i=this.readUInt16(this.offset),s=this.getCmapEncoding(e.platformID,e.encodingID);if(s!==M_.Unknown)switch(i){case A_.Apple:this.readAppleCmapTable(e,s);break;case A_.Microsoft:this.readMicrosoftCmapTable(e,s);break;case A_.Trimmed:this.readTrimmedCmapTable(e,s)}}readAppleCmapTable(e,t){let i=this.getTable("cmap");this.offset=i.offset+e.offset;let s=new RS;s.format=this.readUInt16(this.offset),s.length=this.readUInt16(this.offset),s.version=this.readUInt16(this.offset),null==this.maxMacIndex&&(this.maxMacIndex=0);for(let n=0;n<256;++n){let e=new LS;e.index=this.readByte(this.offset),e.width=this.getWidth(e.index),e.charCode=n,this.macintosh.setValue(n,e),this.addGlyph(e,t),this.maxMacIndex=Math.max(n,this.maxMacIndex)}}readMicrosoftCmapTable(e,t){let i=this.getTable("cmap");this.offset=i.offset+e.offset;let s=t===M_.Unicode?this.microsoft:this.macintosh,n=new PS;n.format=this.readUInt16(this.offset),n.length=this.readUInt16(this.offset),n.version=this.readUInt16(this.offset),n.segCountX2=this.readUInt16(this.offset),n.searchRange=this.readUInt16(this.offset),n.entrySelector=this.readUInt16(this.offset),n.rangeShift=this.readUInt16(this.offset);let r=n.segCountX2/2;n.endCount=this.readUshortArray(r),n.reservedPad=this.readUInt16(this.offset),n.startCount=this.readUshortArray(r),n.idDelta=this.readUshortArray(r),n.idRangeOffset=this.readUshortArray(r),n.glyphID=this.readUshortArray(n.length/2-8-4*r);let a=0,o=0;for(let l=0;l<r;l++)for(let e=n.startCount[l];e<=n.endCount[l]&&65535!==e;e++){if(0===n.idRangeOffset[l])a=e+n.idDelta[l]&65535;else{if(o=l+n.idRangeOffset[l]/2-r+e-n.startCount[l],o>=n.glyphID.length)continue;a=n.glyphID[o]+n.idDelta[l]&65535}let i=new LS;i.index=a,i.width=this.getWidth(i.index);let h=t===M_.Symbol&&61440==(65280&e)?255&e:e;i.charCode=h,s.setValue(h,i),this.addGlyph(i,t)}}readTrimmedCmapTable(e,t){let i=this.getTable("cmap");this.offset=i.offset+e.offset;let s=new IS;s.format=this.readUInt16(this.offset),s.length=this.readUInt16(this.offset),s.version=this.readUInt16(this.offset),s.firstCode=this.readUInt16(this.offset),s.entryCount=this.readUInt16(this.offset);for(let n=0;n<s.entryCount;++n){let e=new LS;e.index=this.readUInt16(this.offset),e.width=this.getWidth(e.index),e.charCode=n+s.firstCode,this.macintosh.setValue(n,e),this.addGlyph(e,t),this.maxMacIndex=Math.max(n,this.maxMacIndex)}}initializeFontName(e){for(let t=0;t<e.recordsCount;t++){let i=e.nameRecords[t];if(1===i.nameID?this.metrics.fontFamily=i.name:6===i.nameID&&(this.metrics.postScriptName=i.name),null!=this.metrics.fontFamily&&null!=this.metrics.postScriptName)break}}getTable(e){let t,i=new vS;return this.tableDirectory.containsKey(e)&&(t=this.tableDirectory.getValue(e)),null!=t&&(i=t),i}getWidth(e){return this.width[e=e<this.width.length?e:this.width.length-1]}getCmapEncoding(e,t){let i=M_.Unknown;return e==L_.Microsoft&&t==T_.Undefined?i=M_.Symbol:e==L_.Microsoft&&t==T_.Unicode?i=M_.Unicode:e==L_.Macintosh&&t==R_.Roman&&(i=M_.Macintosh),i}addGlyph(e,t){let i=null;switch(t){case M_.Unicode:i=this.microsoftGlyphs;break;case M_.Macintosh:case M_.Symbol:i=this.macintoshGlyphs}i.setValue(e.index,e)}initializeMetrics(e,t,i,s,n,r){this.initializeFontName(e);let a=!1;for(let c=0;c<r.length;c++){let e=r[c];if(this.getCmapEncoding(e.platformID,e.encodingID)===M_.Symbol){a=!0;break}}this.metrics.isSymbol=a,this.metrics.macStyle=t.macStyle,this.metrics.isFixedPitch=0!==n.isFixedPitch,this.metrics.italicAngle=n.italicAngle;let o=1e3/t.unitsPerEm;this.metrics.winAscent=s.sTypoAscender*o,this.metrics.macAscent=i.ascender*o,this.metrics.capHeight=0!==s.sCapHeight?s.sCapHeight:.7*t.unitsPerEm*o,this.metrics.winDescent=s.sTypoDescender*o,this.metrics.macDescent=i.descender*o,this.metrics.leading=(s.sTypoAscender-s.sTypoDescender+s.sTypoLineGap)*o,this.metrics.lineGap=Math.ceil(i.lineGap*o);let l=t.xMin*o,h=Math.ceil(this.metrics.macAscent+this.metrics.lineGap);this.metrics.fontBox=new w_(l,h,t.xMax*o,this.metrics.macDescent),this.metrics.stemV=80,this.metrics.widthTable=this.updateWidth(),this.metrics.contains=this.tableDirectory.containsKey("CFF"),this.metrics.subScriptSizeFactor=t.unitsPerEm/s.ySubscriptYSize,this.metrics.superscriptSizeFactor=t.unitsPerEm/s.ySuperscriptYSize}updateWidth(){let e=[];if(this.metrics.isSymbol)for(let t=0;t<256;t++){let i=this.getGlyph(String.fromCharCode(t));e[t]=i.empty?0:i.width}else{let t=[],i="?",s=String.fromCharCode(32);for(let n=0;n<256;n++){t[0]=n;let r=this.getString(t,0,t.length),a=this.getGlyph(r.length>0?r[0]:i);a.empty?(a=this.getGlyph(s),e[n]=a.empty?0:a.width):e[n]=a.width}}return e}getDefaultGlyph(){return this.getGlyph(N_.whiteSpace)}getString(e,t,i){let s="";for(let n=0;n<i;n++)s+=String.fromCharCode(e[n+t]);return s}readLocaTable(e){let t=this.getTable("loca");this.offset=t.offset;let i=new TS,s=null;if(e){let e=t.length/2;s=[];for(let t=0;t<e;t++)s[t]=2*this.readUInt16(this.offset)}else{let e=t.length/4;s=[];for(let t=0;t<e;t++)s[t]=this.readUInt32(this.offset)}return i.offsets=s,i}updateGlyphChars(e,t){e.containsKey(0)||e.setValue(0,0);let i=new jx,s=e.keys();for(let n=0;n<s.length;n++)i.setValue(s[n],e.getValue(s[n]));for(let n=0;n<s.length;n++)this.processCompositeGlyph(e,s[n],t)}processCompositeGlyph(e,t,i){if(t<i.offsets.length-1){let s=i.offsets[t];if(s!==i.offsets[t+1]){let t=this.getTable("glyf");this.offset=t.offset+s;let i=new OS;if(i.numberOfContours=this.readInt16(this.offset),i.xMin=this.readInt16(this.offset),i.yMin=this.readInt16(this.offset),i.xMax=this.readInt16(this.offset),i.yMax=this.readInt16(this.offset),i.numberOfContours<0){let t=0,i=!0;for(;i;){let i=this.readUInt16(this.offset),s=this.readUInt16(this.offset);if(e.containsKey(s)||e.setValue(s,0),0==(i&I_.MoreComponents))break;t=0!=(i&I_.Arg1And2AreWords)?4:2,0!=(i&I_.WeHaveScale)?t+=2:0!=(i&I_.WeHaveAnXyScale)?t+=4:0!=(i&I_.WeHaveTwoByTwo)&&(t+=8),this.offset+=t}}}}}generateGlyphTable(e,t,i,s){i=[];let n=e.keys();n.sort((e,t)=>e-t);let r=0;for(let c=0;c<n.length;c++){let e=n[c];t.offsets.length>0&&(r+=t.offsets[e+1]-t.offsets[e])}let a=this.align(r);s=[];for(let c=0;c<a;c++)s.push(0);let o=0,l=0,h=this.getTable("glyf");for(let c=0;c<t.offsets.length;c++)if(i.push(o),l<n.length&&n[l]===c){++l,i[c]=o;let e=t.offsets[c],n=t.offsets[c+1]-e;n>0&&(this.offset=h.offset+e,s=this.read(s,o,n).buffer,o+=n)}return{glyphTableSize:r,newLocaTable:i,newGlyphTable:s}}updateLocaTable(e,t,i){if(null===e)throw new Error("Argument Null Exception : newLocaTable");let s=t?2*e.length:4*e.length,n=this.align(s),r=new NS(n);for(let a=0;a<e.length;a++){let i=e[a];t?(i/=2,r.writeShort(i)):r.writeInt(i)}return{newLocaUpdated:r.data,newLocaSize:s}}align(e){return e+3&-4}getFontProgram(e,t,i,s){if(null===e)throw new Error("Argument Null Exception : newLocaTableOut");if(null===t)throw new Error("Argument Null Exception : newGlyphTable");let n=this.getFontProgramLength(e,t,0),r=n.numTables,a=new NS(n.fontProgramLength);a.writeInt(65536),a.writeShort(r);let o=this.entrySelectors[r];return a.writeShort(16*(1<<(31&o))),a.writeShort(o),a.writeShort(16*(r-(1<<(31&o)))),this.writeCheckSums(a,r,e,t,i,s),this.writeGlyphs(a,e,t),a.data}getFontProgramLength(e,t,i){if(null===e)throw new Error("Argument Null Exception : newLocaTableOut");if(null===t)throw new Error("Argument Null Exception : newGlyphTable");i=2;let s=this.tableNames,n=0;for(let r=0;r<s.length;r++){let e=s[r];if("glyf"!==e&&"loca"!==e){let t=this.getTable(e);t.empty||(++i,n+=this.align(t.length))}}return n+=e.length,n+=t.length,n+=16*i+12,{fontProgramLength:n,numTables:i}}writeCheckSums(e,t,i,s,n,r){if(null===e)throw new Error("Argument Null Exception : writer");if(null===i)throw new Error("Argument Null Exception : newLocaTableOut");if(null===s)throw new Error("Argument Null Exception : newGlyphTable");let a=this.tableNames,o=16*t+12,l=0;for(let h=0;h<a.length;h++){let t=a[h],c=this.getTable(t);if(!c.empty){if(e.writeString(t),"glyf"===t){let t=this.calculateCheckSum(s);e.writeInt(t),l=n}else if("loca"===t){let t=this.calculateCheckSum(i);e.writeInt(t),l=r}else e.writeInt(c.checksum),l=c.length;e.writeUInt(o),e.writeUInt(l),o+=this.align(l)}}}calculateCheckSum(e){if(null===e)throw new Error("Argument Null Exception : bytes");let t=0,i=0,s=0,n=0,r=0;for(let o=0;o<(e.length+1)/4;o++)r+=255&e[t++],n+=255&e[t++],s+=255&e[t++],i+=255&e[t++];let a=i;return a+=s<<8,a+=n<<16,a+=r<<24,a}writeGlyphs(e,t,i){if(null===e)throw new Error("Argument Null Exception : writer");if(null===t)throw new Error("Argument Null Exception : newLocaTableOut");if(null===i)throw new Error("Argument Null Exception : newGlyphTable");let s=this.tableNames;for(let n=0;n<s.length;n++){let r=s[n],a=this.getTable(r);if(!a.empty)if("glyf"===r)e.writeBytes(i);else if("loca"===r)e.writeBytes(t);else{let t=this.align(a.length),i=[];for(let e=0;e<t;e++)i.push(0);this.offset=a.offset;let s=this.read(i,0,a.length);e.writeBytes(s.buffer)}}}setOffset(e){this.offset=e}createInternals(){this.metrics=new SS;let e=this.readNameTable(),t=this.readHeadTable();this.bIsLocaShort=0===t.indexToLocalFormat;let i=this.readHorizontalHeaderTable(),s=this.readOS2Table(),n=this.readPostTable();this.width=this.readWidthTable(i.numberOfHMetrics,t.unitsPerEm);let r=this.readCmapTable();this.initializeMetrics(e,t,i,s,n,r)}getGlyph(e){if("number"==typeof e){let t=null;return this.metrics.isSymbol||null==this.microsoftGlyphs?this.metrics.isSymbol&&null!=this.macintoshGlyphs&&this.macintoshGlyphs.containsKey(e)&&(t=this.macintoshGlyphs.getValue(e)):this.microsoftGlyphs.containsKey(e)&&(t=this.microsoftGlyphs.getValue(e)),null!=t?t:this.getDefaultGlyph()}{let t=null,i=e.charCodeAt(0);return this.metrics.isSymbol||null===this.microsoft?(this.metrics.isSymbol&&null!==this.macintosh||this.isMacTTF)&&(0!==this.maxMacIndex?i%=this.maxMacIndex+1:i=61440==(65280&i)?255&i:i,this.macintosh.containsKey(i)&&(t=this.macintosh.getValue(i),this.isFontPresent=!0)):this.microsoft.containsKey(i)?(t=this.microsoft.getValue(i),i!==N_.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!0)):i!==N_.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!1),e===N_.whiteSpace&&null===t&&(t=new LS),null!==t?t:this.getDefaultGlyph()}}getGlyphChars(e){if(null==e)throw new Error("Argument Null Exception : chars");let t=new jx,i=e.keys();for(let s=0;s<i.length;s++){let e=i[s],n=this.getGlyph(e);n.empty||t.setValue(n.index,e.charCodeAt(0))}return t}getAllGlyphs(){let e=[],t=new LS,i=0;for(let s=0;s<this.width.length;s++){let n=this.width[s];t.index=i,t.width=n,e.push(t),i++}return e}readFontProgram(e){let t=this.getGlyphChars(e),i=this.readLocaTable(this.bIsLocaShort);t.size()<e.size()&&(this.missedGlyphs=e.size()-t.size()),this.updateGlyphChars(t,i);let s=this.generateGlyphTable(t,i,null,null),n=s.glyphTableSize,r=s.newGlyphTable,a=this.updateLocaTable(s.newLocaTable,this.bIsLocaShort,null);return this.getFontProgram(a.newLocaUpdated,r,n,a.newLocaSize)}convertString(e){if(null===e)throw new Error("Argument Null Exception : text");let t="";for(let i=0;i<e.length;i++){let s=this.getGlyph(e[i]);s.empty||(t+=String.fromCharCode(s.index))}return t}getCharWidth(e){let t=this.getGlyph(e);return t=t.empty?this.getDefaultGlyph():t,t.empty?0:t.width}readString(e,t){if(void 0===t)return this.readString(e,!1);{let i="";if(t)for(let t=0;t<e;t++)t%2!=0&&(i+=String.fromCharCode(this.fontData[this.offset])),this.offset+=1;else for(let t=0;t<e;t++)i+=String.fromCharCode(this.fontData[this.offset]),this.offset+=1;return i}}readFixed(e){return this.readInt16(e)+this.readInt16(e+2)/16384}readInt32(e){let t=this.fontData[e+3],i=this.fontData[e+2],s=this.fontData[e+1],n=this.fontData[e];return this.offset+=4,t+(i<<8)+(s<<16)+(n<<24)}readUInt32(e){let t=this.fontData[e+3],i=this.fontData[e+2],s=this.fontData[e+1],n=this.fontData[e];return this.offset+=4,t|i<<8|s<<16|n<<24}readInt16(e){let t=(this.fontData[e]<<8)+this.fontData[e+1];return t=32768&t?t-65536:t,this.offset+=2,t}readInt64(e){let t=this.readInt32(e+4),i=4294967296*this.readInt32(e)+t;return t<0&&(i+=4294967296),i}readUInt16(e){let t=this.fontData[e]<<8|this.fontData[e+1];return this.offset+=2,t}readUshortArray(e){let t=[];for(let i=0;i<e;i++)t[i]=this.readUInt16(this.offset);return t}readBytes(e){let t=[];for(let i=0;i<e;i++)t.push(this.fontData[this.offset]),this.offset+=1;return t}readByte(e){let t=this.fontData[e];return this.offset+=1,t}read(e,t,i){if(null===e)throw new Error("Argument Null Exception : buffer");let s=0,n=0;do{for(let n=0;n<i-s&&this.offset+n<this.fontData.length;n++)e[t+n]=this.fontData[this.offset+n];n=i-s,this.offset+=n,s+=n}while(s<i);return{buffer:e,written:s}}}class FS{constructor(){this.lineGap=0}getAscent(e){return this.ascent*H_.charSizeMultiplier*this.getSize(e)}getDescent(e){return this.descent*H_.charSizeMultiplier*this.getSize(e)}getLineGap(e){return this.lineGap*H_.charSizeMultiplier*this.getSize(e)}getHeight(e){let t,i=["cambria","candara","constantia","corbel","cariadings"],s=[];for(let n=0;n<i.length;n++)s.push(i[n]);return t=this.getDescent(e)<0?this.getAscent(e)-this.getDescent(e)+this.getLineGap(e):this.getAscent(e)+this.getDescent(e)+this.getLineGap(e),t}getSize(e){let t=this.size;if(null!=e)switch(e.subSuperScript){case D_.SubScript:t/=this.subScriptSizeFactor;break;case D_.SuperScript:t/=this.superscriptSizeFactor}return t}clone(){return this.widthTable=BS.clone(),this}get widthTable(){return this.internalWidthTable}set widthTable(e){this.internalWidthTable=e}}class BS{static clone(){return null}}class zS extends BS{items(e){if(e<0||e>=this.widths.length)throw new Error("ArgumentOutOfRangeException:index, The character is not supported by the font.");return this.widths[e]}get length(){return this.widths.length}constructor(e){if(super(),null==e)throw new Error("ArgumentNullException:widths");this.widths=e}clone(){return this.widths=this.widths,this}toArray(){return new Jx(this.widths)}}class HS{constructor(){this.arabicCharTable=[["\u0621","\ufe80"],["\u0622","\ufe81","\ufe82"],["\u0623","\ufe83","\ufe84"],["\u0624","\ufe85","\ufe86"],["\u0625","\ufe87","\ufe88"],["\u0626","\ufe89","\ufe8a","\ufe8b","\ufe8c"],["\u0627","\ufe8d","\ufe8e"],["\u0628","\ufe8f","\ufe90","\ufe91","\ufe92"],["\u0629","\ufe93","\ufe94"],["\u062a","\ufe95","\ufe96","\ufe97","\ufe98"],["\u062b","\ufe99","\ufe9a","\ufe9b","\ufe9c"],["\u062c","\ufe9d","\ufe9e","\ufe9f","\ufea0"],["\u062d","\ufea1","\ufea2","\ufea3","\ufea4"],["\u062e","\ufea5","\ufea6","\ufea7","\ufea8"],["\u062f","\ufea9","\ufeaa"],["\u0630","\ufeab","\ufeac"],["\u0631","\ufead","\ufeae"],["\u0632","\ufeaf","\ufeb0"],["\u0633","\ufeb1","\ufeb2","\ufeb3","\ufeb4"],["\u0634","\ufeb5","\ufeb6","\ufeb7","\ufeb8"],["\u0635","\ufeb9","\ufeba","\ufebb","\ufebc"],["\u0636","\ufebd","\ufebe","\ufebf","\ufec0"],["\u0637","\ufec1","\ufec2","\ufec3","\ufec4"],["\u0638","\ufec5","\ufec6","\ufec7","\ufec8"],["\u0639","\ufec9","\ufeca","\ufecb","\ufecc"],["\u063a","\ufecd","\ufece","\ufecf","\ufed0"],["\u0640","\u0640","\u0640","\u0640","\u0640"],["\u0641","\ufed1","\ufed2","\ufed3","\ufed4"],["\u0642","\ufed5","\ufed6","\ufed7","\ufed8"],["\u0643","\ufed9","\ufeda","\ufedb","\ufedc"],["\u0644","\ufedd","\ufede","\ufedf","\ufee0"],["\u0645","\ufee1","\ufee2","\ufee3","\ufee4"],["\u0646","\ufee5","\ufee6","\ufee7","\ufee8"],["\u0647","\ufee9","\ufeea","\ufeeb","\ufeec"],["\u0648","\ufeed","\ufeee"],["\u0649","\ufeef","\ufef0","\ufbe8","\ufbe9"],["\u064a","\ufef1","\ufef2","\ufef3","\ufef4"],["\u0671","\ufb50","\ufb51"],["\u0679","\ufb66","\ufb67","\ufb68","\ufb69"],["\u067a","\ufb5e","\ufb5f","\ufb60","\ufb61"],["\u067b","\ufb52","\ufb53","\ufb54","\ufb55"],["\u067e","\ufb56","\ufb57","\ufb58","\ufb59"],["\u067f","\ufb62","\ufb63","\ufb64","\ufb65"],["\u0680","\ufb5a","\ufb5b","\ufb5c","\ufb5d"],["\u0683","\ufb76","\ufb77","\ufb78","\ufb79"],["\u0684","\ufb72","\ufb73","\ufb74","\ufb75"],["\u0686","\ufb7a","\ufb7b","\ufb7c","\ufb7d"],["\u0687","\ufb7e","\ufb7f","\ufb80","\ufb81"],["\u0688","\ufb88","\ufb89"],["\u068c","\ufb84","\ufb85"],["\u068d","\ufb82","\ufb83"],["\u068e","\ufb86","\ufb87"],["\u0691","\ufb8c","\ufb8d"],["\u0698","\ufb8a","\ufb8b"],["\u06a4","\ufb6a","\ufb6b","\ufb6c","\ufb6d"],["\u06a6","\ufb6e","\ufb6f","\ufb70","\ufb71"],["\u06a9","\ufb8e","\ufb8f","\ufb90","\ufb91"],["\u06ad","\ufbd3","\ufbd4","\ufbd5","\ufbd6"],["\u06af","\ufb92","\ufb93","\ufb94","\ufb95"],["\u06b1","\ufb9a","\ufb9b","\ufb9c","\ufb9d"],["\u06b3","\ufb96","\ufb97","\ufb98","\ufb99"],["\u06ba","\ufb9e","\ufb9f"],["\u06bb","\ufba0","\ufba1","\ufba2","\ufba3"],["\u06be","\ufbaa","\ufbab","\ufbac","\ufbad"],["\u06c0","\ufba4","\ufba5"],["\u06c1","\ufba6","\ufba7","\ufba8","\ufba9"],["\u06c5","\ufbe0","\ufbe1"],["\u06c6","\ufbd9","\ufbda"],["\u06c7","\ufbd7","\ufbd8"],["\u06c8","\ufbdb","\ufbdc"],["\u06c9","\ufbe2","\ufbe3"],["\u06cb","\ufbde","\ufbdf"],["\u06cc","\ufbfc","\ufbfd","\ufbfe","\ufbff"],["\u06d0","\ufbe4","\ufbe5","\ufbe6","\ufbe7"],["\u06d2","\ufbae","\ufbaf"],["\u06d3","\ufbb0","\ufbb1"]],this.alef="\u0627",this.alefHamza="\u0623",this.alefHamzaBelow="\u0625",this.alefMadda="\u0622",this.lam="\u0644",this.hamza="\u0621",this.zeroWidthJoiner="\u200d",this.hamzaAbove="\u0654",this.hamzaBelow="\u0655",this.wawHamza="\u0624",this.yehHamza="\u0626",this.waw="\u0648",this.alefMaksura="\u0649",this.yeh="\u064a",this.farsiYeh="\u06cc",this.shadda="\u0651",this.madda="\u0653",this.lwa="\ufefb",this.lwawh="\ufef7",this.lwawhb="\ufef9",this.lwawm="\ufef5",this.bwhb="\u06d3",this.fathatan="\u064b",this.superScriptalef="\u0670",this.vowel=1,this.arabicMapTable=new jx;for(let e=0;e<this.arabicCharTable.length;e++)this.arabicMapTable.setValue(this.arabicCharTable[e][0],this.arabicCharTable[e])}getCharacterShape(e,t){if(e>=this.hamza&&e<=this.bwhb){let i=[];if(this.arabicMapTable.getValue(e))return i=this.arabicMapTable.getValue(e),i[t+1]}else if(e>=this.lwawm&&e<=this.lwa)return e;return e}shape(e,t){let i="",s="";for(let n=0;n<e.length;n++){let t=e[n];t>="\u0600"&&t<="\u06ff"?s+=t:(s.length>0&&(i+=this.doShape(s.toString(),0),s=""),i+=t)}return s.length>0&&(i+=this.doShape(s.toString(),0)),i.toString()}doShape(e,t){let i="",s=0,n=0,r=0,a="",o=new jS,l=new jS;for(;r<e.length;)if(a=e[r++],s=this.ligature(a,l),0===s){let e=this.getShapeCount(a);n=1===e?0:2,o.Shapes>2&&(n+=1),n%=l.Shapes,l.Value=this.getCharacterShape(l.Value,n),i=this.append(i,o,t),o=l,l=new jS,l.Value=a,l.Shapes=e,l.Ligature++}return n=o.Shapes>2?1:0,n%=l.Shapes,l.Value=this.getCharacterShape(l.Value,n),i=this.append(i,o,t),i=this.append(i,l,t),i.toString()}append(e,t,i){return""!==t.Value&&(e+=t.Value,t.Ligature-=1,""!==t.Type&&(0==(i&this.vowel)?(e+=t.Type,t.Ligature-=1):t.Ligature-=1),""!==t.vowel&&(0==(i&this.vowel)?(e+=t.vowel,t.Ligature-=1):t.Ligature-=1)),e}ligature(e,t){if(""!==t.Value){let i=0;if(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef){if(i=1,""!==t.vowel&&e!==this.shadda&&(i=2),e===this.shadda){if(null!=t.Type)return 0;t.Type=this.shadda}else e===this.hamzaBelow?t.Value===this.alef?(t.Value=this.alefHamzaBelow,i=2):e===this.lwa?(t.Value=this.lwawhb,i=2):t.Type=this.hamzaBelow:e===this.hamzaAbove?t.Value===this.alef?(t.Value=this.alefHamza,i=2):t.Value===this.lwa?(t.Value=this.lwawh,i=2):t.Value===this.waw?(t.Value=this.wawHamza,i=2):t.Value===this.yeh||t.Value===this.alefMaksura||t.Value===this.farsiYeh?(t.Value=this.yehHamza,i=2):t.Type=this.hamzaAbove:e===this.madda?t.Value===this.alef&&(t.Value=this.alefMadda,i=2):t.vowel=e;return 1===i&&t.Ligature++,i}return""!==t.vowel?0:(t.Value===this.lam&&(e===this.alef?(t.Value=this.lwa,t.Shapes=2,i=3):e===this.alefHamza?(t.Value=this.lwawh,t.Shapes=2,i=3):e===this.alefHamzaBelow?(t.Value=this.lwawhb,t.Shapes=2,i=3):e===this.alefMadda&&(t.Value=this.lwawm,t.Shapes=2,i=3)),i)}return 0}getShapeCount(e){if(e>=this.hamza&&e<=this.bwhb&&!(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef)){let t=[];if(this.arabicMapTable.getValue(e))return t=this.arabicMapTable.getValue(e),t.length-1}else if(e===this.zeroWidthJoiner)return 4;return 1}}class jS{constructor(){this.shapeValue="",this.shapeType="",this.shapeVowel="",this.shapeLigature=0,this.shapeShapes=1}get Value(){return this.shapeValue}set Value(e){this.shapeValue=e}get Type(){return this.shapeType}set Type(e){this.shapeType=e}get vowel(){return this.shapeVowel}set vowel(e){this.shapeVowel=e}get Ligature(){return this.shapeLigature}set Ligature(e){this.shapeLigature=e}get Shapes(){return this.shapeShapes}set Shapes(e){this.shapeShapes=e}}class WS{constructor(){this.indexes=[],this.indexLevels=[],this.mirroringShapeCharacters=new jx,this.update()}doMirrorShaping(e){let t=[];for(let s=0;s<e.length;s++)t[s]=1==(1&this.indexLevels[s])&&this.mirroringShapeCharacters.containsKey(e[s].charCodeAt(0))?String.fromCharCode(this.mirroringShapeCharacters.getValue(e[s].charCodeAt(0))):e[s].toString();let i="";for(let s=0;s<t.length;s++)i+=t[s];return i}getLogicalToVisualString(e,t){let i=new YS;this.indexLevels=i.getVisualOrder(e,t),this.setDefaultIndexLevel(),this.doOrder(0,this.indexLevels.length-1);let s=this.doMirrorShaping(e),n="";for(let r=0;r<this.indexes.length;r++)n+=s[this.indexes[r]];return n.toString()}setDefaultIndexLevel(){for(let e=0;e<this.indexLevels.length;e++)this.indexes[e]=e}doOrder(e,t){let i=this.indexLevels[e],s=i,n=i,r=i;for(let a=e+1;a<=t;++a){let e=this.indexLevels[a];e>i?i=e:e<s&&(s=e),n&=e,r|=e}if(0!=(1&r))if(1!=(1&n))for(s|=1;i>=s;){let s=e;for(;;){for(;s<=t&&!(this.indexLevels[s]>=i);)s+=1;if(s>t)break;let e=s+1;for(;e<=t&&!(this.indexLevels[e]<i);)e+=1;this.reArrange(s,e),s=e+1}i-=1}else this.reArrange(e,t+1)}reArrange(e,t){let i=(e+t)/2;for(--t;e<i;++e,--t){let i=this.indexes[e];this.indexes[e]=this.indexes[t],this.indexes[t]=i}}update(){this.mirroringShapeCharacters.setValue(40,41),this.mirroringShapeCharacters.setValue(41,40),this.mirroringShapeCharacters.setValue(60,62),this.mirroringShapeCharacters.setValue(62,60),this.mirroringShapeCharacters.setValue(91,93),this.mirroringShapeCharacters.setValue(93,91),this.mirroringShapeCharacters.setValue(123,125),this.mirroringShapeCharacters.setValue(125,123),this.mirroringShapeCharacters.setValue(171,187),this.mirroringShapeCharacters.setValue(187,171),this.mirroringShapeCharacters.setValue(8249,8250),this.mirroringShapeCharacters.setValue(8250,8249),this.mirroringShapeCharacters.setValue(8261,8262),this.mirroringShapeCharacters.setValue(8262,8261),this.mirroringShapeCharacters.setValue(8317,8318),this.mirroringShapeCharacters.setValue(8318,8317),this.mirroringShapeCharacters.setValue(8333,8334),this.mirroringShapeCharacters.setValue(8334,8333),this.mirroringShapeCharacters.setValue(8712,8715),this.mirroringShapeCharacters.setValue(8713,8716),this.mirroringShapeCharacters.setValue(8714,8717),this.mirroringShapeCharacters.setValue(8715,8712),this.mirroringShapeCharacters.setValue(8716,8713),this.mirroringShapeCharacters.setValue(8717,8714),this.mirroringShapeCharacters.setValue(8725,10741),this.mirroringShapeCharacters.setValue(8764,8765),this.mirroringShapeCharacters.setValue(8765,8764),this.mirroringShapeCharacters.setValue(8771,8909),this.mirroringShapeCharacters.setValue(8786,8787),this.mirroringShapeCharacters.setValue(8787,8786),this.mirroringShapeCharacters.setValue(8788,8789),this.mirroringShapeCharacters.setValue(8789,8788),this.mirroringShapeCharacters.setValue(8804,8805),this.mirroringShapeCharacters.setValue(8805,8804),this.mirroringShapeCharacters.setValue(8806,8807),this.mirroringShapeCharacters.setValue(8807,8806),this.mirroringShapeCharacters.setValue(8808,8809),this.mirroringShapeCharacters.setValue(8809,8808),this.mirroringShapeCharacters.setValue(8810,8811),this.mirroringShapeCharacters.setValue(8811,8810),this.mirroringShapeCharacters.setValue(8814,8815),this.mirroringShapeCharacters.setValue(8815,8814),this.mirroringShapeCharacters.setValue(8816,8817),this.mirroringShapeCharacters.setValue(8817,8816),this.mirroringShapeCharacters.setValue(8818,8819),this.mirroringShapeCharacters.setValue(8819,8818),this.mirroringShapeCharacters.setValue(8820,8821),this.mirroringShapeCharacters.setValue(8821,8820),this.mirroringShapeCharacters.setValue(8822,8823),this.mirroringShapeCharacters.setValue(8823,8822),this.mirroringShapeCharacters.setValue(8824,8825),this.mirroringShapeCharacters.setValue(8825,8824),this.mirroringShapeCharacters.setValue(8826,8827),this.mirroringShapeCharacters.setValue(8827,8826),this.mirroringShapeCharacters.setValue(8828,8829),this.mirroringShapeCharacters.setValue(8829,8828),this.mirroringShapeCharacters.setValue(8830,8831),this.mirroringShapeCharacters.setValue(8831,8830),this.mirroringShapeCharacters.setValue(8832,8833),this.mirroringShapeCharacters.setValue(8833,8832),this.mirroringShapeCharacters.setValue(8834,8835),this.mirroringShapeCharacters.setValue(8835,8834),this.mirroringShapeCharacters.setValue(8836,8837),this.mirroringShapeCharacters.setValue(8837,8836),this.mirroringShapeCharacters.setValue(8838,8839),this.mirroringShapeCharacters.setValue(8839,8838),this.mirroringShapeCharacters.setValue(8840,8841),this.mirroringShapeCharacters.setValue(8841,8840),this.mirroringShapeCharacters.setValue(8842,8843),this.mirroringShapeCharacters.setValue(8843,8842),this.mirroringShapeCharacters.setValue(8847,8848),this.mirroringShapeCharacters.setValue(8848,8847),this.mirroringShapeCharacters.setValue(8849,8850),this.mirroringShapeCharacters.setValue(8850,8849),this.mirroringShapeCharacters.setValue(8856,10680),this.mirroringShapeCharacters.setValue(8866,8867),this.mirroringShapeCharacters.setValue(8867,8866),this.mirroringShapeCharacters.setValue(8870,10974),this.mirroringShapeCharacters.setValue(8872,10980),this.mirroringShapeCharacters.setValue(8873,10979),this.mirroringShapeCharacters.setValue(8875,10981),this.mirroringShapeCharacters.setValue(8880,8881),this.mirroringShapeCharacters.setValue(8881,8880),this.mirroringShapeCharacters.setValue(8882,8883),this.mirroringShapeCharacters.setValue(8883,8882),this.mirroringShapeCharacters.setValue(8884,8885),this.mirroringShapeCharacters.setValue(8885,8884),this.mirroringShapeCharacters.setValue(8886,8887),this.mirroringShapeCharacters.setValue(8887,8886),this.mirroringShapeCharacters.setValue(8905,8906),this.mirroringShapeCharacters.setValue(8906,8905),this.mirroringShapeCharacters.setValue(8907,8908),this.mirroringShapeCharacters.setValue(8908,8907),this.mirroringShapeCharacters.setValue(8909,8771),this.mirroringShapeCharacters.setValue(8912,8913),this.mirroringShapeCharacters.setValue(8913,8912),this.mirroringShapeCharacters.setValue(8918,8919),this.mirroringShapeCharacters.setValue(8919,8918),this.mirroringShapeCharacters.setValue(8920,8921),this.mirroringShapeCharacters.setValue(8921,8920),this.mirroringShapeCharacters.setValue(8922,8923),this.mirroringShapeCharacters.setValue(8923,8922),this.mirroringShapeCharacters.setValue(8924,8925),this.mirroringShapeCharacters.setValue(8925,8924),this.mirroringShapeCharacters.setValue(8926,8927),this.mirroringShapeCharacters.setValue(8927,8926),this.mirroringShapeCharacters.setValue(8928,8929),this.mirroringShapeCharacters.setValue(8929,8928),this.mirroringShapeCharacters.setValue(8930,8931),this.mirroringShapeCharacters.setValue(8931,8930),this.mirroringShapeCharacters.setValue(8932,8933),this.mirroringShapeCharacters.setValue(8933,8932),this.mirroringShapeCharacters.setValue(8934,8935),this.mirroringShapeCharacters.setValue(8935,8934),this.mirroringShapeCharacters.setValue(8936,8937),this.mirroringShapeCharacters.setValue(8937,8936),this.mirroringShapeCharacters.setValue(8938,8939),this.mirroringShapeCharacters.setValue(8939,8938),this.mirroringShapeCharacters.setValue(8940,8941),this.mirroringShapeCharacters.setValue(8941,8940),this.mirroringShapeCharacters.setValue(8944,8945),this.mirroringShapeCharacters.setValue(8945,8944),this.mirroringShapeCharacters.setValue(8946,8954),this.mirroringShapeCharacters.setValue(8947,8955),this.mirroringShapeCharacters.setValue(8948,8956),this.mirroringShapeCharacters.setValue(8950,8957),this.mirroringShapeCharacters.setValue(8951,8958),this.mirroringShapeCharacters.setValue(8954,8946),this.mirroringShapeCharacters.setValue(8955,8947),this.mirroringShapeCharacters.setValue(8956,8948),this.mirroringShapeCharacters.setValue(8957,8950),this.mirroringShapeCharacters.setValue(8958,8951),this.mirroringShapeCharacters.setValue(8968,8969),this.mirroringShapeCharacters.setValue(8969,8968),this.mirroringShapeCharacters.setValue(8970,8971),this.mirroringShapeCharacters.setValue(8971,8970),this.mirroringShapeCharacters.setValue(9001,9002),this.mirroringShapeCharacters.setValue(9002,9001),this.mirroringShapeCharacters.setValue(10088,10089),this.mirroringShapeCharacters.setValue(10089,10088),this.mirroringShapeCharacters.setValue(10090,10091),this.mirroringShapeCharacters.setValue(10091,10090),this.mirroringShapeCharacters.setValue(10092,10093),this.mirroringShapeCharacters.setValue(10093,10092),this.mirroringShapeCharacters.setValue(10094,10095),this.mirroringShapeCharacters.setValue(10095,10094),this.mirroringShapeCharacters.setValue(10096,10097),this.mirroringShapeCharacters.setValue(10097,10096),this.mirroringShapeCharacters.setValue(10098,10099),this.mirroringShapeCharacters.setValue(10099,10098),this.mirroringShapeCharacters.setValue(10100,10101),this.mirroringShapeCharacters.setValue(10101,10100),this.mirroringShapeCharacters.setValue(10197,10198),this.mirroringShapeCharacters.setValue(10198,10197),this.mirroringShapeCharacters.setValue(10205,10206),this.mirroringShapeCharacters.setValue(10206,10205),this.mirroringShapeCharacters.setValue(10210,10211),this.mirroringShapeCharacters.setValue(10211,10210),this.mirroringShapeCharacters.setValue(10212,10213),this.mirroringShapeCharacters.setValue(10213,10212),this.mirroringShapeCharacters.setValue(10214,10215),this.mirroringShapeCharacters.setValue(10215,10214),this.mirroringShapeCharacters.setValue(10216,10217),this.mirroringShapeCharacters.setValue(10217,10216),this.mirroringShapeCharacters.setValue(10218,10219),this.mirroringShapeCharacters.setValue(10219,10218),this.mirroringShapeCharacters.setValue(10627,10628),this.mirroringShapeCharacters.setValue(10628,10627),this.mirroringShapeCharacters.setValue(10629,10630),this.mirroringShapeCharacters.setValue(10630,10629),this.mirroringShapeCharacters.setValue(10631,10632),this.mirroringShapeCharacters.setValue(10632,10631),this.mirroringShapeCharacters.setValue(10633,10634),this.mirroringShapeCharacters.setValue(10634,10633),this.mirroringShapeCharacters.setValue(10635,10636),this.mirroringShapeCharacters.setValue(10636,10635),this.mirroringShapeCharacters.setValue(10637,10640),this.mirroringShapeCharacters.setValue(10638,10639),this.mirroringShapeCharacters.setValue(10639,10638),this.mirroringShapeCharacters.setValue(10640,10637),this.mirroringShapeCharacters.setValue(10641,10642),this.mirroringShapeCharacters.setValue(10642,10641),this.mirroringShapeCharacters.setValue(10643,10644),this.mirroringShapeCharacters.setValue(10644,10643),this.mirroringShapeCharacters.setValue(10645,10646),this.mirroringShapeCharacters.setValue(10646,10645),this.mirroringShapeCharacters.setValue(10647,10648),this.mirroringShapeCharacters.setValue(10648,10647),this.mirroringShapeCharacters.setValue(10680,8856),this.mirroringShapeCharacters.setValue(10688,10689),this.mirroringShapeCharacters.setValue(10689,10688),this.mirroringShapeCharacters.setValue(10692,10693),this.mirroringShapeCharacters.setValue(10693,10692),this.mirroringShapeCharacters.setValue(10703,10704),this.mirroringShapeCharacters.setValue(10704,10703),this.mirroringShapeCharacters.setValue(10705,10706),this.mirroringShapeCharacters.setValue(10706,10705),this.mirroringShapeCharacters.setValue(10708,10709),this.mirroringShapeCharacters.setValue(10709,10708),this.mirroringShapeCharacters.setValue(10712,10713),this.mirroringShapeCharacters.setValue(10713,10712),this.mirroringShapeCharacters.setValue(10714,10715),this.mirroringShapeCharacters.setValue(10715,10714),this.mirroringShapeCharacters.setValue(10741,8725),this.mirroringShapeCharacters.setValue(10744,10745),this.mirroringShapeCharacters.setValue(10745,10744),this.mirroringShapeCharacters.setValue(10748,10749),this.mirroringShapeCharacters.setValue(10749,10748),this.mirroringShapeCharacters.setValue(10795,10796),this.mirroringShapeCharacters.setValue(10796,10795),this.mirroringShapeCharacters.setValue(10797,10796),this.mirroringShapeCharacters.setValue(10798,10797),this.mirroringShapeCharacters.setValue(10804,10805),this.mirroringShapeCharacters.setValue(10805,10804),this.mirroringShapeCharacters.setValue(10812,10813),this.mirroringShapeCharacters.setValue(10813,10812),this.mirroringShapeCharacters.setValue(10852,10853),this.mirroringShapeCharacters.setValue(10853,10852),this.mirroringShapeCharacters.setValue(10873,10874),this.mirroringShapeCharacters.setValue(10874,10873),this.mirroringShapeCharacters.setValue(10877,10878),this.mirroringShapeCharacters.setValue(10878,10877),this.mirroringShapeCharacters.setValue(10879,10880),this.mirroringShapeCharacters.setValue(10880,10879),this.mirroringShapeCharacters.setValue(10881,10882),this.mirroringShapeCharacters.setValue(10882,10881),this.mirroringShapeCharacters.setValue(10883,10884),this.mirroringShapeCharacters.setValue(10884,10883),this.mirroringShapeCharacters.setValue(10891,10892),this.mirroringShapeCharacters.setValue(10892,10891),this.mirroringShapeCharacters.setValue(10897,10898),this.mirroringShapeCharacters.setValue(10898,10897),this.mirroringShapeCharacters.setValue(10899,10900),this.mirroringShapeCharacters.setValue(10900,10899),this.mirroringShapeCharacters.setValue(10901,10902),this.mirroringShapeCharacters.setValue(10902,10901),this.mirroringShapeCharacters.setValue(10903,10904),this.mirroringShapeCharacters.setValue(10904,10903),this.mirroringShapeCharacters.setValue(10905,10906),this.mirroringShapeCharacters.setValue(10906,10905),this.mirroringShapeCharacters.setValue(10907,10908),this.mirroringShapeCharacters.setValue(10908,10907),this.mirroringShapeCharacters.setValue(10913,10914),this.mirroringShapeCharacters.setValue(10914,10913),this.mirroringShapeCharacters.setValue(10918,10919),this.mirroringShapeCharacters.setValue(10919,10918),this.mirroringShapeCharacters.setValue(10920,10921),this.mirroringShapeCharacters.setValue(10921,10920),this.mirroringShapeCharacters.setValue(10922,10923),this.mirroringShapeCharacters.setValue(10923,10922),this.mirroringShapeCharacters.setValue(10924,10925),this.mirroringShapeCharacters.setValue(10925,10924),this.mirroringShapeCharacters.setValue(10927,10928),this.mirroringShapeCharacters.setValue(10928,10927),this.mirroringShapeCharacters.setValue(10931,10932),this.mirroringShapeCharacters.setValue(10932,10931),this.mirroringShapeCharacters.setValue(10939,10940),this.mirroringShapeCharacters.setValue(10940,10939),this.mirroringShapeCharacters.setValue(10941,10942),this.mirroringShapeCharacters.setValue(10942,10941),this.mirroringShapeCharacters.setValue(10943,10944),this.mirroringShapeCharacters.setValue(10944,10943),this.mirroringShapeCharacters.setValue(10945,10946),this.mirroringShapeCharacters.setValue(10946,10945),this.mirroringShapeCharacters.setValue(10947,10948),this.mirroringShapeCharacters.setValue(10948,10947),this.mirroringShapeCharacters.setValue(10949,10950),this.mirroringShapeCharacters.setValue(10950,10949),this.mirroringShapeCharacters.setValue(10957,10958),this.mirroringShapeCharacters.setValue(10958,10957),this.mirroringShapeCharacters.setValue(10959,10960),this.mirroringShapeCharacters.setValue(10960,10959),this.mirroringShapeCharacters.setValue(10961,10962),this.mirroringShapeCharacters.setValue(10962,10961),this.mirroringShapeCharacters.setValue(10963,10964),this.mirroringShapeCharacters.setValue(10964,10963),this.mirroringShapeCharacters.setValue(10965,10966),this.mirroringShapeCharacters.setValue(10966,10965),this.mirroringShapeCharacters.setValue(10974,8870),this.mirroringShapeCharacters.setValue(10979,8873),this.mirroringShapeCharacters.setValue(10980,8872),this.mirroringShapeCharacters.setValue(10981,8875),this.mirroringShapeCharacters.setValue(10988,10989),this.mirroringShapeCharacters.setValue(10989,10988),this.mirroringShapeCharacters.setValue(10999,11e3),this.mirroringShapeCharacters.setValue(11e3,10999),this.mirroringShapeCharacters.setValue(11001,11002),this.mirroringShapeCharacters.setValue(11002,11001),this.mirroringShapeCharacters.setValue(12296,12297),this.mirroringShapeCharacters.setValue(12297,12296),this.mirroringShapeCharacters.setValue(12298,12299),this.mirroringShapeCharacters.setValue(12299,12298),this.mirroringShapeCharacters.setValue(12300,12301),this.mirroringShapeCharacters.setValue(12301,12300),this.mirroringShapeCharacters.setValue(12302,12303),this.mirroringShapeCharacters.setValue(12303,12302),this.mirroringShapeCharacters.setValue(12304,12305),this.mirroringShapeCharacters.setValue(12305,12304),this.mirroringShapeCharacters.setValue(12308,12309),this.mirroringShapeCharacters.setValue(12309,12308),this.mirroringShapeCharacters.setValue(12310,12311),this.mirroringShapeCharacters.setValue(12311,12310),this.mirroringShapeCharacters.setValue(12312,12313),this.mirroringShapeCharacters.setValue(12313,12312),this.mirroringShapeCharacters.setValue(12314,12315),this.mirroringShapeCharacters.setValue(12315,12314),this.mirroringShapeCharacters.setValue(65288,65289),this.mirroringShapeCharacters.setValue(65289,65288),this.mirroringShapeCharacters.setValue(65308,65310),this.mirroringShapeCharacters.setValue(65310,65308),this.mirroringShapeCharacters.setValue(65339,65341),this.mirroringShapeCharacters.setValue(65341,65339),this.mirroringShapeCharacters.setValue(65371,65373),this.mirroringShapeCharacters.setValue(65373,65371),this.mirroringShapeCharacters.setValue(65375,65376),this.mirroringShapeCharacters.setValue(65376,65375),this.mirroringShapeCharacters.setValue(65378,65379),this.mirroringShapeCharacters.setValue(65379,65378)}}class YS{constructor(){this.types=[],this.textOrder=-1,this.rtlCharacterTypes=new Array(65536),this.L=0,this.LRE=1,this.LRO=2,this.R=3,this.AL=4,this.RLE=5,this.RLO=6,this.PDF=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.NSM=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this.charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.NSM,this.NSM,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.NSM,856,860,this.L,861,879,this.NSM,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.NSM,1159,1159,this.L,1160,1161,this.NSM,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.NSM,1442,1442,this.L,1443,1465,this.NSM,1466,1466,this.L,1467,1469,this.NSM,1470,1470,this.R,1471,1471,this.NSM,1472,1472,this.R,1473,1474,this.NSM,1475,1475,this.R,1476,1476,this.NSM,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.NSM,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.NSM,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.NSM,1649,1749,this.AL,1750,1756,this.NSM,1757,1757,this.AL,1758,1764,this.NSM,1765,1766,this.AL,1767,1768,this.NSM,1769,1769,this.ON,1770,1773,this.NSM,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.NSM,1810,1839,this.AL,1840,1866,this.NSM,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.NSM,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.NSM,2307,2363,this.L,2364,2364,this.NSM,2365,2368,this.L,2369,2376,this.NSM,2377,2380,this.L,2381,2381,this.NSM,2382,2384,this.L,2385,2388,this.NSM,2389,2401,this.L,2402,2403,this.NSM,2404,2432,this.L,2433,2433,this.NSM,2434,2491,this.L,2492,2492,this.NSM,2493,2496,this.L,2497,2500,this.NSM,2501,2508,this.L,2509,2509,this.NSM,2510,2529,this.L,2530,2531,this.NSM,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.NSM,2563,2619,this.L,2620,2620,this.NSM,2621,2624,this.L,2625,2626,this.NSM,2627,2630,this.L,2631,2632,this.NSM,2633,2634,this.L,2635,2637,this.NSM,2638,2671,this.L,2672,2673,this.NSM,2674,2688,this.L,2689,2690,this.NSM,2691,2747,this.L,2748,2748,this.NSM,2749,2752,this.L,2753,2757,this.NSM,2758,2758,this.L,2759,2760,this.NSM,2761,2764,this.L,2765,2765,this.NSM,2766,2785,this.L,2786,2787,this.NSM,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.NSM,2818,2875,this.L,2876,2876,this.NSM,2877,2878,this.L,2879,2879,this.NSM,2880,2880,this.L,2881,2883,this.NSM,2884,2892,this.L,2893,2893,this.NSM,2894,2901,this.L,2902,2902,this.NSM,2903,2945,this.L,2946,2946,this.NSM,2947,3007,this.L,3008,3008,this.NSM,3009,3020,this.L,3021,3021,this.NSM,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.NSM,3137,3141,this.L,3142,3144,this.NSM,3145,3145,this.L,3146,3149,this.NSM,3150,3156,this.L,3157,3158,this.NSM,3159,3259,this.L,3260,3260,this.NSM,3261,3275,this.L,3276,3277,this.NSM,3278,3392,this.L,3393,3395,this.NSM,3396,3404,this.L,3405,3405,this.NSM,3406,3529,this.L,3530,3530,this.NSM,3531,3537,this.L,3538,3540,this.NSM,3541,3541,this.L,3542,3542,this.NSM,3543,3632,this.L,3633,3633,this.NSM,3634,3635,this.L,3636,3642,this.NSM,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.NSM,3663,3760,this.L,3761,3761,this.NSM,3762,3763,this.L,3764,3769,this.NSM,3770,3770,this.L,3771,3772,this.NSM,3773,3783,this.L,3784,3789,this.NSM,3790,3863,this.L,3864,3865,this.NSM,3866,3892,this.L,3893,3893,this.NSM,3894,3894,this.L,3895,3895,this.NSM,3896,3896,this.L,3897,3897,this.NSM,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.NSM,3967,3967,this.L,3968,3972,this.NSM,3973,3973,this.L,3974,3975,this.NSM,3976,3983,this.L,3984,3991,this.NSM,3992,3992,this.L,3993,4028,this.NSM,4029,4037,this.L,4038,4038,this.NSM,4039,4140,this.L,4141,4144,this.NSM,4145,4145,this.L,4146,4146,this.NSM,4147,4149,this.L,4150,4151,this.NSM,4152,4152,this.L,4153,4153,this.NSM,4154,4183,this.L,4184,4185,this.NSM,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.NSM,5909,5937,this.L,5938,5940,this.NSM,5941,5969,this.L,5970,5971,this.NSM,5972,6001,this.L,6002,6003,this.NSM,6004,6070,this.L,6071,6077,this.NSM,6078,6085,this.L,6086,6086,this.NSM,6087,6088,this.L,6089,6099,this.NSM,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.NSM,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.NSM,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.NSM,6314,6431,this.L,6432,6434,this.NSM,6435,6438,this.L,6439,6443,this.NSM,6444,6449,this.L,6450,6450,this.NSM,6451,6456,this.L,6457,6459,this.NSM,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.LRE,8235,8235,this.RLE,8236,8236,this.PDF,8237,8237,this.LRO,8238,8238,this.RLO,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.NSM,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.NSM,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.NSM,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.NSM,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.NSM,65040,65055,this.L,65056,65059,this.NSM,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(let e=0;e<this.charTypes.length;++e){let t=this.charTypes[e],i=this.charTypes[++e],s=this.charTypes[++e];for(;t<=i;)this.rtlCharacterTypes[t++]=s}}getVisualOrder(e,t){this.types=this.getCharacterCode(e),this.textOrder=t?this.LRE:this.L,this.doVisualOrder();let i=[];for(let s=0;s<this.levels.length;s++)i[s]=this.levels[s];return i}getCharacterCode(e){let t=[];for(let i=0;i<e.length;i++)t[i]=this.rtlCharacterTypes[e[i].charCodeAt(0)];return t}setDefaultLevels(){for(let e=0;e<this.length;e++)this.levels[e]=this.textOrder}setLevels(){this.setDefaultLevels();for(let e=0;e<this.length;++e){let t=this.levels[e];0!=(128&t)&&(t&=127,this.result[e]=0==(1&t)?this.L:this.R),this.levels[e]=t}}updateLevels(e,t,i){if(0==(1&t))for(let s=e;s<i;++s)this.result[s]===this.R?this.levels[s]+=1:this.result[s]!==this.L&&(this.levels[s]+=2);else for(let s=e;s<i;++s)this.result[s]!==this.R&&(this.levels[s]+=1)}doVisualOrder(){this.length=this.types.length,this.result=this.types,this.levels=[],this.setLevels(),this.length=this.getEmbeddedCharactersLength();let e=this.textOrder,t=0;for(;t<this.length;){let i=this.levels[t],s=0==(1&Math.max(e,i))?this.L:this.R,n=t+1;for(;n<this.length&&this.levels[n]===i;)++n;let r=0==(1&Math.max(n<this.length?this.levels[n]:this.textOrder,i))?this.L:this.R;this.checkNSM(t,n,i,s,r),this.updateLevels(t,i,n),e=i,t=n}this.checkEmbeddedCharacters(this.length)}getEmbeddedCharactersLength(){let e=0;for(let t=0;t<this.length;++t)this.types[t]!==this.LRE&&this.types[t]!==this.RLE&&this.types[t]!==this.LRO&&this.types[t]!==this.RLO&&this.types[t]!==this.PDF&&this.types[t]!==this.BN&&(this.result[e]=this.result[t],this.levels[e]=this.levels[t],e++);return e}checkEmbeddedCharacters(e){for(let t=this.types.length-1;t>=0;--t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN?(this.result[t]=this.types[t],this.levels[t]=-1):(this.result[t]=this.result[e-=1],this.levels[t]=this.levels[e]);for(let t=0;t<this.types.length;t++)-1===this.levels[t]&&(this.levels[t]=0===t?this.textOrder:this.levels[t-1])}checkNSM(e,t,i,s,n){let r=s;for(let a=e;a<t;++a)this.result[a]===this.NSM?this.result[a]=r:r=this.result[a];this.checkEuropeanDigits(e,t,i,s,n)}checkEuropeanDigits(e,t,i,s,n){for(let r=e;r<t;++r)if(this.result[r]===this.EN)for(let t=r-1;t>=e;--t)if(this.result[t]===this.L||this.result[t]===this.R||this.result[t]===this.AL){this.result[t]===this.AL&&(this.result[r]=this.AN);break}this.checkArabicCharacters(e,t,i,s,n)}checkArabicCharacters(e,t,i,s,n){for(let r=e;r<t;++r)this.result[r]===this.AL&&(this.result[r]=this.R);this.checkEuropeanNumberSeparator(e,t,i,s,n)}checkEuropeanNumberSeparator(e,t,i,s,n){for(let r=e+1;r<t-1;++r)if(this.result[r]===this.ES||this.result[r]===this.CS){let e=this.result[r-1],t=this.result[r+1];e===this.EN&&t===this.EN?this.result[r]=this.EN:this.result[r]===this.CS&&e===this.AN&&t===this.AN&&(this.result[r]=this.AN)}this.checkEuropeanNumberTerminator(e,t,i,s,n)}checkEuropeanNumberTerminator(e,t,i,s,n){for(let r=e;r<t;++r)if(this.result[r]===this.ET){let i=r,a=[];a.push(this.ET);let o=this.getLength(i,t,a),l=i===e?s:this.result[i-1];if(l!==this.EN&&(l=o===t?n:this.result[o]),l===this.EN)for(let e=i;e<o;++e)this.result[e]=this.EN;r=o}this.checkOtherNeutrals(e,t,i,s,n)}checkOtherNeutrals(e,t,i,s,n){for(let r=e;r<t;++r)this.result[r]!==this.ES&&this.result[r]!==this.ET&&this.result[r]!==this.CS||(this.result[r]=this.ON);this.checkOtherCharacters(e,t,i,s,n)}checkOtherCharacters(e,t,i,s,n){for(let r=e;r<t;++r)if(this.result[r]===this.EN){let t=s;for(let i=r-1;i>=e;--i)if(this.result[i]===this.L||this.result[i]===this.R){t=this.result[i];break}t===this.L&&(this.result[r]=this.L)}this.checkCommanCharacters(e,t,i,s,n)}getLength(e,t,i){for(--e;++e<t;){let s=this.result[e];for(let n=0;n<i.length;++n)s===i[n]&&(e=this.getLength(++e,t,i));return e}return t}checkCommanCharacters(e,t,i,s,n){for(let r=e;r<t;++r)if(this.result[r]===this.WS||this.result[r]===this.ON||this.result[r]===this.B||this.result[r]===this.S){let a=r,o=this.getLength(a,t,[this.B,this.S,this.WS,this.ON]),l=0,h=0,c=0;a===e?l=s:(l=this.result[a-1],l===this.AN?l=this.R:l===this.EN&&(l=this.R)),o===t?h=n:(h=this.result[o],h===this.AN?h=this.R:h===this.EN&&(h=this.R)),c=l===h?l:0==(1&i)?this.L:this.R;for(let e=a;e<o;++e)this.result[e]=c;r=o}}}class qS{constructor(){this.openBracket="(",this.closeBracket=")"}layout(e,t,i,s,n){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");let r=[];return t.Unicode?r=this.customLayout(e,i,n,t,s):(r=[],r[0]=e),r}splitLayout(e,t,i,s,n){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");let r=[];return r=this.customSplitLayout(e,t,i,s,n),r}getGlyphIndex(e,t,i,s,n){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");if(s=null,0===e.length)return{success:!1,glyphs:s};let r=(new HS).shape(e,0),a=t.fontInternal.ttfReader;s=new Uint16Array(r.length);let o=0;for(let l=0,h=r.length;l<h;l++){let e=a.getGlyph(r[l]);null!=e&&(s[o++]=e.index)}return{success:!0,glyphs:s}}customLayout(e,t,i,s,n){if(null==n){if(null==e)throw new Error("ArgumentNullException : line");let s=null;return null!==i&&i.textDirection!==g_.None&&(s=(new WS).getLogicalToVisualString(e,t)),s}{if(null==e)throw new Error("ArgumentNullException : line");if(null==s)throw new Error("ArgumentNullException : font");let r=null;if(null!==i&&i.textDirection!==g_.None){let s=(new HS).shape(e,0);r=this.customLayout(s,t,i)}let a=[];if(n){let e=r.split(""),t=e.length;for(let i=0;i<t;i++)e[i]=this.addChars(s,e[i]);a=e}else a=[],a[0]=this.addChars(s,r);return a}}addChars(e,t){let i=t;if(null==e)throw new Error("ArgumentNullException : font");if(null==i)throw new Error("ArgumentNullException : line");let s=i,n=e.fontInternal.ttfReader;e.setSymbols(s),s=n.convertString(s);let r=n_.toUnicodeArray(s,!1);return s=n_.byteToString(r),s}customSplitLayout(e,t,i,s,n){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");return this.customLayout(e,i,n).split("")}}let US=(()=>{class e{constructor(e,t,i){this.currentColorSpace=u_.Rgb,this.previousTextRenderingMode=h_.Fill,this.previousCharacterSpacing=0,this.previousWordSpacing=0,this.previousTextScaling=100,this.procedureSets=new oS,this.isNormalRender=!0,this.isUseFontSize=!1,this.isItalic=!1,this.isEmfTextScaled=!1,this.isEmf=!1,this.isEmfPlus=!1,this.isBaselineFormat=!0,this.emfScalingFactor=new b_(0,0),this.colorSpaceChanged=!1,this.dictionaryProperties=new qx,this.isOverloadWithPosition=!1,this.isPointOverload=!1,this.currentColorSpaces=["RGB","CMYK","GrayScale","Indexed"],this.isImageOptimized=!1,this.graphicsState=[],this.istransparencySet=!1,this.internalAutomaticFields=null,this.startCutIndex=-1,this.getResources=t,this.canvasSize=e,this.pdfStreamWriter=i instanceof sS?i:new sS(i),this.initialize()}get stringLayoutResult(){return this.pdfStringLayoutResult}get size(){return this.canvasSize}get mediaBoxUpperRightBound(){return void 0===this.internalMediaBoxUpperRightBound&&(this.internalMediaBoxUpperRightBound=0),this.internalMediaBoxUpperRightBound}set mediaBoxUpperRightBound(e){this.internalMediaBoxUpperRightBound=e}get clientSize(){return new b_(this.clipBounds.width,this.clipBounds.height)}get colorSpace(){return this.currentColorSpace}set colorSpace(e){this.currentColorSpace=e}get streamWriter(){return this.pdfStreamWriter}get matrix(){return null==this.transformationMatrix&&(this.transformationMatrix=new rS),this.transformationMatrix}get layer(){return this.pageLayer}get page(){return this.pageLayer.page}get automaticFields(){return null!=this.internalAutomaticFields&&void 0!==this.internalAutomaticFields||(this.internalAutomaticFields=new cS),this.internalAutomaticFields}initialize(){this.bStateSaved=!1,this.currentPen=null,this.currentBrush=null,this.currentFont=null,this.currentColorSpace=u_.Rgb,this.bCSInitialized=!1,this.transformationMatrix=null,this.previousTextRenderingMode=-1,this.previousCharacterSpacing=-1,this.previousWordSpacing=-1,this.previousTextScaling=-100,this.currentStringFormat=null,this.clipBounds=new v_(new y_(0,0),this.size),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}drawPdfTemplate(e,t,i){if(void 0===i){if(null==e)throw Error("ArgumentNullException-template");this.drawPdfTemplate(e,t,e.size)}else{if(null==e)throw Error("ArgumentNullException-template");let s=e.width>0?i.width/e.width:1,n=e.height>0?i.height/e.height:1,r=!(1===s&&1===n),a=this.save(),o=new rS;null!=this.pageLayer&&this.getTranslateTransform(t.x,t.y+i.height,o),r&&this.getScaleTransform(s,n,o),this.pdfStreamWriter.modifyCtm(o);let l=this.getResources.getResources().getName(e);this.pdfStreamWriter.executeObject(l),this.restore(a);let h=e.graphics;if(null!=h)for(let c=0;c<h.automaticFields.automaticFields.length;c++){let s=h.automaticFields.automaticFields[c],n=new y_(s.location.x+t.x,s.location.y+t.y);this.automaticFields.add(new dS(s.field,n,0==e.size.width?0:i.width/e.size.width,0==e.size.height?0:i.height/e.size.height)),this.page.dictionary.modify()}this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI),this.getResources.getResources().requireProcedureSet(this.procedureSets.text)}}drawString(e,t,i,s,n,r,a,o,l){if("string"==typeof e&&t instanceof H_&&(i instanceof nS||null===i)&&(s instanceof x_||null===s)&&"number"==typeof n&&"number"==typeof r&&(a instanceof O_||null===a)&&void 0===o)this.isOverloadWithPosition=!0,this.drawString(e,t,i,s,n,r,this.clientSize.width-n,0,a);else{let h=i,c=s,d=n,u=r,p=a,m=o,g=l,f=(new V_).layout(e,t,g,new b_(p,m),this.isOverloadWithPosition,this.clientSize);if(!f.empty){let e=this.checkCorrectLayoutRectangle(f.actualSize,d,u,g);p<=0&&(d=e.x,p=e.width),m<=0&&(u=e.y,m=e.height),this.drawStringLayoutResult(f,t,h,c,new v_(d,u,p,m),g),this.isEmfTextScaled=!1,this.emfScalingFactor=new b_(0,0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),this.isNormalRender=!0,this.pdfStringLayoutResult=f,this.isUseFontSize=!1}}drawLine(e,t,i,s,n){if(t instanceof y_)this.drawLine(e,t.x,t.y,i.x,i.y);else{let r=t,a=i,o=s,l=n;this.stateControl(e,null,null);let h=this.streamWriter;h.beginPath(r,a),h.appendLineSegment(o,l),h.strokePath(),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}}drawRectangle(e,t,i,s,n,r){if(e instanceof nS&&"number"==typeof t)this.drawRectangle(e,null,t,i,s,n);else if(e instanceof x_&&"number"==typeof t)this.drawRectangle(null,e,t,i,s,n);else{let a=i,o=s,l=n,h=r;t instanceof __&&t.color.isEmpty&&(t=null);let c=e,d=t;this.stateControl(c,d,null),this.streamWriter.appendRectangle(a,o,l,h),this.drawPath(c,d,!1)}}drawPath(e,t,i,s){if("boolean"==typeof i)this.drawPath(e,t,d_.Winding,i);else{let s=null!=e,n=null!=t,r=i===d_.Alternate;s&&n?this.streamWriter.fillStrokePath(r):s||n?s?this.streamWriter.strokePath():this.streamWriter.fillPath(r):this.streamWriter.endPath()}}drawImage(e,t,i,s,n){if("number"==typeof t&&"number"==typeof i&&void 0===s){let s=e.physicalDimension;this.drawImage(e,t,i,s.width,s.height)}else{let r=t,a=i,o=n;e.save();let l=new rS;this.getTranslateTransform(r,a+o,l),this.getScaleTransform(s,n,l),this.pdfStreamWriter.write("q"),this.pdfStreamWriter.modifyCtm(l);let h=this.getResources.getResources();void 0!==this.pageLayer&&null!=this.page&&(h.document=this.page.document);let c=h.getName(e);void 0!==this.pageLayer&&this.page.setResources(h),this.pdfStreamWriter.executeObject(c),this.pdfStreamWriter.write(Yx.restoreState),this.pdfStreamWriter.write(Yx.newLine);let d=this.getResources.getResources();d.requireProcedureSet(this.procedureSets.imageB),d.requireProcedureSet(this.procedureSets.imageC),d.requireProcedureSet(this.procedureSets.imageI),d.requireProcedureSet(this.procedureSets.text)}}getLineBounds(e,t,i,s,n){let r;if(!t.empty&&e<t.lineCount&&e>=0){let i=t.lines[e],a=this.getTextVerticalAlignShift(t.actualSize.height,s.height,n)+s.y+t.lineHeight*e,o=i.width,l=this.getHorizontalAlignShift(o,s.width,n),h=this.getLineIndent(i,n,s,0===e);l+=this.rightToLeft(n)?0:h;let c=s.x+l,d=this.shouldJustify(i,s.width,n)?s.width-h:o-h;r=new v_(c,a,d,t.lineHeight)}else r=new v_(0,0,0,0);return r}checkCorrectLayoutRectangle(e,t,i,s){let n=new v_(t,i,e.width,e.width);if(null!=s){switch(s.alignment){case l_.Center:n.x-=n.width/2;break;case l_.Right:n.x-=n.width}switch(s.lineAlignment){case o_.Middle:n.y-=n.height/2;break;case o_.Bottom:n.y-=n.height}}return n}setLayer(e){this.pageLayer=e;let t=e.page;null!=t&&void 0!==t&&(t.beginSave=this.pageSave)}pageSave(e){if(null!=e.graphics.automaticFields)for(let t=0;t<e.graphics.automaticFields.automaticFields.length;t++){let i=e.graphics.automaticFields.automaticFields[t];i.field.performDraw(e.graphics,i.location,i.scalingX,i.scalingY)}}drawStringLayoutResult(e,t,i,s,n,r){if(e.empty)throw new Error("ArgumentNullException:result");{this.applyStringSettings(t,i,s,r,n);let a=null!=r?r.horizontalScalingFactor:100;a===this.previousTextScaling||this.isEmfTextScaled||(this.pdfStreamWriter.setTextScaling(a),this.previousTextScaling=a);let o=null==r||0===r.lineSpacing?t.height:r.lineSpacing+t.height,l=0;l=null!=r&&r.subSuperScript===D_.SubScript?o-(t.height+t.metrics.getDescent(r)):o-t.metrics.getAscent(r),this.shift=l,this.pdfStreamWriter.startNextLine(n.x,n.y-l),this.pdfStreamWriter.setLeading(+o);let h=0,c="";for(let t=0;t<e.lines.length;t++)if(h+=e.lineHeight,n.y+h>this.clientSize.height){this.startCutIndex=t;break}for(let t=this.startCutIndex;t<e.lines.length&&t>=0;t++)c+=e.lines[t].text;let d=new v_(n.x,n.y,n.width,n.height);this.drawLayoutResult(e,t,r,n),this.underlineStrikeoutText(i,s,e,t,d,r),this.isEmfPlus=!1,this.isUseFontSize=!1,-1!==this.startCutIndex&&this.getNextPage().graphics.drawString(c,t,i,s,n.x,0,n.width,0,r)}}getNextPage(){let e=this.currentPage.section,t=null,i=e.indexOf(this.currentPage);return t=i===e.count-1?e.add():e.getPages()[i+1],t}setClip(e,t){void 0===t?this.setClip(e,d_.Winding):(this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.clipPath(t===d_.Alternate))}applyStringSettings(e,t,i,s,n){let r=this.getTextRenderingMode(t,i,s);this.stateControl(t,i,e,s),this.pdfStreamWriter.beginText(),r!==this.previousTextRenderingMode&&(this.pdfStreamWriter.setTextRenderingMode(r),this.previousTextRenderingMode=r);let a=null!=s?s.characterSpacing:0;a===this.previousCharacterSpacing||this.isEmfTextScaled||(this.pdfStreamWriter.setCharacterSpacing(a),this.previousCharacterSpacing=a);let o=null!=s?s.wordSpacing:0;o!==this.previousWordSpacing&&(this.pdfStreamWriter.setWordSpacing(o),this.previousWordSpacing=o)}getTextVerticalAlignShift(e,t,i){let s=0;if(t>=0&&null!=i&&i.lineAlignment!==o_.Top)switch(i.lineAlignment){case o_.Middle:s=(t-e)/2;break;case o_.Bottom:s=t-e}return s}drawLayoutResult(e,t,i,s){let n=this.getTextVerticalAlignShift(e.actualSize.height,s.height,i);0!==n&&this.pdfStreamWriter.startNextLine(0,n);let r=null!=t&&t.isUnicode,a=e.lines;for(let o=0,l=a.length;o<l&&o!==this.startCutIndex;o++){let e=a[o],n=this.getHorizontalAlignShift(e.width,s.width,i),l=this.getLineIndent(e,i,s,0===o);n+=this.rightToLeft(i)?0:l,0===n||this.isEmfTextScaled||this.pdfStreamWriter.startNextLine(n,0),r?this.drawUnicodeLine(e,s,t,i):this.drawAsciiLine(e,s,t,i),0===n||this.isEmfTextScaled||this.pdfStreamWriter.startNextLine(-n,0),this.isOverloadWithPosition&&a.length>1&&(this.pdfStreamWriter.startNextLine(-s.x,0),s.x=0,s.width=this.clientSize.width,this.isOverloadWithPosition=!1,this.isPointOverload=!0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),0!==n&&this.pdfStreamWriter.startNextLine(0,-(n-e.lineHeight)),this.pdfStreamWriter.endText()}drawAsciiLine(e,t,i,s){this.justifyLine(e,t.width,s);let n="";if(-1!==e.text.indexOf("(")||-1!==e.text.indexOf(")"))for(let r=0;r<e.text.length;r++)n+="("===e.text[r]?"\\(":")"===e.text[r]?"\\)":e.text[r];""===n&&(n=e.text),this.pdfStreamWriter.showNextLineText(new n_("("+n+")"))}drawUnicodeLine(e,t,i,s){let n=e.text,r=null!==s&&s.rightToLeft,a=null!==s&&(0!==s.wordSpacing||s.alignment===l_.Justify),o=i,l=this.justifyLine(e,t.width,s),h=new qS;if(r||null!==s&&s.textDirection!==g_.None){let e=null,t=null!==s&&s.alignment===l_.Right;e=h.layout(n,o,null!==s&&s.textDirection!==g_.None?s.textDirection===g_.RightToLeft:t,a,s);let i=null;i=e.length>1?h.splitLayout(n,o,null!==s&&s.textDirection!==g_.None?s.textDirection===g_.RightToLeft:t,a,s):[n],this.drawUnicodeBlocks(e,i,o,s,l)}else if(a){let e=this.breakUnicodeLine(n,o,null);this.drawUnicodeBlocks(e.tokens,e.words,o,s,l)}else{let e=this.convertToUnicode(n,o),t=this.getUnicodeString(e);this.streamWriter.showNextLineText(t)}}drawUnicodeBlocks(e,t,i,s,n){if(null==e)throw new Error("Argument Null Exception : blocks");if(null==t)throw new Error("Argument Null Exception : words");if(null==i)throw new Error("Argument Null Exception : font");this.streamWriter.startNextLine();let r=0,a=0,o=0,l=0;try{null!==s&&(o=s.firstLineIndent,l=s.paragraphIndent,s.firstLineIndent=0,s.paragraphIndent=0);let h=i.getCharWidth(N_.whiteSpace,s)+n,c=null!=s?s.characterSpacing:0;h+=c+(null!==s&&0===n?s.wordSpacing:0);for(let n=0;n<e.length;n++){let o=e[n],l=t[n],d=0;if(0!==r&&this.streamWriter.startNextLine(r,0),l.length>0){d+=i.measureString(l,s).width,d+=c;let e=this.getUnicodeString(o);this.streamWriter.showText(e)}n!==e.length-1&&(r=d+h,a+=r)}a>0&&this.streamWriter.startNextLine(-a,0)}finally{null!==s&&(s.firstLineIndent=o,s.paragraphIndent=l)}}breakUnicodeLine(e,t,i){if(null===e)throw new Error("Argument Null Exception : line");i=e.split(null);let s=[];for(let n=0;n<i.length;n++){let e=this.convertToUnicode(i[n],t);s[n]=e}return{tokens:s,words:i}}getUnicodeString(e){if(null===e)throw new Error("Argument Null Exception : token");let t=new n_(e);return t.converted=!0,t.encode=s_.ForceEncoding.Ascii,t}convertToUnicode(e,t){let i=null;if(null==e)throw new Error("Argument Null Exception : text");if(null==t)throw new Error("Argument Null Exception : ttfFont");if(t.fontInternal instanceof class{constructor(e,t){if(this.nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.dictionaryProperties=new qx,this.isCompress=!1,this.isEmbedFont=!1,this.cmapPrefix="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap"+Yx.newLine+"/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange"+Yx.newLine,this.cmapEndCodespaceRange="endcodespacerange"+Yx.newLine,this.cmapBeginRange="beginbfrange"+Yx.newLine,this.cmapEndRange="endbfrange"+Yx.newLine,this.cmapSuffix="endbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend end"+Yx.newLine,null==e)throw new Error("ArgumentNullException:base64String");this.fontSize=t,this.fontString=e,this.Initialize()}getCharWidth(e){return this.ttfReader.getCharWidth(e)}getLineWidth(e){let t=0;for(let i=0,s=e.length;i<s;i++)t+=this.getCharWidth(e[i]);return t}Initialize(){let e=new uS(this.fontString.length);e.writeFromBase64String(this.fontString),this.fontData=e.internalBuffer,this.ttfReader=new VS(this.fontData),this.ttfMetrics=this.ttfReader.metrics}createInternals(){this.fontDictionary=new Ux,this.fontProgram=new e_,this.cmap=new e_,this.descendantFont=new Ux,this.metrics=new FS,this.ttfReader.createInternals(),this.ttfMetrics=this.ttfReader.metrics,this.initializeMetrics(),this.subsetName=this.getFontName(),this.createDescendantFont(),this.createCmap(),this.createFontDictionary(),this.createFontProgram()}getInternals(){return this.fontDictionary}initializeMetrics(){let e=this.ttfReader.metrics;this.metrics.ascent=e.macAscent,this.metrics.descent=e.macDescent,this.metrics.height=e.macAscent-e.macDescent+e.lineGap,this.metrics.name=e.fontFamily,this.metrics.postScriptName=e.postScriptName,this.metrics.size=this.fontSize,this.metrics.widthTable=new zS(e.widthTable),this.metrics.lineGap=e.lineGap,this.metrics.subScriptSizeFactor=e.subScriptSizeFactor,this.metrics.superscriptSizeFactor=e.superscriptSizeFactor,this.metrics.isBold=e.isBold}getFontName(){let e,t="";for(let i=0;i<6;i++){let e=Math.floor(26*Math.random())+0;t+=this.nameString[e]}return t+="+",t+=this.ttfReader.metrics.postScriptName,e=t.toString(),e=this.formatName(e),e}formatName(e){let t=e.replace("(","#28");return t=t.replace(")","#29"),t=t.replace("[","#5B"),t=t.replace("]","#5D"),t=t.replace("<","#3C"),t=t.replace(">","#3E"),t=t.replace("{","#7B"),t=t.replace("}","#7D"),t=t.replace("/","#2F"),t=t.replace("%","#25"),t.replace(" ","#20")}createDescendantFont(){this.descendantFont.isFont=!0,this.descendantFont.descendantFontBeginSave=new Xx(this),this.descendantFont.items.setValue(this.dictionaryProperties.type,new Wx(this.dictionaryProperties.font)),this.descendantFont.items.setValue(this.dictionaryProperties.subtype,new Wx(this.dictionaryProperties.cIDFontType2)),this.descendantFont.items.setValue(this.dictionaryProperties.baseFont,new Wx(this.subsetName)),this.descendantFont.items.setValue(this.dictionaryProperties.cIDToGIDMap,new Wx(this.dictionaryProperties.identity)),this.descendantFont.items.setValue(this.dictionaryProperties.dw,new Qx(1e3)),this.fontDescriptor=this.createFontDescriptor(),this.descendantFont.items.setValue(this.dictionaryProperties.fontDescriptor,new a_(this.fontDescriptor));let e=this.createSystemInfo();this.descendantFont.items.setValue(this.dictionaryProperties.cIDSystemInfo,e)}createFontDescriptor(){let e=new Ux,t=this.ttfReader.metrics;return e.isFont=!0,e.items.setValue(this.dictionaryProperties.type,new Wx(this.dictionaryProperties.fontDescriptor)),e.items.setValue(this.dictionaryProperties.fontName,new Wx(this.subsetName)),e.items.setValue(this.dictionaryProperties.flags,new Qx(this.getDescriptorFlags())),e.items.setValue(this.dictionaryProperties.fontBBox,Jx.fromRectangle(this.getBoundBox())),e.items.setValue(this.dictionaryProperties.missingWidth,new Qx(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.stemV,new Qx(t.stemV)),e.items.setValue(this.dictionaryProperties.italicAngle,new Qx(t.italicAngle)),e.items.setValue(this.dictionaryProperties.capHeight,new Qx(t.capHeight)),e.items.setValue(this.dictionaryProperties.ascent,new Qx(t.winAscent)),e.items.setValue(this.dictionaryProperties.descent,new Qx(t.winDescent)),e.items.setValue(this.dictionaryProperties.leading,new Qx(t.leading)),e.items.setValue(this.dictionaryProperties.avgWidth,new Qx(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.fontFile2,new a_(this.fontProgram)),e.items.setValue(this.dictionaryProperties.maxWidth,new Qx(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.xHeight,new Qx(0)),e.items.setValue(this.dictionaryProperties.stemH,new Qx(0)),e}createCmap(){this.cmap.cmapBeginSave=new t_(this)}createFontDictionary(){this.fontDictionary.isFont=!0,this.fontDictionary.fontDictionaryBeginSave=new Zx(this),this.fontDictionary.items.setValue(this.dictionaryProperties.type,new Wx(this.dictionaryProperties.font)),this.fontDictionary.items.setValue(this.dictionaryProperties.baseFont,new Wx(this.subsetName)),this.fontDictionary.items.setValue(this.dictionaryProperties.subtype,new Wx(this.dictionaryProperties.type0)),this.fontDictionary.items.setValue(this.dictionaryProperties.encoding,new Wx(this.dictionaryProperties.identityH));let e=new Jx,t=new a_(this.descendantFont);e.isFont=!0,e.add(t),this.fontDictionary.items.setValue(this.dictionaryProperties.descendantFonts,e)}createFontProgram(){this.fontProgram.fontProgramBeginSave=new i_(this)}createSystemInfo(){let e=new Ux;return e.items.setValue(this.dictionaryProperties.registry,new n_("Adobe")),e.items.setValue(this.dictionaryProperties.ordering,new n_(this.dictionaryProperties.identity)),e.items.setValue(this.dictionaryProperties.supplement,new Qx(0)),e}descendantFontBeginSave(){if(null!=this.usedChars&&this.usedChars.size()>0){let e=this.getDescendantWidth();null!==e&&this.descendantFont.items.setValue(this.dictionaryProperties.w,e)}}cmapBeginSave(){this.generateCmap()}fontDictionaryBeginSave(){null!=this.usedChars&&this.usedChars.size()>0&&!this.fontDictionary.containsKey(this.dictionaryProperties.toUnicode)&&this.fontDictionary.items.setValue(this.dictionaryProperties.toUnicode,new a_(this.cmap))}fontProgramBeginSave(){this.isCompress=!0,this.generateFontProgram()}getDescendantWidth(){let e=new Jx;if(null!=this.usedChars&&this.usedChars.size()>0){let t=[],i=this.usedChars.keys();for(let e=0;e<i.length;e++){let s=this.ttfReader.getGlyph(i[e]);s.empty||t.push(s)}t.sort((e,t)=>e.index-t.index);let s=0,n=0,r=!1,a=new Jx;for(let o=0;o<t.length;o++){let i=t[o];r||(r=!0,s=i.index,n=i.index-1),(n+1!==i.index||o+1===t.length)&&t.length>1&&(e.add(new Qx(s)),0!==o&&e.add(a),s=i.index,a=new Jx),a.add(new Qx(i.width)),o+1===t.length&&(e.add(new Qx(s)),e.add(a)),n=i.index}}return e}generateCmap(){if(null!=this.usedChars&&this.usedChars.size()>0){let e=this.ttfReader.getGlyphChars(this.usedChars);if(e.size()>0){let t=e.keys().sort(),i=t[t.length-1],s=this.toHexString(t[0],!1)+this.toHexString(i,!1)+Yx.newLine,n="";n+=this.cmapPrefix,n+=s,n+=this.cmapEndCodespaceRange;let r=0;for(let a=0;a<t.length;a++){0===r&&(0!==a&&(n+=this.cmapEndRange),r=Math.min(100,t.length-a),n+=r,n+=Yx.whiteSpace,n+=this.cmapBeginRange),r-=1;let i=t[a];n+=this.toHexString(i,!0)+this.toHexString(i,!0)+this.toHexString(e.getValue(i),!0)+"\n"}n+=this.cmapSuffix,this.cmap.clearStream(),this.cmap.isFont=!0,this.cmap.write(n)}}}generateFontProgram(){let e=null;this.usedChars=null==this.usedChars?new jx:this.usedChars,this.ttfReader.setOffset(0),e=this.ttfReader.readFontProgram(this.usedChars),this.fontProgram.clearStream(),this.fontProgram.isFont=!0,this.fontProgram.writeBytes(e)}getDescriptorFlags(){let e=0,t=this.ttfReader.metrics;return t.isFixedPitch&&(e|=P_.FixedPitch),e|=t.isSymbol?P_.Symbolic:P_.Nonsymbolic,t.isItalic&&(e|=P_.Italic),t.isBold&&(e|=P_.ForceBold),e}getBoundBox(){let e=this.ttfReader.metrics.fontBox,t=Math.abs(e.right-e.left),i=Math.abs(e.top-e.bottom);return new v_(e.left,e.bottom,t,i)}toHexString(e,t){let i=e.toString(16);return t&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"}setSymbols(e){if(null===e)throw new Error("Argument Null Exception : text");null==this.usedChars&&(this.usedChars=new jx);for(let t=0;t<e.length;t++)this.usedChars.setValue(e[t],String.fromCharCode(0));!1===this.isEmbedFont&&this.getDescendantWidth()}}){let s=t.fontInternal.ttfReader;t.setSymbols(e),i=s.convertString(e);let n=n_.toUnicodeArray(i,!1);i=n_.byteToString(n)}return i}justifyLine(e,t,i){let s=e.text,n=e.width,r=this.shouldJustify(e,t,i),a=null!=i&&0!==i.wordSpacing,o=N_.getCharsCount(s,N_.spaces),l=0;return r?(a&&(n-=o*i.wordSpacing),l=(t-n)/o,this.pdfStreamWriter.setWordSpacing(l)):this.pdfStreamWriter.setWordSpacing(a?i.wordSpacing:0),l}reset(e){this.canvasSize=e,this.streamWriter.clear(),this.initialize(),this.initializeCoordinates()}shouldJustify(e,t,i){let s=e.text,n=null!=i&&i.alignment===l_.Justify,r=t>=0&&e.width<t,a=N_.getCharsCount(s,N_.spaces);return n&&r&&a>0&&s[0]!==N_.whiteSpace&&((e.lineType&z_.LayoutBreak)>0||i.alignment===l_.Justify)}underlineStrikeoutText(e,t,i,s,n,r){if(s.underline||s.strikeout){let a=this.createUnderlineStikeoutPen(e,t,s,r);if(null!=a){let e=this.getTextVerticalAlignShift(i.actualSize.height,n.height,r),t=0;t=n.y+e+s.metrics.getAscent(r)+1.5*a.width;let o=n.y+e+s.metrics.getHeight(r)/2+1.5*a.width,l=i.lines;for(let h=0,c=i.lineCount;h<c;h++){let e=l[h],c=e.width,d=this.getHorizontalAlignShift(c,n.width,r),u=this.getLineIndent(e,r,n,0===h);d+=this.rightToLeft(r)?0:u;let p=n.x+d,m=this.shouldJustify(e,n.width,r)?p+n.width-u:p+c-u;s.underline&&(this.drawLine(a,p,t,m,t),t+=i.lineHeight),s.strikeout&&(this.drawLine(a,p,o,m,o),o+=i.lineHeight),this.isPointOverload&&l.length>1&&(n.x=0,n.width=this.clientSize.width)}this.isPointOverload=!1}}}createUnderlineStikeoutPen(e,t,i,s){let n=i.metrics.getSize(s)/20,r=null;return null!=e?r=new nS(e.color,n):null!=t&&(r=new nS(t,n)),r}getTextRenderingMode(e,t,i){let s=h_.None;return s=null!=e&&null!=t?h_.FillStroke:null!=e?h_.Stroke:h_.Fill,null!=i&&i.clipPath&&(s|=h_.ClipFlag),s}getLineIndent(e,t,i,s){let n=0;return null!=t&&(e.lineType&z_.FirstParagraphLine)>0&&(n=s?t.firstLineIndent:t.paragraphIndent,n=i.width>0?Math.min(i.width,n):n),n}getHorizontalAlignShift(e,t,i){let s=0;if(t>=0&&null!=i&&i.alignment!==l_.Left)switch(i.alignment){case l_.Center:s=(t-e)/2;break;case l_.Right:s=t-e}return s}rightToLeft(e){let t=null!=e&&e.rightToLeft;return null!=e&&e.textDirection!==g_.None&&void 0!==e.textDirection&&(t=!0),t}stateControl(e,t,i,s){if(void 0===s)this.stateControl(e,t,i,null);else{let n=!1;null!==t?(void 0!==this.pageLayer&&null!=this.pageLayer&&!1===this.colorSpaceChanged&&(this.lastDocumentCS=this.pageLayer.page.document.colorSpace,this.lastGraphicsCS=this.pageLayer.page.graphics.colorSpace,this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace,this.colorSpaceChanged=!0),this.initCurrentColorSpace(this.currentColorSpace)):null!=e&&(void 0!==this.pageLayer&&null!=this.pageLayer&&(this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace),this.initCurrentColorSpace(this.currentColorSpace)),this.penControl(e,n),this.brushControl(t,n),this.fontControl(i,s,n)}}initCurrentColorSpace(e){this.getResources.getResources(),this.bCSInitialized||(this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!0),this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!1),this.bCSInitialized=!0)}penControl(e,t){null!=e&&(this.currentPen=e,this.colorSpace=u_.Rgb,e.monitorChanges(this.currentPen,this.pdfStreamWriter,this.getResources,t,this.colorSpace,this.matrix.clone()),this.currentPen=e.clone())}brushControl(e,t){null!=e&&(this.currentBrush=e,e.monitorChanges(this.currentBrush,this.pdfStreamWriter,this.getResources,t,this.colorSpace),this.currentBrush=e,e=null)}fontControl(e,t,i){if(null!=e){let s=null!=t?t.subSuperScript:D_.None,n=null!=this.currentStringFormat?this.currentStringFormat.subSuperScript:D_.None;if(i||e!==this.currentFont||s!==n){let i=this.getResources.getResources();this.currentFont=e,this.currentStringFormat=t;let s=e.metrics.getSize(t);this.isEmfTextScaled=!1;let n=i.getName(e);this.pdfStreamWriter.setFont(e,n,s)}}}setTransparency(e,t,i){if(void 0===t)this.istransparencySet=!0,this.setTransparency(e,e,p_.Normal);else if("number"==typeof t&&void 0===i)this.setTransparency(e,t,p_.Normal);else{null==this.trasparencies&&(this.trasparencies=new lS);let s=null,n=new ZS(e,t,i);this.trasparencies.containsKey(n)&&(s=this.trasparencies.getValue(n)),null==s&&(s=new hS(e,t,i),this.trasparencies.setValue(n,s));let r=this.getResources.getResources().getName(s);this.streamWriter.setGraphicsState(r)}}clipTranslateMargins(e,t,i,s,n,r){if(e instanceof v_&&void 0===t)this.clipBounds=e,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e.x,e.y);else if("number"==typeof e){let a=new v_(i,s,this.size.width-i-n,this.size.height-s-r);this.clipBounds=a,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(a),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e,t)}}updateY(e){return-e}translateTransform(e,t){let i=new rS;this.getTranslateTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)}getTranslateTransform(e,t,i){return i.translate(e,this.updateY(t)),i}scaleTransform(e,t){let i=new rS;this.getScaleTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)}getScaleTransform(e,t,i){return null==i&&(i=new rS),i.scale(e,t),i}rotateTransform(e){let t=new rS;this.getRotateTransform(e,t),this.pdfStreamWriter.modifyCtm(t),this.matrix.multiply(t)}initializeCoordinates(){this.pdfStreamWriter.writeComment("Change co-ordinate system to left/top."),this.mediaBoxUpperRightBound!==-this.size.height&&null==this.cropBox&&this.translateTransform(0,this.updateY(this.mediaBoxUpperRightBound===this.size.height||0===this.mediaBoxUpperRightBound?this.size.height:this.mediaBoxUpperRightBound))}getRotateTransform(e,t){return null!=t&&void 0!==t||(t=new rS),t.rotate(this.updateY(e)),t}save(){let e=new XS(this,this.matrix.clone());return e.brush=this.currentBrush,e.pen=this.currentPen,e.font=this.currentFont,e.colorSpace=this.currentColorSpace,e.characterSpacing=this.previousCharacterSpacing,e.wordSpacing=this.previousWordSpacing,e.textScaling=this.previousTextScaling,e.textRenderingMode=this.previousTextRenderingMode,this.graphicsState.push(e),this.pdfStreamWriter.saveGraphicsState(),e}restore(e){if(void 0===e)this.graphicsState.length>0&&this.doRestoreState();else if(-1!==this.graphicsState.indexOf(e))for(;0!==this.graphicsState.length&&this.doRestoreState()!==e;);}doRestoreState(){let e=this.graphicsState.pop();return this.transformationMatrix=e.matrix,this.currentBrush=e.brush,this.currentPen=e.pen,this.currentFont=e.font,this.currentColorSpace=e.colorSpace,this.previousCharacterSpacing=e.characterSpacing,this.previousWordSpacing=e.wordSpacing,this.previousTextScaling=e.textScaling,this.previousTextRenderingMode=e.textRenderingMode,this.pdfStreamWriter.restoreGraphicsState(),e}}return e.pathTypesValuesMask=15,e.transparencyObject=!1,e})();class GS{getResources(){return this.sender.getResources()}constructor(e){this.sender=e}}class XS{constructor(e,t){this.internalTextRenderingMode=h_.Fill,this.internalCharacterSpacing=0,this.internalWordSpacing=0,this.internalTextScaling=100,this.pdfColorSpace=u_.Rgb,void 0!==e&&(this.pdfGraphics=e,this.transformationMatrix=t)}get graphics(){return this.pdfGraphics}get matrix(){return this.transformationMatrix}get characterSpacing(){return this.internalCharacterSpacing}set characterSpacing(e){this.internalCharacterSpacing=e}get wordSpacing(){return this.internalWordSpacing}set wordSpacing(e){this.internalWordSpacing=e}get textScaling(){return this.internalTextScaling}set textScaling(e){this.internalTextScaling=e}get pen(){return this.pdfPen}set pen(e){this.pdfPen=e}get brush(){return this.pdfBrush}set brush(e){this.pdfBrush=e}get font(){return this.pdfFont}set font(e){this.pdfFont=e}get colorSpace(){return this.pdfColorSpace}set colorSpace(e){this.pdfColorSpace=e}get textRenderingMode(){return this.internalTextRenderingMode}set textRenderingMode(e){this.internalTextRenderingMode=e}}class ZS{constructor(e,t,i){this.alphaPen=e,this.alphaBrush=t,this.blendMode=i}}class $S{constructor(e,t){if(this.pdfColorSpace=u_.Rgb,this.isVisible=!0,this.sublayer=!1,this.contentLength=0,this.dictionaryProperties=new qx,null===e)throw new Error("ArgumentNullException:page");if(this.pdfPage=e,this.clipPageTemplates=!0,void 0===t)this.content=new e_;else if(t instanceof e_||null===t){if(null===t)throw new Error("ArgumentNullException:stream");this.content=t}else this.content=new e_,this.clipPageTemplates=t}get colorSpace(){return this.pdfColorSpace}set colorSpace(e){this.pdfColorSpace=e}get page(){return this.pdfPage}get layerId(){return this.layerid}set layerId(e){this.layerid=e}get name(){return this.layerName}set name(e){this.layerName=e}get visible(){return this.isVisible}set visible(e){this.isVisible=e}get graphics(){return null==this.pdfGraphics&&this.initializeGraphics(this.page),this.pdfGraphics}get layers(){return null==this.layer?(this.layer=new KS(this.page),this.layer.sublayer=!0,this.layer):this.layer}add(){let e=new $S(this.pdfPage);return e.name="",e}sign(e){return 0===e?0:e>0?1:-1}initializeGraphics(e){let t=e,i=new GS(this.page);if(this.pdfGraphics=new US(e.size,i,this.content),this.pdfGraphics.mediaBoxUpperRightBound=0,null!=t){let e=t.section.parent;null!=e&&(this.pdfGraphics.colorSpace=e.document.colorSpace,this.colorSpace=e.document.colorSpace)}let s=this.sign(e.origin.y)===this.sign(e.origin.x);(e.origin.x>=0&&e.origin.y>=0||!s)&&this.pdfGraphics.initializeCoordinates();let n=t.section.getActualBounds(t,!0),r=t.section.pageSettings.margins;this.clipPageTemplates?e.origin.x>=0&&e.origin.y>=0&&this.pdfGraphics.clipTranslateMargins(n):this.graphics.clipTranslateMargins(n.x,n.y,r.left,r.top,r.right,r.bottom),this.pdfGraphics.setLayer(this)}get element(){return this.content}}class KS extends class{constructor(){}get count(){return void 0===this.collection&&(this.collection=[]),this.collection.length}get list(){return void 0===this.collection&&(this.collection=[]),this.collection}}{constructor(e){super(),this.parentLayerCount=0,this.sublayer=!1,this.optionalContent=new Ux,e instanceof eC&&(this.page=e,this.parseLayers(e))}items(e,t){if("number"==typeof e&&void 0===t)return this.list[e];if(null==t)throw new Error("ArgumentNullException: layer");if(t.page!==this.page)throw new Error("ArgumentException: The layer belongs to another page")}add(e,t){if(void 0===e){let e=new $S(this.page);return e.name="",this.add(e),e}if(e instanceof $S){let t=this.list.push(e);return this.addLayer(t,e),t}return 0}addLayer(e,t){let i=new a_(t);this.page.contents.add(i)}insert(e,t){let i=[],s=this.list.length;for(let n=e;n<s;n++)i.push(this.list.pop());this.list.push(t);for(let n=0;n<i.length;n++)this.list.push(i[n]);this.insertLayer(e,t)}insertLayer(e,t){if(null==t)throw new Error("ArgumentNullException:layer");let i=new a_(t);this.page.contents.insert(e,i)}parseLayers(e){let t=this.page.contents,i=(this.page.getResources(),null);i=e.crossTable;let s=new e_,n=new e_,r=[];r.push("q"),s.data=r,t.insert(0,new a_(s)),r=[],r.push("Q"),n.data=r,t.insert(t.count,new a_(n))}indexOf(e){if(null==e)throw new Error("ArgumentNullException: layer");return this.list.indexOf(e)}}class QS{constructor(e,t){if(this.dictionaryProperties=new qx,this.writeTransformation=!0,void 0===e);else if(e instanceof b_&&void 0===t){this.content=new e_;let t=new b_(e.width,e.height);this.setSize(t),this.initialize()}else this.content=new e_,this.setSize(new b_(e,t)),this.initialize()}get size(){return this.templateSize}get width(){return this.size.width}get height(){return this.size.height}get graphics(){if(null==this.pdfGraphics||void 0===this.pdfGraphics){let e=new GS(this),t=new US(this.size,e,this.content);this.pdfGraphics=t,this.pdfGraphics.initializeCoordinates()}return this.pdfGraphics}getResources(){return null==this.resources&&(this.resources=new JS,this.content.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources}initialize(){this.addType(),this.addSubType()}addType(){let e=new Wx(this.dictionaryProperties.xObject);this.content.items.setValue(this.dictionaryProperties.type,e)}addSubType(){let e=new Wx(this.dictionaryProperties.form);this.content.items.setValue(this.dictionaryProperties.subtype,e)}reset(e){void 0===e?(null!=this.resources&&(this.resources=null,this.content.remove(this.dictionaryProperties.resources)),null!=this.graphics&&this.graphics.reset(this.size)):(this.setSize(e),this.reset())}setSize(e){let t=new v_(new y_(0,0),e),i=Jx.fromRectangle(t);this.content.items.setValue(this.dictionaryProperties.bBox,i),this.templateSize=e}get element(){return this.content}}class JS extends Ux{constructor(e){super(e),this.properties=new Ux}get names(){return this.getNames()}get document(){return this.pdfDocument}set document(e){this.pdfDocument=e}getName(e){let t=e.element,i=null;if(this.names.containsKey(t)&&(i=this.names.getValue(t)),null==i){let s=this.generateName();i=new Wx(s),this.names.setValue(t,i),e instanceof H_?this.add(e,i):e instanceof QS?this.add(e,i):e instanceof hS?this.add(e,i):(e instanceof yS||e instanceof bS)&&this.add(e,i)}return i}getNames(){null==this.pdfNames&&(this.pdfNames=new lS);let e=this.items.getValue(this.dictionaryProperties.font);if(null!=e){let t=e;t=Z_.dereference(e)}return this.pdfNames}requireProcedureSet(e){if(null==e)throw new Error("ArgumentNullException:procedureSetName");let t=this.items.getValue(this.dictionaryProperties.procset);null==t&&(t=new Jx,this.items.setValue(this.dictionaryProperties.procset,t));let i=new Wx(e);t.contains(i)||t.add(i)}removeFont(e){let t=null,i=this.pdfNames.keys();for(let s=0;s<this.pdfNames.size();s++)if(this.pdfNames.getValue(i[s])===new Wx(e)){t=i[s];break}null!=t&&this.pdfNames.remove(t)}generateName(){return class{static getNewGuidString(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,e=>{let t=16*Math.random()|0;return("a"===e?t:3&t|8).toString(16)})}}.getNewGuidString()}add(e,t){if(e instanceof H_){let i=null,s=this.items.getValue(this.dictionaryProperties.font);null!=s?(i=s,i=s):(i=new Ux,this.items.setValue(this.dictionaryProperties.font,i)),i.items.setValue(t.value,new a_(e.element))}else if(e instanceof QS){let i;i=this.items.getValue(this.dictionaryProperties.xObject),null==i&&(i=new Ux,this.items.setValue(this.dictionaryProperties.xObject,i)),i.items.setValue(t.value,new a_(e.element))}else if(e instanceof x_);else if(e instanceof hS){let i=e.element,s=null;s=this.items.getValue(this.dictionaryProperties.extGState),null==s&&(s=new Ux,this.items.setValue(this.dictionaryProperties.extGState,s)),s.items.setValue(t.value,new a_(i))}else{let i,s=this.Dictionary.items.getValue(this.dictionaryProperties.xObject);void 0!==this.pdfDocument&&(i=this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject)),this.Dictionary.items.values();let n,r=!1;if(void 0===this.pdfDocument||void 0!==typeof i&&null!=i){if(void 0!==this.pdfDocument){let t=i.items.values();for(let i=0;i<t.length;i++)void 0!==t[i]&&void 0!==t[i].element&&t[i].element.data[0]===e.element.data[0]&&(n=t[i],r=!0)}}else i=new Ux,this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject,i);if(null==s&&(s=new Ux,this.Dictionary.items.setValue(this.dictionaryProperties.xObject,s)),r&&void 0!==n)s.items.setValue(t.value,n);else{let n=new a_(e.element);s.items.setValue(t.value,n),void 0!==this.pdfDocument&&i.items.setValue(t.value,n)}}}}class eC{constructor(e){this.defLayerIndex=-1,this.modified=!1,this.dictionaryProperties=new qx,this.pageDictionary=e}get section(){return this.pdfSection}set section(e){this.pdfSection=e}get dictionary(){return this.pageDictionary}get element(){return this.pageDictionary}get defaultLayer(){return this.layers.items(this.defaultLayerIndex)}get defaultLayerIndex(){if(0===this.layerCollection.count||-1===this.defLayerIndex){let e=this.layerCollection.add();this.defLayerIndex=this.layerCollection.indexOf(e)}return this.defLayerIndex}get layers(){return null!=this.layerCollection&&void 0!==this.layerCollection||(this.layerCollection=new KS(this)),this.layerCollection}getResources(){return null==this.resources&&(this.resources=new JS,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources}get contents(){let e=this.pageDictionary.items.getValue(this.dictionaryProperties.contents);return null==e&&(e=new Jx,this.pageDictionary.items.setValue(this.dictionaryProperties.contents,e)),e}set defaultLayerIndex(e){if(e<0||e>this.layers.count-1)throw new Error("ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1");this.defLayerIndex=e,this.modified=!0}setResources(e){this.resources=e,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources),this.modified=!0}}class tC{constructor(e){this.alreadyExistsAnnotationError="This annotatation had been already added to page",this.missingAnnotationException="Annotation is not contained in collection.",this.dictionaryProperties=new qx,this.internalAnnotations=new Jx,this.lists=[],void 0!==e&&(this.page=e)}get annotations(){return this.internalAnnotations}set annotations(e){this.internalAnnotations=e}add(e){this.doAdd(e)}doAdd(e){if(void 0===e.destination)return e.setPage(this.page),this.internalAnnotations.add(new a_(e)),this.lists.push(e);{let t=(new V_).layout(e.text,e.font,e.stringFormat,new b_(e.bounds.width,0),!1,new b_(0,0)),i=e.bounds.y;if(1===t.lines.length){let s=e.font.measureString(t.lines[0].text);e.bounds=new v_(new y_(e.bounds.x,i),s),e.text=t.lines[0].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,e.bounds.y,e.bounds.width,e.bounds.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new a_(e)),this.lists.push(e)}else for(let s=0;s<t.lines.length;s++){let n=e.font.measureString(t.lines[s].text);if(0===s)e.bounds=new v_(e.bounds.x,i,n.width,n.height),e.text=t.lines[s].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,i,n.width,n.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new a_(e)),this.lists.push(e),i+=e.bounds.height;else{let r=e.clone();r.bounds=new v_(new y_(e.bounds.x,i),n),r.text=t.lines[s].text,this.page.graphics.drawString(r.text,r.font,null,r.brush,r.bounds.x,r.bounds.y,r.bounds.width,r.bounds.height,null),r.setPage(this.page),this.setColor(r),this.internalAnnotations.add(new a_(r)),this.lists.push(r),i+=r.bounds.height}}}}setColor(e){let t=e.color.toArray(u_.Rgb);e.dictionary.items.setValue(this.dictionaryProperties.c,t)}get element(){return this.internalAnnotations}}class iC extends eC{constructor(){super(new Ux),this.annotationCollection=null,this.beginSave=null,this.initialize()}get document(){return null!==this.section&&null!==this.section.parent?this.section.parent.document:null}get graphics(){let e=this.defaultLayer.graphics;return e.currentPage=this,e}get crossTable(){if(null===this.section)throw new Error("PdfDocumentException : Page is not created");return null===this.section.parent?this.section.parentDocument.crossTable:this.section.parent.document.crossTable}get size(){return this.section.pageSettings.size}get origin(){return this.section.pageSettings.origin}get annotations(){return null==this.annotationCollection&&(this.annotationCollection=new tC(this),this.dictionary.items.setValue(this.dictionaryProperties.annots,this.annotationCollection.element),this.annotationCollection.annotations=this.dictionary.items.getValue(this.dictionaryProperties.annots)),this.annotationCollection}initialize(){this.dictionary.items.setValue(this.dictionaryProperties.type,new Wx("Page")),this.dictionary.pageBeginDrawTemplate=new Kx(this)}setSection(e){this.section=e,this.dictionary.items.setValue(this.dictionaryProperties.parent,new a_(e))}resetProgress(){this.isProgressOn=!1}getClientSize(){let e=this.section.getActualBounds(this,!0);return new b_(e.width,e.height)}pageBeginSave(){let e=this.document;void 0!==typeof e&&null!=e&&this.drawPageTemplates(e),null!=this.beginSave&&void 0!==this.beginSave&&this.beginSave(this)}drawPageTemplates(e){if(this.section.containsTemplates(e,this,!1)){let t=new $S(this,!1);if(this.layers.insert(0,t),this.section.drawTemplates(this,t,e,!1),null!=t.graphics)for(let e=0;e<t.graphics.automaticFields.automaticFields.length;e++){let i=t.graphics.automaticFields.automaticFields[e];i.field.performDraw(t.graphics,i.location,i.scalingX,i.scalingY)}}if(this.section.containsTemplates(e,this,!0)){let t=new $S(this,!1);this.layers.add(t),this.section.drawTemplates(this,t,e,!0)}}}class sC{get page(){return this.pdfPage}constructor(e){this.pdfPage=void 0!==e?e:null}}class nC{constructor(e){if(this.pdfSection=null,null==e)throw Error('ArgumentNullException("section")');this.section=e}get section(){return this.pdfSection}set section(e){this.pdfSection=e}contains(e){return this.section.contains(e)}remove(e){this.section.remove(e)}add(){return this.section.add()}}class rC{get left(){return this.leftTemplate}set left(e){this.leftTemplate=this.checkElement(e,eS.Left)}get top(){return this.topTemplate}set top(e){this.topTemplate=this.checkElement(e,eS.Top)}get right(){return this.rightTemplate}set right(e){this.rightTemplate=this.checkElement(e,eS.Right)}get bottom(){return this.bottomTemplate}set bottom(e){this.bottomTemplate=this.checkElement(e,eS.Bottom)}get EvenLeft(){return this.evenLeft}set EvenLeft(e){this.evenLeft=this.checkElement(e,eS.Left)}get EvenTop(){return this.evenTop}set EvenTop(e){this.evenTop=this.checkElement(e,eS.Top)}get EvenRight(){return this.evenRight}set EvenRight(e){this.evenRight=this.checkElement(e,eS.Right)}get EvenBottom(){return this.evenBottom}set EvenBottom(e){this.evenBottom=this.checkElement(e,eS.Bottom)}get OddLeft(){return this.oddLeft}set OddLeft(e){this.oddLeft=this.checkElement(e,eS.Left)}get OddTop(){return this.oddTop}set OddTop(e){this.oddTop=this.checkElement(e,eS.Top)}get OddRight(){return this.oddRight}set OddRight(e){this.oddRight=this.checkElement(e,eS.Right)}get OddBottom(){return this.oddBottom}set OddBottom(e){this.oddBottom=this.checkElement(e,eS.Bottom)}constructor(){}getLeft(e){if(null==e)throw new Error("ArgumentNullException:page");let t=null;return t=this.isEven(e)?null!=this.EvenLeft?this.EvenLeft:this.left:null!=this.OddLeft?this.OddLeft:this.left,t}getTop(e){if(null==e)throw new Error("ArgumentNullException:page");let t=null;return t=this.isEven(e)?null!=this.EvenTop?this.EvenTop:this.top:null!=this.OddTop?this.OddTop:this.top,t}getRight(e){if(null==e)throw new Error("ArgumentNullException:page");let t=null;return t=this.isEven(e)?null!=this.EvenRight?this.EvenRight:this.right:null!=this.OddRight?this.OddRight:this.right,t}getBottom(e){if(null==e)throw new Error("ArgumentNullException:page");let t=null;return t=this.isEven(e)?null!=this.EvenBottom?this.EvenBottom:this.bottom:null!=this.OddBottom?this.OddBottom:this.bottom,t}isEven(e){let t=e.section.document.pages,i=0;return i=t.pageCollectionIndex.containsKey(e)?t.pageCollectionIndex.getValue(e)+1:t.indexOf(e)+1,i%2==0}checkElement(e,t){if(null!=e){if(void 0!==e.type&&e.type!==eS.None)throw new Error("NotSupportedException:Can not reassign the template element. Please, create new one.");e.type=t}return e}}class aC extends rC{get applyDocumentLeftTemplate(){return this.leftValue}set applyDocumentLeftTemplate(e){this.leftValue=e}get applyDocumentTopTemplate(){return this.topValue}set applyDocumentTopTemplate(e){this.topValue=e}get applyDocumentRightTemplate(){return this.rightValue}set applyDocumentRightTemplate(e){this.rightValue=e}get applyDocumentBottomTemplate(){return this.bottomValue}set applyDocumentBottomTemplate(e){this.bottomValue=e}get applyDocumentStamps(){return this.stampValue}set applyDocumentStamps(e){this.stampValue=e}constructor(){super(),this.leftValue=this.topValue=this.rightValue=this.bottomValue=this.stampValue=!0}}class oC{constructor(e,t){this.pageAdded=new sC,this.pdfPages=[],this.dictionaryProperties=new qx,this.pdfDocument=e,void 0===t?(this.settings=e.pageSettings.clone(),this.initialSettings=this.settings.clone()):(this.settings=t.clone(),this.initialSettings=this.settings.clone()),this.initialize()}get parent(){return this.sectionCollection}set parent(e){this.sectionCollection=e,this.section.items.setValue(this.dictionaryProperties.parent,new a_(e))}get parentDocument(){return this.pdfDocument}get pageSettings(){return this.settings}set pageSettings(e){if(null==e)throw Error("Value can not be null.");this.settings=e}get element(){return this.section}get count(){return this.pagesReferences.count}get template(){return null==this.pageTemplate&&(this.pageTemplate=new aC),this.pageTemplate}set template(e){this.pageTemplate=e}get document(){return this.sectionCollection.document}get pages(){return null!=this.pagesCollection&&void 0!==this.pagesCollection||(this.pagesCollection=new nC(this)),this.pagesCollection}getPages(){return this.pdfPages}pointToNativePdf(e,t){let i=this.getActualBounds(e,!0);return t.x+=i.x,t.y=this.pageSettings.height-t.y,t}setPageSettings(e){this.settings=e,this.state.orientation=e.orientation,this.state.rotate=e.rotate,this.state.size=e.size,this.state.origin=e.origin}initialize(){this.pagesReferences=new Jx,this.section=new Ux,this.state=new lC(this.pdfDocument),this.section.sectionBeginSave=new $x(this,this.state),this.pageCount=new Qx(0),this.section.items.setValue(this.dictionaryProperties.count,this.pageCount),this.section.items.setValue(this.dictionaryProperties.type,new Wx(this.dictionaryProperties.pages)),this.section.items.setValue(this.dictionaryProperties.kids,this.pagesReferences)}containsTemplates(e,t,i){let s=this.getDocumentTemplates(e,t,i),n=this.getSectionTemplates(t,i);return s.length>0||n.length>0}getDocumentTemplates(e,t,i){let s=[];return this.template.applyDocumentTopTemplate&&null!=e.template.getTop(t)&&(!e.template.getTop(t).foreground&&!i||e.template.getTop(t).foreground&&i)&&s.push(e.template.getTop(t)),this.template.applyDocumentBottomTemplate&&null!=e.template.getBottom(t)&&(!e.template.getBottom(t).foreground&&!i||e.template.getBottom(t).foreground&&i)&&s.push(e.template.getBottom(t)),this.template.applyDocumentLeftTemplate&&null!=e.template.getLeft(t)&&(!e.template.getLeft(t).foreground&&!i||e.template.getLeft(t).foreground&&i)&&s.push(e.template.getLeft(t)),this.template.applyDocumentRightTemplate&&null!=e.template.getRight(t)&&(!e.template.getRight(t).foreground&&!i||e.template.getRight(t).foreground&&i)&&s.push(e.template.getRight(t)),s}getSectionTemplates(e,t){let i=[];if(null!=this.template.getTop(e)){let s=this.template.getTop(e);(!s.foreground&&!t||s.foreground&&t)&&i.push(s)}if(null!=this.template.getBottom(e)){let s=this.template.getBottom(e);(!s.foreground&&!t||s.foreground&&t)&&i.push(s)}if(null!=this.template.getLeft(e)){let s=this.template.getLeft(e);(!s.foreground&&!t||s.foreground&&t)&&i.push(s)}if(null!=this.template.getRight(e)){let s=this.template.getRight(e);(!s.foreground&&!t||s.foreground&&t)&&i.push(s)}return i}add(e){if(void 0===e){let e=new iC;return this.add(e),e}{let t=this.checkPresence(e);this.pdfPages.push(e),this.pagesReferences.add(t),e.setSection(this),e.resetProgress(),this.pageAddedMethod(e)}}checkPresence(e){let t=new a_(e),i=!1,s=this.parent;for(let n=0;n<s.section.length;n++){let t=s.section[n];i=i||t.contains(e)}return t}contains(e){return 0<=this.indexOf(e)}indexOf(e){for(let i=0;i<this.pdfPages.length;i++)if(this.pdfPages[i]===e)return this.pdfPages.indexOf(e);let t=new a_(e);return this.pagesReferences.indexOf(t)}pageAddedMethod(e){let t=new sC(e);this.onPageAdded(t),this.parent.document.pages.onPageAdded(t),this.pageCount.intValue=this.count}onPageAdded(e){}getActualBounds(e,t,i){if(e instanceof iC&&"boolean"==typeof t){let i;return i=this.getActualBounds(this.parent.document,e,t),i}{e=e,t=t,i=i;let s=new v_(0,0,0,0);s.height=i?this.pageSettings.size.height:this.pageSettings.getActualSize().height,s.width=i?this.pageSettings.size.width:this.pageSettings.getActualSize().width;let n=this.getLeftIndentWidth(e,t,i),r=this.getTopIndentHeight(e,t,i),a=this.getRightIndentWidth(e,t,i),o=this.getBottomIndentHeight(e,t,i);return s.x+=n,s.y+=r,s.width-=n+a,s.height-=r+o,s}}getLeftIndentWidth(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");let s=i?this.pageSettings.margins.left:0,n=null!=this.template.getLeft(t)?this.template.getLeft(t).width:0,r=null!=e.template.getLeft(t)?e.template.getLeft(t).width:0;return s+=this.template.applyDocumentLeftTemplate?Math.max(n,r):n,s}getTopIndentHeight(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");let s=i?this.pageSettings.margins.top:0,n=null!=this.template.getTop(t)?this.template.getTop(t).height:0,r=null!=e.template.getTop(t)?e.template.getTop(t).height:0;return s+=this.template.applyDocumentTopTemplate?Math.max(n,r):n,s}getRightIndentWidth(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");let s=i?this.pageSettings.margins.right:0,n=null!=this.template.getRight(t)?this.template.getRight(t).width:0,r=null!=e.template.getRight(t)?e.template.getRight(t).width:0;return s+=this.template.applyDocumentRightTemplate?Math.max(n,r):n,s}getBottomIndentHeight(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");let s=i?this.pageSettings.margins.bottom:0,n=null!=this.template.getBottom(t)?this.template.getBottom(t).height:0,r=null!=e.template.getBottom(t)?e.template.getBottom(t).height:0;return s+=this.template.applyDocumentBottomTemplate?Math.max(n,r):n,s}remove(e){if(null==e)throw Error('ArgumentNullException("page")');let t=this.pdfPages.indexOf(e);this.pagesReferences.removeAt(t);let i=[];for(let s=0;s<t;s++)i.push(this.pdfPages[s]);for(let s=t+1;s<this.pdfPages.length;s++)i.push(this.pdfPages[s]);this.pdfPages=i}applyPageSettings(e,t,i){let s=new v_(i.origin,i.size);e.items.setValue(this.dictionaryProperties.mediaBox,Jx.fromRectangle(s));let n=0;n=hC.rotateFactor*i.rotate;let r=new Qx(n);e.items.setValue(this.dictionaryProperties.rotate,r)}beginSave(e,t){this.applyPageSettings(this.section,t.document.pageSettings,e)}drawTemplates(e,t,i,s){let n=this.getDocumentTemplates(i,e,s),r=this.getSectionTemplates(e,s);this.drawTemplatesHelper(t,i,n),this.drawTemplatesHelper(t,i,r)}drawTemplatesHelper(e,t,i){if(null!=i&&i.length>0){let s=i.length;for(let n=0;n<s;n++)i[n].draw(e,t)}}}class lC{get orientation(){return this.pageOrientation}set orientation(e){this.pageOrientation=e}get rotate(){return this.pageRotate}set rotate(e){this.pageRotate=e}get size(){return this.pageSize}set size(e){this.pageSize=e}get origin(){return this.pageOrigin}set origin(e){this.pageOrigin=e}constructor(e){this.pageOrientation=e.pageSettings.orientation,this.pageRotate=e.pageSettings.rotate,this.pageSize=e.pageSettings.size,this.pageOrigin=e.pageSettings.origin}}let hC=(()=>{class e{constructor(e){this.sections=[],this.dictionaryProperties=new qx,this.pdfDocument=e.clone(),this.initialize()}get section(){return this.sections}get document(){return this.pdfDocument}get count(){return this.sections.length}get element(){return this.pages}initialize(){this.sectionCount=new Qx(0),this.sectionCollection=new Jx,this.pages=new Ux,this.pages.beginSave=new Gx(this),this.pages.items.setValue(this.dictionaryProperties.type,new Wx("Pages")),this.pages.items.setValue(this.dictionaryProperties.kids,this.sectionCollection),this.pages.items.setValue(this.dictionaryProperties.count,this.sectionCount),this.pages.items.setValue(this.dictionaryProperties.resources,new Ux),this.setPageSettings(this.pages,this.pdfDocument.pageSettings)}pdfSectionCollection(e){if(e<0||e>=this.count)throw new Error("IndexOutOfRangeException()");return this.sections[e]}setPageSettings(e,t){let i=new v_(new y_,t.size);e.items.setValue(this.dictionaryProperties.mediaBox,Jx.fromRectangle(i))}add(e){if(void 0===e){let e=new oC(this.pdfDocument);return this.add(e),e}{let t=this.checkSection(e);return this.sections.push(e),e.parent=this,this.sectionCollection.add(t),this.sections.indexOf(e)}}checkSection(e){let t=new a_(e);return this.sectionCollection.contains(t),t}countPages(){let e=0;return this.sections.forEach(t=>e+=t.count),e}beginSave(){this.sectionCount.intValue=this.countPages()}}return e.rotateFactor=90,e})();class cC{constructor(e){this.pdfPageCollectionIndex=new jx,this.document=e}get count(){return this.countPages()}get pageCollectionIndex(){return this.pdfPageCollectionIndex}add(e){if(void 0===e){let e=new iC;return this.add(e),e}this.getLastSection().add(e)}getLastSection(){let e=this.document.sections;return 0===e.section.length&&e.add(),e.section[e.section.length-1]}onPageAdded(e){}countPages(){let e=this.document.sections,t=0;for(let i=0;i<e.section.length;i++)t+=e.section[i].count;return t}getPageByIndex(e){return this.getPage(e)}getPage(e){if(e<0||e>=this.count)throw Error('ArgumentOutOfRangeException("index", "Value can not be less 0")');let t=null,i=0,s=0,n=0,r=this.document.sections.count;for(let a=0;a<r;a++){let r=this.document.sections.section[a];if(s=r.count,n=e-i,e>=i&&n<s){t=r.getPages()[n];break}i+=s}return t}indexOf(e){let t=-1;if(null==e)throw new Error("ArgumentNullException: page");{let i=0;for(let s=0,n=this.document.sections.count;s<n;s++){let n=this.document.sections.pdfSectionCollection(s);if(t=n.indexOf(e),t>=0){t+=i;break}t=-1,i+=n.count}}return t}remove(e){if(null==e)throw Error('ArgumentNullException("page")');let t=null;for(let i=0,s=this.document.sections.count;i<s;i++)if(t=this.document.sections.pdfSectionCollection(i),t.pages.contains(e)){t.pages.remove(e);break}return t}}class dC{constructor(){this.referenceObjects=[],this.pdfFontCollection=new jx}search(e){let t=null,i=this.getGroup(e);return null==i?i=this.createNewGroup():i.length>0&&(t=i[0]),i.push(e),t}createNewGroup(){let e=[];return this.referenceObjects.push(e),e}getGroup(e){let t=null;if(null!==e){let i=this.referenceObjects.length;for(let s=0;s<i;s++){if(this.referenceObjects.length>0){let i=this.referenceObjects[s];if(i.length>0){if(e.equalsTo(i[0])){t=i;break}}else this.removeGroup(i)}i=this.referenceObjects.length}}return t}removeGroup(e){if(null!==e){let t=this.referenceObjects.indexOf(e);this.referenceObjects.slice(t,t+1)}}destroy(){this.pdfFontCollection=void 0,this.referenceObjects=void 0}}let uC=(()=>{class e extends U_{constructor(t){super(),this.defaultMargin=40,this.streamWriter=null,this.document=this;let i=!1;void 0===t?(e.cacheCollection=new dC,i=!1):i=t;let s=new Y_;this.setMainObjectCollection(s);let n=new Z_;n.isMerging=i,n.document=this,this.setCrossTable(n);let r=new X_;this.setCatalog(r),s.add(r),r.position=-1,this.sectionCollection=new hC(this),this.documentPageCollection=new cC(this),r.pages=this.sectionCollection}static get defaultFont(){return null==this.defaultStandardFont&&(this.defaultStandardFont=new mC(C_.Helvetica,8)),this.defaultStandardFont}get sections(){return this.sectionCollection}get pageSettings(){return null==this.settings&&(this.settings=new iS(this.defaultMargin)),this.settings}set pageSettings(e){this.settings=e}get pages(){return this.documentPageCollection}static get cache(){return void 0===e.cacheCollection||null==e.cacheCollection?new dC:e.cacheCollection}static set cache(e){this.cacheCollection=e}static get enableCache(){return this.isCacheEnabled}static set enableCache(e){this.isCacheEnabled=e}get colorSpace(){return this.pdfColorSpace===u_.Rgb||this.pdfColorSpace===u_.Cmyk||this.pdfColorSpace===u_.GrayScale?this.pdfColorSpace:u_.Rgb}set colorSpace(e){this.pdfColorSpace=e===u_.Rgb||e===u_.Cmyk||e===u_.GrayScale?e:u_.Rgb}get template(){return null==this.pageTemplate&&(this.pageTemplate=new rC),this.pageTemplate}set template(e){this.pageTemplate=e}docSave(e,t,i){if(this.checkPagesPresence(),null===e)throw new Error("ArgumentNullException : stream");this.streamWriter=e;let s=new j_(e);if(s.document=this,"boolean"==typeof t&&void 0===i)return this.crossTable.save(s);this.crossTable.save(s,t)}checkPagesPresence(){0===this.pages.count&&this.pages.add()}destroy(){this.catalog=void 0,this.colorSpace=void 0,this.currentSavingObj=void 0,this.documentPageCollection=void 0,this.isStreamCopied=void 0,this.pageSettings=void 0,this.pageTemplate=void 0,this.pdfColorSpace=void 0,this.sectionCollection=void 0,e.cache.destroy(),this.crossTable.pdfObjects.destroy(),e.cache=void 0,this.streamWriter.destroy()}}return e.defaultStandardFont=null,e.isCacheEnabled=!0,e})(),pC=(()=>{class e{static getMetrics(e,t,i){let s=null;switch(e){case C_.Helvetica:s=this.getHelveticaMetrics(e,t,i);break;case C_.Courier:s=this.getCourierMetrics(e,t,i);break;case C_.TimesRoman:s=this.getTimesMetrics(e,t,i);break;case C_.Symbol:s=this.getSymbolMetrics(e,t,i);break;case C_.ZapfDingbats:s=this.getZapfDingbatsMetrics(e,t,i);break;default:s=this.getHelveticaMetrics(C_.Helvetica,t,i)}return s.name=e.toString(),s.subScriptSizeFactor=this.subSuperScriptFactor,s.superscriptSizeFactor=this.subSuperScriptFactor,s}static getHelveticaMetrics(e,t,i){let s=new FS;return(t&S_.Bold)>0&&(t&S_.Italic)>0?(s.ascent=this.helveticaBoldItalicAscent,s.descent=this.helveticaBoldItalicDescent,s.postScriptName=this.helveticaBoldItalicName,s.size=i,s.widthTable=new zS(this.arialBoldWidth),s.height=s.ascent-s.descent):(t&S_.Bold)>0?(s.ascent=this.helveticaBoldAscent,s.descent=this.helveticaBoldDescent,s.postScriptName=this.helveticaBoldName,s.size=i,s.widthTable=new zS(this.arialBoldWidth),s.height=s.ascent-s.descent):(t&S_.Italic)>0?(s.ascent=this.helveticaItalicAscent,s.descent=this.helveticaItalicDescent,s.postScriptName=this.helveticaItalicName,s.size=i,s.widthTable=new zS(this.arialWidth),s.height=s.ascent-s.descent):(s.ascent=this.helveticaAscent,s.descent=this.helveticaDescent,s.postScriptName=this.helveticaName,s.size=i,s.widthTable=new zS(this.arialWidth),s.height=s.ascent-s.descent),s}static getCourierMetrics(e,t,i){let s=new FS;return(t&S_.Bold)>0&&(t&S_.Italic)>0?(s.ascent=this.courierBoldItalicAscent,s.descent=this.courierBoldItalicDescent,s.postScriptName=this.courierBoldItalicName,s.size=i,s.widthTable=new zS(this.fixedWidth),s.height=s.ascent-s.descent):(t&S_.Bold)>0?(s.ascent=this.courierBoldAscent,s.descent=this.courierBoldDescent,s.postScriptName=this.courierBoldName,s.size=i,s.widthTable=new zS(this.fixedWidth),s.height=s.ascent-s.descent):(t&S_.Italic)>0?(s.ascent=this.courierItalicAscent,s.descent=this.courierItalicDescent,s.postScriptName=this.courierItalicName,s.size=i,s.widthTable=new zS(this.fixedWidth),s.height=s.ascent-s.descent):(s.ascent=this.courierAscent,s.descent=this.courierDescent,s.postScriptName=this.courierName,s.size=i,s.widthTable=new zS(this.fixedWidth),s.height=s.ascent-s.descent),s}static getTimesMetrics(e,t,i){let s=new FS;return(t&S_.Bold)>0&&(t&S_.Italic)>0?(s.ascent=this.timesBoldItalicAscent,s.descent=this.timesBoldItalicDescent,s.postScriptName=this.timesBoldItalicName,s.size=i,s.widthTable=new zS(this.timesRomanBoldItalicWidths),s.height=s.ascent-s.descent):(t&S_.Bold)>0?(s.ascent=this.timesBoldAscent,s.descent=this.timesBoldDescent,s.postScriptName=this.timesBoldName,s.size=i,s.widthTable=new zS(this.timesRomanBoldWidth),s.height=s.ascent-s.descent):(t&S_.Italic)>0?(s.ascent=this.timesItalicAscent,s.descent=this.timesItalicDescent,s.postScriptName=this.timesItalicName,s.size=i,s.widthTable=new zS(this.timesRomanItalicWidth),s.height=s.ascent-s.descent):(s.ascent=this.timesAscent,s.descent=this.timesDescent,s.postScriptName=this.timesName,s.size=i,s.widthTable=new zS(this.timesRomanWidth),s.height=s.ascent-s.descent),s}static getSymbolMetrics(e,t,i){let s=new FS;return s.ascent=this.symbolAscent,s.descent=this.symbolDescent,s.postScriptName=this.symbolName,s.size=i,s.widthTable=new zS(this.symbolWidth),s.height=s.ascent-s.descent,s}static getZapfDingbatsMetrics(e,t,i){let s=new FS;return s.ascent=this.zapfDingbatsAscent,s.descent=this.zapfDingbatsDescent,s.postScriptName=this.zapfDingbatsName,s.size=i,s.widthTable=new zS(this.zapfDingbatsWidth),s.height=s.ascent-s.descent,s}}return e.subSuperScriptFactor=1.52,e.helveticaAscent=931,e.helveticaDescent=-225,e.helveticaName="Helvetica",e.helveticaBoldAscent=962,e.helveticaBoldDescent=-228,e.helveticaBoldName="Helvetica-Bold",e.helveticaItalicAscent=931,e.helveticaItalicDescent=-225,e.helveticaItalicName="Helvetica-Oblique",e.helveticaBoldItalicAscent=962,e.helveticaBoldItalicDescent=-228,e.helveticaBoldItalicName="Helvetica-BoldOblique",e.courierAscent=805,e.courierDescent=-250,e.courierName="Courier",e.courierBoldAscent=801,e.courierBoldDescent=-250,e.courierBoldName="Courier-Bold",e.courierItalicAscent=805,e.courierItalicDescent=-250,e.courierItalicName="Courier-Oblique",e.courierBoldItalicAscent=801,e.courierBoldItalicDescent=-250,e.courierBoldItalicName="Courier-BoldOblique",e.timesAscent=898,e.timesDescent=-218,e.timesName="Times-Roman",e.timesBoldAscent=935,e.timesBoldDescent=-218,e.timesBoldName="Times-Bold",e.timesItalicAscent=883,e.timesItalicDescent=-217,e.timesItalicName="Times-Italic",e.timesBoldItalicAscent=921,e.timesBoldItalicDescent=-218,e.timesBoldItalicName="Times-BoldItalic",e.symbolAscent=1010,e.symbolDescent=-293,e.symbolName="Symbol",e.zapfDingbatsAscent=820,e.zapfDingbatsDescent=-143,e.zapfDingbatsName="ZapfDingbats",e.arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],e.arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],e.fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],e.timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],e.timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],e.timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],e.timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],e.symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],e.zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],e})(),mC=(()=>{class e extends H_{constructor(t,i,s){super(i,void 0===s?t instanceof e?t.style:S_.Regular:s),this.dictionaryProperties=new qx,this.encodings=["Unknown","StandardEncoding","MacRomanEncoding","MacExpertEncoding","WinAnsiEncoding","PDFDocEncoding","IdentityH"],this.pdfFontFamily=void 0===t?C_.Helvetica:t instanceof e?t.fontFamily:t,this.checkStyle(),this.initializeInternals()}get fontFamily(){return this.pdfFontFamily}checkStyle(){if(this.fontFamily===C_.Symbol||this.fontFamily===C_.ZapfDingbats){let e=this.style;e&=~(S_.Bold|S_.Italic),this.setStyle(e)}}getLineWidth(t,i){if(null==t)throw new Error("ArgumentNullException:line");let s=0;for(let r=0,a=(t=e.convert(t)).length;r<a;r++)s+=this.getCharWidthInternal(t[r],i);let n=this.metrics.getSize(i);return s*=H_.charSizeMultiplier*n,s=this.applyFormatSettings(t,i,s),s}equalsToFont(e){let t=!1;if(null!=e){let i=~(S_.Underline|S_.Strikeout),s=(this.style&i)==(e.style&i);t=this.fontFamily===e.fontFamily&&s}return t}initializeInternals(){let e=null;e=uC.cache.search(this);let t=null,i=pC.getMetrics(this.pdfFontFamily,this.style,this.size);this.metrics=i,t=this.createInternals(),this.setInternals(t)}createInternals(){let e=new Ux;return e.items.setValue(this.dictionaryProperties.type,new Wx(this.dictionaryProperties.font)),e.items.setValue(this.dictionaryProperties.subtype,new Wx(this.dictionaryProperties.type1)),e.items.setValue(this.dictionaryProperties.baseFont,new Wx(this.metrics.postScriptName)),this.fontFamily!==C_.Symbol&&this.fontFamily!==C_.ZapfDingbats&&e.items.setValue(this.dictionaryProperties.encoding,new Wx(this.encodings[k_.WinAnsiEncoding])),e}getCharWidthInternal(t,i){let s=0,n=0;return n=t.charCodeAt(0),"0"!==this.name&&"1"!==this.name&&"2"!==this.name&&"3"!==this.name&&"4"!==this.name||(n-=e.charOffset),n=n>=0&&128!==n?n:0,s=this.metrics.widthTable.items(n),s}static convert(e){return e}}return e.charOffset=32,e})();function gC(e){let t,i=e.childNodes;for(let s=0;s<i.length;s++)if(t=i[s],3===t.nodeType)return t;return null}let fC=(()=>{let e=class extends kw{constructor(e,t){super(e,t)}preRender(){}render(){this.initialize(),this.removeRippleEffect=fw(this.element,{selector:".e-btn"}),this.renderComplete()}initialize(){if(this.cssClass&&Cv([this.element],this.cssClass.split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),this.content){let e=this.enableHtmlSanitizer?Ww.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss(),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled?this.controlStatus(this.disabled):this.wireEvents()}controlStatus(e){this.element.disabled=e}setIconCss(){if(this.iconCss){let e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),"Top"!==this.iconPosition&&"Bottom"!==this.iconPosition||this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");let t=this.element.childNodes[0];!t||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(e):this.element.insertBefore(e,t)}}wireEvents(){this.isToggle&&Tb.add(this.element,"click",this.btnClickHandler,this)}unWireEvents(){this.isToggle&&Tb.remove(this.element,"click",this.btnClickHandler)}btnClickHandler(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")}destroy(){{let e,t=["e-primary","e-rtl","e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),super.destroy(),Ev([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,"")),e=this.element.querySelector("span.e-btn-icon"),e&&Tv(e)}this.unWireEvents(),xw&&this.removeRippleEffect()}getModuleName(){return"btn"}getPersistData(){return this.addOnPersist([])}static Inject(){}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"isPrimary":e.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":let i=this.element.querySelector("span.e-btn-icon");i?e.iconCss?(i.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&i.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):Tv(i):this.setIconCss();break;case"iconPosition":Ev([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),i=this.element.querySelector("span.e-btn-icon"),i&&Tv(i),this.setIconCss();break;case"cssClass":t.cssClass&&Ev([this.element],t.cssClass.split(" ")),e.cssClass&&Cv([this.element],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl");break;case"content":gC(this.element)||this.element.classList.remove("e-icon-btn"),this.enableHtmlSanitizer&&(e.content=Ww.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss();break;case"isToggle":e.isToggle?Tb.add(this.element,"click",this.btnClickHandler,this):(Tb.remove(this.element,"click",this.btnClickHandler),Ev([this.element],["e-active"]))}}click(){this.element.click()}focusIn(){this.element.focus()}};return Wy([lw("Left")],e.prototype,"iconPosition",void 0),Wy([lw("")],e.prototype,"iconCss",void 0),Wy([lw(!1)],e.prototype,"disabled",void 0),Wy([lw(!1)],e.prototype,"isPrimary",void 0),Wy([lw("")],e.prototype,"cssClass",void 0),Wy([lw("")],e.prototype,"content",void 0),Wy([lw(!1)],e.prototype,"isToggle",void 0),Wy([lw()],e.prototype,"locale",void 0),Wy([lw(!1)],e.prototype,"enableHtmlSanitizer",void 0),Wy([dw()],e.prototype,"created",void 0),e=Wy([uw],e),e})(),yC={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};var bC;function vC(e,t){let i={};if(Qy(e)||"string"==typeof e||"number"==typeof e||!Qy(e.isHeader))return e;for(let s of Object.keys(t)){let n=t[s],r=Qy(n)||"string"!=typeof n?void 0:Gy(n,e);Qy(r)||(i[n]=r)}return i}let wC,xC,_C,SC;!function(e){e.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null};let t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},i={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:e.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function s(e,t,i,s){return v(e,n(e,t,i,s),null,s)}function n(e,t,s,n){let r=[],a=Ky({},i,n);yC=f(a.moduleName);let o=p();for(let i=0;i<t.length;i++){if(Qy(t[i]))continue;let l;a.itemCreating&&"function"==typeof a.itemCreating&&a.itemCreating({dataSource:t,curData:t[i],text:t[i],options:a}),l=s?g(e,t[i],void 0,null,null,[],null,o,i,n):b(e,t[i],void 0,null,null,n),a.itemCreated&&"function"==typeof a.itemCreated&&a.itemCreated({dataSource:t,curData:t[i],text:t[i],item:l,options:a}),r.push(l)}return r}function r(s,n,r,a,o){let l=Ky({},i,r);yC=f(l.moduleName);let h,u=Ky({},e.defaultMappedFields,l.fields),y=Ky({},t,l.ariaAttributes),v=[];a&&(y.level=a);let w,x,_=[];n&&n.length&&!Qy(c(n).item)&&!c(n).item.hasOwnProperty(u.id)&&(h=p());for(let e=0;e<n.length;e++){let t=vC(n[e],u);if(Qy(n[e]))continue;l.itemCreating&&"function"==typeof l.itemCreating&&l.itemCreating({dataSource:n,curData:n[e],text:t[u.text],options:l,fields:u});let i=n[e];l.itemCreating&&"function"==typeof l.itemCreating&&(t=vC(n[e],u)),t.hasOwnProperty(u.id)&&!Qy(t[u.id])&&(h=t[u.id]);let a=[];if(l.showCheckBox&&(l.itemNavigable&&(t[u.url]||t[u.urlAttributes])?v.push(s("input",{className:yC.check,attrs:{type:"checkbox"}})):a.push(s("input",{className:yC.check,attrs:{type:"checkbox"}}))),!0===o)l.showIcon&&t.hasOwnProperty(u.iconCss)&&!Qy(t[u.iconCss])&&a.push(s("span",{className:yC.icon+" "+t[u.iconCss]})),w=g(s,i,t,u,l.itemClass,a,!(!i.hasOwnProperty("isHeader")||!i.isHeader),h,e,r),x=w.querySelector("."+yC.anchorWrap),l.itemNavigable&&v.length&&Av(v,w.firstElementChild);else{if(w=b(s,i,t,u,l.itemClass,r),w.classList.add(yC.level+"-"+y.level),w.setAttribute("aria-level",y.level.toString()),x=w.querySelector("."+yC.anchorWrap),t.hasOwnProperty(u.tooltip)&&w.setAttribute("title",t[u.tooltip]),t.hasOwnProperty(u.htmlAttributes)&&t[u.htmlAttributes]&&d(w,t[u.htmlAttributes]),t.hasOwnProperty(u.enabled)&&!1===t[u.enabled]&&w.classList.add(yC.disabled),t.hasOwnProperty(u.isVisible)&&!1===t[u.isVisible]&&(w.style.display="none"),t.hasOwnProperty(u.imageUrl)&&!Qy(t[u.imageUrl])&&!l.template){let e={src:t[u.imageUrl]};$y(e,t[u.imageAttributes]);let i=s("img",{className:yC.image,attrs:e});x?x.insertAdjacentElement("afterbegin",i):Av([i],w.firstElementChild)}if(l.showIcon&&t.hasOwnProperty(u.iconCss)&&!Qy(t[u.iconCss])&&!l.template){let e;e=s("div",{className:yC.icon+" "+t[u.iconCss]}),x?x.insertAdjacentElement("afterbegin",e):Av([e],w.firstElementChild)}a.length&&Av(a,w.firstElementChild),l.itemNavigable&&v.length&&Av(v,w.firstElementChild),m(s,t,u,0,l,w,y.level)}x&&Cv([w],[yC.navigable]),l.itemCreated&&"function"==typeof l.itemCreated&&l.itemCreated({dataSource:n,curData:n[e],text:t[u.text],item:w,options:l,fields:u}),v=[],_.push(w)}return _}function a(e,t,s,n,a){let o=Ky({},i,s);return v(e,r(e,t,s,n,a),o.listClass,s)}function o(e,t){if(t&&e){let i=t;return i=Array.prototype.slice.call(t),i.indexOf(e)}}function l(e,t,i=new vx){if("Ascending"===e)i.sortBy(t,"ascending",!0);else if("Descending"===e)i.sortBy(t,"descending",!0);else for(let s=0;s<i.queries.length;s++)"onSortBy"===i.queries[s].fn&&i.queries.splice(s,1);return i}function h(e,t){return new Ax(e).executeLocal(t)}function c(e){for(let t=0;t<e.length;t++)if(!Qy(e[t]))return{typeof:typeof e[t],item:e[t]};return{typeof:null,item:null}}function d(e,t){let i={};$y(i,t),i.class&&(Cv([e],i.class.split(" ")),delete i.class),Pv(e,i)}function u(e){let t={},i=e.attributes;for(let s=0;s<i.length;s++)t[i[s].nodeName]=i[s].nodeValue;return t}function p(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function m(e,t,i,s,n,r,o){let l=t[i.child]||[],h=t[i.hasChildren];if(l.length&&(h=!0,r.classList.add(yC.hasChild),n.processSubChild)){let t=a(e,l,n,++o);r.appendChild(t)}n.expandCollapse&&h&&!n.template&&(r.firstElementChild.classList.add(yC.iconWrapper),("Left"===n.expandIconPosition?Av:Mv)([e("div",{className:"e-icons "+n.expandIconClass})],r.querySelector("."+yC.textContent)))}function g(e,s,n,r,a,o,l,h,c,u){let p,m,g=Ky({},i,u),f=Ky({},t,g.ariaAttributes),b=s,v=s;"string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s&&(p=s,b="boolean"==typeof n[r.text]||"number"==typeof n[r.text]?n[r.text]:n[r.text]||"",v=n[r.value]),m=Qy(p)||Qy(n[r.id])||""===n[r.id]?h+"-"+c:h;let w=e("li",{className:(!0===l?yC.group:yC.li)+" "+(Qy(a)?"":a),id:m,attrs:""!==f.groupItemRole&&""!==f.itemRole?{role:!0===l?f.groupItemRole:f.itemRole}:{}});return p&&n.hasOwnProperty(r.enabled)&&"false"===n[r.enabled].toString()&&w.classList.add(yC.disabled),l?w.innerText=b:(w.setAttribute("data-value",Qy(v)?"null":v),w.setAttribute("role","option"),p&&n.hasOwnProperty(r.htmlAttributes)&&n[r.htmlAttributes]&&d(w,n[r.htmlAttributes]),o.length&&!g.itemNavigable&&Mv(o,w),p&&(n[r.url]||n[r.urlAttributes]&&n[r.urlAttributes].href)?w.appendChild(y(e,p,r,b,o,g.itemNavigable)):(o.length&&g.itemNavigable&&Mv(o,w),w.appendChild(document.createTextNode(b)))),w}function f(e){return{li:`e-${e}-item`,ul:`e-${e}-parent e-ul`,group:`e-${e}-group-item`,icon:`e-${e}-icon`,text:`e-${e}-text`,check:`e-${e}-check`,checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:`e-${e}-url`,collapsible:"e-icon-collapsible",disabled:"e-disabled",image:`e-${e}-img`,iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function y(e,t,i,s,n,r){let a,o=vC(t,i),l={href:o[i.url]};if(o.hasOwnProperty(i.urlAttributes)&&o[i.urlAttributes]&&($y(l,o[i.urlAttributes]),l.href=o[i.url]?o[i.url]:o[i.urlAttributes].href),r){a=e("a",{className:yC.text+" "+yC.url});let t=e("div",{className:yC.anchorWrap});n&&n.length&&Mv(n,t),t.appendChild(document.createTextNode(s)),Mv([t],a)}else a=e("a",{className:yC.text+" "+yC.url,innerHTML:s});return d(a,l),a}function b(e,s,n,r,a,o){let l,h,c,d=Ky({},i,o),u=Ky({},t,d.ariaAttributes),m=s;"string"!=typeof s&&"number"!=typeof s&&(c=s,m=n[r.text]||"",l=n[r.id],h=!(!s.hasOwnProperty("isHeader")||!s.isHeader)),o&&o.enableHtmlSanitizer&&(m=Ww.sanitize(m));let g=e("li",{className:(!0===h?yC.group:yC.li)+" "+(Qy(a)?"":a),attrs:""!==u.groupItemRole&&""!==u.itemRole?{role:!0===h?u.groupItemRole:u.itemRole}:{}});if(Qy(l)?g.setAttribute("data-uid",p()):g.setAttribute("data-uid",l),o&&o.removeBlazorID&&"object"==typeof s&&s.hasOwnProperty("BlazId")&&delete s.BlazId,h&&o&&o.groupTemplate)Mv(sv(o.groupTemplate)(s,null,null,d.groupTemplateID,!!d.isStringTemplate),g);else if(!h&&o&&o.template)Mv(sv(o.template)(s,null,null,d.templateID,!!d.isStringTemplate),g);else{let t=e("div",{className:yC.textContent,attrs:""!==u.wrapperRole?{role:u.wrapperRole}:{}});c&&(n[r.url]||n[r.urlAttributes]&&n[r.urlAttributes].href)?t.appendChild(y(e,c,r,m,null,d.itemNavigable)):(t.appendChild(e("span",{className:yC.text,innerHTML:m,attrs:""!==u.itemText?{role:u.itemText}:{}})),o&&o.enableHtmlSanitizer&&(t.querySelector("."+yC.text).innerText=Ww.sanitize(m))),g.appendChild(t)}return g}function v(e,s,n,r){let a=Ky({},i,r),o=Ky({},t,a.ariaAttributes);yC=f(a.moduleName);let l=e("ul",{className:yC.ul+" "+(Qy(n)?"":n),attrs:""!==o.listRole?{role:o.listRole}:{}});return Mv(s,l),l}e.createList=function(e,n,r,o){let l=Ky({},i,r),h=Ky({},t,l.ariaAttributes),d=c(n).typeof;return"string"===d||"number"===d?s(e,n,o,r):a(e,n,r,h.level,o)},e.createListFromArray=s,e.createListItemFromArray=n,e.createListItemFromJson=r,e.createListFromJson=a,e.getSiblingLI=function(e,t,s){if(yC=f(i.moduleName),!e||!e.length)return;let n,r,a=Array.prototype.slice.call(e);for(r=t?o(t,a):!0===s?a.length:-1,n=a[r+(!0===s?-1:1)];n&&(!kv(n)||n.classList.contains(yC.disabled));)r+=!0===s?-1:1,n=a[r];return n},e.indexOf=o,e.groupDataSource=function(t,i,s="None"){let n=Ky({},e.defaultMappedFields,i),r=(new vx).group(n.groupBy);r=l(s,"key",r);let a=h(t,r);t=[];for(let e=0;e<a.length;e++){let i=a[e].items,s={},r="isHeader";s[n.text]=a[e].key,s[r]=!0,s.id="group-list-item-"+(a[e].key?a[e].key.toString().trim():"undefined"),s.items=i,t.push(s);for(let e=0;e<i.length;e++)t.push(i[e])}return t},e.addSorting=l,e.getDataSource=h,e.createJsonFromElement=function t(s,n){let r=Ky({},i,n),a=Ky({},e.defaultMappedFields,r.fields),o=s.cloneNode(!0),l=[];o.classList.add("json-parent");let h=o.querySelectorAll(".json-parent>li");o.classList.remove("json-parent");for(let e=0;e<h.length;e++){let i=h[e],s=i.querySelector("a"),r=i.querySelector("ul"),o={},c=s?s.childNodes:i.childNodes,d=Object.keys(c);for(let e=0;e<c.length;e++)c[Number(d[e])].hasChildNodes()||(o[a.text]=c[Number(d[e])].textContent);let m=u(i);m.id?(o[a.id]=m.id,delete m.id):o[a.id]=p(),Object.keys(m).length&&(o[a.htmlAttributes]=m),s&&(m=u(s),Object.keys(m).length&&(o[a.urlAttributes]=m)),r&&(o[a.child]=t(r,n)),l.push(o)}return l},e.renderContentTemplate=function(t,s,n,r,a){yC=f(i.moduleName);let o=t("ul",{className:yC.ul,attrs:{role:"presentation"}}),l=Ky({},i,a),h=Ky({},e.defaultMappedFields,r),c=sv(s),d=[],u=p();for(let e=0;e<n.length;e++){let i=vC(n[e],h),s=n[e],r=s.isHeader,a=i[h.value];l.itemCreating&&"function"==typeof l.itemCreating&&l.itemCreating({dataSource:n,curData:s,text:a,options:l,fields:h}),l.itemCreating&&"function"==typeof l.itemCreating&&(i=vC(n[e],h),a=i[h.value]);let o=t("li",{id:u+"-"+e,className:r?yC.group:yC.li,attrs:{role:"presentation"}});r?o.innerText=i[h.text]:(Mv(c(s,null,null,r?l.groupTemplateID:l.templateID,!!l.isStringTemplate),o),o.setAttribute("data-value",Qy(a)?"null":a),o.setAttribute("role","option")),l.itemCreated&&"function"==typeof l.itemCreated&&l.itemCreated({dataSource:n,curData:s,text:a,item:o,options:l,fields:h}),d.push(o)}return Mv(d,o),o},e.renderGroupTemplate=function(t,s,n,r,a){let o=sv(t),l=Ky({},e.defaultMappedFields,n),h=Ky({},i,a),c=l.groupBy;for(let e of r){let t={};t[c]=e.textContent,e.innerHTML="",Mv(o(t,null,null,h.groupTemplateID,!!h.isStringTemplate),e)}return r},e.generateId=p,e.generateUL=v,e.generateIcon=function(e,t,s,n){let r=Ky({},i,n);return yC=f(r.moduleName),("Left"===r.expandIconPosition?Av:Mv)([e("div",{className:"e-icons "+r.expandIconClass+" "+(Qy(s)?"":s)})],t.querySelector("."+yC.textContent)),t}}(bC||(bC={}));let CC,EC,DC=!1;function kC(e,t,i,s,n){return xC=i+t==="topright"?void 0:n,xC=n,DC=!!s,e?(t||(t="left"),i||(i="top"),SC=e.ownerDocument,_C=e,function(e,t,i){switch(wC=_C.getBoundingClientRect(),t+e){case"topcenter":AC(VC(),i),MC(IC(),i);break;case"topright":AC(NC(),i),MC(IC(),i);break;case"centercenter":AC(VC(),i),MC(PC(),i);break;case"centerright":AC(NC(),i),MC(PC(),i);break;case"centerleft":AC(OC(),i),MC(PC(),i);break;case"bottomcenter":AC(VC(),i),MC(RC(),i);break;case"bottomright":AC(NC(),i),MC(RC(),i);break;case"bottomleft":AC(OC(),i),MC(RC(),i);break;default:case"topleft":AC(OC(),i),MC(IC(),i)}return i}(t.toLowerCase(),i.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function AC(e,t){t.left=e}function MC(e,t){t.top=e}function LC(){return SC.documentElement.scrollTop||SC.body.scrollTop}function TC(){return SC.documentElement.scrollLeft||SC.body.scrollLeft}function RC(){return DC?wC.bottom:wC.bottom+LC()}function PC(){return IC()+wC.height/2}function IC(){return DC?wC.top:wC.top+LC()}function OC(){return wC.left+TC()}function NC(){return wC.right+TC()-(xC?xC.width:0)}function VC(){return OC()+wC.width/2}function FC(e,t,i){e.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},e.TR={top:e.TL.top,left:e.TL.left+i.width},e.BL={top:e.TL.top+i.height,left:e.TL.left},e.BR={top:e.TL.top+i.height,left:e.TL.left+i.width}}function BC(e,t){let i=!1,s=!1;return e-$C()<UC()&&(i=!0),t>GC()&&(s=!0),{leftSide:i,rightSide:s}}function zC(e,t){let i=!1,s=!1;return e-ZC()<qC()&&(i=!0),t>XC()&&(s=!0),{topSide:i,bottomSide:s}}function HC(){return EC.getBoundingClientRect().width}function jC(){return EC.getBoundingClientRect().height}function WC(){return EC.getBoundingClientRect().left}function YC(){return EC.getBoundingClientRect().top}function qC(){return EC?YC():0}function UC(){return EC?WC():0}function GC(){return EC?$C()+WC()+HC():$C()+QC()}function XC(){return EC?ZC()+YC()+jC():ZC()+KC()}function ZC(){return CC.documentElement.scrollTop||CC.body.scrollTop}function $C(){return CC.documentElement.scrollLeft||CC.body.scrollLeft}function KC(){return window.innerHeight}function QC(){let e=window.innerWidth;return e-(e-(Qy(document.documentElement)?0:document.documentElement.offsetWidth))}let JC=(()=>{class e extends Sw{}return Wy([lw("left")],e.prototype,"X",void 0),Wy([lw("top")],e.prototype,"Y",void 0),e})(),eE=(()=>{let e=class extends kw{constructor(e,t){super(t,e)}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"width":Vv(this.element,{width:ib(e.width)});break;case"height":Vv(this.element,{height:ib(e.height)});break;case"zIndex":Vv(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":let i=e.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+i).toString()+"px";break;case"offsetY":let s=e.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+s).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}getModuleName(){return"popup"}getPersistData(){return this.addOnPersist([])}destroy(){this.element.classList.remove("e-popup","e-rtl","e-popup-open","e-popup-close"),this.unwireEvents(),super.destroy()}render(){this.element.classList.add("e-popup");let e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=ib(this.width)),"auto"!==this.height&&(e.height=ib(this.height)),Vv(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()}wireEvents(){Kv.isDevice&&Tb.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()}wireScrollEvents(){if(this.getRelateToElement())for(let e of this.getScrollableParent(this.getRelateToElement()))Tb.add(e,"scroll",this.scrollRefresh,this)}unwireEvents(){Kv.isDevice&&Tb.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()}unwireScrollEvents(){if(this.getRelateToElement())for(let e of this.getScrollableParent(this.getRelateToElement()))Tb.remove(e,"scroll",this.scrollRefresh)}getRelateToElement(){let e=""===this.relateTo||Qy(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo}scrollRefresh(e){if("reposition"===this.actionOnScroll?this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){let t=this.isElementOnViewport(this.getRelateToElement(),e.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}}isElementOnViewport(e,t){let i=this.getScrollableParent(e);for(let s=0;s<i.length;s++)if(!this.isElementVisible(e,i[s]))return!1;return!0}isElementVisible(e,t){let i=this.checkGetBoundingClientRect(e);if(!i.height||!i.width)return!1;if(Qy(this.checkGetBoundingClientRect(t))){let t=window,s={top:t.scrollY,left:t.scrollX,right:t.scrollX+t.outerWidth,bottom:t.scrollY+t.outerHeight},n=kC(e),r={top:n.top,left:n.left,right:n.left+i.width,bottom:n.top+i.height},a={top:s.bottom-r.top,left:s.right-r.left,bottom:r.bottom-s.top,right:r.right-s.left};return a.top>0&&a.left>0&&a.right>0&&a.bottom>0}{let e=t.getBoundingClientRect();return!(i.bottom<e.top||i.bottom>e.bottom||i.right>e.right||i.left<e.left)}}preRender(){}setEnableRtl(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}setContent(){Qy(this.content)||(this.element.innerHTML="","string"==typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))}orientationOnChange(){setTimeout(()=>{this.refreshPosition()},200)}refreshPosition(e,t){Qy(e)||this.checkFixedParent(e),this.reposition(),t||this.checkCollision()}reposition(){let e,t,i=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){let s,n=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(s=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),t=this.getAnchorPosition(i,this.element,this.position,this.offsetX,this.offsetY),e="string"==typeof this.position.X?{left:t.left,top:this.position.Y}:{left:this.position.X,top:t.top},this.element.style.display=n,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=s)}else if(i){let t=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(i,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=t}else e={left:0,top:0};Qy(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")}checkGetBoundingClientRect(e){let t;try{return t=e.getBoundingClientRect(),t}catch(i){return null}}getAnchorPosition(e,t,i,s,n){let r=this.checkGetBoundingClientRect(t),a=this.checkGetBoundingClientRect(e);if(Qy(r)||Qy(a))return null;let o=e,l={left:0,top:0};switch(t.offsetParent&&"BODY"===t.offsetParent.tagName&&"BODY"===e.tagName?l=kC(e):(t.classList.contains("e-dlg-modal")&&"BODY"!==o.tagName&&(t=t.parentElement),l=function(e,t){let i=!1,s={left:0,top:0},n=e;if(!e||!t)return s;for(Qy(t.offsetParent)&&"fixed"===t.style.position&&(i=!0);(t.offsetParent||i)&&e&&t.offsetParent!==e;)s.left+=e.offsetLeft,s.top+=e.offsetTop,e=e.offsetParent;for(e=n;(t.offsetParent||i)&&e&&t.offsetParent!==e;)s.left-=e.scrollLeft,s.top-=e.scrollTop,e=e.parentElement;return s}(o,t)),i.X){default:case"left":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===o.tagName&&"container"===this.targetType?l.left+=window.innerWidth/2-r.width/2:l.left+="container"===this.targetType?a.width/2-r.width/2:a.width/2;break;case"right":t.classList.contains("e-dlg-modal")&&"BODY"===o.tagName&&"container"===this.targetType?l.left+=window.innerWidth-r.width:l.left+="container"===this.targetType?a.width-r.width:a.width}switch(i.Y){default:case"top":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===o.tagName&&"container"===this.targetType?l.top+=window.innerHeight/2-r.height/2:l.top+="container"===this.targetType?a.height/2-r.height/2:a.height/2;break;case"bottom":t.classList.contains("e-dlg-modal")&&"BODY"===o.tagName&&"container"===this.targetType?l.top+=window.innerHeight-r.height:l.top+="container"===this.targetType?a.height-r.height:a.height}return l.left+=s,l.top+=n,l}callFlip(e){let t=this.getRelateToElement();!function(e,t,i,s,n,r,a=null,o={X:!0,Y:!0},l){if(!(t&&e&&n&&r&&(o.X||o.Y)))return;let h={TL:null,TR:null,BL:null,BR:null},c={TL:null,TR:null,BL:null,BR:null},d=e.getBoundingClientRect(),u={posX:n,posY:r,offsetX:i,offsetY:s,position:{left:0,top:0}};EC=a,CC=t.ownerDocument,function(e,t,i,s,n){i.position=kC(e,i.posX,i.posY,s,n),t.TL=kC(e,"left","top",s,n),t.TR=kC(e,"right","top",s,n),t.BR=kC(e,"left","bottom",s,n),t.BL=kC(e,"right","bottom",s,n)}(t,h,u,l,d),FC(c,u,d),o.X&&function e(t,i,s,n,r,a){let o=BC(i.TL.left,i.TR.left);s.TL.left-$C()<=UC()&&(o.leftSide=!1),s.TR.left>=GC()&&(o.rightSide=!1),(o.leftSide&&!o.rightSide||!o.leftSide&&o.rightSide)&&(n.posX="right"===n.posX?"left":"right",n.offsetX=n.offsetX+r.width,n.offsetX=-1*n.offsetX,n.position=kC(t,n.posX,n.posY,!1),FC(i,n,r),a&&e(t,i,s,n,r,!1))}(t,c,h,u,d,!0),o.Y&&h.TL.top>-1&&function e(t,i,s,n,r,a){let o=zC(i.TL.top,i.BL.top);s.TL.top-ZC()<=qC()&&(o.topSide=!1),s.BL.top>=XC()&&(o.bottomSide=!1),(o.topSide&&!o.bottomSide||!o.topSide&&o.bottomSide)&&(n.posY="top"===n.posY?"bottom":"top",n.offsetY=n.offsetY+r.height,n.offsetY=-1*n.offsetY,n.position=kC(t,n.posX,n.posY,!1,r),FC(i,n,r),a&&e(t,i,s,n,r,!1))}(t,c,h,u,d,!0),function(e,t,i){let s=0,n=0;if(null!=e.offsetParent&&("absolute"===getComputedStyle(e.offsetParent).position||"relative"===getComputedStyle(e.offsetParent).position)){let t=kC(e.offsetParent,"left","top",!1,i);s=t.left,n=t.top}e.style.top=t.position.top+t.offsetY-n+"px",e.style.left=t.position.left+t.offsetX-s+"px"}(e,u,d)}(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)}callFit(e){if(0!==function(e,t=null,i,s){let n=kC(e,"left","top");i&&(n.left=i),s&&(n.top=s);let r=[];EC=t,CC=e.ownerDocument;let a=e.getBoundingClientRect(),o=n.left,l=n.left+a.width,h=zC(n.top,n.top+a.height),c=BC(o,l);return h.topSide&&r.push("top"),c.rightSide&&r.push("right"),c.leftSide&&r.push("left"),h.bottomSide&&r.push("bottom"),r}(this.element,this.viewPortElement).length)if(Qy(this.viewPortElement)){let t=function(e,t=null,i={X:!1,Y:!1},s){if(!i.Y&&!i.X)return{left:0,top:0};let n=e.getBoundingClientRect();if(EC=t,CC=e.ownerDocument,s||(s=kC(e,"left","top")),i.X){let e=EC?HC():QC(),t=UC(),i=GC(),r=t-s.left,a=s.left+n.width-i;n.width>e?s.left=r>0&&a<=0?i-n.width:a>0&&r<=0?t:r>a?i-n.width:t:r>0?s.left+=r:a>0&&(s.left-=a)}if(i.Y){let e=EC?jC():KC(),t=qC(),i=XC(),r=t-s.top,a=s.top+n.height-i;n.height>e?s.top=r>0&&a<=0?i-n.height:a>0&&r<=0?t:r>a?i-n.height:t:r>0?s.top+=r:a>0&&(s.top-=a)}return s}(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=t.left+"px"),e.Y&&(this.element.style.top=t.top+"px")}else{let t=this.checkGetBoundingClientRect(this.element),i=this.checkGetBoundingClientRect(this.viewPortElement);if(Qy(t)||Qy(i))return null;e&&!0===e.Y&&(i.top>t.top?this.element.style.top="0px":i.bottom<t.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(t.bottom-i.bottom)+"px")),e&&!0===e.X&&(i.right<t.right?this.element.style.left=parseInt(this.element.style.left,10)-(t.right-i.right)+"px":i.left>t.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(i.left-t.left)+"px"))}}checkCollision(){let e=this.collision.X,t=this.collision.Y;"none"===e&&"none"===t||("flip"===e&&"flip"===t?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===t?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===t&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===t&&this.callFit({X:!1,Y:!0})))}show(e,t){if(this.wireEvents(),1e3===this.zIndex||!Qy(t)){let e=Qy(t)?this.element:t;this.zIndex=tE(e),Vv(this.element,{zIndex:this.zIndex})}e=Qy(e)||"object"!=typeof e?this.showAnimation:e,"none"===this.collision.X&&"none"===this.collision.Y||(Ev([this.element],"e-popup-close"),Cv([this.element],"e-popup-open"),this.checkCollision(),Ev([this.element],"e-popup-open"),Cv([this.element],"e-popup-close")),Qy(e)?(Ev([this.element],"e-popup-close"),Cv([this.element],"e-popup-open"),this.trigger("open")):(e.begin=()=>{this.isDestroyed||(Ev([this.element],"e-popup-close"),Cv([this.element],"e-popup-open"))},e.end=()=>{this.isDestroyed||this.trigger("open")},new gw(e).animate(this.element))}hide(e){e=Qy(e)||"object"!=typeof e?this.hideAnimation:e,Qy(e)?(Ev([this.element],"e-popup-open"),Cv([this.element],"e-popup-close"),this.trigger("close")):(e.end=()=>{this.isDestroyed||(Ev([this.element],"e-popup-open"),Cv([this.element],"e-popup-close"),this.trigger("close"))},new gw(e).animate(this.element)),this.unwireEvents()}getScrollableParent(e){return this.checkFixedParent(e),function(e,t){let i=getComputedStyle(e),s=[],n=/(auto|scroll)/,r=e.parentElement;for(;r&&"HTML"!==r.tagName;){let e=getComputedStyle(r);"absolute"===i.position&&"static"===e.position||!n.test(e.overflow+e.overflowY+e.overflowX)||s.push(r),r=r.parentElement}return t||s.push(document),s}(e,this.fixedParent)}checkFixedParent(e){let t=e.parentElement;for(;t&&"HTML"!==t.tagName;){let e=getComputedStyle(t);"fixed"===e.position&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.position="fixed",this.fixedParent=!0),t=t.parentElement,Qy(this.element.offsetParent)&&"fixed"===e.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}}};return Wy([lw("auto")],e.prototype,"height",void 0),Wy([lw("auto")],e.prototype,"width",void 0),Wy([lw(null)],e.prototype,"content",void 0),Wy([lw("container")],e.prototype,"targetType",void 0),Wy([lw(null)],e.prototype,"viewPortElement",void 0),Wy([lw({X:"none",Y:"none"})],e.prototype,"collision",void 0),Wy([lw("")],e.prototype,"relateTo",void 0),Wy([hw({},JC)],e.prototype,"position",void 0),Wy([lw(0)],e.prototype,"offsetX",void 0),Wy([lw(0)],e.prototype,"offsetY",void 0),Wy([lw(1e3)],e.prototype,"zIndex",void 0),Wy([lw(!1)],e.prototype,"enableRtl",void 0),Wy([lw("reposition")],e.prototype,"actionOnScroll",void 0),Wy([lw(null)],e.prototype,"showAnimation",void 0),Wy([lw(null)],e.prototype,"hideAnimation",void 0),Wy([dw()],e.prototype,"open",void 0),Wy([dw()],e.prototype,"close",void 0),Wy([dw()],e.prototype,"targetExitViewport",void 0),e=Wy([uw],e),e})();function tE(e){let t=e.parentElement,i=[];for(;t&&"BODY"!==t.tagName;){let e=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),s=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==e&&"static"!==s&&i.push(e),t=t.parentElement}let s=[];for(let o=0;o<document.body.children.length;o++)if(!e.isEqualNode(document.body.children[o])){let e=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("z-index"),t=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("position");"auto"!==e&&"static"!==t&&s.push(e)}s.push("999");let n=[];if(!Qy(e.parentElement)&&"BODY"!==e.parentElement.tagName){let t=[].slice.call(e.parentElement.children);for(let e=0;e<t.length;e++){let i=document.defaultView.getComputedStyle(t[e],null).getPropertyValue("z-index"),s=document.defaultView.getComputedStyle(t[e],null).getPropertyValue("position");"auto"!==i&&"static"!==s&&n.push(i)}}let r=i.concat(s,n),a=Math.max.apply(Math,r)+1;return a>2147483647?2147483647:a}let iE,sE,nE,rE,aE,oE,lE,hE,cE,dE=["north-west","north","north-east","west","east","south-west","south","south-east"],uE=0,pE=0,mE=0,gE=0,fE=0,yE=0,bE=["e-restrict-left"],vE=null,wE=null,xE=null,_E=!0,SE=0,CE=!0;function EE(e){let t;return Qy(e)||(t="string"==typeof e?document.querySelector(e):e),t}function DE(e){Qy(e)&&(e=this);let t=iE.querySelectorAll(".e-resize-handle");for(let i=0;i<t.length;i++)sE=t[i],Tb.add(sE,"mousedown",AE,e),Tb.add(sE,"msie"===Kv.info.name?"pointerdown":"touchstart",TE,e)}function kE(e){return e.indexOf("mouse")>-1?"mouse":"touch"}function AE(e){if(e.preventDefault(),iE=e.target.parentElement,LE(),fE=e.pageX,yE=e.pageY,e.target.classList.add("e-focused-handle"),!Qy(vE)&&(cE=this,!0===vE(e,cE)))return;let t=Qy(lE)?document:lE;Tb.add(t,"mousemove",RE,this),Tb.add(document,"mouseup",ME,this);for(let i=0;i<bE.length;i++)_E=!iE.classList.contains(bE[i])}function ME(e){let t="msie"===Kv.info.name?"pointermove":"touchmove",i="msie"===Kv.info.name?"pointerup":"touchend",s=Qy(lE)?document:lE;Tb.remove(s,"mousemove",RE),Tb.remove(s,t,RE),Tb.remove(s,"msie"===Kv.info.name?"pointerdown":"touchstart",RE),Qy(document.body.querySelector(".e-focused-handle"))||document.body.querySelector(".e-focused-handle").classList.remove("e-focused-handle"),Qy(xE)||(cE=this,xE(e,cE)),Tb.remove(document,"mouseup",ME),Tb.remove(document,i,ME)}function LE(){uE=parseFloat(getComputedStyle(iE,null).getPropertyValue("width").replace("px","")),pE=parseFloat(getComputedStyle(iE,null).getPropertyValue("height").replace("px","")),mE=iE.getBoundingClientRect().left,gE=iE.getBoundingClientRect().top}function TE(e){iE=e.target.parentElement,LE();let t=e.touches?e.changedTouches[0]:e;if(fE=t.pageX,yE=t.pageY,!Qy(vE)&&(cE=this,!0===vE(e,cE)))return;let i="msie"===Kv.info.name?"pointermove":"touchmove",s="msie"===Kv.info.name?"pointerup":"touchend",n=Qy(lE)?document:lE;Tb.add(n,i,RE,this),Tb.add(document,s,ME)}function RE(e){if(e.target.classList.contains("e-resize-handle")&&e.target.classList.contains("e-focused-handle")?sE=e.target:Qy(document.body.querySelector(".e-focused-handle"))||(sE=document.body.querySelector(".e-focused-handle")),!Qy(sE)){let t="";for(let e=0;e<dE.length;e++)sE.classList.contains("e-"+dE[e])&&(t=dE[e]);switch(Qy(wE)||(cE=this,wE(e,cE)),t){case"south":IE(e);break;case"north":OE(e);break;case"west":NE(e);break;case"east":VE(e);break;case"south-east":IE(e),VE(e);break;case"south-west":IE(e),NE(e);break;case"north-east":OE(e),VE(e);break;case"north-west":OE(e),NE(e)}}}function PE(e){return e.getBoundingClientRect()}function IE(e){let t,i=document.documentElement.clientHeight,s=!1,n=(e.touches?e.changedTouches[0]:e).pageY,r=PE(iE);Qy(lE)||(t=PE(lE)),Qy(lE)?Qy(lE)&&(i-n>=0||r.top<0)&&(s=!0):s=!0;let a=pE+(n-yE);a=a>nE?a:nE;let o=0;Qy(lE)||(o=t.top);let l=Qy(lE)?0:lE.offsetHeight-lE.clientHeight,h=r.top-o-l/2;if(h=h<0?0:h,r.top>0&&h+a>rE){if(s=!1,iE.classList.contains("e-resize-viewport"))return;return void(iE.style.height=rE-parseInt(h.toString(),10)+"px")}let c=0;if(s){r.top<0&&i+(r.height+r.top)>0&&(c=r.top,a+c<=30&&(a=r.height-(r.height+r.top)+30)),a+r.top>=rE&&(iE.style.height=r.height+(i-(r.height+r.top))+"px");let e=Qy(lE)?c:h;a>=nE&&a+e<=rE&&(iE.style.height=a+"px")}}function OE(e){let t,i=!1,s="mouse"===kE(e.type)?e.pageY:e.touches[0].pageY,n=PE(iE);Qy(lE)||(t=PE(lE)),!Qy(lE)&&n.top-t.top>0?i=!0:Qy(lE)&&s>0&&(i=!0);let r=pE-(s-yE);if(PE(iE).bottom+r>rE&&(i=!1,iE.style.height=rE-PE(iE).bottom+"px"),i&&r>=nE&&r<=rE){let e=0;Qy(lE)||(e=t.top);let i=gE-e+(s-yE);i=i>0?i:1,iE.style.height=r+"px",iE.style.top=i+"px"}}function NE(e){let t,i=document.documentElement.clientWidth,s=!1;Qy(lE)||(t=PE(lE));let n="mouse"===kE(e.type)?e.pageX:e.touches[0].pageX,r=PE(iE),a=Qy(lE)?0:lE.offsetWidth-lE.clientWidth,o=Qy(lE)?0:t.left,l=Qy(lE)?0:t.width;Qy(hE)&&(Qy(lE)?hE=i:(hE=r.left-o-a/2+r.width,hE+=l-a-hE)),!Qy(lE)&&r.left-t.left+r.width+(t.right-r.right)-a<=oE?s=!0:Qy(lE)&&n>=0&&(s=!0);let h=uE-(n-fE);if(_E&&(h=h>hE?hE:h),s&&h>=aE&&h<=oE){let e=0;Qy(lE)||(e=t.left);let i=mE-e+(n-fE);i=i>0?i:1,h!==SE&&CE&&(iE.style.width=h+"px"),_E&&(iE.style.left=i+"px",CE=1!==i)}SE=h}function VE(e){let t,i=document.documentElement.clientWidth,s=!1;Qy(lE)||(t=PE(lE));let n=(e.touches?e.changedTouches[0]:e).pageX,r=PE(iE);!Qy(lE)&&(r.left-t.left+r.width<oE||r.right-t.left>r.width)?s=!0:Qy(lE)&&i-n>0&&(s=!0);let a=uE+(n-fE),o=0;if(Qy(lE)||(o=t.left),r.left-o+a>oE){if(s=!1,iE.classList.contains("e-resize-viewport"))return;iE.style.width=oE-(r.left-o)+"px"}s&&a>=aE&&a<=oE&&(iE.style.width=a+"px")}function FE(){let e=iE.querySelectorAll(".e-resize-handle");for(let t=0;t<e.length;t++)Tv(e[t])}let BE=(()=>{class e extends Sw{}return Wy([lw()],e.prototype,"buttonModel",void 0),Wy([lw("Button")],e.prototype,"type",void 0),Wy([dw()],e.prototype,"click",void 0),e})(),zE=(()=>{class e extends Sw{}return Wy([lw("Fade")],e.prototype,"effect",void 0),Wy([lw(400)],e.prototype,"duration",void 0),Wy([lw(0)],e.prototype,"delay",void 0),e})();const HE="e-dialog",jE="e-dlg-target",WE="e-scroll-disabled",YE="e-dlg-fullscreen";let qE=(()=>{let e=class extends kw{constructor(e,t){super(e,t)}render(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=this.minHeight.toString()),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()}preRender(){if(this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=e=>{this.hide(e)},this.dlgOverlayClickEventHandler=e=>{this.trigger("overlayClick",e),this.focusContent()},this.l10n=new Nw("dialog",{close:"Close"},this.locale),this.checkPositionData(),Qy(this.target)){let e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=e}}isNumberValue(e){return/^[-+]?\d*\.?\d+$/.test(e)}checkPositionData(){if(!Qy(this.position)){if(!Qy(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){let e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=e}if(!Qy(this.position.Y)&&"number"!=typeof this.position.Y&&this.isNumberValue(this.position.Y)){let e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=e}}}getEle(e,t){let i=void 0;for(let s=0;s<e.length;s++)if(e[s].classList.contains(t)){i=e[s];break}return i}getMinHeight(){let e="0px",t="0px";Qy(this.element.querySelector(".e-dlg-header-content"))||(e=getComputedStyle(this.headerContent).height);let i=this.getEle(this.element.children,"e-footer-content");Qy(i)||(t=getComputedStyle(i).height);let s=parseInt(e.slice(0,e.indexOf("p")),10),n=parseInt(t.slice(0,t.indexOf("p")),10);return nE=s+30+n,s+30+n}onResizeStart(e,t){return t.trigger("resizeStart",e),e.cancel}onResizing(e,t){t.trigger("resizing",e)}onResizeComplete(e,t){t.trigger("resizeStop",e)}setResize(){if(this.enableResize){if(this.isBlazorServerRender()&&!Qy(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add("e-dlg-resizable");let e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth,i=this.enableRtl?"south-west":"south-east";this.isModal&&this.enableRtl?this.element.classList.add("e-restrict-left"):this.isModal&&this.target===document.body&&this.element.classList.add("e-resize-viewport"),function(e){vE=e.resizeBegin,wE=e.resizing,xE=e.resizeComplete,iE=EE(e.element),lE=EE(e.boundary);let t=e.direction.split(" ");for(let i=0;i<t.length;i++){let e=Sv("div",{className:"e-icons e-resize-handle e-"+t[i]});iE.appendChild(e)}nE=e.minHeight,aE=e.minWidth,oE=e.maxWidth,rE=e.maxHeight,e.proxy&&e.proxy.element&&e.proxy.element.classList.contains("e-dialog")?DE(e.proxy):DE()}({element:this.element,direction:i,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this})}else FE(),this.element.classList.remove(this.isModal?"e-restrict-left":"e-resize-viewport"),this.element.classList.remove("e-dlg-resizable")}keyDown(e){if(9===e.keyCode&&this.isModal){let t;Qy(this.btnObj)||(t=this.btnObj[this.btnObj.length-1]),Qy(t)||document.activeElement!==t.element||e.shiftKey||(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),Qy(t)||t.element.focus())}let t=document.activeElement,i=["input","textarea"].indexOf(t.tagName.toLowerCase())>-1,s=!1;if(i||(s=t.hasAttribute("contenteditable")&&"true"===t.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape&&this.hide(e),13===e.keyCode&&!e.ctrlKey&&"textarea"!==t.tagName.toLowerCase()&&i&&!Qy(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===t.tagName.toLowerCase()||s)&&!Qy(this.primaryButtonEle)){let t;this.buttons.some((e,i)=>{t=i;let s=e.buttonModel;return!Qy(s)&&!0===s.isPrimary})&&"function"==typeof this.buttons[t].click&&setTimeout(()=>{this.buttons[t].click.call(this,e)})}}initialize(){Qy(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||Cv([this.element],HE),Kv.isDevice&&Cv([this.element],"e-device"),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()}initRender(){if(this.initialRender=!0,this.isBlazorServerRender()||Pv(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&Qy(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()||(this.setTargetContent(),""===this.header||Qy(this.header)||this.setHeader(),this.showCloseIcon&&this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||Qy(this.footerTemplate)?Qy(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&(Qy(this.buttons[0].buttonModel)||""!==this.footerTemplate||this.setButton()),this.allowDragging&&!Qy(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(Pv(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&Qy(this.dlgContainer)&&(this.dlgContainer=this.element.parentElement,this.dlgOverlay=this.element.parentElement.getElementsByClassName("e-dlg-overlay")[0]),!0!==this.element.classList.contains("e-alert-dialog")&&!0!==this.element.classList.contains("e-confirm-dialog")&&!Qy(this.element.parentElement)){let e=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),e.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}Qy(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new eE(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:e=>{let t={container:this.isModal?this.dlgContainer:this.element,element:this.element,target:this.target,preventFocus:!1};this.enableResize&&this.resetResizeIcon(),this.trigger("open",t,e=>{e.preventFocus||this.focusContent()})},close:e=>{this.isModal&&Cv([this.dlgOverlay],"e-fade"),this.unBindEvent(this.element),this.isModal&&(this.dlgContainer.style.display="none"),this.trigger("close",this.closeArgs);let t=document.activeElement;Qy(t)||Qy(t.blur)||t.blur(),Qy(this.storeActiveElement)||Qy(this.storeActiveElement.focus)||this.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(Cv([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1}resetResizeIcon(){let e=this.getMinHeight();if(this.targetEle.offsetHeight<e){let t=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));Qy(t)||(t.style.bottom="-"+e.toString()+"px")}}setOverlayZindex(e){let t;t=Qy(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()}positionChange(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()}setPopupPosition(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})}setAllowDragging(){this.dragObj=new Rw(this.element,{clone:!1,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:e=>{this.trigger("dragStart",e,e=>{})},dragStop:e=>{this.isModal&&(Qy(this.position)||this.dlgContainer.classList.remove("e-dlg-"+this.position.X+"-"+this.position.Y),this.element.style.position="relative"),this.trigger("dragStop",e),this.element.classList.remove("e-restrict-left")},drag:e=>{this.trigger("drag",e)}}),Qy(this.targetEle)||(this.dragObj.dragArea=this.targetEle)}setButton(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(let e=0;e<this.buttons.length;e++){let t=Qy(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),i=this.createElement("button",{attrs:{type:t}});this.buttonContent.push(i.outerHTML)}this.setFooterTemplate()}let e=this.element.querySelector(".e-footer-content"),t=!Qy(e)&&e.querySelectorAll("button");for(let i=0;i<this.buttons.length;i++)this.isBlazorServerRender()||(this.btnObj[i]=new fC(this.buttons[i].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector(".e-footer-content")),!Qy(this.ftrTemplateContent)&&"function"==typeof this.buttons[i].click&&t.length>0&&Tb.add(t[i],"click",this.buttons[i].click,this),this.isBlazorServerRender()||Qy(this.ftrTemplateContent)||(this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]),this.btnObj[i].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])}setContent(){Pv(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(Qy(this.content)||""===this.content)&&this.initialRender||("string"!=typeof this.content?this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle):this.contentEle.innerHTML=this.sanitizeHelper(this.content)),Qy(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(this.isBlazorServerRender()||!Kv.isIE||""!==this.element.style.width||Qy(this.width)||(this.element.style.width=ib(this.width)),this.setMaxHeight())}setTemplate(e,t){let i,s,n;s=t.classList.contains("e-dlg-header")?this.element.id+"header":t.classList.contains("e-footer-content")?this.element.id+"footerTemplate":this.element.id+"content",Qy(e.outerHTML)?"string"!=typeof e?(i=sv(e),n=e):t.innerHTML=this.sanitizeHelper(e):t.appendChild(e);let r=[];if(!Qy(i)){let e=!0;for(let t of i({},null,null,s,e))r.push(t);Mv([].slice.call(r),t)}}sanitizeHelper(e){if(this.enableHtmlSanitizer){let t=Ww.beforeSanitize();Ky(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!Qy(t.helper)?e=t.helper(e):t.cancel||(e=Ww.serializeValue(t,e))}return e}setMaxHeight(){if(!this.allowMaxHeight)return;let e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!Qy(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,Kv.isIE&&"auto"===this.height&&!Qy(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}setEnableRTL(){this.isBlazorServerRender()||(this.enableRtl?Cv([this.element],"e-rtl"):Ev([this.element],"e-rtl")),Qy(this.element.querySelector(".e-resize-handle"))||(FE(),this.setResize())}setTargetContent(){if(Qy(this.content)||""===this.content){let e=""!==this.element.innerHTML.replace(/\s|<(\/?|\!?)(!--!--)>/g,"");(this.element.children.length>0||e)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(e=>{8!==e.nodeType&&this.innerContentElement.appendChild(e)}))}}setHeader(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:"e-dlg-header"}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle),Pv(this.element,{"aria-labelledby":this.element.id+"_title"}),this.element.insertBefore(this.headerContent,this.element.children[0])}setFooterTemplate(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:"e-footer-content"}),""===this.footerTemplate||Qy(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent),this.element.appendChild(this.ftrTemplateContent)}createHeaderContent(){Qy(this.headerContent)&&(this.headerContent=this.createElement("div",{className:"e-dlg-header-content"}))}renderCloseIcon(){this.closeIcon=this.createElement("button",{className:"e-dlg-closeicon-btn",attrs:{type:"button"}}),this.closeIconBtnObj=new fC({cssClass:"e-flat",iconCss:"e-icon-dlg-close e-icons"}),this.closeIconTitle(),Qy(this.headerContent)?(this.createHeaderContent(),Av([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):Av([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon)}closeIconTitle(){this.l10n.setLocale(this.locale);let e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)}setCSSClass(e){this.cssClass&&Cv([this.element],this.cssClass.split(" ")),e&&Ev([this.element],e.split(" "))}setIsModal(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.element.classList.remove("e-popup-open"),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),Cv([this.element],"e-dlg-modal"),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)}getValidFocusNode(e){let t;for(let i=0;i<e.length;i++)if(t=e[i],(t.clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;return t}focusableElements(e){if(!Qy(e)){let t=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(t)}return null}getAutoFocusNode(e){let t=e.querySelector(".e-dlg-closeicon-btn"),i=e.querySelectorAll("[autofocus]"),s=this.getValidFocusNode(i);if(Qy(s)){if(s=this.focusableElements(this.contentEle),!Qy(s))return s;if(!Qy(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=s;return t}disableElement(e,t){let i=e?e.matches||e.webkitMatchesSelector||e.msMatchesSelector:null;if(i)for(;e;e=e.parentNode)if(e instanceof Element&&i.call(e,t))return e;return null}focusContent(){let e=this.getAutoFocusNode(this.element);(Qy(e)?this.element:e).focus(),this.bindEvent(this.element)}bindEvent(e){Tb.add(e,"keydown",this.keyDown,this)}unBindEvent(e){Tb.remove(e,"keydown",this.keyDown)}updateSanitizeContent(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))}isBlazorServerRender(){return!1}getModuleName(){return"dialog"}onPropertyChanged(e,t){if(this.element.classList.contains(HE))for(let i of Object.keys(e))switch(i){case"content":Qy(this.content)||""===this.content?Qy(this.contentEle)||(Tv(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),Qy(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?this.isBlazorServerRender()&&!Qy(this.element.querySelector(".e-dlg-content"))||this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||Qy(this.header)?this.headerEle&&(Tv(this.headerEle),this.headerEle=null):this.isBlazorServerRender()&&!Qy(this.element.querySelector(".e-dlg-header-content"))||this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||Qy(this.footerTemplate)){if(!this.ftrTemplateContent)return;Tv(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.isBlazorServerRender()&&!Qy(this.element.querySelector(".e-footer-content"))||this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName("e-icon-dlg-close").length>0?this.showCloseIcon||""!==this.header&&!Qy(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():Tv(this.closeIcon):(Tv(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":Vv(this.element,{height:ib(e.height)});break;case"width":Vv(this.element,{width:ib(e.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":let i=this.buttons.length;Qy(this.ftrTemplateContent)||this.isBlazorServerRender()||(Tv(this.ftrTemplateContent),this.ftrTemplateContent=null);for(let e=0;e<i;e++)Qy(this.buttons[e].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!Qy(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){let e=Qy(t.position.X)?this.position.X:t.position.X,i=Qy(t.position.Y)?this.position.Y:t.position.Y;this.dlgContainer.classList.contains("e-dlg-"+e+"-"+i)&&this.dlgContainer.classList.remove("e-dlg-"+e+"-"+i)}this.positionChange();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize()}}setTarget(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()}updateIsModal(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",Qy(this.targetEle)||this.targetEle.appendChild(this.dlgContainer);else{for(Ev([this.element],"e-dlg-modal"),Ev([document.body],[jE,WE]),Tv(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&Tb.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}setzIndex(e,t){let i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.zIndex=tE(e),this.isProtectedOnChange=i,t&&(this.popupObj.zIndex=this.zIndex)}getPersistData(){return this.addOnPersist([])}destroy(){if(this.isDestroyed)return;let e=["e-rtl","e-dlg-modal","e-dlg-resizable","e-restrict-left",YE,"e-device"],t=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(Ev([this.targetEle],[jE,WE]),this.element.classList.contains(YE)&&Ev([document.body],[jE,WE]),this.isModal&&Ev([Qy(this.targetEle)?document.body:this.targetEle],WE),this.unWireEvents(),!Qy(this.btnObj))for(let i=0;i<this.btnObj.length;i++)this.btnObj[i].destroy();if(Qy(this.dragObj)||this.dragObj.destroy(),this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),Ev([this.element],e),Qy(this.cssClass)||""===this.cssClass||Ev([this.element],this.cssClass.split(" ")),Qy(this.refElement)||Qy(this.refElement.parentElement)||(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),Tv(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(Tv(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),Tv(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!Qy(this.element.children))for(let i=0;i<=this.element.children.length;i++)i-=i,Tv(this.element.children[i]);for(let i=0;i<t.length;i++)this.element.removeAttribute(t[i]);this.isBlazorServerRender()?this.isDestroyed=!0:super.destroy()}wireEvents(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&Tb.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&Tb.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}unWireEvents(){if(this.showCloseIcon&&Tb.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&Tb.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!Qy(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(let e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&Tb.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)}refreshPosition(){this.popupObj.refreshPosition()}show(e){if(this.element.classList.contains(HE)&&(!this.element.classList.contains("e-popup-open")||!Qy(e))){Qy(e)||this.fullScreen(e);let t={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",t,e=>{if(!e.cancel){this.element.style.maxHeight!==t.maxHeight&&(this.allowMaxHeight=!1,this.element.style.maxHeight=t.maxHeight),this.storeActiveElement=document.activeElement,this.element.tabIndex=-1,this.isModal&&!Qy(this.dlgOverlay)&&(this.dlgOverlay.style.display="block",this.dlgContainer.style.display="flex",Ev([this.dlgOverlay],"e-fade"),Qy(this.targetEle)?Cv([document.body],[jE,WE]):(this.dlgContainer.style.position=this.targetEle===document.body?"fixed":"absolute",this.dlgOverlay.style.position="absolute",this.element.style.position="relative",Cv([this.targetEle],[jE,WE])));let e={name:this.animationSettings.effect+"In",duration:this.animationSettings.duration,delay:this.animationSettings.delay},i=this.isModal?this.element.parentElement:this.element;this.calculatezIndex&&(this.setzIndex(i,!0),Vv(this.element,{zIndex:this.zIndex}),this.isModal&&this.setOverlayZindex(this.zIndex)),"None"===this.animationSettings.effect?this.popupObj.show():this.popupObj.show(e),this.dialogOpen=!0;let s=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!0,this.preventVisibility=!0,this.isProtectedOnChange=s}})}}hide(e){if(this.element.classList.contains(HE)&&this.preventVisibility){let t={cancel:!1,isInteraction:!!e,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e};this.closeArgs=t,this.trigger("beforeClose",t,e=>{if(!e.cancel){this.isModal&&(Qy(this.targetEle)?Ev([document.body],[jE,WE]):Ev([this.targetEle],[jE,WE]));let e={name:this.animationSettings.effect+"Out",duration:this.animationSettings.duration,delay:this.animationSettings.delay};"None"===this.animationSettings.effect?this.popupObj.hide():this.popupObj.hide(e),this.dialogOpen=!1;let t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!1,this.preventVisibility=!1,this.isProtectedOnChange=t}})}}fullScreen(e){if(e){Cv([this.element],YE);let e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=Qy(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=e,Cv([document.body],[jE,WE]),this.allowDragging&&!Qy(this.dragObj)&&this.dragObj.destroy()}else Ev([this.element],YE),Ev([document.body],[jE,WE]),this.allowDragging&&!Qy(this.headerContent)&&this.setAllowDragging();return e}getButtons(e){return Qy(e)?this.btnObj:this.btnObj[e]}};return Wy([lw("")],e.prototype,"content",void 0),Wy([lw(!0)],e.prototype,"enableHtmlSanitizer",void 0),Wy([lw(!1)],e.prototype,"showCloseIcon",void 0),Wy([lw(!1)],e.prototype,"isModal",void 0),Wy([lw("")],e.prototype,"header",void 0),Wy([lw(!0)],e.prototype,"visible",void 0),Wy([lw(!1)],e.prototype,"enableResize",void 0),Wy([lw("auto")],e.prototype,"height",void 0),Wy([lw("")],e.prototype,"minHeight",void 0),Wy([lw("100%")],e.prototype,"width",void 0),Wy([lw("")],e.prototype,"cssClass",void 0),Wy([lw(1e3)],e.prototype,"zIndex",void 0),Wy([lw(null)],e.prototype,"target",void 0),Wy([lw("")],e.prototype,"footerTemplate",void 0),Wy([lw(!1)],e.prototype,"allowDragging",void 0),Wy([cw([{}],BE)],e.prototype,"buttons",void 0),Wy([lw(!0)],e.prototype,"closeOnEscape",void 0),Wy([hw({},zE)],e.prototype,"animationSettings",void 0),Wy([hw({X:"center",Y:"center"},JC)],e.prototype,"position",void 0),Wy([dw()],e.prototype,"created",void 0),Wy([dw()],e.prototype,"open",void 0),Wy([dw()],e.prototype,"beforeSanitizeHtml",void 0),Wy([dw()],e.prototype,"beforeOpen",void 0),Wy([dw()],e.prototype,"close",void 0),Wy([dw()],e.prototype,"beforeClose",void 0),Wy([dw()],e.prototype,"dragStart",void 0),Wy([dw()],e.prototype,"dragStop",void 0),Wy([dw()],e.prototype,"drag",void 0),Wy([dw()],e.prototype,"overlayClick",void 0),Wy([dw()],e.prototype,"resizeStart",void 0),Wy([dw()],e.prototype,"resizing",void 0),Wy([dw()],e.prototype,"resizeStop",void 0),Wy([dw()],e.prototype,"destroyed",void 0),e=Wy([uw],e),e})();var UE,GE;!function(e){function t(e,t){let i=new qE(e);return i.appendTo(t),i}function i(e,t){return e.header=Qy(t.title)?"Information":t.title,e.content=Qy(t.content)?"":t.content,e.isModal=!!Qy(t.isModal)||t.isModal,e.showCloseIcon=!Qy(t.showCloseIcon)&&t.showCloseIcon,e.allowDragging=!Qy(t.isDraggable)&&t.isDraggable,e.closeOnEscape=!Qy(t.closeOnEscape)&&t.closeOnEscape,e.position=Qy(t.position)?{X:"center",Y:"top"}:t.position,e.animationSettings=Qy(t.animationSettings)?{effect:"Fade",duration:400,delay:0}:t.animationSettings,e.cssClass=Qy(t.cssClass)?"":t.cssClass,e.zIndex=Qy(t.zIndex)?1e3:t.zIndex,e.open=Qy(t.open)?null:t.open,e}function s(e,t,i){let s=i;return Qy(t.text)||(s.buttonModel.content=t.text),Qy(t.icon)||(s.buttonModel.iconCss=t.icon),Qy(t.cssClass)||(s.buttonModel.cssClass=t.cssClass),Qy(t.click)||(s.click=t.click),s}e.alert=function(e){let n,r=Sv("div",{className:"e-alert-dialog"});return document.body.appendChild(r),n=t("string"==typeof e?{content:e,position:{X:"center",Y:"top"},isModal:!0,header:"Information",buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function(e){let t={buttons:[]};return t=i(t,e),t=function(e,t){let i=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return Qy(t.okButton)?e.buttons=i:e.buttons[0]=s(0,t.okButton,i[0]),e}(t,e),t}(e),r),n.close=()=>{e&&e.close&&e.close.apply(n),n.destroy(),n.element.classList.contains("e-dlg-modal")?(n.element.parentElement.remove(),n.target.classList.remove("e-scroll-disabled")):n.element.remove()},n},e.confirm=function(e){let n,r=Sv("div",{className:"e-confirm-dialog"});return document.body.appendChild(r),n=t("string"==typeof e?{position:{X:"center",Y:"top"},content:e,isModal:!0,header:"Information",buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function(e){let t={buttons:[]};return t=i(t,e),t=function(e,t){let i={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},n={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return e.buttons[0]=Qy(t.okButton)?i:s(0,t.okButton,i),e.buttons[1]=Qy(t.cancelButton)?n:s(0,t.cancelButton,n),e}(t,e),t}(e),r),n.close=()=>{e&&e.close&&e.close.apply(n),n.destroy(),n.element.classList.contains("e-dlg-modal")?(n.element.parentElement.remove(),n.target.classList.remove("e-scroll-disabled")):n.element.remove()},n}}(UE||(UE={})),function(e){let t;function i(e){s(e.floatLabelType,e.element),e.element.addEventListener("focus",(function(){let e=d(this);(e.classList.contains("e-input-group")||e.classList.contains("e-outline")||e.classList.contains("e-filled"))&&e.classList.add("e-input-focus")})),e.element.addEventListener("blur",(function(){let e=d(this);(e.classList.contains("e-input-group")||e.classList.contains("e-outline")||e.classList.contains("e-filled"))&&e.classList.remove("e-input-focus")})),e.element.addEventListener("input",()=>{s(t,e.element)})}function s(e,t){let i=t.value;""===i||Qy(i)?"Always"!==e&&t.parentElement&&t.parentElement.classList.remove("e-valid-input"):t.parentElement.classList.add("e-valid-input")}function n(){let e=d(this).getElementsByClassName("e-float-text")[0];Qy(e)||(Cv([e],"e-label-top"),e.classList.contains("e-label-bottom")&&Ev([e],"e-label-bottom"))}function r(){let e=d(this);if(e.getElementsByTagName("textarea")[0]?""===e.getElementsByTagName("textarea")[0].value:""===e.getElementsByTagName("input")[0].value){let t=e.getElementsByClassName("e-float-text")[0];Qy(t)||(t.classList.contains("e-label-top")&&Ev([t],"e-label-top"),Cv([t],"e-label-bottom"))}}function a(e){e.addEventListener("focus",n),e.addEventListener("blur",r)}function o(e,t,i){let s,n,r=Qy(i)?Sv:i;if("Auto"===e.floatLabelType&&a(e.element),Qy(t.container)?(t.container=m(e,"e-float-input","e-float-custom-tag","div",r),e.element.parentNode.insertBefore(t.container,e.element)):(Qy(e.customTag)||t.container.classList.add("e-float-custom-tag"),t.container.classList.add("e-float-input")),s=r("span",{className:"e-float-line"}),n=r("label",{className:"e-float-text"}),Qy(e.element.id)||""===e.element.id||(n.id="label_"+e.element.id.replace(/ /g,"_"),Pv(e.element,{"aria-labelledby":n.id})),Qy(e.element.placeholder)||""===e.element.placeholder||(n.innerHTML=e.element.placeholder,e.element.removeAttribute("placeholder")),Qy(e.properties)||Qy(e.properties.placeholder)||""===e.properties.placeholder||(n.innerHTML=e.properties.placeholder),n.innerHTML||t.container.classList.add("e-no-float-label"),t.container.classList.contains("e-float-icon-left")){let i=t.container.querySelector(".e-input-in-wrap");i.appendChild(e.element),i.appendChild(s),i.appendChild(n)}else t.container.appendChild(e.element),t.container.appendChild(s),t.container.appendChild(n);c(e.element.value,n),"Always"===e.floatLabelType&&(n.classList.contains("e-label-bottom")&&Ev([n],"e-label-bottom"),Cv([n],"e-label-top")),"Auto"===e.floatLabelType&&(e.element.addEventListener("input",t=>{c(e.element.value,n)}),e.element.addEventListener("blur",t=>{c(e.element.value,n)})),Qy(e.element.getAttribute("id"))||n.setAttribute("for",e.element.getAttribute("id"))}function l(e,t){"Always"===e&&t.classList.contains("e-outline")&&t.classList.add("e-valid-input")}function h(e,t){e?Ev([t],"e-clear-icon-hide"):Cv([t],"e-clear-icon-hide")}function c(e,t){e?(Cv([t],"e-label-top"),t.classList.contains("e-label-bottom")&&Ev([t],"e-label-bottom")):(t.classList.contains("e-label-top")&&Ev([t],"e-label-top"),Cv([t],"e-label-bottom"))}function d(e){let t=Qy(e.parentNode)?e:e.parentNode;return t&&t.classList.contains("e-input-in-wrap")&&(t=t.parentNode),t}function u(e,t,i){t.addEventListener("click",i=>{e.classList.contains("e-disabled")||e.readOnly||(i.preventDefault(),e!==document.activeElement&&e.focus(),e.value="",Cv([t],"e-clear-icon-hide"))}),e.addEventListener("input",i=>{h(e.value,t)}),e.addEventListener("focus",i=>{h(e.value,t)}),e.addEventListener("blur",e=>{setTimeout(()=>{Cv([t],"e-clear-icon-hide")},200)})}function p(e,t){if(d(e).classList.contains("e-float-input")&&"Auto"===t){let t=d(e).getElementsByClassName("e-float-text")[0];c(e.value,t)}}function m(e,t,i,s,n){let r,a=Qy(n)?Sv:n;return Qy(e.customTag)?r=a(s,{className:t}):(r=a(e.customTag,{className:t}),r.classList.add(i)),r.classList.add("e-control-wrapper"),r}function g(e,t,i){Qy(i)||""===i||Ev(t,i.split(" ")),Qy(e)||""===e||Cv(t,e.split(" "))}function f(e,t){let i;e=function(e){let t="";if(!Qy(e)&&""!==e){let i=document.createElement("span");i.innerHTML='<input  placeholder="'+e+'"/>',t=i.children[0].placeholder}return t}(e),i=d(t),i.classList.contains("e-float-input")?Qy(e)||""===e?(i.classList.add("e-no-float-label"),i.getElementsByClassName("e-float-text")[0].textContent=""):(i.getElementsByClassName("e-float-text")[0].textContent=e,i.classList.remove("e-no-float-label"),t.removeAttribute("placeholder")):Qy(e)||""===e?(t.removeAttribute("placeholder"),t.removeAttribute("aria-placeholder")):Pv(t,{placeholder:e,"aria-placeholder":e})}function y(e,t,i){e?Pv(t,{readonly:""}):t.removeAttribute("readonly"),Qy(i)||p(t,i)}function b(e,t){e?Cv(t,"e-rtl"):Ev(t,"e-rtl")}function v(e,t,i,s){let n={disabled:"disabled","aria-disabled":"true"},r=!Qy(s);e?(t.classList.remove("e-disabled"),x(n,t),r&&Ev([s],"e-disabled")):(t.classList.add("e-disabled"),_(n,t),r&&Cv([s],"e-disabled")),Qy(i)||p(t,i)}function w(e,t,i,s,n){let r=Qy(n)?Sv:n;e?i.clearButton=function(e,t,i,s){let n=(Qy(s)?Sv:s)("span",{className:"e-clear-icon"}),r=t.container;return Qy(i)?(t.container.classList.contains("e-float-input")?t.container.querySelector(".e-float-text"):e).insertAdjacentElement("afterend",n):r.appendChild(n),!Qy(r)&&r.classList.contains("e-float-input")&&Cv([r],"e-input-group"),Cv([n],"e-clear-icon-hide"),u(e,n),n.setAttribute("aria-label","close"),n}(t,i,s,r):(i.clearButton.remove(),i.clearButton=null)}function x(e,t){for(let i of Object.keys(e)){let e;e=d(t),"disabled"===i&&t.classList.remove("e-disabled"),"disabled"===i&&e.classList.contains("e-input-group")&&e.classList.remove("e-disabled"),"placeholder"===i&&e.classList.contains("e-float-input")?e.getElementsByClassName("e-float-text")[0].textContent="":t.removeAttribute(i)}}function _(e,t){for(let i of Object.keys(e)){let s;s=d(t),"disabled"===i&&t.classList.add("e-disabled"),"disabled"===i&&s.classList.contains("e-input-group")&&s.classList.add("e-disabled"),"placeholder"===i&&s.classList.contains("e-float-input")?s.getElementsByClassName("e-float-text")[0].textContent=e[i]:t.setAttribute(i,e[i])}}function S(e,t,i){let s=[];s.push(i);let n=Qy(i)?t.querySelectorAll(".e-input-group-icon"):s;if(e&&n.length>0)for(let r=0;r<n.length;r++)n[r].addEventListener("mousedown",C,!1),n[r].addEventListener("mouseup",E,!1);else if(n.length>0)for(let r=0;r<n.length;r++)n[r].removeEventListener("mousedown",C,this),n[r].removeEventListener("mouseup",E,this)}function C(){let e=this.parentElement;for(;!e.classList.contains("e-input-group");)e=e.parentElement;var t;(t=e).classList.contains("e-disabled")||t.querySelector("input").readOnly||this.classList.add("e-input-btn-ripple")}function E(){let e=this;setTimeout(()=>{e.classList.remove("e-input-btn-ripple")},500)}function D(e,t){let i=t("span",{className:e});return i.classList.add("e-input-group-icon"),i}function k(e,t,i,s){let n=Qy(s)?Sv:s,r=D(e,n);t.classList.add("e-float-icon-left");let a=t.querySelector(".e-input-in-wrap");if(Qy(a)){a=n("span",{className:"e-input-in-wrap"}),i.parentNode.insertBefore(a,i);let e=t.querySelectorAll(i.tagName+" ~ *");a.appendChild(i);for(let t=0;t<e.length;t++)a.appendChild(e[t])}return a.parentNode.insertBefore(r,a),t.classList.contains("e-input-group")||t.classList.add("e-input-group"),S(!0,t,r),r}function A(e,t,i){let s=D(e,Qy(i)?Sv:i);return t.classList.contains("e-input-group")||t.classList.add("e-input-group"),(t.classList.contains("e-float-icon-left")?t.querySelector(".e-input-in-wrap"):t).appendChild(s),S(!0,t,s),s}e.createInput=function(e,s){let n=Qy(s)?Sv:s,r={container:null,buttons:[],clearButton:null};if(t=e.floatLabelType,Qy(e.floatLabelType)||"Never"===e.floatLabelType?(r.container=m(e,"e-input-group","e-input-custom-tag","span",n),e.element.parentNode.insertBefore(r.container,e.element),Cv([e.element],"e-input"),r.container.appendChild(e.element)):o(e,r,n),i(e),Qy(e.properties)||Qy(e.properties.showClearButton)||!e.properties.showClearButton||"TEXTAREA"===e.element.tagName||(w(e.properties.showClearButton,e.element,r,!0,n),r.clearButton.setAttribute("role","button"),r.container.classList.contains("e-float-input")&&Cv([r.container],"e-input-group")),!Qy(e.buttons)&&"TEXTAREA"!==e.element.tagName)for(let t=0;t<e.buttons.length;t++)r.buttons.push(A(e.buttons[t],r.container,n));return Qy(e.element)||"TEXTAREA"!==e.element.tagName||Cv([r.container],"e-multi-line-input"),r=function(e,t){if(!Qy(e.properties))for(let i of Object.keys(e.properties))switch(i){case"cssClass":g(e.properties.cssClass,[t.container]),l(e.floatLabelType,t.container);break;case"enabled":v(e.properties.enabled,e.element,e.floatLabelType,t.container);break;case"enableRtl":b(e.properties.enableRtl,[t.container]);break;case"placeholder":f(e.properties.placeholder,e.element);break;case"readonly":y(e.properties.readonly,e.element)}return t}(e,r),r},e.bindInitialEvent=i,e.wireFloatingEvents=a,e.wireClearBtnEvents=u,e.setValue=function(e,t,i,n){if(t.value=e,Qy(i)||"Auto"!==i||p(t,i),!Qy(n)&&n){let e=d(t);if(!Qy(e)){let i=e.getElementsByClassName("e-clear-icon")[0];t.value&&e.classList.contains("e-input-focus")?Ev([i],"e-clear-icon-hide"):Cv([i],"e-clear-icon-hide")}}s(i,t)},e.setCssClass=g,e.setWidth=function(e,t){"number"==typeof e?t.style.width=ib(e):"string"==typeof e&&(t.style.width=e.match(/px|%|em/)?e:ib(e))},e.setPlaceholder=f,e.setReadonly=y,e.setEnableRtl=b,e.setEnabled=v,e.setClearButton=w,e.removeAttributes=x,e.addAttributes=_,e.removeFloating=function(e){let t=e.container;if(!Qy(t)&&t.classList.contains("e-float-input")){let e=t.querySelector("textarea")?t.querySelector("textarea"):t.querySelector("input"),s=t.querySelector(".e-float-text").textContent,a=null!==t.querySelector(".e-clear-icon");Tv(t.querySelector(".e-float-line")),Tv(t.querySelector(".e-float-text")),Fv(t,["e-input-group"],["e-float-input"]),(i=e).removeEventListener("focus",n),i.removeEventListener("blur",r),Pv(e,{placeholder:s}),e.classList.add("e-input"),a||"INPUT"!==e.tagName||e.removeAttribute("required")}var i},e.addFloating=function(e,i,s,n){let r=Qy(n)?Sv:n,a=Nv(e,".e-input-group");if(t=i,"Never"!==i){let t=a.tagName;t="DIV"!==t&&"SPAN"!==t?t:null;let n={element:e,floatLabelType:i,customTag:t,properties:{placeholder:s}},l=a.querySelector(".e-clear-icon"),h={container:a};e.classList.remove("e-input"),o(n,h,r);let c=a.classList.contains("e-float-icon-left");if(Qy(l)&&(l=c?a.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):a.querySelector(".e-input-group-icon")),Qy(l))c&&(l=a.querySelector(".e-input-group-icon")),Qy(l)&&a.classList.remove("e-input-group");else{let t=a.querySelector(".e-float-line"),i=a.querySelector(".e-float-text"),s=c?a.querySelector(".e-input-in-wrap"):a;s.insertBefore(e,l),s.insertBefore(t,l),s.insertBefore(i,l)}}l(i,e.parentElement)},e.setRipple=function(e,t){for(let i=0;i<t.length;i++)S(e,t[i].container)},e.addIcon=function(e,t,i,s,n){let r="string"==typeof t?t.split(","):t;if("append"===e.toLowerCase())for(let a of r)A(a,i,n);else for(let a of r)k(a,i,s,n)},e.prependSpan=k,e.appendSpan=A}(GE||(GE={}));let XE=(()=>{let e=class extends kw{constructor(e,t){super(e,t)}preRender(){this.browser=Kv.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=Kv.isDevice,this.customStep=!0;let e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=eb("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")}render(){this.touchModule=new Bw(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),Tb.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()}setScrollState(){Qy(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0}initialize(){let e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");let i=this.element,s=[].slice.call(i.children);for(let n of s)e.appendChild(n);t.appendChild(e),i.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"hScroll"}destroy(){let e=this.element;e.style.display="",e.classList.remove("e-hscroll"),e.classList.remove("e-scroll-device");let t=Ov(".e-"+e.id+"_nav.e-scroll-nav",e),i=Ov(".e-scroll-overlay",e);[].slice.call(i).forEach(e=>{Tv(e)});for(let s of[].slice.call(this.scrollItems.children))e.appendChild(s);this.uniqueId&&this.element.removeAttribute("id"),Tv(this.scrollEle),t.length>0&&(Tv(t[0]),Qy(t[1])||Tv(t[1])),Tb.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(e){let t=Ov(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach(t=>{t.setAttribute("tabindex",e?"-1":"0")})}createOverlay(e){let t=e.id.concat("_nav"),i=this.createElement("div",{className:"e-scroll-overlay e-scroll-right-overlay"}),s="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),n=this.createElement("div",{id:t.concat("_right"),className:s}),r=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"});n.appendChild(r);let a=this.createElement("div",{className:"e-scroll-overlay e-scroll-left-overlay"});this.ieCheck&&n.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(n),e.insertBefore(a,e.firstChild),this.eventBinding([n])}createNavIcon(e){let t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),s=this.createElement("div",{id:t.concat("_right"),className:i});s.setAttribute("aria-disabled","false");let n=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"}),r="e-"+e.id.concat("_nav e-scroll-nav e-scroll-left-nav"),a=this.createElement("div",{id:t.concat("_left"),className:r+" e-overlay"});a.setAttribute("aria-disabled","true");let o=this.createElement("div",{className:"e-nav-left-arrow e-nav-arrow e-icons"});a.appendChild(o),s.appendChild(n),e.appendChild(s),e.insertBefore(a,e.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),a.classList.add("e-ie-align")),this.eventBinding([s,a])}onKeyPress(e){if("Enter"===e.key){let t=()=>{this.keyTimeout=!0,this.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(()=>{t()},100)}}onKeyUp(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))}eventBinding(e){[].slice.call(e).forEach(e=>{new Bw(e,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),e.addEventListener("keydown",this.onKeyPress.bind(this)),e.addEventListener("keyup",this.onKeyUp.bind(this)),e.addEventListener("mouseup",this.repeatScroll.bind(this)),e.addEventListener("touchend",this.repeatScroll.bind(this)),e.addEventListener("contextmenu",e=>{e.preventDefault()}),Tb.add(e,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(e){let t=e.originalEvent.target;t=this.contains(t,"e-scroll-nav")?t.firstElementChild:t;let i=()=>{this.eleScrolling(10,t,!0)};this.timeout=window.setInterval(()=>{i()},50)}contains(e,t){return e.classList.contains(t)}eleScrolling(e,t,i){let s=this.element,n=t.classList;n.contains("e-scroll-nav")&&(n=t.querySelector(".e-nav-arrow").classList),this.contains(s,"e-rtl")&&this.browserCheck&&(e=-e),!this.contains(s,"e-rtl")||this.browserCheck||this.ieCheck?n.contains("e-nav-right-arrow")?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i):n.contains("e-nav-left-arrow")?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i)}clickEventHandler(e){this.eleScrolling(this.scrollStep,e.target,!1)}swipeHandler(e){let t,i=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;let s=.5,n=()=>{let r=Math.sin(s);r<=0?window.cancelAnimationFrame(r):("Left"===e.swipeDirection?i.scrollLeft+=t*r:"Right"===e.swipeDirection&&(i.scrollLeft-=t*r),s-=.5,window.requestAnimationFrame(n))};n()}scrollUpdating(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e}frameScrollRequest(e,t,i){if(i)return void this.scrollUpdating(e,t);this.customStep||[].slice.call(Ov(".e-scroll-overlay",this.element)).forEach(t=>{e-=t.offsetWidth});let s=()=>{let i,n;this.contains(this.element,"e-rtl")&&this.browserCheck?(i=-e,n=-10):(i=e,n=10),i<10?window.cancelAnimationFrame(n):(this.scrollUpdating(n,t),e-=n,window.requestAnimationFrame(s))};s()}touchHandler(e){let t,i=this.scrollEle;t=e.distanceX,this.ieCheck&&this.contains(this.element,"e-rtl")&&(t=-t),"Left"===e.scrollDirection?i.scrollLeft=i.scrollLeft+t:"Right"===e.scrollDirection&&(i.scrollLeft=i.scrollLeft-t)}arrowDisabling(e,t){if(this.isDevice){let i=(Qy(e)?t:e).querySelector(".e-nav-arrow");Qy(e)?Fv(i,["e-nav-right-arrow"],["e-nav-left-arrow"]):Fv(i,["e-nav-left-arrow"],["e-nav-right-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()}scrollHandler(e){let t=e.target,i=t.offsetWidth,s=this.element,n=this.element.querySelector(".e-scroll-left-nav"),r=this.element.querySelector(".e-scroll-right-nav"),a=this.element.querySelector(".e-scroll-left-overlay"),o=this.element.querySelector(".e-scroll-right-overlay"),l=t.scrollLeft;if(l<=0&&(l=-l),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(a=this.element.querySelector(".e-scroll-right-overlay"),o=this.element.querySelector(".e-scroll-left-overlay")),a.style.width=l<40?l+"px":"40px",o.style.width=t.scrollWidth-Math.ceil(i+l)<40?t.scrollWidth-Math.ceil(i+l)+"px":"40px"),0===l)!this.contains(s,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(n,r):this.arrowDisabling(r,n);else if(Math.ceil(i+l+.1)>=t.scrollWidth)!this.contains(s,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(r,n):this.arrowDisabling(n,r);else{let e=this.element.querySelector(".e-scroll-nav.e-overlay");e&&(e.classList.remove("e-overlay"),e.setAttribute("aria-disabled","false"),e.setAttribute("tabindex","0"))}}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}};return Wy([lw(null)],e.prototype,"scrollStep",void 0),e=Wy([uw],e),e})(),ZE=(()=>{let e=class extends kw{constructor(e,t){super(e,t)}preRender(){this.browser=Kv.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=Kv.isDevice,this.customStep=!0;let e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=eb("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")}render(){this.touchModule=new Bw(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),Tb.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),Tb.add(this.element,"wheel",this.wheelEventHandler,this)}setScrollState(){Qy(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0}initialize(){let e=Sv("div",{className:"e-vscroll-content"}),t=Sv("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");let i=this.element,s=[].slice.call(i.children);for(let n of s)e.appendChild(n);t.appendChild(e),i.appendChild(t),t.style.overflowY="hidden",this.scrollEle=t,this.scrollItems=e}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"vScroll"}destroy(){let e=this.element;e.style.display="",Ev([this.element],["e-vscroll","e-scroll-device"]);let t=Ov(".e-"+e.id+"_nav.e-scroll-nav",e),i=Ov(".e-scroll-overlay",e);[].slice.call(i).forEach(e=>{Tv(e)});for(let s of[].slice.call(this.scrollItems.children))e.appendChild(s);this.uniqueId&&this.element.removeAttribute("id"),Tv(this.scrollEle),t.length>0&&(Tv(t[0]),Qy(t[1])||Tv(t[1])),Tb.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(e){let t=Ov(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(t).forEach(t=>{t.setAttribute("tabindex",e?"-1":"0")})}createOverlayElement(e){let t=e.id.concat("_nav"),i=Sv("div",{className:"e-scroll-overlay e-scroll-down-overlay"}),s="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),n=Sv("div",{id:t.concat("down"),className:s}),r=Sv("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"});n.appendChild(r);let a=Sv("div",{className:"e-scroll-overlay e-scroll-up-overlay"});this.ieCheck&&n.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(n),e.insertBefore(a,e.firstChild),this.eventBinding([n])}createNavIcon(e){let t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),s=Sv("div",{id:t.concat("_down"),className:i});s.setAttribute("aria-disabled","false");let n=Sv("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"}),r="e-"+e.id.concat("_nav e-scroll-nav e-scroll-up-nav"),a=Sv("div",{id:t.concat("_up"),className:r+" e-overlay"});a.setAttribute("aria-disabled","true");let o=Sv("div",{className:"e-nav-up-arrow e-nav-arrow e-icons"});a.appendChild(o),s.appendChild(n),s.setAttribute("tabindex","0"),e.appendChild(s),e.insertBefore(a,e.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),a.classList.add("e-ie-align")),this.eventBinding([s,a])}onKeyPress(e){if("Enter"===e.key){let t=()=>{this.keyTimeout=!0,this.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(()=>{t()},100)}}onKeyUp(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))}eventBinding(e){[].slice.call(e).forEach(e=>{new Bw(e,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),e.addEventListener("keydown",this.onKeyPress.bind(this)),e.addEventListener("keyup",this.onKeyUp.bind(this)),e.addEventListener("mouseup",this.repeatScroll.bind(this)),e.addEventListener("touchend",this.repeatScroll.bind(this)),e.addEventListener("contextmenu",e=>{e.preventDefault()}),Tb.add(e,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(e){let t=e.originalEvent.target;t=this.contains(t,"e-scroll-nav")?t.firstElementChild:t;let i=()=>{this.eleScrolling(10,t,!0)};this.timeout=window.setInterval(()=>{i()},50)}contains(e,t){return e.classList.contains(t)}eleScrolling(e,t,i){let s=t.classList;s.contains("e-scroll-nav")&&(s=t.querySelector(".e-nav-arrow").classList),s.contains("e-nav-down-arrow")?this.frameScrollRequest(e,"add",i):s.contains("e-nav-up-arrow")&&this.frameScrollRequest(e,"",i)}clickEventHandler(e){this.eleScrolling(this.scrollStep,e.target,!1)}wheelEventHandler(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)}swipeHandler(e){let t,i=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;let s=.5,n=()=>{let r=Math.sin(s);r<=0?window.cancelAnimationFrame(r):("Up"===e.swipeDirection?i.scrollTop+=t*r:"Down"===e.swipeDirection&&(i.scrollTop-=t*r),s-=.02,window.requestAnimationFrame(n))};n()}scrollUpdating(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e}frameScrollRequest(e,t,i){if(i)return void this.scrollUpdating(e,t);this.customStep||[].slice.call(Ov(".e-scroll-overlay",this.element)).forEach(t=>{e-=t.offsetHeight});let s=()=>{e<10?window.cancelAnimationFrame(10):(this.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(s))};s()}touchHandler(e){let t,i=this.scrollEle;t=e.distanceY,"Up"===e.scrollDirection?i.scrollTop=i.scrollTop+t:"Down"===e.scrollDirection&&(i.scrollTop=i.scrollTop-t)}arrowDisabling(e,t){if(this.isDevice){let i=(Qy(e)?t:e).querySelector(".e-nav-arrow");Qy(e)?Fv(i,["e-nav-down-arrow"],["e-nav-up-arrow"]):Fv(i,["e-nav-up-arrow"],["e-nav-down-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()}scrollEventHandler(e){let t=e.target,i=t.offsetHeight,s=this.element.querySelector(".e-scroll-up-nav"),n=this.element.querySelector(".e-scroll-down-nav"),r=this.element.querySelector(".e-scroll-up-overlay"),a=this.element.querySelector(".e-scroll-down-overlay"),o=t.scrollTop;if(o<=0&&(o=-o),this.isDevice&&(r.style.height=o<40?o+"px":"40px",a.style.height=t.scrollHeight-Math.ceil(i+o)<40?t.scrollHeight-Math.ceil(i+o)+"px":"40px"),0===o)this.arrowDisabling(s,n);else if(Math.ceil(i+o+.1)>=t.scrollHeight)this.arrowDisabling(n,s);else{let e=this.element.querySelector(".e-scroll-nav.e-overlay");e&&(e.classList.remove("e-overlay"),e.setAttribute("aria-disabled","false"),e.setAttribute("tabindex","0"))}}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}}};return Wy([lw(null)],e.prototype,"scrollStep",void 0),e=Wy([uw],e),e})();const $E="e-toolbar-items",KE="e-blazor-toolbar-items",QE="e-toolbar-item",JE="e-toolbar-popup";let eD=(()=>{class e extends Sw{}return Wy([lw("")],e.prototype,"id",void 0),Wy([lw("")],e.prototype,"text",void 0),Wy([lw("auto")],e.prototype,"width",void 0),Wy([lw("")],e.prototype,"cssClass",void 0),Wy([lw(!1)],e.prototype,"showAlwaysInPopup",void 0),Wy([lw(!1)],e.prototype,"disabled",void 0),Wy([lw("")],e.prototype,"prefixIcon",void 0),Wy([lw("")],e.prototype,"suffixIcon",void 0),Wy([lw(!0)],e.prototype,"visible",void 0),Wy([lw("None")],e.prototype,"overflow",void 0),Wy([lw("")],e.prototype,"template",void 0),Wy([lw("Button")],e.prototype,"type",void 0),Wy([lw("Both")],e.prototype,"showTextOn",void 0),Wy([lw(null)],e.prototype,"htmlAttributes",void 0),Wy([lw("")],e.prototype,"tooltipText",void 0),Wy([lw("Left")],e.prototype,"align",void 0),Wy([dw()],e.prototype,"click",void 0),e})(),tD=(()=>{let e=class extends kw{constructor(e,t){super(e,t),this.resizeContext=this.resize.bind(this),this.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"}}destroy(){super.destroy(),this.unwireEvents(),this.tempId.forEach(e=>{Qy(this.element.querySelector(e))||(document.body.appendChild(this.element.querySelector(e)).style.display="none")});{let e=this.element.querySelectorAll(".e-control");[].slice.call(e).forEach(e=>{let t=e.ej2_instances;if(t){let e=t[0];e&&e.destroy()}})}for(;this.element.lastElementChild&&!this.element.lastElementChild.classList.contains(KE);)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&this.element.appendChild(this.ctrlTem),this.clearProperty(),this.popObj=null,this.tbarAlign=null,this.remove(this.element,"e-toolpop"),this.cssClass&&Ev([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach(e=>this.element.removeAttribute(e))}preRender(){let e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains("e-vertical"),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,"e-rtl")}wireEvents(){Tb.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.allowKeyboard&&this.wireKeyboardEvent()}wireKeyboardEvent(){this.keyModule=new Ow(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),Tb.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")}unwireKeyboardEvent(){this.keyModule&&(Tb.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)}docKeyDown(e){if("INPUT"===e.target.tagName)return;let t=!Qy(this.popObj)&&kv(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}unwireEvents(){Tb.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),Tb.remove(document,"scroll",this.docEvent),Tb.remove(document,"click",this.docEvent)}clearProperty(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}}docEvent(e){let t=Nv(e.target,".e-popup");this.popObj&&kv(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})}destroyScroll(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,"e-tbar-pos"),this.scrollModule.destroy(),this.scrollModule=null)}destroyItems(){[].slice.call(this.element.querySelectorAll("."+QE)).forEach(e=>{Tv(e)});let e=this.element.querySelector("."+$E);this.tbarAlign&&([].slice.call(e.children).forEach(e=>{Tv(e)}),this.tbarAlign=!1,this.remove(e,"e-tbar-pos")),this.clearProperty()}destroyMode(){this.scrollModule&&(this.remove(this.scrollModule.element,"e-rtl"),this.destroyScroll()),this.remove(this.element,"e-tbar-extended"),this.remove(this.element,"e-extended-toolbar");let e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,"e-toolbar-multirow"),this.popObj&&this.popupRefresh(this.popObj.element,!0)}add(e,t){e.classList.add(t)}remove(e,t){e.classList.remove(t)}elementFocus(e){let t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()}clstElement(e,t){let i;return i=e&&this.popObj&&kv(this.popObj.element)?this.popObj.element.querySelector("."+QE):this.element===t||e?this.element.querySelector("."+QE+":not(.e-overlay ):not(.e-separator ):not(.e-hidden )"):Nv(t,"."+QE),i}keyHandling(e,t,i,s,n){let r=this.popObj,a=this.element,o={name:"FadeOut",duration:100};switch(t.action){case"moveRight":if(this.isVertical)return;a===i?this.elementFocus(e):s||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;s||this.eleFocus(e,"previous");break;case"home":case"end":let l,h;if(e){let i=Nv(e,".e-popup");i?kv(this.popObj.element)&&(h=[].slice.call(i.children),l="home"===t.action?h[0]:h[h.length-1]):(h=this.element.querySelectorAll("."+$E+" ."+QE),l="home"===t.action?h[0]:h[h.length-1]),l&&this.elementFocus(l)}break;case"moveUp":case"moveDown":let c="moveUp"===t.action?"previous":"next";if(this.isVertical)this.eleFocus(e,"moveUp"===t.action?"previous":"next");else if(r&&Nv(i,".e-popup")){let t=r.element,i=t.firstElementChild;if("previous"===c&&i===e||"next"===c&&t.lastElementChild===e)return;this.eleFocus(e,c)}else"moveDown"===t.action&&r&&kv(r.element)&&this.elementFocus(e);break;case"tab":if(!n&&!s){let t=e.firstElementChild;a===i&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(t),t.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":r&&"Extended"!==this.overflowMode&&r.hide(o);break;case"popupOpen":if(!s)return;r&&!kv(r.element)?(r.element.style.top=a.offsetHeight+"px",r.show({name:"FadeIn",duration:100})):r.hide(o)}}keyActionHandler(e){let t,i=e.target;if("INPUT"===i.tagName||"TEXTAREA"===i.tagName||this.element.classList.contains("e-overlay"))return;e.preventDefault();let s=i.classList.contains("e-hor-nav"),n=i.classList.contains("e-scroll-nav");t=this.clstElement(s,i),(t||n)&&this.keyHandling(t,e,i,s,n)}disable(e){let t=this.element;e?t.classList.add("e-overlay"):t.classList.remove("e-overlay"),t.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(kv(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))}eleContains(e){return e.classList.contains("e-separator")||e.classList.contains("e-overlay")||e.getAttribute("disabled")||e.classList.contains("e-hidden")||!kv(e)}eleFocus(e,t){let i=Object(e)[t+"ElementSibling"];if(i){if(this.eleContains(i))return void this.eleFocus(i,t);this.elementFocus(i)}else if(this.tbarAlign){let i=Object(e.parentElement)[t+"ElementSibling"];if(Qy(i)||0!==i.children.length||(i=Object(i)[t+"ElementSibling"]),!Qy(i)&&i.children.length>0)if("next"===t){let e=i.querySelector("."+QE);this.eleContains(e)?this.eleFocus(e,t):(e.firstElementChild.focus(),this.activeEleSwitch(e))}else{let e=i.lastElementChild;this.eleContains(e)?this.eleFocus(e,t):this.elementFocus(e)}}}clickHandler(e){let t,i=e.target,s=i.classList,n=this.element,r=!Qy(Nv(i,".e-toolbar-pop")),a=Nv(i,".e-hor-nav");a||(a=i),n.children[0].classList.contains("e-hscroll")||n.children[0].classList.contains("e-vscroll")||!s.contains("e-hor-nav")||(s=i.querySelector(".e-icons").classList),(s.contains("e-popup-up-icon")||s.contains("e-popup-down-icon"))&&this.popupClickHandler(n,a,"e-rtl");let o=Nv(e.target,"."+QE);if((Qy(o)||o.classList.contains("e-overlay"))&&!a.classList.contains("e-hor-nav"))return;if(o){t=this.items[this.tbarEle.indexOf(o)]}let l={originalEvent:e,item:t};t&&!Qy(t.click)&&this.trigger("items["+this.tbarEle.indexOf(o)+"].click",l),l.cancel||this.trigger("clicked",l,e=>{!Qy(this.popObj)&&r&&!e.cancel&&"Popup"===this.overflowMode&&e.item&&"Input"!==e.item.type&&this.popObj.hide({name:"FadeOut",duration:100})})}popupClickHandler(e,t,i){let s=this.popObj;kv(s.element)?(t.classList.remove("e-nav-active"),s.hide({name:"FadeOut",duration:100})):(e.classList.contains(i)&&(s.enableRtl=!0,s.position={X:"left",Y:"top"}),0!==s.offsetX||e.classList.contains(i)||(s.enableRtl=!1,s.position={X:"right",Y:"top"}),s.dataBind(),s.refreshPosition(),s.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(s.element.style.minHeight="0px"),t.classList.add("e-nav-active"),s.show({name:"FadeIn",duration:100}))}render(){this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()}initialize(){let e=ib(this.width),t=ib(this.height);"msie"===Kv.info.name&&"auto"===this.height&&"MultiRow"!==this.overflowMode||Vv(this.element,{height:t}),Vv(this.element,{width:e}),Pv(this.element,{role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":this.isVertical?"vertical":"horizontal"}),this.cssClass&&Cv([this.element],this.cssClass.split(" "))}renderControl(){let e=this.element;this.trgtEle=e.children.length>0&&!this.isServerRendered?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()}renderLayout(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()}itemsAlign(e,t){let i,s;this.tbarEle||(this.tbarEle=[]);for(let n=0;n<e.length;n++)i=this.renderSubComponent(e[n],n),-1===this.tbarEle.indexOf(i)&&this.tbarEle.push(i),this.tbarAlign||this.tbarItemAlign(e[n],t,n),s=t.querySelector(".e-toolbar-"+e[n].align.toLowerCase()),s?(e[n].showAlwaysInPopup&&"Show"!==e[n].overflow||this.tbarAlgEle[(e[n].align+"s").toLowerCase()].push(i),s.appendChild(i)):t.appendChild(i)}serverItemsRerender(){this.destroyMode(),this.resetServerItems(),this.serverItemsRefresh()}serverItemsRefresh(){this.element.querySelector("."+KE).children.length>0&&(this.itemsAlign(this.items,this.element.querySelector("."+$E)),this.renderLayout(),this.refreshOverflow())}resetServerItems(){let e=this.element.querySelector("."+KE);Mv([].slice.call(Ov("."+$E+" ."+QE,this.element)),e),this.clearProperty()}changeOrientation(){let e=this.element;this.isVertical?(e.classList.remove("e-vertical"),this.isVertical=!1,"auto"!==this.height&&"100%"!==this.height||(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add("e-vertical"),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),Vv(this.element,{height:ib(this.height),width:ib(this.width)})),this.destroyMode(),this.refreshOverflow()}initScroll(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+$E+" .e-toolbar-center").removeAttribute("style"),this.scrollModule=this.isVertical?new ZE({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):new XE({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.remove(this.scrollModule.element,"e-tbar-pos"),Vv(this.element,{overflow:"hidden"}))}itemWidthCal(e){let t,i=0;return[].slice.call(Ov("."+QE,e)).forEach(e=>{kv(e)&&(t=window.getComputedStyle(e),i+=this.isVertical?e.offsetHeight:e.offsetWidth,i+=parseFloat(this.isVertical?t.marginTop:t.marginRight),i+=parseFloat(this.isVertical?t.marginBottom:t.marginLeft))}),i}getScrollCntEle(e){return e.querySelector(this.isVertical?".e-vscroll-content":".e-hscroll-content")}checkOverflow(e,t){if(Qy(e)||Qy(t)||!kv(e))return!1;let i=this.isVertical?e.offsetHeight:e.offsetWidth,s=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||i===s)&&(s=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));let n=e.querySelector(".e-hor-nav"),r=e.querySelector(".e-scroll-nav"),a=0;return n?a=this.isVertical?n.offsetHeight:n.offsetWidth:r&&(a=this.isVertical?2*r.offsetHeight:2*r.offsetWidth),s>i-a}refreshOverflow(){this.resize()}toolbarAlign(e){this.tbarAlign&&(this.add(e,"e-tbar-pos"),this.itemPositioning())}renderOverflowMode(){let e=this.element,t=e.querySelector("."+$E),i=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===Kv.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":Qy(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName($E)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||i)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,"e-toolbar-multirow"),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,"e-multirow-pos")),"hidden"===e.style.overflow&&(e.style.overflow=""),"msie"!==Kv.info.name&&"auto"===e.style.height||(e.style.height="auto");break;case"Extended":this.add(this.element,"e-extended-toolbar"),(this.checkOverflow(e,t)||i)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}}setOverflowAttributes(e){this.createPopupEle(e,[].slice.call(Ov("."+$E+" ."+QE,e))),this.element.querySelector(".e-hor-nav").setAttribute("tabIndex","0"),this.element.querySelector(".e-hor-nav").setAttribute("role","list")}separator(){let e,t=this.element,i=[].slice.call(t.querySelectorAll(".e-separator")),s=t.querySelector(".e-multirow-separator"),n=t.querySelector(".e-extended-separator");e="MultiRow"===this.overflowMode?s:n,null!==e&&("MultiRow"===this.overflowMode?e.classList.remove("e-multirow-separator"):"Extended"===this.overflowMode&&e.classList.remove("e-extended-separator"));for(let r=0;r<=i.length-1;r++)i[r].offsetLeft<30&&0!==i[r].offsetLeft&&("MultiRow"===this.overflowMode?i[r].classList.add("e-multirow-separator"):"Extended"===this.overflowMode&&i[r].classList.add("e-extended-separator"))}createPopupEle(e,t){let i=e.querySelector(".e-hor-nav"),s=this.isVertical;i||this.createPopupIcon(e),i=e.querySelector(".e-hor-nav");let n=(s?e.offsetHeight:e.offsetWidth)-(s?i.offsetHeight:i.offsetWidth);this.element.classList.remove("e-rtl"),Vv(this.element,{direction:"initial"}),this.checkPriority(e,t,n,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()}pushingPoppedEle(e,t,i,s,n){let r=e.element,a=Ov(".e-overflow-show",i),o=0,l=[].slice.call(Ov("."+JE,r.querySelector("."+$E))),h=0;l.forEach((r,l)=>{a=Ov(".e-overflow-show",i),r.classList.contains("e-overflow-show")&&a.length>0?e.tbResize&&a.length>l?(i.insertBefore(r,a[l]),++h):(i.insertBefore(r,i.children[a.length]),++h):r.classList.contains("e-overflow-show")?(i.insertBefore(r,i.firstChild),++h):e.tbResize&&r.classList.contains("e-overflow-hide")&&i.children.length>0&&0===a.length?(i.insertBefore(r,i.firstChild),++h):r.classList.contains("e-overflow-hide")?t.push(r):e.tbResize?(i.insertBefore(r,i.childNodes[o+h]),++o):i.appendChild(r),r.classList.contains("e-separator")?Vv(r,{display:"",height:n+"px"}):Vv(r,{display:"",height:s+"px"})}),t.forEach(e=>{i.appendChild(e)});let c=Ov("."+QE,r.querySelector("."+$E));for(let d=c.length-1;d>=0;d--){let e=c[d];if(!e.classList.contains("e-separator")||"Extended"===this.overflowMode)break;Vv(e,{display:"none"})}}createPopup(){let e,t,i,s,n,r=this.element;if("Extended"===this.overflowMode&&(s=r.querySelector(".e-separator:not(."+JE+")"),i="auto"===r.style.height||""===r.style.height?null:s.offsetHeight),t=r.querySelector("."+QE+":not(.e-separator):not(."+JE+")"),e="auto"===r.style.height||""===r.style.height?null:t&&t.offsetHeight,r.querySelector("#"+r.id+"_popup.e-toolbar-pop"))n=r.querySelector("#"+r.id+"_popup.e-toolbar-pop");else{let e=this.createElement("div",{id:r.id+"_popup",className:"e-toolbar-pop e-toolbar-extended"}),t=this.createElement("div",{id:r.id+"_popup",className:"e-toolbar-pop"});n="Extended"===this.overflowMode?e:t}this.pushingPoppedEle(this,[],n,e,i),this.popupInit(r,n)}getElementOffsetY(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight}popupInit(e,t){if(this.popObj){let e=this.popObj.element;Vv(e,{maxHeight:"",display:"block"}),Vv(e,{maxHeight:e.offsetHeight+"px",display:""})}else{e.appendChild(t),Vv(this.element,{overflow:""});let i=window.getComputedStyle(this.element),s=new eE(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(s.appendTo(t),"Extended"===this.overflowMode&&(s.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth),s.offsetX=0),Tb.add(document,"scroll",this.docEvent.bind(this)),Tb.add(document,"click ",this.docEvent.bind(this)),s.element.style.maxHeight=s.element.offsetHeight+"px",this.isVertical&&(s.element.style.visibility="hidden"),this.isExtendedOpen){let e=this.element.querySelector(".e-hor-nav");e.classList.add("e-nav-active"),Fv(e.firstElementChild,["e-popup-up-icon"],["e-popup-down-icon"]),this.element.querySelector(".e-toolbar-extended").classList.add("e-popup-open")}else s.hide();this.popObj=s,this.element.setAttribute("aria-haspopup","true")}}tbarPopupHandler(e){"Extended"===this.overflowMode&&(e?this.add(this.element,"e-tbar-extended"):this.remove(this.element,"e-tbar-extended"))}popupOpen(e){let t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());let i=this.popObj.element,s=this.popObj.element.parentElement,n=s.querySelector(".e-hor-nav");Vv(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");let r=i.offsetTop+i.offsetHeight+kC(s).top,a=n.firstElementChild;n.classList.add("e-nav-active"),Fv(a,["e-popup-up-icon"],["e-popup-down-icon"]),this.tbarPopupHandler(!0);let o=Qy(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+o<r&&this.element.offsetTop<i.offsetHeight){let e=i.offsetHeight-(r-window.innerHeight-o+5);t.height=e+"px";for(let t=0;t<=i.childElementCount;t++){let s=i.children[t];if(s.offsetTop+s.offsetHeight>e){e=s.offsetTop;break}}Vv(t.element,{maxHeight:e+"px"})}else if(this.isVertical){let e=this.element.getBoundingClientRect();Vv(t.element,{maxHeight:e.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}t&&t.refreshPosition()}popupClose(e){let t=this.element.querySelector(".e-hor-nav"),i=t.firstElementChild;t.classList.remove("e-nav-active"),Fv(i,["e-popup-down-icon"],["e-popup-up-icon"]),this.tbarPopupHandler(!1)}checkPriority(e,t,i,s){let n,r,a=this.popupPriCount>0,o=i,l=0,h=0,c=0,d=(e,t)=>{let i=!1;return t.forEach(t=>{e.classList.contains(t)&&(i=!0)}),i};for(let u=t.length-1;u>=0;u--){let e,o=window.getComputedStyle(t[u]);this.isVertical?(e=parseFloat(o.marginTop),e+=parseFloat(o.marginBottom)):(e=parseFloat(o.marginRight),e+=parseFloat(o.marginLeft));let p=t[u]===this.tbarEle[0];p&&(this.tbarEleMrgn=e),n=this.isVertical?t[u].offsetHeight:t[u].offsetWidth;let m=p?n+e:n;if(d(t[u],["e-popup-alone"])&&a&&(t[u].classList.add(JE),Vv(t[u],this.isVertical?{display:"none",minHeight:m+"px"}:{display:"none",minWidth:m+"px"}),c++),r=this.isVertical?t[u].offsetTop+t[u].offsetHeight+e>i:t[u].offsetLeft+t[u].offsetWidth+e>i,r){if(t[u].classList.contains("e-separator")){if("Extended"===this.overflowMode)h===c&&d(t[u],["e-separator","e-ignore"])&&(t[u].classList.add(JE),c++),h++;else if("Popup"===this.overflowMode){if(l>0&&h===c){let e=t[u+h+(l-1)];d(e,["e-separator","e-ignore"])&&Vv(e,{display:"none"})}l++,h=0,c=0}}else h++;t[u].classList.contains("e-overflow-show")&&s?i-=(this.isVertical?t[u].offsetHeight:t[u].offsetWidth)+e:d(t[u],["e-separator","e-ignore"])?i-=(this.isVertical?t[u].offsetHeight:t[u].offsetWidth)+e:(t[u].classList.add(JE),Vv(t[u],this.isVertical?{display:"none",minHeight:m+"px"}:{display:"none",minWidth:m+"px"}),c++)}}if(s){let t=Ov("."+QE+":not(."+JE+")",this.element);this.checkPriority(e,t,o,!1)}}createPopupIcon(e){let t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav e-hor-nav");i="Extended"===this.overflowMode?i+" e-expended-nav":i;let s=this.createElement("div",{id:t,className:i});"msie"!==Kv.info.name&&"edge"!==Kv.info.name||s.classList.add("e-ie-align");let n=this.createElement("div",{className:"e-popup-down-icon e-icons"});s.appendChild(n),s.setAttribute("tabindex","0"),s.setAttribute("role","list"),e.appendChild(s)}tbarPriRef(e,t,i,s,n,r,a,o){let l=o,h=Ov("."+JE+":not(.e-overflow-show)",this.popObj.element).length,c=(e,t)=>e.classList.contains(t);if(0===Ov(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){let o=e.children[t-(t-i)-1],h=!Qy(o)&&c(o,"e-ignore");if(!Qy(o)&&c(o,"e-separator")&&!kv(o)||h){let h="none";o.style.display="inherit";let c=o.offsetWidth+2*parseFloat(window.getComputedStyle(o).marginRight),d=o.previousElementSibling;r+c<a||n?(e.insertBefore(s,e.children[t+l-(t-i)]),Qy(d)||(d.style.display="")):d.classList.contains("e-separator")&&(d.style.display=h),o.style.display=""}else e.insertBefore(s,e.children[t+l-(t-i)])}else e.insertBefore(s,e.children[t+l-h])}popupRefresh(e,t){let i,s=this.element,n=this.isVertical,r=s.querySelector(".e-hor-nav"),a=s.querySelector("."+$E);if(Qy(r))return;a.removeAttribute("style"),e.style.display="block",i=n?s.offsetHeight-(r.offsetHeight+a.offsetHeight):s.offsetWidth-(r.offsetWidth+a.offsetWidth);let o=0;[].slice.call(e.children).forEach(e=>{o+=this.popupEleWidth(e),Vv(e,{position:""})}),i+(n?r.offsetHeight:r.offsetWidth)>o&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(i,e,t),e.style.display="",0===e.children.length&&r&&this.popObj&&(Tv(r),r=null,this.popObj.destroy(),Tv(this.popObj.element),this.popObj=null,s.setAttribute("aria-haspopup","false"))}ignoreEleFetch(e,t){let i=[].slice.call(t.querySelectorAll(".e-ignore")),s=[],n=0;return i.length>0?(i.forEach(e=>{s.push([].slice.call(t.children).indexOf(e))}),s.forEach(t=>{t<=e&&n++}),n):0}checkPopupRefresh(e,t){t.style.display="block";let i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");let s=e.offsetWidth-e.querySelector(".e-hor-nav").offsetWidth,n=e.querySelector("."+$E).offsetWidth;return t.style.removeProperty("display"),s>i+n}popupEleWidth(e){e.style.position="absolute";let t=this.isVertical?e.offsetHeight:e.offsetWidth,i=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains("e-popup-text")){let s=e.children[0];!Qy(i)&&e.classList.contains("e-popup-text")?i.style.display="none":!Qy(i)&&e.classList.contains("e-toolbar-text")&&(i.style.display="block"),s.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),s.style.minWidth="",s.style.minHeight="",Qy(i)||(i.style.display="")}return t}popupEleRefresh(e,t,i){let s,n,r,a=this.popupPriCount>0,o=this.tbarEle,l=this.element.querySelector("."+$E),h=0;for(let c of[].slice.call(t.children)){if(c.classList.contains("e-popup-alone")&&a&&!i)continue;let t=this.popupEleWidth(c);if(c===this.tbarEle[0]&&(t+=this.tbarEleMrgn),c.style.position="",!(t<e||i))break;{if(Vv(c,{minWidth:"",height:"",minHeight:""}),c.classList.contains("e-overflow-hide")||c.classList.remove(JE),n=this.tbarEle.indexOf(c),this.tbarAlign){let e=this.items[n].align;n=this.tbarAlgEle[(e+"s").toLowerCase()].indexOf(c),o=this.tbarAlgEle[(e+"s").toLowerCase()],l=this.element.querySelector("."+$E+" .e-toolbar-"+e.toLowerCase())}let r=0;"Extended"!==this.overflowMode&&o.slice(0,n).forEach(t=>{(t.classList.contains("e-overflow-show")||t.classList.contains("e-separator"))&&(t.classList.contains("e-separator")&&(t.style.display="",e-=t.offsetWidth),r++)}),h=this.ignoreEleFetch(n,l),c.classList.contains("e-overflow-show")?(this.tbarPriRef(l,n,r,c,i,t,e,h),e-=c.offsetWidth):0===n?(l.insertBefore(c,l.firstChild),e-=c.offsetWidth):(s=Ov(".e-overflow-show",this.popObj.element).length,l.insertBefore(c,l.children[n+h-s]),e-=c.offsetWidth),c.style.height=""}}r=this.checkOverflow(this.element,this.element.getElementsByClassName($E)[0]),r&&!i&&this.renderOverflowMode()}removePositioning(){let e=this.element.querySelector("."+$E);if(Qy(e)||!e.classList.contains("e-tbar-pos"))return;this.remove(e,"e-tbar-pos");let t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}refreshPositioning(){let e=this.element.querySelector("."+$E);this.add(e,"e-tbar-pos"),this.itemPositioning()}itemPositioning(){let e,t=this.element.querySelector("."+$E);if(Qy(t)||!t.classList.contains("e-tbar-pos"))return;let i,s=this.element.querySelector(".e-hor-nav");i=[].slice.call(this.scrollModule?t.querySelector("."+(this.isVertical?"e-vscroll-content":"e-hscroll-content")).children:t.childNodes),e=this.isVertical?i[0].offsetHeight+i[2].offsetHeight:i[0].offsetWidth+i[2].offsetWidth;let n=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(s){n-=this.isVertical?s.offsetHeight:s.offsetWidth;let e=(this.isVertical?s.offsetHeight:s.offsetWidth)+"px";i[2].removeAttribute("style"),this.isVertical?this.enableRtl?i[2].style.top=e:i[2].style.bottom=e:this.enableRtl?i[2].style.left=e:i[2].style.right=e}if(n<=e)return;let r=(n-e-(this.isVertical?i[1].offsetHeight:i[1].offsetWidth))/2;i[1].removeAttribute("style");let a=(this.isVertical?i[0].offsetHeight:i[0].offsetWidth)+r+"px";this.isVertical?this.enableRtl?i[1].style.marginBottom=a:i[1].style.marginTop=a:this.enableRtl?i[1].style.marginRight=a:i[1].style.marginLeft=a}tbarItemAlign(e,t,i){if(e.showAlwaysInPopup&&"Show"!==e.overflow)return;let s=[];if(s.push(this.createElement("div",{className:"e-toolbar-left"})),s.push(this.createElement("div",{className:"e-toolbar-center"})),s.push(this.createElement("div",{className:"e-toolbar-right"})),0===i&&"Left"!==e.align)s.forEach(e=>{t.appendChild(e)}),this.tbarAlign=!0,this.add(t,"e-tbar-pos");else if("Left"!==e.align){let e=s[0];[].slice.call(t.childNodes).forEach(t=>{this.tbarAlgEle.lefts.push(t),e.appendChild(t)}),t.appendChild(e),t.appendChild(s[1]),t.appendChild(s[2]),this.tbarAlign=!0,this.add(t,"e-tbar-pos")}}ctrlTemplate(){this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,$E),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(e=>{"DIV"===e.tagName&&(this.tbarEle.push(e),e.setAttribute("aria-disabled","false"),this.add(e,QE))})}renderItems(){let e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){let i;e&&e.children.length>0&&(i=e.querySelector("."+$E)),i||(i=this.createElement("div",{className:$E})),this.itemsAlign(t,i),e.appendChild(i)}}setAttr(e,t){let i,s=Object.keys(e);for(let n=0;n<s.length;n++)i=s[n],"class"===i?this.add(t,e[i]):t.setAttribute(i,e[i])}enableItems(e,t){let i,s=e,n=s.length;Qy(t)&&(t=!0);let r=(e,t)=>{e?(t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false")):(t.classList.add("e-overlay"),t.setAttribute("aria-disabled","true"))};if(!Qy(n)&&n>=1){for(let e=0,a=[].slice.call(s);e<n;e++){let n=a[e];if("number"==typeof n){if(i=this.getElementByIndex(n),Qy(i))return;s[e]=i}else i=n;r(t,i)}t?Ev(s,"e-overlay"):Cv(s,"e-overlay")}else{if("number"==typeof s){if(i=this.getElementByIndex(s),Qy(i))return}else i=e;r(t,i)}}getElementByIndex(e){return this.tbarEle[e]?this.tbarEle[e]:null}addItems(e,t){let i;this.extendedOpen();let s,n=this.element.querySelector("."+$E);if(Qy(n))return void this.itemsRerender(e);let r="Left";Qy(t)&&(t=0),e.forEach(e=>{Qy(e.align)||"Left"===e.align||"Left"!==r||(r=e.align)});for(let a of e)if(Qy(a.type)&&(a.type="Button"),i=Ov("."+QE,this.element),a.align=r,s=this.renderSubComponent(a,t),this.tbarEle.length>=t&&i.length>=0){Qy(this.scrollModule)&&this.destroyMode();let e,o="L"===a.align[0]?0:"C"===a.align[0]?1:2;this.tbarAlign||"Left"===r?this.tbarAlign?(e=Nv(i[0],"."+$E).children[o],e.insertBefore(s,e.children[t]),this.tbarAlgEle[(a.align+"s").toLowerCase()].splice(t,0,s),this.refreshPositioning()):0===i.length?(i=Ov("."+$E,this.element),i[0].appendChild(s)):i[0].parentNode.insertBefore(s,i[t]):(this.tbarItemAlign(a,n,1),this.tbarAlign=!0,e=Nv(i[0],"."+$E).children[o],e.appendChild(s),this.tbarAlgEle[(a.align+"s").toLowerCase()].push(s),this.refreshPositioning()),this.items.splice(t,0,a),this.tbarEle.splice(t,0,s),t++,this.offsetWid=n.offsetWidth}n.style.width="",this.renderOverflowMode()}removeItems(e){let t,i=e,s=[].slice.call(Ov("."+QE,this.element));if("number"==typeof i)t=parseInt(e.toString(),10),this.removeItemByIndex(t,s);else if(i&&i.length>1)for(let n of[].slice.call(i))t=this.tbarEle.indexOf(n),this.removeItemByIndex(t,s),s=Ov("."+QE,this.element);else t=s.indexOf(i&&i.length&&1===i.length?i[0]:e),this.removeItemByIndex(t,s);this.resize()}removeItemByIndex(e,t){if(this.tbarEle[e]&&t[e]){let i=this.tbarEle.indexOf(t[e]);if(this.tbarAlign){let e;e=this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].indexOf(this.tbarEle[i]),this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].splice(e,1)}Tv(t[e]),this.items.splice(i,1),this.tbarEle.splice(i,1)}}templateRender(e,t,i,s){let n,r=e;if("object"==typeof e&&(n="function"==typeof r.appendTo),"string"!=typeof e&&n){if("Input"===i.type){let e=this.createElement("input");e.id=i.id?i.id:eb("tbr-ipt"),t.appendChild(e),r.appendTo(e)}}else{let i,n,r=e;r="string"==typeof e?e.trim():e;try{if("object"!=typeof e||Qy(e.tagName)){if(document.querySelectorAll(r).length){let e=document.querySelector(r),i=e.outerHTML.trim();t.appendChild(e),e.style.display="",Qy(i)||this.tempId.push(r)}}else t.appendChild(e)}catch(a){i=sv(r)}Qy(i)||(n=i({},this,"template",this.element.id+s+"_template",this.isStringTemplate)),!Qy(n)&&n.length>0&&[].slice.call(n).forEach(e=>{Qy(e.tagName)||(e.style.display=""),t.appendChild(e)})}this.add(t,"e-template"),this.tbarEle.push(t)}buttonRendering(e,t){let i=this.createElement("button",{className:"e-tbar-btn"});i.setAttribute("type","button");let s,n,r=e.text;i.id=e.id?e.id:eb("e-tbr-btn");let a=this.createElement("span",{className:"e-tbar-btn-text"});r?(a.innerHTML=this.enableHtmlSanitizer?Ww.sanitize(r):r,i.appendChild(a),i.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(s=e.prefixIcon+" e-icons",n="Left"):(s=e.suffixIcon+" e-icons",n="Right"));let o=new fC({iconCss:s,iconPosition:n});return o.createElement=this.createElement,o.appendTo(i),e.width&&Vv(i,{width:ib(e.width)}),i}renderSubComponent(e,t){let i,s;i=this.createElement("div",{className:QE}),i.setAttribute("aria-disabled","false");let n=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?Ww.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,i),e.tooltipText&&i.setAttribute("title",n.textContent),e.cssClass&&(i.className=i.className+" "+e.cssClass),e.template)this.templateRender(e.template,i,e,t);else switch(e.type){case"Button":s=this.buttonRendering(e,i),s.setAttribute("tabindex","-1"),s.setAttribute("aria-label",e.text||e.tooltipText),i.appendChild(s),i.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(i,"e-separator")}if(e.showTextOn){let t=e.showTextOn;"Toolbar"===t?(this.add(i,"e-toolbar-text"),this.add(i,"e-tbtn-align")):"Overflow"===t&&this.add(i,"e-popup-text")}if(e.overflow){let t=e.overflow;"Show"===t?this.add(i,"e-overflow-show"):"Hide"===t&&(i.classList.contains("e-separator")||this.add(i,"e-overflow-hide"))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!i.classList.contains("e-separator")&&(this.add(i,"e-popup-alone"),this.popupPriCount++),e.disabled&&this.add(i,"e-overlay"),!1===e.visible&&this.add(i,"e-hidden"),i}itemClick(e){this.activeEleSwitch(e.currentTarget)}activeEleSwitch(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()}activeEleRemove(e){Qy(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,Qy(this.trgtEle)&&!e.parentElement.classList.contains("e-template")?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")}getPersistData(){return this.addOnPersist([])}getModuleName(){return"toolbar"}itemsRerender(e){this.items=this.tbarItemsCol,this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode()}resize(){let e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();let t=this.checkOverflow(e,e.getElementsByClassName($E)[0]);if(!t){this.destroyScroll();let t=e.querySelector("."+$E);Qy(t)||(this.remove(t,"e-multirow-pos"),this.tbarAlign&&this.add(t,"e-tbar-pos"))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){let e=window.getComputedStyle(this.element);this.popObj.width=parseFloat(e.width)+2*parseFloat(e.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}}extendedOpen(){let e=this.element.querySelector(".e-toolbar-extended");"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains("e-popup-open"))}onPropertyChanged(e,t){let i=this.element;this.extendedOpen();for(let s of Object.keys(e))switch(s){case"items":if(e.items instanceof Array&&t.items instanceof Array||this.isServerRendered)this.itemsRerender(e.items);else{let t=Object.keys(e.items);for(let s=0;s<t.length;s++){let t=parseInt(Object.keys(e.items)[s],10),n=Object.keys(e.items[t])[0],r=Object(e.items[t])[n];if(this.tbarAlign||"align"===n){this.refresh(),this.trigger("created");break}let a="overflow"===n&&0!==this.popupPriCount;("showAlwaysInPopup"===n&&!r||this.items[t].showAlwaysInPopup&&a)&&--this.popupPriCount,Qy(this.scrollModule)&&this.destroyMode(),Tv([].slice.call(Ov("."+$E+" ."+QE,i))[t]),this.tbarEle.splice(t,1),this.addItems([this.items[t]],t),this.items.splice(t,1),this.items[t].template&&this.tbarEle.splice(this.items.length,1)}}break;case"width":let s=i.offsetWidth;Vv(i,{width:ib(e.width)}),this.renderOverflowMode(),this.popObj&&s<i.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":Vv(this.element,{height:ib(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(i,"e-rtl"),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(i,"e-rtl"):this.remove(i,"e-rtl"),Qy(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,"e-rtl"):this.remove(this.scrollModule.element,"e-rtl")),Qy(this.popObj)||(e.enableRtl?this.add(this.popObj.element,"e-rtl"):this.remove(this.popObj.element,"e-rtl")),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&Ev([this.element],t.cssClass.split(" ")),e.cssClass&&Cv([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}hideItem(e,t){let i,s,n="object"==typeof e,r=e,a=[].slice.call(Ov("."+QE,this.element));if(n?s=e:this.tbarEle[r]&&(s=[].slice.call(Ov("."+QE,this.element))[r]),s){if(t?s.classList.add("e-hidden"):s.classList.remove("e-hidden"),t&&Qy(this.element.getAttribute("tabindex"))&&!s.classList.contains("e-separator")){if(Qy(s.firstElementChild.getAttribute("tabindex"))){s.firstElementChild.setAttribute("tabindex","-1");let e=[].slice.call(Ov("."+QE,this.element));n&&(r=e.indexOf(s));let t=e[++r];for(;t;){if(!this.eleContains(t)){t.firstElementChild.removeAttribute("tabindex");break}t=e[++r]}}}else if(Qy(this.element.getAttribute("tabindex"))&&!s.classList.contains("e-separator")){i=0;let e=!1,t=!1,s=a[i];for(;s;)if(s.classList.contains("e-separator"))s=a[++i];else if(Qy(s.firstElementChild.getAttribute("tabindex")))s.firstElementChild.setAttribute("tabindex","-1"),e=!0;else{if(e&&t)break;this.eleContains(s)||(s.firstElementChild.removeAttribute("tabindex"),t=!0),s=a[++i]}}this.refreshOverflow()}}};return Wy([cw([],eD)],e.prototype,"items",void 0),Wy([lw("auto")],e.prototype,"width",void 0),Wy([lw("auto")],e.prototype,"height",void 0),Wy([lw("")],e.prototype,"cssClass",void 0),Wy([lw("Scrollable")],e.prototype,"overflowMode",void 0),Wy([lw()],e.prototype,"scrollStep",void 0),Wy([lw(!0)],e.prototype,"enableCollision",void 0),Wy([lw(!0)],e.prototype,"enableHtmlSanitizer",void 0),Wy([lw(!0)],e.prototype,"allowKeyboard",void 0),Wy([dw()],e.prototype,"clicked",void 0),Wy([dw()],e.prototype,"created",void 0),Wy([dw()],e.prototype,"destroyed",void 0),Wy([dw()],e.prototype,"beforeCreate",void 0),e=Wy([uw],e),e})();const iD="e-other-month",sD="e-overlay",nD="e-focused-date";let rD=(()=>{let e=class extends kw{constructor(e,t){super(e,t),this.effect="",this.isPopupClicked=!1,this.isDateSelected=!0}render(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new Db(this.locale),(Qy(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add("e-calendar"),this.enableRtl&&this.element.classList.add("e-rtl"),Kv.isDevice&&this.element.classList.add("e-device"),Pv(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add("e-calendar"),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),Kv.isDevice&&this.calendarElement.classList.add("e-device"),Pv(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()}rangeValidation(e,t){Qy(e)&&this.setProperties({min:new Date(1900,0,1)},!0),Qy(t)&&this.setProperties({max:new Date(2099,11,31)},!0)}getDefaultKeyConfig(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs}validateDate(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!Qy(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))}setOverlayIndex(e,t,i,s){if(s&&!Qy(t)&&!Qy(i)&&!Qy(e)){let s=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;i.style.zIndex=(s-1).toString(),e.style.zIndex=s.toString()}}minMaxUpdate(e){+this.min<=+this.max?Ev([this.element],sD):(this.setProperties({min:this.min},!0),Cv([this.element],sD)),this.min=Qy(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=Qy(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}createHeader(){this.headerElement=this.createElement("div",{className:"e-header"});let e=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),fw(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),Pv(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),fw(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),Pv(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),Pv(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev e-icons"})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  e-icons"})),e.appendChild(this.previousIcon),e.appendChild(this.nextIcon),this.headerElement.appendChild(e),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()}createContent(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()}getCultureValues(){let e,t=[],i="days.stand-alone."+this.dayHeaderFormat.toLowerCase();var s;e="en"===this.locale||"en-US"===this.locale?Gy(i,Ab.getDependables(Sb,"",s,!1)[Eb[1]]):this.getCultureObjects(Sb,""+this.locale);for(let n of Object.keys(e))t.push(Gy(n,e));return t}toCapitalize(e){return!Qy(e)&&e.length?e[0].toUpperCase()+e.slice(1):e}createContentHeader(){"calendar"===this.getModuleName()?Qy(this.element.querySelectorAll(".e-content .e-week-header")[0])||Tv(this.element.querySelectorAll(".e-content .e-week-header")[0]):Qy(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||Tv(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);let e,t="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(t+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?Cv([this.element],"e-week-number"):Cv([this.calendarElement],"e-week-number")),e=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(let i=0;i<=6;i++)t+='<th  class="">'+this.toCapitalize(e[i])+"</th>";t="<tr>"+t+"</tr>",this.tableHeadElement.innerHTML=t,this.table.appendChild(this.tableHeadElement)}createContentBody(){switch("calendar"===this.getModuleName()?Qy(this.element.querySelectorAll(".e-content tbody")[0])||Tv(this.element.querySelectorAll(".e-content tbody")[0]):Qy(this.calendarElement.querySelectorAll(".e-content tbody")[0])||Tv(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}}updateFooter(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))}createContentFooter(){if(this.showTodayButton){let e=new Date(+this.min),t=new Date(+this.max),i={today:"Today"};this.globalize=new Db(this.locale),this.l10=new Nw(this.getModuleName(),i,this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),fw(this.todayElement),this.updateFooter(),Cv([this.todayElement],["e-btn","e-today","e-flat","e-primary","e-css"]),+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(t.setHours(0,0,0,0))&&!this.todayDisabled||Cv([this.todayElement],"e-disabled"),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains("e-disabled")||Tb.add(this.todayElement,"click",this.todayButtonClick,this)}}wireEvents(e,t,i,s){Tb.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=Ky(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModule="calendar"===this.getModuleName()?new Ow(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):new Ow(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}dateWireEvents(e,t,i,s){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=Ky(this.defaultKeyConfigs,i),this.blazorRef=t,this.serverModuleName=s}todayButtonClick(e){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(e))):this.navigateTo("Month",new Date(this.checkValue(e))))}checkDeviceMode(e){}keyActionHandle(e,t,i){let s,n=this.tableBodyElement.querySelector("tr td.e-focused-date");s=i?Qy(n)||+t!==parseInt(n.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):n:this.tableBodyElement.querySelector("tr td.e-selected");{let i=this.getViewNumber(this.currentView()),r=this.getViewNumber(this.depth),a=i===r&&this.getViewNumber(this.start)>=r;switch(this.effect="",e.action){case"moveLeft":this.KeyboardNavigate(-1,i,e,this.max,this.min),e.preventDefault();break;case"moveRight":this.KeyboardNavigate(1,i,e,this.max,this.min),e.preventDefault();break;case"moveUp":this.KeyboardNavigate(0===i?-7:-4,i,e,this.max,this.min),e.preventDefault();break;case"moveDown":this.KeyboardNavigate(0===i?7:4,i,e,this.max,this.min),e.preventDefault();break;case"select":if(e.target===this.todayElement)this.todayButtonClick(t);else{let r=Qy(n)?s:n;if(!Qy(r)&&!r.classList.contains("e-disabled"))if(a){let t=new Date(parseInt(""+r.id,0));this.selectDate(e,t,r)}else this.contentClick(null,--i,r,t)}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":Qy(n)&&(Qy(s)||a)||this.contentClick(null,--i,n||s,t),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),Tv(this.tableBodyElement),0===i?this.renderMonths(e):1===i?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,i),Tv(this.tableBodyElement),0===i?this.renderMonths(e):1===i?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()}}KeyboardNavigate(e,t,i,s,n){let r=new Date(this.checkValue(this.currentDate));switch(t){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(Tv(this.tableBodyElement),this.renderDecades(i)):this.currentDate=r;break;case 1:this.addMonths(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(Tv(this.tableBodyElement),this.renderYears(i)):this.currentDate=r;break;case 0:this.addDay(this.currentDate,e,i,s,n),this.isMinMaxRange(this.currentDate)?(Tv(this.tableBodyElement),this.renderMonths(i)):this.currentDate=r}}preRender(e){this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=e=>{this.triggerNavigate(e)}}minMaxDate(e){let t=new Date(new Date(+e).setHours(0,0,0,0)),i=new Date(new Date(+this.min).setHours(0,0,0,0)),s=new Date(new Date(+this.max).setHours(0,0,0,0));return+t!=+i&&+t!=+s||(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e}renderMonths(e,t){let i,s=this.weekNumber?8:7;i="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,e,t):this.islamicModule.islamicRenderDays(this.currentDate,t),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(i,s,"e-month",e,t):this.islamicModule.islamicRenderTemplate(i,s,"e-month",e,t)}renderDays(e,t,i,s,n){let r,a=[],o=new Date(this.checkValue(e)),l=o.getMonth();this.titleUpdate(e,"days");let h=o;for(o=new Date(h.getFullYear(),h.getMonth(),0,h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds());o.getDay()!==this.firstDayOfWeek;)this.setStartDate(o,-864e5);for(let c=0;c<42;++c){let t=this.createElement("td",{className:"e-cell"}),h=this.createElement("span");c%7==0&&this.weekNumber&&(h.textContent=""+this.getWeek(o),t.appendChild(h),Cv([t],"e-week-number"),a.push(t)),r=new Date(+o),o=this.minMaxDate(o);let d={type:"dateTime",skeleton:"full"},u=this.globalize.parseDate(this.globalize.formatDate(o,d),d),p=this.dayCell(o),m=this.globalize.formatDate(o,{type:"date",skeleton:"full"}),g=this.createElement("span");g.textContent=this.globalize.formatDate(o,{format:"d",type:"date",skeleton:"yMd"});let f=this.min>o||this.max<o;f?(Cv([p],"e-disabled"),Cv([p],sD)):g.setAttribute("title",""+m),l!==o.getMonth()&&Cv([p],iD),0!==o.getDay()&&6!==o.getDay()||Cv([p],"e-weekend"),p.appendChild(g),this.renderDayCellArgs={date:o,isDisabled:!1,element:p,isOutOfRange:f};let y=this.renderDayCellArgs;if(this.renderDayCellEvent(y),y.isDisabled)if(s){if(!Qy(n)&&n.length>0)for(let e=0;e<n.length;e++)+new Date(this.globalize.formatDate(y.date,{type:"date",skeleton:"yMd"}))==+new Date(this.globalize.formatDate(n[e],{type:"date",skeleton:"yMd"}))&&(n.splice(e,1),e=-1)}else i&&+i==+y.date&&this.setProperties({value:null},!0);this.renderDayCellArgs.isDisabled&&!p.classList.contains("e-selected")&&(Cv([p],"e-disabled"),Cv([p],sD),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));let b=p.classList.contains(iD),v=p.classList.contains("e-disabled");if(v||Tb.add(p,"click",this.clickHandler,this),!s||Qy(n)||v)!v&&this.getDateVal(o,i)?Cv([p],"e-selected"):this.updateFocus(b,v,o,p,e);else{for(let t=0;t<n.length;t++){let s="Gregorian"===this.calendarMode?"gregorian":"islamic",r={format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:s};this.globalize.formatDate(o,r)===this.globalize.formatDate(n[t],r)&&this.getDateVal(o,n[t])||this.getDateVal(o,i)?Cv([p],"e-selected"):this.updateFocus(b,v,o,p,e)}n.length<=0&&this.updateFocus(b,v,o,p,e)}u.getMonth()===(new Date).getMonth()&&u.getDate()===(new Date).getDate()&&u.getFullYear()===(new Date).getFullYear()&&Cv([p],"e-today"),a.push(this.renderDayCellArgs.element),o=new Date(+r),this.addDay(o,1,null,this.max,this.min)}return a}updateFocus(e,t,i,s,n){n.getDate()!==i.getDate()||e||t?(n>=this.max&&parseInt(s.id,0)===+this.max&&!e&&!t&&Cv([s],nD),n<=this.min&&parseInt(s.id,0)===+this.min&&!e&&!t&&Cv([s],nD)):Cv([s],nD)}renderYears(e,t){this.removeTableHeadElement();let i=[],s=Qy(t),n=new Date(this.checkValue(this.currentDate)),r=n.getMonth(),a=n.getFullYear(),o=n,l=o.getFullYear(),h=new Date(this.checkValue(this.min)).getFullYear(),c=new Date(this.checkValue(this.min)).getMonth(),d=new Date(this.checkValue(this.max)).getFullYear(),u=new Date(this.checkValue(this.max)).getMonth();o.setMonth(0),this.titleUpdate(this.currentDate,"months"),o.setDate(1);for(let p=0;p<12;++p){let e=this.dayCell(o),n=this.createElement("span"),m=t&&t.getMonth()===o.getMonth(),g=t&&t.getFullYear()===a&&m;n.textContent=this.toCapitalize(this.globalize.formatDate(o,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(l<h||p<c&&l===h)||this.max&&(l>d||p>u&&l>=d)?Cv([e],"e-disabled"):!s&&g?Cv([e],"e-selected"):o.getMonth()===r&&this.currentDate.getMonth()===r&&Cv([e],nD),o.setDate(1),o.setMonth(o.getMonth()+1),e.classList.contains("e-disabled")||Tb.add(e,"click",this.clickHandler,this),e.appendChild(n),i.push(e)}this.renderTemplate(i,4,"e-year",e,t)}renderDecades(e,t){this.removeTableHeadElement();let i=[],s=new Date(this.checkValue(this.currentDate));s.setMonth(0),s.setDate(1);let n=s.getFullYear(),r=new Date(s.setFullYear(n-n%10)),a=new Date(s.setFullYear(n-n%10+9)),o=r.getFullYear(),l=a.getFullYear(),h=this.globalize.formatDate(r,{format:null,type:"dateTime",skeleton:"y"}),c=this.globalize.formatDate(a,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=h+" - "+c;let d=new Date(n-n%10-1,0,1).getFullYear();for(let u=0;u<12;++u){let e=d+u;s.setFullYear(e);let n=this.dayCell(s);Pv(n,{role:"gridcell"});let r=this.createElement("span");r.textContent=this.globalize.formatDate(s,{format:null,type:"dateTime",skeleton:"y"}),e<o||e>l?(Cv([n],"e-other-year"),Qy(t)||s.getFullYear()!==t.getFullYear()||Cv([n],"e-selected"),(e<new Date(this.checkValue(this.min)).getFullYear()||e>new Date(this.checkValue(this.max)).getFullYear())&&Cv([n],"e-disabled")):e<new Date(this.checkValue(this.min)).getFullYear()||e>new Date(this.checkValue(this.max)).getFullYear()?Cv([n],"e-disabled"):Qy(t)||s.getFullYear()!==t.getFullYear()?s.getFullYear()!==this.currentDate.getFullYear()||n.classList.contains("e-disabled")||Cv([n],nD):Cv([n],"e-selected"),n.classList.contains("e-disabled")||Tb.add(n,"click",this.clickHandler,this),n.appendChild(r),i.push(n)}this.renderTemplate(i,4,"e-decade",e,t)}dayCell(e){let t={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},i={className:"e-cell",attrs:{id:""+eb(""+this.globalize.parseDate(this.globalize.formatDate(e,t),t).valueOf()),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",i)}firstDay(e){let t="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+iD):this.tableBodyElement.querySelectorAll("td:not(.e-other-year");if(t.length)for(let i=0;i<t.length;i++)if(!t[i].classList.contains("e-disabled")){e=new Date(parseInt(t[i].id,0));break}return e}lastDay(e,t){let i=new Date(e.getFullYear(),e.getMonth()+1,0);if(2!==t){let t=Math.abs(i.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return t&&i.setHours(this.firstDay(e).getHours()+t/60),this.findLastDay(i)}return this.findLastDay(this.firstDay(i))}checkDateValue(e){return!Qy(e)&&e instanceof Date&&!isNaN(+e)?e:null}findLastDay(e){let t="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(.e-other-year"):this.tableBodyElement.querySelectorAll("td:not(."+iD);if(t.length)for(let i=t.length-1;i>=0;i--)if(!t[i].classList.contains("e-disabled")){e=new Date(parseInt(t[i].id,0));break}return e}removeTableHeadElement(){"calendar"===this.getModuleName()?Qy(this.element.querySelectorAll(".e-content table thead")[0])||Tv(this.tableHeadElement):Qy(this.calendarElement.querySelectorAll(".e-content table thead")[0])||Tv(this.tableHeadElement)}renderTemplate(e,t,i,s,n){let r,a=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),Ev([this.contentElement,this.headerElement],["e-month","e-decade","e-year"]),Cv([this.contentElement,this.headerElement],[i]);let o=t,l=0;for(let h=0;h<e.length/t;++h){for(r=this.createElement("tr",{attrs:{role:"row"}}),l=0+l;l<o;l++)e[l].classList.contains("e-week-number")||Qy(e[l].children[0])||(Cv([e[l].children[0]],["e-day"]),fw(e[l].children[0],{duration:600,isCenterRipple:!0})),r.appendChild(e[l]),this.weekNumber&&7===l&&e[7].classList.contains(iD)&&Cv([r],"e-month-hide"),!this.weekNumber&&6===l&&e[6].classList.contains(iD)&&Cv([r],"e-month-hide"),this.weekNumber?41===l&&e[41].classList.contains(iD)&&Cv([r],"e-month-hide"):35===l&&e[35].classList.contains(iD)&&Cv([r],"e-month-hide");o+=t,l+=0,this.tableBodyElement.appendChild(r)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(a!==this.getViewNumber(this.currentView())||0===a&&a!==this.getViewNumber(this.currentView()))&&this.navigateHandler(s),this.setAriaActiveDescendant()}clickHandler(e,t){this.clickEventEmitter(e);let i=e.currentTarget,s=this.getViewNumber(this.currentView());i.classList.contains(iD)?this.contentClick(e,0,null,t):s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(e,1,null,t):2===s?this.contentClick(e,1,null,t):i.classList.contains(iD)||0!==s?this.contentClick(e,0,i,t):this.selectDate(e,this.getIdValue(e,null),null),"calendar"===this.getModuleName()&&this.table.focus()}clickEventEmitter(e){e.preventDefault()}contentClick(e,t,i,s){let n=this.getViewNumber(this.currentView()),r=this.getIdValue(e,i);switch(t){case 0:n===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(Tv(this.tableBodyElement),this.currentDate=r,this.effect="e-zoomin",this.renderMonths(e)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(r.getMonth()),r.getMonth()>0&&this.currentDate.getMonth()!==r.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(r.getFullYear())):this.currentDate=r,this.effect="e-zoomin",Tv(this.tableBodyElement),this.renderMonths(e));break;case 1:if(n===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(e,r,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(r.getFullYear());else{let e=this.islamicModule.getIslamicDate(r);this.currentDate=this.islamicModule.toGregorian(e.year,e.month,1)}this.effect="e-zoomin",Tv(this.tableBodyElement),this.renderYears(e)}}}switchView(e,t,i){switch(e){case 0:Tv(this.tableBodyElement),this.renderMonths(t),i&&!Qy(this.tableBodyElement.querySelectorAll("."+nD)[0])&&this.tableBodyElement.querySelectorAll("."+nD)[0].classList.remove(nD);break;case 1:Tv(this.tableBodyElement),this.renderYears(t);break;case 2:Tv(this.tableBodyElement),this.renderDecades(t)}}getModuleName(){return"calendar"}requiredModules(){let e=[];return this&&e.push({args:[this],member:"islamic"}),e}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(e,t,i,s){this.effect="";for(let n of Object.keys(e))switch(n){case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),this.setProperties("min"===n?{min:this.checkDateValue(new Date(this.checkValue(e.min)))}:{max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),Tv(this.tableBodyElement),this.minMaxUpdate(),i&&this.validateValues(i,s),this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(Tv(this.todayElement),Tv(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(Ev([this.todayElement],"e-disabled"),Tv(this.todayElement),Tv(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":this.checkView(),this.createContentHeader(),this.createContentBody();break;case"locale":this.globalize=new Db(this.locale),this.createContentHeader(),this.createContentBody(),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():Qy(this.todayElement)||Qy(this.footer)||(Tv(this.todayElement),Tv(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}validateValues(e,t){if(e&&!Qy(t)&&t.length>0){let e=this.copyValues(t);for(let t=0;t<e.length;t++){let i,s="Gregorian"===this.calendarMode?"gregorian":"islamic";i=this.globalize.formatDate(e[t],"Gregorian"===this.calendarMode?{type:"date",skeleton:"yMd"}:{type:"dateTime",skeleton:"full",calendar:"islamic"});let n=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:s}),r=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:s});(+new Date(i)<+new Date(n)||+new Date(i)>+new Date(r))&&(e.splice(t,1),t=-1)}this.setProperties({values:e},!0)}}setValueUpdate(){Qy(this.tableBodyElement)||(Tv(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())}copyValues(e){let t=[];if(!Qy(e)&&e.length>0)for(let i=0;i<e.length;i++)t.push(new Date(+e[i]));return t}titleUpdate(e,t){let i,s,n=new Db(this.locale),r="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(i=n.formatDate(e,{type:"dateTime",skeleton:"yMMMM",calendar:r}),s=n.formatDate(e,{format:null,type:"dateTime",skeleton:"y",calendar:r})):(i=n.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:r}),s=n.formatDate(e,{type:"dateTime",format:"y",calendar:r})),t){case"days":this.headerTitleElement.textContent=this.toCapitalize(i);break;case"months":this.headerTitleElement.textContent=s}}setActiveDescendant(){let e,t,i=this.tableBodyElement.querySelector("tr td.e-focused-date"),s=this.tableBodyElement.querySelector("tr td.e-selected"),n="Gregorian"===this.calendarMode?"gregorian":"islamic",r=this.currentView();return t=this.globalize.formatDate(this.currentDate,"Month"===r?{type:"date",skeleton:"full",calendar:n}:"Year"===r?"islamic"!==n?{type:"date",skeleton:"yMMMM",calendar:n}:{type:"date",skeleton:"GyMMM",calendar:n}:{format:null,type:"date",skeleton:"y",calendar:n}),(s||i)&&(Qy(s)||s.setAttribute("aria-selected","true"),(i||s).setAttribute("aria-label",t),e=(i||s).getAttribute("id")),e}iconHandler(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}}destroy(){"calendar"===this.getModuleName()?Ev([this.element],["e-calendar"]):this.calendarElement&&Ev([this.element],["e-calendar"]),"calendar"===this.getModuleName()&&(Tb.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&Tb.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),Qy(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element.innerHTML="",super.destroy()}title(e){let t=this.getViewNumber(this.currentView());this.effect="e-zoomin",this.switchView(++t,e)}getViewNumber(e){return"Month"===e?0:"Year"===e?1:2}navigateTitle(e){e.preventDefault(),this.title(e),"calendar"===this.getModuleName()&&this.table.focus()}previous(){this.effect="";let e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}}navigatePrevious(e){e.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()}next(){this.effect="";let e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}}navigateNext(e){e.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()}navigateTo(e,t){+t>=+this.min&&+t<=+this.max&&(this.currentDate=t),+t<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+t>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e))}currentView(){return this.contentElement.classList.contains("e-year")?"Year":this.contentElement.classList.contains("e-decade")?"Decade":"Month"}getDateVal(e,t){return!Qy(t)&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}getCultureObjects(e,t){let i=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),s=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return Gy("Gregorian"===this.calendarMode?"main."+this.locale+i:"main."+this.locale+s,e)}getWeek(e){let t=new Date(this.checkValue(e)).valueOf(),i=new Date(e.getFullYear(),0,1).valueOf();return Math.ceil(((t-i)/864e5+new Date(i).getDay()+1)/7)}setStartDate(e,t){let i=e.getTimezoneOffset(),s=new Date(e.getTime()+t),n=s.getTimezoneOffset()-i;e.setTime(s.getTime()+6e4*n)}addMonths(e,t){if("Gregorian"===this.calendarMode){let i=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,this.getMaxDays(e)))}else{let i=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(i.year,i.month+t,1)}}addYears(e,t){if("Gregorian"===this.calendarMode){let i=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(i,this.getMaxDays(e)))}else{let i=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(i.year+t,i.month,1)}}getIdValue(e,t){let i;i=e?e.currentTarget:t;let s={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},n=this.globalize.formatDate(new Date(parseInt(""+i.getAttribute("id"),0)),s),r=this.globalize.parseDate(n,s),a=r.valueOf()-r.valueOf()%1e3;return new Date(a)}adjustLongHeaderSize(){Ev([this.element],"e-calendar-day-header-lg"),"Wide"===this.dayHeaderFormat&&Cv(["calendar"===this.getModuleName()?this.element:this.calendarElement],"e-calendar-day-header-lg")}selectDate(e,t,i,s,n){let r=i||e.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,t.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,t);else{if(s&&!this.checkPresentDate(t,n)){let e=this.copyValues(n);!Qy(n)&&e.length>0?(e.push(new Date(this.checkValue(t))),this.setProperties({values:e},!0),this.setProperties({value:n[n.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(t))]},!0)}else this.setProperties({value:new Date(this.checkValue(t))},!0);this.currentDate=new Date(this.checkValue(t))}let a=Nv(r,".e-calendar");if(Qy(a)&&(a=this.tableBodyElement),s||Qy(a.querySelector(".e-selected"))||Ev([a.querySelector(".e-selected")],"e-selected"),s||Qy(a.querySelector("."+nD))||Ev([a.querySelector("."+nD)],nD),s){let e=this.copyValues(n),i=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td"));for(let t=0;t<i.length;t++){let e=a.querySelectorAll("td."+nD)[0],s=a.querySelectorAll("td.e-selected")[0];i[t]===e&&Ev([i[t]],nD),i[t]!==s||this.checkPresentDate(new Date(parseInt(s.getAttribute("id").split("_")[0],10)),n)||Ev([i[t]],"e-selected")}if(r.classList.contains("e-selected")){Ev([r],"e-selected");for(let i=0;i<e.length;i++){let s="Gregorian"===this.calendarMode?"gregorian":"islamic",n={format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:s};if(this.globalize.formatDate(t,n)===this.globalize.formatDate(e[i],n)){let t=e.indexOf(e[i]);e.splice(t,1),Cv([r],nD)}}this.setProperties({values:e},!0)}else Cv([r],"e-selected")}else Cv([r],"e-selected");this.isDateSelected=!0}getFromatStringValue(){return null}checkPresentDate(e,t){let i=!1;if(!Qy(t))for(let s=0;s<t.length;s++){let n="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(e,{format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:n})===this.globalize.formatDate(t[s],{format:this.getFromatStringValue(),type:"date",skeleton:"short",calendar:n})&&(i=!0)}return i}setAriaActiveDescendant(){Pv(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})}previousIconHandler(e){e?(Tb.remove(this.previousIcon,"click",this.navigatePreviousHandler),Cv([this.previousIcon],"e-disabled"),Cv([this.previousIcon],""+sD),this.previousIcon.setAttribute("aria-disabled","true")):(Tb.add(this.previousIcon,"click",this.navigatePreviousHandler),Ev([this.previousIcon],"e-disabled"),Ev([this.previousIcon],""+sD),this.previousIcon.setAttribute("aria-disabled","false"))}renderDayCellEvent(e){Ky(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)}navigatedEvent(e){Ky(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)}triggerNavigate(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)}nextIconHandler(e){e?(Tb.remove(this.nextIcon,"click",this.navigateNextHandler),Cv([this.nextIcon],"e-disabled"),Cv([this.nextIcon],sD),this.nextIcon.setAttribute("aria-disabled","true")):(Tb.add(this.nextIcon,"click",this.navigateNextHandler),Ev([this.nextIcon],"e-disabled"),Ev([this.nextIcon],sD),this.nextIcon.setAttribute("aria-disabled","false"))}compare(e,t,i){let s,n,r=t.getFullYear();return s=r,n=0,i&&(r-=r%i,s=r-r%i+i-1),e.getFullYear()>s?n=1:e.getFullYear()<r&&(n=-1),n}isMinMaxRange(e){return+e>=+this.min&&+e<=+this.max}isMonthYearRange(e){if("Gregorian"===this.calendarMode)return e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear();{let t=this.islamicModule.getIslamicDate(e);return t.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&t.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&t.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&t.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year}}compareYear(e,t){return this.compare(e,t,0)}compareDecade(e,t){return this.compare(e,t,10)}shiftArray(e,t){return e.slice(t).concat(e.slice(0,t))}addDay(e,t,i,s,n){let r=t,a=new Date(+e);if(!Qy(this.tableBodyElement)&&!Qy(i)){for(;this.findNextTD(new Date(+e),r,s,n);)r+=t;let i=new Date(a.setDate(a.getDate()+r));r=+i>+s||+i<+n?r===t?t-t:t:r}e.setDate(e.getDate()+r)}findNextTD(e,t,i,s){let n=new Date(e.setDate(e.getDate()+t)),r=[],a=!1;if((!Qy(n)&&n.getMonth())===(!Qy(this.currentDate)&&this.currentDate.getMonth())){let e;e="Gregorian"===this.calendarMode?this.renderDays(n,null):this.islamicModule.islamicRenderDays(this.currentDate,n),r=e.filter(e=>e.classList.contains("e-disabled"))}else r=this.tableBodyElement.querySelectorAll("td.e-disabled");if(+n<=+i&&+n>=+s&&r.length)for(let o=0;o<r.length&&(a=+n==+new Date(parseInt(r[o].id,0)),!a);o++);return a}getMaxDays(e){let t,i,s=new Date(this.checkValue(e));for(t=28,i=s.getMonth();s.getMonth()===i;)++t,s.setDate(t);return t-1}setDateDecade(e,t){e.setFullYear(t),this.setProperties({value:new Date(this.checkValue(e))},!0)}setDateYear(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),e.getDate()),t.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(t))),this.setProperties({value:new Date(this.checkValue(e))},!0)}compareMonth(e,t){let i;return i=e.getFullYear()>t.getFullYear()?1:e.getFullYear()<t.getFullYear()?-1:e.getMonth()===t.getMonth()?0:e.getMonth()>t.getMonth()?1:-1,i}checkValue(e){return e instanceof Date?e.toUTCString():""+e}checkView(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)}};return Wy([lw(new Date(1900,0,1))],e.prototype,"min",void 0),Wy([lw(new Date(2099,11,31))],e.prototype,"max",void 0),Wy([lw(null)],e.prototype,"firstDayOfWeek",void 0),Wy([lw("Gregorian")],e.prototype,"calendarMode",void 0),Wy([lw("Month")],e.prototype,"start",void 0),Wy([lw("Month")],e.prototype,"depth",void 0),Wy([lw(!1)],e.prototype,"weekNumber",void 0),Wy([lw(!0)],e.prototype,"showTodayButton",void 0),Wy([lw("Short")],e.prototype,"dayHeaderFormat",void 0),Wy([lw(!1)],e.prototype,"enablePersistence",void 0),Wy([lw(null)],e.prototype,"keyConfigs",void 0),Wy([lw(null)],e.prototype,"serverTimezoneOffset",void 0),Wy([dw()],e.prototype,"created",void 0),Wy([dw()],e.prototype,"destroyed",void 0),Wy([dw()],e.prototype,"navigated",void 0),Wy([dw()],e.prototype,"renderDayCell",void 0),e=Wy([uw],e),e})();const aD="e-left-calendar",oD="e-right-calendar",lD="e-daterangepicker",hD="e-active",cD="e-start-date",dD="e-end-date",uD="e-range-hover",pD="e-disabled",mD="e-calendar",gD="e-focused-date",fD="e-day-span",yD="e-date-disabled",bD="e-icon-disabled",vD="e-overlay",wD="e-list-item",xD=["title","class","style"];let _D=(()=>{class e extends Sw{}return Wy([lw()],e.prototype,"label",void 0),Wy([lw()],e.prototype,"start",void 0),Wy([lw()],e.prototype,"end",void 0),e})(),SD=(()=>{let e=class extends rD{constructor(e,t){super(e,t),this.isCustomRange=!1,this.isCustomWindow=!1,this.presetsItem=[],this.liCollections=[],this.previousEleValue="",this.isKeyPopup=!1,this.dateDisabled=!1,this.isRangeIconClicked=!1,this.isMaxDaysClicked=!1,this.disabledDays=[],this.preventBlur=!1,this.preventFocus=!1,this.invalidValueString=null,this.dateRangeOptions=e}render(){this.initialize(),this.setProperties({startDate:this.startValue},!0),this.setProperties({endDate:this.endValue},!0),this.setModelValue(),this.setDataAttribute(!1),this.renderComplete()}preRender(){if(this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow",moveUp:"uparrow",moveDown:"downarrow",spacebar:"space"},this.defaultConstant={placeholder:this.placeholder,startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),Ev([this.cloneElement],[lD,"e-control","e-lib"]),this.updateHtmlAttributeToElement(),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=eb("ej2-datetimepicker"),null!==this.angularTag&&Pv(this.inputElement,{id:this.element.id+"_input"})),this.checkInvalidRange(this.value),!this.invalidValueString&&"string"==typeof this.value){let e=this.value.split(" "+this.separator+" ");this.value=[new Date(e[0]),new Date(e[1])]}this.initProperty(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),super.preRender(),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.formElement=Nv(this.element,"form")}updateValue(){this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):"string"==typeof this.value[0]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.startValue=null,this.setValue()):(this.setProperties({startDate:new Date(this.checkValue(this.value[0]))},!0),this.startValue=new Date(this.checkValue(this.value[0]))):(this.startValue=null,this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):"string"==typeof this.value[1]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue()):(this.setProperties({endDate:new Date(this.checkValue(this.value[1]))},!0),this.endValue=new Date(this.checkValue(this.value[1])),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):"string"==typeof this.value.start?(this.setProperties({startDate:new Date(this.checkValue(this.value.start))},!0),this.startValue=new Date(this.checkValue(this.value.start))):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):"string"==typeof this.value.end?(this.setProperties({endDate:new Date(this.checkValue(this.value.end))},!0),this.endValue=new Date(this.checkValue(this.value.end)),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):Qy(this.value)&&(this.endValue=this.checkDateValue(new Date(this.checkValue(this.endDate))),this.startValue=this.checkDateValue(new Date(this.checkValue(this.startDate))),this.setValue())}initProperty(){this.globalize=new Db(this.locale),this.checkFormat(),this.checkView(),(Qy(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.updateValue()}checkFormat(){this.formatString=this.format?"string"==typeof this.format?this.format:""===this.format.skeleton||Qy(this.format.skeleton)?null:this.globalize.getDatePattern({skeleton:this.format.skeleton,type:"date"}):null}initialize(){null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(!1),$y(this.defaultKeyConfigs,{shiftTab:"shift+tab"});let e=this.checkDateValue(new Date(this.checkValue(this.startValue)));this.setProperties({startDate:e},!0),this.setProperties({endValue:this.checkDateValue(new Date(this.checkValue(this.endValue)))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.l10n=new Nw("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setRangeAllowEdit(),this.bindEvents()}setDataAttribute(e){let t={};if(e)t=this.htmlAttributes;else for(let i=0;i<this.element.attributes.length;i++)t[this.element.attributes[i].name]=this.element.getAttribute(this.element.attributes[i].name);for(let i of Object.keys(t))0===i.indexOf("data")&&(this.firstHiddenChild.setAttribute(i,t[i]),this.secondHiddenChild.setAttribute(i,t[i]))}setRangeAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Pv(this.inputElement,{readonly:""}),this.updateClearIconState()}updateClearIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&Ev([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?Ev([this.inputWrapper.container],["e-non-edit"]):Cv([this.inputWrapper.container],["e-non-edit"])}validationAttribute(e,t){let i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");let s=["required","aria-required","form"];for(let n=0;n<s.length;n++){if(Qy(e.getAttribute(s[n])))continue;let i=e.getAttribute(s[n]);t.setAttribute(s[n],i),e.removeAttribute(s[n])}}updateHtmlAttributeToWrapper(){if(!Qy(this.htmlAttributes))for(let e of Object.keys(this.htmlAttributes))if(xD.indexOf(e)>-1)if("class"===e){let t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&Cv([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);t=Qy(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!Qy(this.htmlAttributes))for(let e of Object.keys(this.htmlAttributes))xD.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){Qy(t)||(t=t.replace(/\s+/g," ").trim()),Qy(e)||(e=e.replace(/\s+/g," ").trim()),GE.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&GE.setCssClass(e,[this.popupWrapper],t)}processPresets(){this.presetsItem=[];let e=0;if(!Jy(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(let s of this.presets){let t=s.label.replace(/\s+/g,"")+"_"+ ++e;this.presetsItem.push("string"==typeof s.end?{id:t,text:s.label,end:new Date(this.checkValue(s.end)),start:new Date(this.checkValue(s.start))}:{id:t,text:s.label,start:s.start,end:s.end})}let t=Qy(this.startValue)?null:new Date(+this.startValue),i=Qy(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:t,end:i}),Qy(this.startValue)||Qy(this.endValue)||(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}}bindEvents(){this.enabled?(Tb.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),Tb.add(this.inputElement,"focus",this.inputFocusHandler,this),Tb.add(this.inputElement,"blur",this.inputBlurHandler,this),Tb.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&Tb.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this),this.isMobile||(this.keyInputConfigs=Ky(this.keyInputConfigs,this.keyConfigs),this.inputKeyboardModule=new Ow(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),this.formElement&&Tb.add(this.formElement,"reset",this.formResetHandler,this),this.inputElement.setAttribute("tabindex",this.tabIndex)):(Tb.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),Tb.remove(this.inputElement,"blur",this.inputBlurHandler),Tb.remove(this.inputElement,"focus",this.inputFocusHandler),Tb.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&Tb.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||Qy(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),this.formElement&&Tb.remove(this.formElement,"reset",this.formResetHandler),this.inputElement.tabIndex=-1)}updateHiddenInput(){if(this.firstHiddenChild&&this.secondHiddenChild){let e={type:"datetime",skeleton:"yMd"};"string"==typeof this.startDate&&(this.startDate=this.globalize.parseDate(this.startDate,e)),"string"==typeof this.endDate&&(this.endDate=this.globalize.parseDate(this.endDate,e)),this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e)||this.inputElement.value,this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e)||this.inputElement.value,this.dispatchEvent(this.firstHiddenChild,"focusout"),this.dispatchEvent(this.firstHiddenChild,"change")}}inputChangeHandler(e){e.stopPropagation(),this.updateHiddenInput()}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&Tb.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)}resetHandler(e){this.valueType=this.value,e.preventDefault(),this.clear();let t={event:e};this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.trigger("cleared",t),this.changeTrigger(e),this.clearRange(),this.hide(e)}restoreValue(){this.previousEleValue=this.inputElement.value,this.previousStartValue=this.startValue,this.previousEndValue=this.endValue,this.valueType=null,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.setValue(),this.setModelValue()}formResetHandler(e){if(this.formElement&&e.target===this.formElement&&!this.inputElement.disabled){let e=this.inputElement.getAttribute("value");Qy(this.startCopy)?(this.setProperties({value:null,startDate:null,endDate:null},!0),this.startValue=this.endValue=null):(Qy(this.value)||Qy(this.value.start)?(this.setProperties({value:[this.startCopy,this.endCopy]},!0),this.startValue=this.value[0],this.endValue=this.value[1]):(this.setProperties({value:{start:this.startCopy,end:this.endCopy}},!0),this.startValue=this.value.start,this.endValue=this.value.end),this.setProperties({startDate:this.startValue,endDate:this.endValue},!0)),"EJS-DATERANGEPICKER"===this.element.tagName&&(this.setProperties({value:null,startDate:null,endDate:null},!0),e="",this.startValue=this.endValue=null,this.inputElement.setAttribute("value","")),this.restoreValue(),this.inputElement&&(GE.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}}clear(){null!==this.startValue&&(this.startValue=null),null!==this.endValue&&(this.endValue=null),this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0),null!==this.value&&this.value.length>0&&this.setProperties({value:null},!0),GE.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),Qy(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0),this.removeSelection()}rangeIconHandler(e){this.isMobile&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.targetElement=null,this.isPopupOpen()&&document.body.contains(this.popupObj.element)?this.applyFunction(e):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,e),this.isMobile||Qy(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),Cv([this.inputWrapper.container],["e-input-focus"]))}checkHtmlAttributes(e){this.globalize=new Db(this.locale);let t=e?Qy(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type","value"],i={format:this.formatString,type:"date",skeleton:"yMd"};for(let s of t)if(!Qy(this.inputElement.getAttribute(s)))switch(s){case"disabled":if(Qy(this.dateRangeOptions)||void 0===this.dateRangeOptions.enabled||e){let t="disabled"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({enabled:!t},!e)}break;case"readonly":if(Qy(this.dateRangeOptions)||void 0===this.dateRangeOptions.readonly||e){let t="readonly"===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s);this.setProperties({readonly:t},!e)}break;case"placeholder":(Qy(this.dateRangeOptions)||void 0===this.dateRangeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"value":if(Qy(this.dateRangeOptions)||void 0===this.dateRangeOptions.value||e){let t=this.inputElement.getAttribute(s);this.setProperties(Xy(s,t,{}),!e)}break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(s));break;case"min":if(Qy(this.min)||+this.min==+new Date(1900,0,1)||e){let t=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.setProperties(Xy(s,t,{}),!e)}break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(s));break;case"max":if(Qy(this.max)||+this.max==+new Date(2099,11,31)||e){let t=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.setProperties(Xy(s,t,{}),!e)}break;case"startDate":if(Qy(this.startDate)){let e=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.startValue=e,this.setValue()}break;case"endDate":if(Qy(this.endDate)){let e=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.endValue=e,this.setValue()}break;case"minDays":Qy(this.minDays)&&this.setProperties(Xy(s,parseInt(this.inputElement.getAttribute(s),10),{}),!0);break;case"maxDays":Qy(this.maxDays)&&this.setProperties(Xy(s,parseInt(this.inputElement.getAttribute(s),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(s)&&this.inputElement.setAttribute("type","text")}}createPopup(){for(let t=0;t<this.presetsItem.length;t++)t!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[t].id&&this.presetsItem.splice(t,1);this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0;for(let t=0;t<=this.presetsItem.length-2;t++){let e=this.presetsItem[t].start,i=this.presetsItem[t].end;this.startValue&&this.endValue&&+e.setMilliseconds(0)==+this.startValue.setMilliseconds(0)&&+i.setMilliseconds(0)==+this.endValue.setMilliseconds(0)&&(this.activeIndex=t,this.isCustomRange=!1)}this.popupWrapper=Sv("div",{id:this.element.id+"_popup",className:lD+" e-popup"}),this.adjustLongHeaderWidth();let e=!this.isCustomRange||this.isMobile;!Jy(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&e?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())}renderControl(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),Qy(this.endValue)||Qy(this.startValue)||this.disabledDateRender(),this.updateHeader()}clearCalendarEvents(){Tb.clearEvents(this.leftCalPrevIcon),Tb.clearEvents(this.leftCalNextIcon),Tb.clearEvents(this.rightCalPrevIcon),Tb.clearEvents(this.rightCalNextIcon)}updateNavIcons(){super.iconHandler()}calendarIconEvent(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(pD)&&Tb.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(pD)&&Tb.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(pD)&&Tb.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(pD)&&Tb.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)}bindCalendarEvents(){this.isMobile?(this.deviceCalendarEvent(),Tb.add(this.startButton.element,"click",this.deviceHeaderClick,this),Tb.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector(".e-right-calendar .e-header .e-title"),this.headerTitleElement=this.popupObj.element.querySelector(".e-left-calendar .e-header .e-title"),this.defaultKeyConfigs=Ky(this.defaultKeyConfigs,this.keyConfigs),this.leftKeyboardModule=new Ow(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs}),this.rightKeyboardModule=new Ow(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs})),this.start===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()}calendarIconRipple(){fw(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),fw(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),fw(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),fw(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})}deviceCalendarEvent(){Tb.clearEvents(this.nextIcon),Tb.clearEvents(this.previousIcon),fw(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),fw(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains(pD)&&Tb.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains(pD)&&Tb.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)}deviceNavNext(e){let t=Nv(e.target,"."+mD);this.updateDeviceCalendar(t),this.navigateNext(e),this.deviceNavigation()}deviceNavPrevious(e){let t=Nv(e.target,"."+mD);this.updateDeviceCalendar(t),this.navigatePrevious(e),this.deviceNavigation()}updateDeviceCalendar(e){e&&(this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.calendarElement=e,this.deviceCalendar=e,this.contentElement=e.querySelector(".e-content"),this.tableBodyElement=Iv(".e-content tbody",e),this.table=e.querySelector(".e-content").getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector(".e-header .e-title"),this.headerElement=e.querySelector(".e-header"))}deviceHeaderClick(e){if(e.currentTarget.classList.contains("e-start-btn")&&!Qy(this.startValue)){this.endButton.element.classList.remove(hD),this.startButton.element.classList.add(hD);let e=this.popupObj.element.querySelector("."+mD);this.updateDeviceCalendar(e),Qy(this.calendarElement.querySelector(".e-start-date:not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),Rv(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.removeClassDisabled()}else if(!Qy(this.startValue)&&!Qy(this.endValue)){this.startButton.element.classList.remove(hD),this.endButton.element.classList.add(hD);let e=this.popupObj.element.querySelector("."+mD);this.updateDeviceCalendar(e),Qy(this.calendarElement.querySelector(".e-end-date:not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),Rv(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+mD)),this.selectableDates()}}inputFocusHandler(){this.preventBlur=!1;let e={model:this};this.preventFocus||(this.preventFocus=!0,this.trigger("focus",e)),this.updateClearIconState(),this.updateHiddenInput()}inputBlurHandler(e){if(!this.preventBlur){let t=this.inputElement.value;if(Qy(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!Qy(t)&&""!==t.trim()){let i=t.split(" "+this.separator+" ");if(i.length>1){this.invalidValueString=null;let s={format:this.formatString,type:"date",skeleton:"yMd"},n=this.globalize.parseDate(i[0].trim(),s),r=this.globalize.parseDate(i[1].trim(),s);if(!(Qy(n)||isNaN(+n)||Qy(r)||isNaN(+r))){let i=this.startValue;this.startValue=n;let s=this.endValue;return this.endValue=r,this.setValue(),this.refreshControl(),t!==this.previousEleValue&&this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this})),this.updateHiddenInput(),void(this.isMobile&&this.isPopupOpen()&&(this.startValue=i,this.endValue=s))}this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}else this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}this.strictMode?(Qy(t)||""!==t.trim()||(this.startValue=null,this.endValue=null),GE.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(Qy(this.popupObj)&&(this.currentDate=null),this.previousStartValue=this.previousEndValue=null,this.startValue=null,this.endValue=null,this.setValue()),this.errorClass(),this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this}))}this.updateHiddenInput()}clearRange(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null}errorClass(){let e=this.inputElement.value.trim();(Qy(this.endValue)&&Qy(this.startValue)&&""!==e||!Qy(this.startValue)&&+this.startValue<+this.min||!Qy(this.startValue)&&!Qy(this.endValue)&&+this.startValue>+this.endValue||!Qy(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&""!==e?(Cv([this.inputWrapper.container],"e-error"),Pv(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(Ev([this.inputWrapper.container],"e-error"),Pv(this.inputElement,{"aria-invalid":"false"}))}keyCalendarUpdate(e,t){return this.removeFocusedDate(),e?(this.leftCalCurrentDate=new Date(+this.currentDate),t=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),t=this.rightCalendar),this.updateCalendarElement(t),this.table.focus(),t}navInCalendar(e,t,i,s,n){let r,a,o=this.getViewNumber(this.currentView()),l=this.min;switch(a=Qy(this.maxDays)||!this.isMaxDaysClicked||Qy(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1))),e.action){case"moveRight":r=new Date(+this.currentDate),this.addDay(r,1,e,a,l),t&&+r==+s&&(n=this.keyCalendarUpdate(!1,n)),this.KeyboardNavigate(1,o,e,a,l),this.keyNavigation(n,e);break;case"moveLeft":r=new Date(+this.currentDate),this.addDay(r,-1,e,a,l),t||+r==+i&&(n=this.keyCalendarUpdate(!0,n)),this.KeyboardNavigate(-1,o,e,a,l),this.keyNavigation(n,e);break;case"moveUp":0===o?(r=new Date(+this.currentDate),this.addDay(r,-7,e,a,l),+r<=+i&&!t&&(n=this.keyCalendarUpdate(!0,n)),this.KeyboardNavigate(-7,o,e,a,l)):this.KeyboardNavigate(-4,o,e,this.max,this.min),this.keyNavigation(n,e);break;case"moveDown":0===o?(r=new Date(+this.currentDate),this.addDay(r,7,e,a,l),t&&+r>=+s&&(n=this.keyCalendarUpdate(!1,n)),this.KeyboardNavigate(7,o,e,a,l)):this.KeyboardNavigate(4,o,e,this.max,this.min),this.keyNavigation(n,e);break;case"home":this.currentDate=this.firstDay(this.currentDate),Rv(this.tableBodyElement),0===o?this.renderMonths(e):1===o?this.renderYears(e):this.renderDecades(e),this.keyNavigation(n,e);break;case"end":this.currentDate=this.lastDay(this.currentDate,o),Rv(this.tableBodyElement),0===o?this.renderMonths(e):1===o?this.renderYears(e):this.renderDecades(e),this.keyNavigation(n,e)}}keyInputHandler(e,t){let i,s=this.getViewNumber(this.currentView()),n=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),r=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0),a=Nv(e.target,"."+oD);a=Qy(a)?this.leftCalendar:a;let o=a.classList.contains(aD);this.updateCalendarElement(a);let l=this.tableBodyElement.querySelector("tr td.e-selected"),h=a.querySelector("tr td."+gD),c=a.querySelector("tr td."+cD),d=a.querySelector("tr td."+dD),u=this.getViewNumber(this.depth),p=s===u&&this.getViewNumber(this.start)>=u,m=Nv(e.target,"."+aD),g=Nv(e.target,"."+oD),f=Nv(e.target,".e-presets");switch(Qy(h)?Qy(d)||this.dateDisabled?Qy(c)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate,this.effect="",e.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(e),this.preventFocus=!0,this.inputElement.focus(),Cv([this.inputWrapper.container],["e-input-focus"]));break;case"select":if(p){let e=Qy(h)?c:h;Qy(e)||e.classList.contains(pD)||this.selectRange(null,e)}else(Qy(l)||p)&&Qy(h)||(Qy(this.value)||(t=this.calendarElement.classList.contains(aD)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--s,h||l,t));e.preventDefault();break;case"controlHome":let d=new Date(this.currentDate.getFullYear(),0,1);!o&&+d<+r&&(a=this.keyCalendarUpdate(!0,a)),super.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(a,e);break;case"altRightArrow":Qy(m)?Qy(g)?Qy(f)||this.cancelButton.element.focus():Qy(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault();break;case"altLeftArrow":Qy(m)?Qy(g)||this.leftCalendar.children[1].firstElementChild.focus():!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"controlUp":this.calendarElement.classList.contains(aD),this.calendarNavigation(e,this.calendarElement),e.preventDefault();break;case"controlDown":Qy(l)&&Qy(h)||p||(Qy(this.value)||(t=this.calendarElement.classList.contains(aD)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--s,l||h,t)),e.preventDefault();break;case"controlEnd":d=new Date(this.currentDate.getFullYear(),11,31),o&&+d>+n&&(a=this.keyCalendarUpdate(!1,a)),super.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(a,e);break;case"pageUp":i=new Date(+this.currentDate),this.addMonths(i,-1),!o&&+i<=+r&&(a=this.keyCalendarUpdate(!0,a)),this.addMonths(this.currentDate,-1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"pageDown":i=new Date(+this.currentDate),this.addMonths(i,1),o&&+i>=+n&&(a=this.keyCalendarUpdate(!1,a)),this.addMonths(this.currentDate,1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftPageUp":i=new Date(+this.currentDate),this.addYears(i,-1),!o&&+i<=+r&&(a=this.keyCalendarUpdate(!0,a)),this.addYears(this.currentDate,-1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftPageDown":i=new Date(+this.currentDate),this.addYears(i,1),o&&+i>=+n&&(a=this.keyCalendarUpdate(!1,a)),this.addYears(this.currentDate,1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftTab":Qy(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),e.preventDefault();break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(e);break;default:this.navInCalendar(e,o,r,n,a),this.checkMinMaxDays()}this.presetHeight()}keyNavigation(e,t){this.bindCalendarCellEvents(e),e.classList.contains(aD)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([e]),this.dateDisabled=this.isDateDisabled(this.currentDate),t.preventDefault()}inputHandler(e){switch(e.action){case"altDownArrow":this.isPopupOpen()||(""===this.inputElement.value&&(this.clear(),this.changeTrigger(e),this.clearRange()),this.show(null,e),this.isRangeIconClicked=!1,this.isMobile||Qy(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(e);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(e),this.hide(e));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(e),e.preventDefault())}}bindCalendarCellEvents(e){let t;t=e?e.querySelectorAll(".e-calendar td"):this.popupObj.element.querySelectorAll(".e-calendar td");for(let i of t){let e;Tb.clearEvents(i),e=i.classList.contains(pD)||i.classList.contains(yD),e||i.classList.contains("e-week-number")||(this.isMobile||Tb.add(i,"mouseover",this.hoverSelection,this),Tb.add(i,"mousedown",this.selectRange,this))}}removeFocusedDate(){let e,t=!Qy(this.startValue)||!Qy(this.endValue);e=this.popupObj.element.querySelectorAll(".e-calendar ."+gD);for(let i of e){let e=new Date,s=this.getIdValue(null,i);("Month"===this.depth&&"Month"===this.currentView()&&(!i.classList.contains("e-today")||i.classList.contains("e-today")&&t)||"Year"===this.depth&&"Year"===this.currentView()&&(!this.isSameMonth(e,s)&&!this.isSameYear(e,s)||t)||"Decade"===this.depth&&"Decade"===this.currentView()&&(!this.isSameYear(e,s)||t))&&(i.classList.remove(gD),i.classList.contains(cD)||i.classList.contains(dD)||i.removeAttribute("aria-label"))}}hoverSelection(e,t){let i=this.getIdValue(null,t||e.currentTarget);if(!Qy(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&Qy(this.endValue)&&Qy(this.startValue)||!Qy(this.startValue)&&Qy(this.endValue))){let e;e=this.popupObj.element.querySelectorAll(".e-calendar td");for(let t of e){let e=!t.classList.contains(pD)||t.classList.contains(yD);if(!t.classList.contains("e-week-number")&&e){let e=this.getIdValue(null,t),s=new Date(+this.startValue);new Date(+e).setHours(0,0,0,0)>=s.setHours(0,0,0,0)&&+e<=+i?Cv([t],uD):Ev([t],[uD])}}}}isSameStartEnd(e,t){let i=!1;return"Month"===this.depth?e.setHours(0,0,0,0)===t.setHours(0,0,0,0)&&(i=!0):"Year"===this.depth?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&(i=!0):"Decade"===this.depth&&e.getFullYear()===t.getFullYear()&&(i=!0),i}updateRange(e){if(!Qy(this.startValue))for(let t of e){let e=t.querySelectorAll(".e-calendar td");for(let t of e)if(!t.classList.contains("e-week-number")&&!t.classList.contains(pD)){let e=this.getIdValue(null,t),i=this.getIdValue(null,t);if(Qy(this.endValue)?Ev([t],[uD]):this.currentView()===this.depth&&+i.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+i.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&!this.isSameStartEnd(new Date(+this.startValue),new Date(+this.endValue))&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&Cv([t],uD),!t.classList.contains("e-other-month")){let i=new Date(+this.startValue),s=new Date(+e);this.currentView()===this.depth&&+s.setHours(0,0,0,0)==+i.setHours(0,0,0,0)&&+s.setHours(0,0,0,0)>=+i.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(Cv([t],[cD,"e-selected"]),this.addSelectedAttributes(t,this.startValue,!0));let n=new Date(+this.endValue);"Year"===this.currentView()?s=new Date(s.getFullYear(),s.getMonth()+1,0):"Decade"===this.currentView()&&(s=new Date(s.getFullYear(),11,31)),this.currentView()===this.depth&&!Qy(this.endValue)&&+s.setHours(0,0,0,0)==+n.setHours(0,0,0,0)&&+s.setHours(0,0,0,0)<=+n.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(Cv([t],[dD,"e-selected"]),this.addSelectedAttributes(t,this.startValue,!1)),+e!=+this.startValue||Qy(this.endValue)||+e!=+this.endValue||this.addSelectedAttributes(t,this.endValue,!1,!0)}}}}checkMinMaxDays(){(!Qy(this.minDays)&&this.minDays>0||!Qy(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+mD)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+aD)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+oD))))}rangeArgs(e){let t,i,s=Qy(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.formatString,type:"date",skeleton:"yMd"}),n=Qy(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.formatString,type:"date",skeleton:"yMd"});return Qy(this.endValue)||Qy(this.startValue)?(t="",i=0):(t=s+" "+this.separator+" "+n,i=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1),{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:i,event:e||null,element:this.element,isInteracted:!Qy(e),text:t}}otherMonthSelect(e,t,i){let s=+this.getIdValue(null,e),n='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+s),r=this.popupObj&&this.popupObj.element.querySelector(n);Qy(r)||(t?(Cv([r],[cD,"e-selected"]),this.addSelectedAttributes(r,this.startValue,!0)):(Cv([r],[dD,"e-selected"]),this.addSelectedAttributes(r,this.endValue,!0)),i&&this.addSelectedAttributes(e,this.endValue,!1,!0))}selectRange(e,t){let i,s,n;e&&e.preventDefault(),n=Qy(e)?this.getIdValue(null,t):this.getIdValue(e,null);let r=n.getFullYear(),a=n.getMonth(),o=new Date(r,a,1),l=new Date(r,a+1,0),h=new Date(r,0,1),c=new Date(r,11,31);Qy(this.endValue)||Qy(this.startValue)?this.isMobile&&this.startButton.element.classList.contains(hD)&&this.removeSelection():(!this.isMobile||this.isMobile&&!this.endButton.element.classList.contains(hD))&&this.removeSelection();let d=t||e.currentTarget;if(Qy(this.startValue))Qy(this.previousStartValue)||(n.setHours(this.previousStartValue.getHours()),n.setMinutes(this.previousStartValue.getMinutes()),n.setSeconds(this.previousStartValue.getSeconds())),this.startValue="Month"===this.depth?new Date(this.checkValue(n)):"Year"===this.depth?o:h,this.endValue=null,this.setValue(),Cv([d],cD),this.addSelectedAttributes(d,this.startValue,!0),d.classList.contains("e-other-month")&&this.otherMonthSelect(d,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add(hD),this.startButton.element.classList.remove(hD),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(e));else if(+n==+this.startValue||+n>+this.startValue){if(+n==+this.startValue&&!Qy(this.minDays)&&this.minDays>1)return;this.endValue=null,this.setValue(),(this.isMobile||t)&&this.hoverSelection(e,t),Qy(this.previousEndValue)||(n.setHours(this.previousEndValue.getHours()),n.setMinutes(this.previousEndValue.getMinutes()),n.setSeconds(this.previousEndValue.getSeconds())),this.endValue="Month"===this.depth?new Date(this.checkValue(n)):"Year"===this.depth?l:c,this.setValue();let i=this.popupObj.element.querySelectorAll("."+dD);if(this.isMobile){this.startButton.element.classList.remove(hD),this.endButton.element.classList.add(hD);for(let e of i)e.removeAttribute("aria-label"),e.classList.contains(cD)?(this.addSelectedAttributes(e,this.startValue,!0),Ev([e],[dD])):(e.setAttribute("aria-selected","false"),Ev([e],[dD,"e-selected"]))}Cv([d],dD),+this.endValue==+this.startValue?this.addSelectedAttributes(d,this.endValue,!1,!0):this.addSelectedAttributes(d,this.endValue,!1),d.classList.contains("e-other-month")&&(+this.endValue==+this.startValue?this.otherMonthSelect(d,!1,!0):this.otherMonthSelect(d,!1)),i=this.popupObj.element.querySelectorAll("."+dD);for(let e of i)e.classList.contains(cD)&&Ev([e],[uD]);this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),this.disabledDateRender(),this.trigger("select",this.rangeArgs(e))}else+n<+this.startValue&&(this.removeClassDisabled(),this.startValue="Month"===this.depth?new Date(this.checkValue(n)):"Year"===this.depth?o:h,this.setValue(),this.removeSelectedAttributes(),Ev(this.popupObj.element.querySelectorAll("."+cD),[cD,"e-selected"]),Cv([d],cD),this.addSelectedAttributes(d,this.startValue,!0),d.classList.contains("e-other-month")&&this.otherMonthSelect(d,!0),this.checkMinMaxDays());e&&(i=Nv(e.target,"."+aD)),Qy(i)?(e&&(s=e&&Nv(e.target,"."+oD)),Qy(s)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus(),Cv([d],"e-selected"),this.updateHeader(),this.removeFocusedDate()}selectableDates(){if(!Qy(this.startValue)){let e=this.calendarElement.querySelectorAll(".e-calendar td"),t=!1;if(this.currentView()===this.depth){for(let i of e){if(!i.classList.contains(cD)&&!i.classList.contains("e-week-number")&&!i.classList.contains(pD)){if(+this.getIdValue(null,i)<+this.startValue){Cv([i],[yD,pD,vD]),Tb.clearEvents(i);continue}break}if(i.classList.contains(cD)&&!i.classList.contains("e-other-month")){t=!0;break}}t&&(this.previousIcon.classList.contains(pD)||Cv([this.previousIcon],[bD,pD,vD]))}else{for(let t of e){let e=this.startValue.getMonth(),i=this.startValue.getFullYear(),s=this.getIdValue(null,t);if(this.startButton.element.classList.contains(hD)||!("Year"===this.currentView()&&s.getMonth()<e&&s.getFullYear()<=i||"Decade"===this.currentView()&&s.getMonth()<=e&&s.getFullYear()<i))break;Cv([t],[pD])}e[0].classList.contains(pD)?this.previousIconHandler(!0):e[e.length-1].classList.contains(pD)&&this.nextIconHandler(!0)}}}updateMinMaxDays(e){if(!Qy(this.startValue)&&Qy(this.endValue)||this.isMobile&&this.endButton.element.classList.contains(hD)){if(!Qy(this.minDays)&&this.minDays>0||!Qy(this.maxDays)&&this.maxDays>0){let t=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.minDays-1))),i=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1)));t=!Qy(this.minDays)&&this.minDays>0?t:null,i=!Qy(this.maxDays)&&this.maxDays>0?i:null,"Year"===this.currentView()?(t=Qy(t)?null:new Date(t.getFullYear(),t.getMonth(),0),i=Qy(i)?null:new Date(i.getFullYear(),i.getMonth(),1)):"Decade"===this.currentView()&&(t=Qy(t)?null:new Date(t.getFullYear()-1,11,1),i=Qy(i)?null:new Date(i.getFullYear(),0,1));let s,n=e.querySelectorAll(".e-calendar td");for(let e of n)if(!e.classList.contains(cD)&&!e.classList.contains("e-week-number")){let n=this.getIdValue(null,e);if(!Qy(t)&&+n==+t&&e.classList.contains(pD)&&t.setDate(t.getDate()+1),!e.classList.contains(pD)){if(+n<=+this.startValue)continue;!Qy(t)&&+n<+t&&(Cv([e],[yD,pD,vD]),Tb.clearEvents(e)),!Qy(i)&&+n>+i&&(Cv([e],[yD,pD,vD]),this.isMaxDaysClicked=!0,Tb.clearEvents(e),Qy(s)&&!e.classList.contains("e-other-month")&&(s=e))}}if(!Qy(s))if(this.isMobile)this.nextIcon.classList.contains(pD)||Cv([this.nextIcon],[bD,pD,vD]);else{let e=Nv(s,"."+oD);e=Qy(e)?this.leftCalendar:e,e.classList.contains(aD)?(this.rightCalNextIcon.classList.contains(pD)||Cv([this.rightCalNextIcon],[bD,pD,vD]),this.leftCalNextIcon.classList.contains(pD)||Cv([this.leftCalNextIcon],[bD,pD,vD]),this.rightCalPrevIcon.classList.contains(pD)||Cv([this.rightCalPrevIcon],[bD,pD,vD])):this.rightCalNextIcon.classList.contains(pD)||Cv([this.rightCalNextIcon],[bD,pD,vD])}}}else this.isMaxDaysClicked=!1}removeClassDisabled(){let e;e=this.popupObj.element.querySelectorAll(".e-calendar td."+yD);for(let t of e)t.classList.contains(yD)&&(Ev([t],[yD,pD,vD]),Tb.add(t,"click",this.selectRange,this),this.isMobile||Tb.add(t,"mouseover",this.hoverSelection,this));this.isMobile?(this.nextIcon.classList.contains(bD)&&Ev([this.nextIcon],[bD,pD,vD]),this.previousIcon.classList.contains(bD)&&Ev([this.previousIcon],[bD,pD,vD])):(this.rightCalNextIcon.classList.contains(bD)&&Ev([this.rightCalNextIcon],[bD,pD,vD]),this.rightCalPrevIcon.classList.contains(bD)&&Ev([this.rightCalPrevIcon],[bD,pD,vD]),this.leftCalNextIcon.classList.contains(bD)&&Ev([this.leftCalNextIcon],[bD,pD,vD]))}updateHeader(){let e={type:"date",skeleton:"yMMMd"};if(Qy(this.endValue)||Qy(this.startValue))this.popupObj.element.querySelector("."+fD).textContent=this.l10n.getConstant("selectedDays");else{let e=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1;Qy(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+fD).textContent=e.toString()+" "+this.l10n.getConstant("days")}this.isMobile?(this.startButton.element.textContent=Qy(this.startValue)?this.l10n.getConstant("startLabel"):this.globalize.formatDate(this.startValue,e),this.endButton.element.textContent=Qy(this.endValue)||Qy(this.startValue)?this.l10n.getConstant("endLabel"):this.globalize.formatDate(this.endValue,e)):(Qy(this.endValue)||Qy(this.startValue)?this.popupObj.element.querySelector(".e-end-label").textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector(".e-end-label").textContent=this.globalize.formatDate(this.endValue,e),Qy(this.startValue)?this.popupObj.element.querySelector(".e-start-label").textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector(".e-start-label").textContent=this.globalize.formatDate(this.startValue,e)),(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!Qy(this.startValue)&&+this.startValue<+this.min||!Qy(this.endValue)&&+this.endValue>+this.max||!Qy(this.startValue)&&!Qy(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+fD).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+fD).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector(".e-start-label").textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector(".e-end-label").textContent=this.l10n.getConstant("endLabel"))),this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range")}removeSelection(){this.startValue=null,this.endValue=null,this.setValue(),this.removeSelectedAttributes(),this.popupObj&&(this.popupObj.element.querySelectorAll(".e-selected").length>0&&Ev(this.popupObj.element.querySelectorAll(".e-selected"),[cD,dD,"e-selected"]),this.popupObj.element.querySelectorAll("."+gD).length>0&&Ev(this.popupObj.element.querySelectorAll("."+gD),gD),this.popupObj.element.querySelectorAll("."+uD).length>0&&Ev(this.popupObj.element.querySelectorAll("."+uD),[uD]))}addSelectedAttributes(e,t,i,s){if(e){let n=this.globalize.formatDate(t,{type:"date",skeleton:"full"});!Qy(s)&&s?e.setAttribute("aria-label","The current start and end date is "+n):e.setAttribute("aria-label","The current "+(i?"start":"end")+" date is "+n),e.setAttribute("aria-selected","true")}}removeSelectedAttributes(){if(this.popupObj){let e=this.popupObj.element.querySelectorAll("."+cD);for(let i of e)i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label");let t=this.popupObj.element.querySelectorAll("."+dD);for(let i of t)i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label")}}updateCalendarElement(e){e.classList.contains(aD)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=e.querySelector(".e-content"),this.tableBodyElement=Iv(".e-content tbody",e),this.table=e.querySelector(".e-content").getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector(".e-header .e-title"),this.headerElement=e.querySelector(".e-header")}navPrevMonth(e){e.preventDefault();let t=Nv(e.target,"."+aD);t=Qy(t)?Nv(e.target,"."+oD):t,this.updateCalendarElement(t),this.navigatePrevious(e),!Qy(this.startValue)&&Qy(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)}deviceNavigation(e){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+mD)]),this.endButton.element.classList.contains(hD)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+mD)),this.endButton.element.classList.contains(hD)&&this.selectableDates(),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()}updateControl(e){e.classList.contains(oD)?this.rightCalCurrentDate=new Date(+this.currentDate):this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarIconEvent(),("Month"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||"Year"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-year")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-year")||"Decade"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-decade")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-decade")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([e])}navNextMonth(e){e.preventDefault();let t=Nv(e.target,"."+aD);t=Qy(t)?Nv(e.target,"."+oD):t,this.updateCalendarElement(t),this.navigateNext(e),!Qy(this.startValue)&&Qy(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)}isPopupOpen(){return!(Qy(this.popupObj)||!this.popupObj.element.classList.contains("e-popup"))}createRangeHeader(){let e=this.createElement("div",{className:"e-start-end"});if(this.isMobile){let t=this.createElement("button",{className:"e-end-btn"}),i=this.createElement("button",{className:"e-start-btn"});this.startButton=new fC({content:this.l10n.getConstant("startLabel")},i),this.endButton=new fC({content:this.l10n.getConstant("endLabel")},t),e.appendChild(i),e.appendChild(t)}else{let t=this.createElement("a",{className:"e-start-label"}),i=this.createElement("a",{className:"e-end-label"}),s=this.createElement("span",{className:"e-change-icon e-icons"});Pv(t,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),Pv(i,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),e.appendChild(t),e.appendChild(s),e.appendChild(i),t.textContent=this.l10n.getConstant("startLabel"),i.textContent=this.l10n.getConstant("endLabel")}return e}disableInput(){this.strictMode?Qy(this.previousStartValue)||Qy(this.previousEndValue)||(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),GE.setEnabled(this.enabled,this.inputElement),this.bindEvents()}validateMinMax(){this.min=Qy(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=Qy(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,this.min<=this.max?(Qy(this.minDays)||Qy(this.maxDays)||this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!Qy(this.minDays)&&this.minDays<0&&(this.minDays=null),!Qy(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)):this.disableInput()}validateRangeStrict(){Qy(this.startValue)||(+this.startValue<=+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>=+this.min&&+this.startValue>=+this.max&&(this.startValue=this.max)),Qy(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue())),this.validateMinMaxDays()}validateRange(){this.validateMinMaxDays()}validateMinMaxDays(){if(!Qy(this.startValue)&&!Qy(this.endValue)){let e=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1;if(!Qy(this.minDays)&&this.minDays>0&&!(e>=this.minDays))if(this.strictMode){let e=new Date(+this.startValue);e.setDate(e.getDate()+(this.minDays-1)),+e>+this.max?(this.endValue=this.max,this.setValue()):(this.endValue=e,this.setValue())}else this.startValue=null,this.endValue=null,this.setValue();Qy(this.maxDays)||!(this.maxDays>0)||e<=this.maxDays||(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1)),this.setValue()):(this.startValue=null,this.endValue=null,this.setValue()))}}renderCalendar(){this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(mD),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),Pv(this.calendarElement,{role:"calendar"}),super.createHeader(),super.createContent()}isSameMonth(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}isSameYear(e,t){return e.getFullYear()===t.getFullYear()}isSameDecade(e,t){let i=e.getFullYear(),s=t.getFullYear();return i-i%10==s-s%10}startMonthCurrentDate(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}selectNextMonth(){if(Qy(this.endValue)||Qy(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue))return this.currentDate.setDate(1),void this.currentDate.setMonth(this.currentDate.getMonth()+1);if(this.currentDate=new Date(+this.endValue),!Qy(this.startValue)&&+this.startValue<+this.min||!Qy(this.endValue)&&+this.endValue>+this.max||!Qy(this.startValue)&&!Qy(this.endValue)&&+this.startValue>+this.endValue){this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1);let e=this.currentDate.getMonth()+1;this.currentDate.setMonth(e)}}selectNextYear(){if(Qy(this.endValue)||Qy(this.startValue)||this.isSameYear(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){this.currentDate.setMonth(0);let e=this.currentDate.getFullYear()+1;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!Qy(this.endValue)&&+this.endValue>+this.max||!Qy(this.startValue)&&!Qy(this.endValue)&&+this.startValue>+this.endValue||!Qy(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setMonth(0),this.currentDate.setFullYear(this.currentDate.getFullYear()+1))}selectNextDecade(){if(Qy(this.endValue)||Qy(this.startValue)||this.isSameDecade(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){let e=this.currentDate.getFullYear()+10;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!Qy(this.startValue)&&!Qy(this.endValue)&&+this.startValue>+this.endValue||!Qy(this.endValue)&&+this.endValue>+this.max||!Qy(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setFullYear(this.currentDate.getFullYear()+10))}selectStartMonth(){Qy(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!Qy(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate=this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?new Date(+this.startValue):new Date((new Date).setHours(0,0,0,0)),(!Qy(this.endValue)&&+this.endValue>+this.max||!Qy(this.startValue)&&+this.startValue<+this.min||!Qy(this.startValue)&&!Qy(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()}createCalendar(){let e=this.createElement("div",{className:"e-calendar-container"});if(this.isMobile){Qy(this.startValue)||(this.currentDate=new Date(+this.startValue)),super.validateDate(),super.minMaxUpdate(),super.render();let t=this.calendarElement.querySelector(".e-calendar .e-prev"),i=this.calendarElement.querySelector(".e-calendar .e-next");Rv(this.calendarElement.querySelector(".e-calendar .e-icon-container")),this.calendarElement.querySelector(".e-calendar .e-header").appendChild(i),this.calendarElement.querySelector(".e-calendar .e-header").appendChild(t),Av([t],this.calendarElement.querySelector(".e-calendar .e-header")),this.deviceCalendar=this.calendarElement,e.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector(".e-calendar .e-header .e-title")}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(aD),this.leftCalPrevIcon=this.calendarElement.querySelector(".e-left-calendar .e-prev"),this.leftCalNextIcon=this.calendarElement.querySelector(".e-left-calendar .e-next"),this.leftTitle=this.calendarElement.querySelector(".e-left-calendar .e-title"),Rv(this.calendarElement.querySelector(".e-left-calendar .e-icon-container")),this.calendarElement.querySelector(".e-left-calendar .e-header").appendChild(this.leftCalNextIcon),this.calendarElement.querySelector(".e-left-calendar .e-header").appendChild(this.leftCalPrevIcon),Av([this.leftCalPrevIcon],this.calendarElement.querySelector(".e-left-calendar .e-header")),this.leftCalendar=this.calendarElement;let t=this.createElement("div",{className:"e-left-container"}),i=this.createElement("div",{className:"e-right-container"});t.appendChild(this.leftCalendar),e.appendChild(t),this.isMobile||Tb.add(this.leftTitle,"click",this.leftNavTitle,this),"Month"===this.start&&this.selectNextMonth(),"Year"===this.start&&this.selectNextYear(),"Decade"===this.start&&this.selectNextDecade(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),Cv([this.calendarElement],oD),this.rightCalendar=this.calendarElement,Ev([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),Ev([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector(".e-right-calendar .e-prev"),this.rightCalNextIcon=this.calendarElement.querySelector(".e-right-calendar .e-next"),this.rightTitle=this.calendarElement.querySelector(".e-right-calendar .e-title"),Rv(this.calendarElement.querySelector(".e-right-calendar .e-icon-container")),this.calendarElement.querySelector("table").setAttribute("tabindex","-1"),this.calendarElement.querySelector(".e-right-calendar .e-header").appendChild(this.rightCalNextIcon),this.calendarElement.querySelector(".e-right-calendar .e-header").appendChild(this.rightCalPrevIcon),Av([this.rightCalPrevIcon],this.calendarElement.querySelector(".e-right-calendar .e-header")),i.appendChild(this.rightCalendar),e.appendChild(i),this.isMobile||Tb.add(this.rightTitle,"click",this.rightNavTitle,this)}return e}leftNavTitle(e){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(e,this.calendarElement))}calendarNavigation(e,t){this.table=t.querySelector("table"),this.headerTitleElement=t.querySelector(".e-title"),this.tableBodyElement=t.querySelector("tbody"),this.tableHeadElement=t.querySelector("thead"),this.contentElement=t.querySelector(".e-content"),this.updateCalendarElement(t),super.navigateTitle(e),this.updateNavIcons()}rightNavTitle(e){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(e,this.calendarElement))}clickEventEmitter(e){this.isMobile||(Nv(e.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))}currentView(){return super.currentView()}getCalendarView(e){return"Year"===e?"Year":"Decade"===e?"Decade":"Month"}navigatedEvent(e){if(this.trigger("navigated",this.navigatedArgs),!Qy(this.popupObj)){let t,i=this.getCalendarView(this.currentView());this.isMobile?i===this.depth?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate(),this.checkMinMaxDays()):this.selectableDates():this.isMobile||i!==this.depth?(this.updateNavIcons(),this.calendarIconEvent()):(t=this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar,t!==this.leftCalendar||(!e||e.currentTarget.children[0].classList.contains("e-icons"))&&Qy(this.controlDown)?(e&&!e.currentTarget.children[0].classList.contains("e-icons")||!Qy(this.controlDown))&&(this.rightCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&Qy(this.endValue)?"Month"===i&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()?super.navigateTo.call(this,i,new Date(+this.startValue)):"Year"===i&&this.startValue.getFullYear()<this.rightCalCurrentDate.getFullYear()?super.navigateTo.call(this,i,new Date(+this.startValue)):super.navigateTo.call(this,i,this.leftCalCurrentDate):super.navigateTo.call(this,i,this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null):(this.leftCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),super.navigateTo.call(this,i,this.rightCalCurrentDate),this.updateControl(this.rightCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null),this.checkMinMaxDays())}}createControl(){let e=this.createElement("div",{className:"e-date-range-container"}),t=this.createElement("div",{className:"e-range-header"}),i=this.createRangeHeader();t.appendChild(i);let s=this.createElement("div",{className:fD});Pv(s,{"aria-label":"Selected Days"}),s.textContent=this.l10n.getConstant("selectedDays"),t.appendChild(s);let n=this.createElement("div",{className:"e-separator"}),r=this.createCalendar();e.appendChild(t),e.appendChild(n),e.appendChild(r);let a=this.createElement("div",{className:"e-footer"}),o=this.createElement("button",{className:"e-cancel e-flat e-css"}),l=this.createElement("button");Cv([l],["e-apply","e-flat","e-primary","e-css"]),a.appendChild(l),a.appendChild(o);let h=!Qy(this.startValue)&&!Qy(this.endValue);this.cancelButton=new fC({content:this.l10n.getConstant("cancelText")},o),this.applyButton=new fC({content:this.l10n.getConstant("applyText"),disabled:!h},l),Tb.add(l,"click",this.applyFunction,this),Tb.add(o,"click",this.cancelFunction,this),this.popupWrapper.appendChild(e),this.isMobile||Jy(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.createPresets(),this.listRippleEffect(),Cv([e],"e-range-border"),Cv([this.popupWrapper],"e-preset-wrapper"),this.popupWrapper.querySelector(".e-presets").style.height=this.popupWrapper.querySelector(".e-date-range-container").getBoundingClientRect().height+"px"),this.popupWrapper.appendChild(a),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()}cancelFunction(e){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),Cv([this.inputWrapper.container],["e-input-focus"])),e.preventDefault(),this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.startValue=null,this.endValue=null,this.removeSelection(),this.hide(e)}deviceHeaderUpdate(){Qy(this.startValue)&&Qy(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add(hD)):Qy(this.startValue)||this.startButton.element.classList.add(hD)}applyFunction(e){let t=!1;"touchstart"!==e.type&&e.preventDefault(),this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue()),document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),Cv([this.inputWrapper.container],["e-input-focus"])),"touchstart"!==e.type&&this.closeEventArgs&&!this.closeEventArgs.cancel&&e.preventDefault(),Qy(this.startValue)||Qy(this.endValue)?this.hide(e||null):(this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,GE.setValue(this.rangeArgs(e).text,this.inputElement,this.floatLabelType,this.showClearButton),+this.initStartDate==+this.startValue&&+this.initEndDate==+this.endValue||(t=!0),this.changeTrigger(e),this.hide(e||null),this.errorClass(),t=!0),Nv(e.target,".e-input-group")||t||this.focusOut(),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.keyInputConfigs=Ky(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new Ow(this.inputWrapper.container.children[1],{eventName:"keydown",keyConfigs:this.keyInputConfigs,keyAction:this.popupKeyActionHandle.bind(this)})))}onMouseClick(e,t){if("touchstart"===e.type)return;let i=Nv(t||e.target,"."+wD),s=i&&i.classList.contains(hD);i&&i.classList.contains(wD)&&this.setListSelection(i,e),this.inputElement.focus(),this.isMobile||(this.preventFocus=!0,i&&i.classList.contains(wD)&&"custom_range"===i.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():s||"keydown"!==e.type||this.inputElement.focus())}onMouseOver(e){let t=Nv(e.target,"."+wD);t&&t.classList.contains(wD)&&!t.classList.contains("e-hover")&&Cv([t],"e-hover")}onMouseLeave(e){let t=Nv(e.target,".e-hover");Qy(t)||Ev([t],"e-hover")}setListSelection(e,t){if(e&&(!e.classList.contains(hD)||this.isMobile&&e.classList.contains(hD))){if(this.isMobile&&e.classList.contains(hD))return this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),"custom_range"===this.presetsItem[this.activeIndex].id?void this.renderCustomPopup():void 0;this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),Cv([e],hD),e.setAttribute("aria-selected","true");let i=this.presetsItem[this.activeIndex];"custom_range"===i.id?this.renderCustomPopup():this.applyPresetRange(i,t)}}removeListSelection(){let e=this.presetElement.querySelector(".e-active");Qy(e)||(Ev([e],hD),e.removeAttribute("aria-selected"))}setValue(){this.modelValue=[this.startValue,this.endValue]}applyPresetRange(e,t){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.startValue=e.start,this.endValue=e.end,this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(t)),this.changeTrigger(t),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())}showPopup(e,t){this.presetHeight(),this.popupObj.show(null,1e3===this.zIndex?this.element:null),this.isMobile&&this.popupObj.refreshPosition()}renderCustomPopup(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:lD+" e-popup"}),this.renderControl(),this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()}listRippleEffect(){for(let e of this.liCollections)fw(e)}createPresets(){if(!Jy(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=this.createElement("div",{className:"e-presets",attrs:{tabindex:"0"}});let e=bC.createList(this.createElement,this.presetsItem,null,!0);Pv(e,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),this.presetElement.appendChild(e),this.popupWrapper.appendChild(this.presetElement);let t=this.presetElement.querySelector("#custom_range");Qy(t)||(t.textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range"),this.liCollections=this.presetElement.querySelectorAll("."+wD),this.wireListEvents(),this.isMobile&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!Qy(this.activeIndex)&&this.activeIndex>-1&&Cv([this.liCollections[this.activeIndex]],hD)}}wireListEvents(){Tb.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(Tb.add(this.presetElement,"mouseover",this.onMouseOver,this),Tb.add(this.presetElement,"mouseout",this.onMouseLeave,this))}unWireListEvents(){Qy(this.presetElement)||(Tb.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile||(Tb.remove(this.presetElement,"mouseover",this.onMouseOver),Tb.remove(this.presetElement,"mouseout",this.onMouseLeave)))}renderPopup(){this.popupWrapper.classList.add("e-control");let e=this.popupWrapper.getBoundingClientRect().width;Qy(this.cssClass)||""===this.cssClass.trim()||(this.popupWrapper.className+=" "+this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new eE(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:Qy(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?Jy(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-e,offsetY:4,collision:this.isMobile?Jy(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"fit",Y:"fit"}:{X:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:()=>{Pv(this.inputElement,{"aria-expanded":"true"}),Cv([this.inputWrapper.buttons[0]],hD),this.isMobile||(this.cancelButton&&(this.btnKeyboardModule=new Ow(this.cancelButton.element,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),this.btnKeyboardModule=new Ow(this.applyButton.element,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),Qy(this.leftCalendar)||this.isRangeIconClicked||this.calendarFocus(),Qy(this.presetElement)||(this.keyInputConfigs=Ky(this.keyInputConfigs,this.keyConfigs),this.presetKeyboardModule=new Ow(this.presetElement,{eventName:"keydown",keyAction:this.presetKeyActionHandler.bind(this),keyConfigs:this.keyInputConfigs}),this.presetKeyboardModule=new Ow(this.presetElement,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),Qy(this.leftCalendar)?(this.preventBlur=!0,this.presetElement.focus()):this.presetElement.setAttribute("tabindex","-1")),this.popupKeyBoardHandler()),this.isMobile&&!Kv.isDevice&&Tb.add(document,"keydown",this.popupCloseHandler,this)},close:()=>{Pv(this.inputElement,{"aria-expanded":"false"}),Ev([this.inputWrapper.buttons[0]],hD),this.isRangeIconClicked&&this.inputWrapper.container.children[1].focus(),Jy(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.unWireListEvents(),Qy(this.popupObj)||(Qy(this.popupObj.element.parentElement)||Tv(this.popupObj.element),this.popupObj.destroy(),this.popupObj=null),this.isMobile&&!Kv.isDevice&&Tb.remove(document,"keydown",this.popupCloseHandler)},targetExitViewport:()=>{Kv.isDevice||this.hide()}}),this.isMobile&&(this.popupObj.element.classList.add("e-device"),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(Cv([this.modal],["e-device",lD,"e-range-modal"]),document.body.className+=" e-range-overflow",this.modal.style.display="block"),Tb.add(document,"mousedown touchstart",this.documentHandler,this)}popupCloseHandler(e){switch(e.keyCode){case 27:this.hide(e)}}calendarFocus(){let e=this.popupObj&&this.popupObj.element.querySelector("."+cD);if(e){let t=Nv(e,"."+oD);t=Qy(t)?this.leftCalendar:t,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,t.children[1].firstElementChild.focus()),Cv([e],gD)}else this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())}presetHeight(){let e=this.popupObj&&this.popupObj.element.querySelector(".e-presets"),t=this.popupObj&&this.popupObj.element.querySelector(".e-date-range-container");Qy(e)||Qy(t)||(e.style.height=t.getBoundingClientRect().height+"px")}presetKeyActionHandler(e){switch(e.action){case"moveDown":this.listMoveDown(e),this.setScrollPosition(),e.preventDefault();break;case"moveUp":this.listMoveUp(e),this.setScrollPosition(),e.preventDefault();break;case"enter":let t=this.getHoverLI(),i=this.getActiveLI();if(!Qy(this.leftCalendar)&&!Qy(i)&&(Qy(t)||!Qy(i)&&i===t)&&(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(i),"custom_range"===this.presetsItem[this.activeIndex].id))return this.calendarFocus(),i.classList.remove("e-hover"),void e.preventDefault();Qy(t)&&Qy(i)||this.onMouseClick(e,t||i),e.preventDefault();break;case"tab":if(this.leftCalendar){let e=this.getHoverLI();Qy(e)||e.classList.remove("e-hover")}else this.hide(e),e.preventDefault()}}listMoveDown(e){let t=this.getHoverLI(),i=this.getActiveLI();if(Qy(t))if(Qy(i))Cv([this.liCollections[0]],"e-hover");else{let e=i.nextElementSibling;!Qy(e)&&e.classList.contains(wD)&&Cv([e],"e-hover")}else{let e=t.nextElementSibling;!Qy(e)&&e.classList.contains(wD)&&(Ev([t],"e-hover"),Cv([e],"e-hover"))}}listMoveUp(e){let t=this.getHoverLI(),i=this.getActiveLI();if(Qy(t)){if(!Qy(i)){let e=i.previousElementSibling;!Qy(e)&&e.classList.contains(wD)&&Cv([e],"e-hover")}}else{let e=t.previousElementSibling;!Qy(e)&&e.classList.contains(wD)&&(Ev([t],"e-hover"),Cv([e],"e-hover"))}}getHoverLI(){return this.presetElement.querySelector(".e-hover")}getActiveLI(){return this.presetElement.querySelector(".e-active")}popupKeyBoardHandler(){this.popupKeyboardModule=new Ow(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.keyInputConfigs=Ky(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new Ow(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})}setScrollPosition(){let e=this.presetElement.getBoundingClientRect().height,t=this.presetElement.querySelector(".e-hover"),i=this.presetElement.querySelector(".e-active"),s=Qy(t)?i:t;if(!Qy(s)){let t=s.nextElementSibling,i=t?t.offsetTop:s.offsetTop,n=s.getBoundingClientRect().height;this.presetElement.scrollTop=i+s.offsetTop>e?t?i-(e/2+n/2):i:0}}popupKeyActionHandle(e){let t=Nv(e.target,".e-presets");switch(e.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(e)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,e);break;case"tab":this.hide(e);break;case"altRightArrow":Qy(t)?document.activeElement===this.cancelButton.element&&!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.leftCalendar.children[1].firstElementChild.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"altLeftArrow":Qy(t)?document.activeElement===this.applyButton.element&&!0!==this.applyButton.element.disabled?this.cancelButton.element.focus():Qy(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild.focus():this.presetElement.focus():this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault()}}documentHandler(e){if(Qy(this.popupObj))return;let t=e.target;this.inputWrapper.container.contains(t)&&(Qy(this.popupObj)||Nv(t,this.popupWrapper.id))||"touchstart"!==e.type&&("mousedown"===e.type||this.closeEventArgs&&!this.closeEventArgs.cancel)&&e.preventDefault(),!Qy(this.targetElement)&&(Qy(this.targetElement)||t===this.targetElement)||Nv(t,"#"+this.popupObj.element.id)||Nv(t,".e-input-group")===this.inputWrapper.container||Nv(t,".e-daterangepicker.e-popup")&&!t.classList.contains("e-day")||(this.preventBlur=!1,this.isPopupOpen()&&document.body.contains(this.popupObj.element)&&(this.applyFunction(e),this.isMobile||(this.isRangeIconClicked=!1)))}createInput(){let e=this.cssClass;Qy(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=GE.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]},this.createElement),Pv(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),GE.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),Qy(this.placeholder)||""===this.placeholder.trim()||GE.addAttributes({"aria-placeholder":this.placeholder},this.inputElement),this.setEleWidth(this.width),Cv([this.inputWrapper.container],"e-date-range-wrapper"),Qy(this.inputElement.getAttribute("name"))&&Pv(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value,this.inputElement.setAttribute("value",this.inputElement.value),this.startCopy=this.startDate,this.endCopy=this.endDate}setEleWidth(e){this.inputWrapper.container.style.width="string"==typeof e?this.width:"number"==typeof e?ib(this.width):"100%"}adjustLongHeaderWidth(){"Wide"===this.dayHeaderFormat&&Cv([this.popupWrapper],"e-daterange-day-header-lg")}refreshControl(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();let e=this.disabledDates();this.strictMode&&e&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&e&&this.clearRange(),Qy(this.endValue)||Qy(this.startValue)||e||this.disabledDateRender(),this.errorClass(),this.previousStartValue=Qy(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue),this.previousEndValue=Qy(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)}updateInput(){if(!Qy(this.endValue)&&!Qy(this.startValue)){let e={format:this.formatString,type:"date",skeleton:"yMd"},t=this.globalize.formatDate(this.startValue,e),i=this.globalize.formatDate(this.endValue,e);GE.setValue(t+" "+this.separator+" "+i,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue)}!this.strictMode&&Qy(this.value)&&this.invalidValueString&&GE.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)}checkInvalidRange(e){if(!Qy(e)){let t,i,s=!1,n=null,r=null,a=null,o=!1,l=!1,h=!1;if("string"==typeof e){let t=e.split(" "+this.separator+" ");2===t.length?(n=t[0],r=t[1]):(s=!0,a=e)}else e.length>0?(t=e[0],i=e[1]):(t=e.start,i=e.end),t instanceof Date||"object"==typeof t?t instanceof Date?o=!0:Qy(t)||(h=!0):n=this.getstringvalue(t),i instanceof Date||"object"==typeof i?i instanceof Date?l=!0:Qy(i)||(h=!0):r=this.getstringvalue(i);(Qy(n)&&!o&&!Qy(r)||!Qy(n)&&!l&&Qy(r))&&(s=!0),h&&(n=r=a=null,s=!0),n&&(s=s||this.checkInvalidValue(n)),r&&(s=s||this.checkInvalidValue(r)),s&&(o&&!h&&(n=t.toLocaleDateString()),l&&!h&&(r=i.toLocaleDateString()),Qy(n)||Qy(r)?Qy(n)?Qy(r)||(a=r):a=n:a=n+" "+this.separator+" "+r,this.invalidValueString=a,this.setProperties({value:null},!0),this.setProperties({startValue:null},!0),this.setProperties({endValue:null},!0),this.startDate=null,this.endDate=null)}}getstringvalue(e){let t=null;return Qy(e)||"number"!=typeof e?Qy(e)||"string"!=typeof e||(t=""+e):t=e.toString(),t}checkInvalidValue(e){let t=e,i=!1,s=null;if(s={format:this.formatString,type:"date",skeleton:"yMd"},"string"!=typeof t)i=!0;else{let e=new Db(this.locale);if(!this.checkDateValue(e.parseDate(t,s))){let e=null,s=null;e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,s=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,(!e.test(t)&&!s.test(t)||/^[a-zA-Z0-9- ]*$/.test(t)||isNaN(+new Date(this.checkValue(t))))&&(i=!0)}}return i}isDateDisabled(e){if(Qy(e))return!1;let t=new Date(+e);if(+t<+this.min||+t>+this.max)return!0;this.virtualRenderCellArgs={date:t,isDisabled:!1};let i=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(i),!!i.isDisabled}disabledDateRender(){this.disabledDays=[],this.disabledDayCnt=null;let e=new Date(+this.startValue),t=0;for(;+e<=+this.endValue;){this.virtualRenderCellArgs={date:e,isDisabled:!1};let i=this.virtualRenderCellArgs;this.virtualRenderCellEvent(i),i.isDisabled&&(this.disabledDays.push(new Date(+i.date)),+e>+this.startValue&&+e<+this.endValue&&t++),this.addDay(e,1,null,this.max,this.min)}this.disabledDayCnt=t}virtualRenderCellEvent(e){Ky(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)}disabledDates(){let e=!1,t=!1;return Qy(this.endValue)||Qy(this.startValue)||(e=this.isDateDisabled(this.startValue),t=this.isDateDisabled(this.endValue),this.isPopupOpen()||(this.currentDate=null),this.setValue()),e||t}setModelValue(){this.value||null!==this.startDate||null!==this.endDate?null===this.value||null===this.value.start?null===this.value?this.setProperties({value:[this.startDate,this.endDate]},!0):null===this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&this.value.length>0||this.valueType&&this.valueType.length>0?(+this.startDate==+this.value[0]&&+this.endDate==+this.value[1]||this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&null==this.value[0]&&null==this.value[1]&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0),this.createHiddenInput()}dispatchEvent(e,t){let i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e.dispatchEvent(i),this.firstHiddenChild.dispatchEvent(i)}changeTrigger(e){+this.initStartDate==+this.startValue&&+this.initEndDate==+this.endValue||(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.trigger("change",this.rangeArgs(e))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue)}navigateTo(e,t){if(this.isPopupOpen()){if("month"===e.toLowerCase())e="Month";else if("year"===e.toLowerCase())e="Year";else{if("decade"!==e.toLowerCase())return;e="Decade"}this.getViewNumber(e)<this.getViewNumber(this.depth)&&(e=this.depth),this.isMobile?super.navigateTo.call(this,e,t):(t<this.min?t=new Date(+this.min):t>=this.max&&(t=new Date(+this.max)),"Month"===e&&this.isSameMonth(t,this.max)?t=new Date(this.max.getFullYear(),this.max.getMonth()-1,this.min.getDate()):"Year"===e&&this.isSameYear(t,this.max)?t=new Date(this.max.getFullYear()-1,this.max.getMonth(),this.max.getDate()):"Decade"===e&&this.isSameDecade(t,this.max)&&(t=new Date(this.max.getFullYear()-10,this.max.getMonth(),this.max.getDate())),this.leftCalCurrentDate=t,this.navigate(this.leftCalendar,this.leftCalCurrentDate,e),t="Month"===e?new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)):"Year"===e?new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+1)):new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+10)),this.rightCalCurrentDate=t,this.navigate(this.rightCalendar,this.rightCalCurrentDate,e),this.leftKeyboardModule=this.rightKeyboardModule=null,this.updateNavIcons()),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar])}}navigate(e,t,i){this.calendarElement=e,this.table=e.querySelector("table"),this.tableBodyElement=e.querySelector("tbody"),this.headerTitleElement=e.querySelector(".e-title"),this.tableHeadElement=e.querySelector("thead"),this.contentElement=e.querySelector(".e-content"),this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.effect="e-zoomin",super.navigateTo.call(this,i,t)}focusIn(){document.activeElement!==this.inputElement&&this.enabled&&(Cv([this.inputWrapper.container],["e-input-focus"]),this.inputElement.focus())}focusOut(){let e=this.preventBlur;document.activeElement===this.inputElement&&(Ev([this.inputWrapper.container],["e-input-focus"]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=e)}destroy(){this.hide(null);let e={"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(Ev([this.inputElement],[lD]),Tb.remove(this.inputElement,"blur",this.inputBlurHandler),GE.removeAttributes(e,this.inputElement),Qy(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),Qy(this.inputWrapper)||(Tb.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),Tv(this.inputWrapper.container))),Qy(this.inputKeyboardModule)||this.isMobile||this.inputKeyboardModule.destroy(),this.popupObj&&(this.isMobile||this.clearCalendarEvents()),super.destroy(),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null,this.formElement&&Tb.remove(this.formElement,"reset",this.formResetHandler),Qy(this.firstHiddenChild)||Qy(this.secondHiddenChild)||(Tv(this.firstHiddenChild),Tv(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name"))}ensureInputAttribute(){let e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)Qy(this.cloneElement.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])))}getModuleName(){return"daterangepicker"}getPersistData(){return this.addOnPersist(["startDate","endDate","value"])}getSelectedRange(){let e;return Qy(this.startValue)||Qy(this.endValue)?e=0:(e=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1,this.disabledDateRender(),Qy(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:e}}show(e,t){this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen()||(e&&(this.targetElement=e),this.createPopup(),(this.isMobile||Kv.isDevice)&&(this.mobileRangePopupWrap=this.createElement("div",{className:"e-daterangepick-mob-popup-wrap"}),document.body.appendChild(this.mobileRangePopupWrap)),this.openEventArgs={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:t||null,appendTo:this.isMobile||Kv.isDevice?this.mobileRangePopupWrap:document.body},this.trigger("open",this.openEventArgs,i=>{if(this.openEventArgs=i,!this.openEventArgs.cancel){this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(e,t);let i=!this.isCustomRange||this.isMobile&&this.isCustomRange;!Jy(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&i&&this.setScrollPosition(),this.checkMinMaxDays(),this.isMobile&&!Qy(this.startDate)&&Qy(this.endDate)&&(this.endButton.element.classList.add(hD),this.startButton.element.classList.remove(hD),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),super.setOverlayIndex(this.mobileRangePopupWrap,this.popupObj.element,this.modal,this.isMobile||Kv.isDevice)}}))}hide(e){this.popupObj?(Qy(this.previousEndValue)&&Qy(this.previousStartValue)?this.clearRange():(Qy(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(this.checkValue(this.previousStartValue)),this.setValue(),this.currentDate=new Date(this.checkValue(this.startValue))),Qy(this.previousEndValue)?(this.endValue=null,this.setValue()):(this.endValue=new Date(this.checkValue(this.previousEndValue)),this.setValue())),this.isPopupOpen()&&(this.closeEventArgs={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:e||null},this.trigger("close",this.closeEventArgs,e=>{this.closeEventArgs=e,this.closeEventArgs.cancel?Ev([this.inputWrapper.buttons[0]],hD):(this.isMobile&&(Qy(this.startButton)||Qy(this.endButton)||(Tb.remove(this.startButton.element,"click touchstart",this.deviceHeaderClick),Tb.remove(this.endButton.element,"click touchstart",this.deviceHeaderClick))),this.popupObj&&(this.popupObj.hide(),this.preventBlur&&(this.inputElement.focus(),Cv([this.inputWrapper.container],["e-input-focus"]))),this.isMobile||(Qy(this.leftKeyboardModule)||Qy(this.rightKeyboardModule)||(this.leftKeyboardModule.destroy(),this.rightKeyboardModule.destroy()),Qy(this.presetElement)||this.presetKeyboardModule.destroy(),Qy(this.cancelButton)||this.btnKeyboardModule.destroy()),this.targetElement=null,Ev([document.body],"e-range-overflow"),Tb.remove(document,"mousedown touchstart",this.documentHandler),this.isMobile&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),(this.isMobile||Kv.isDevice)&&(Qy(this.mobileRangePopupWrap)||(this.mobileRangePopupWrap.remove(),this.mobileRangePopupWrap=null)),this.isKeyPopup=this.dateDisabled=!1),this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")}))):(this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"))}setLocale(){this.globalize=new Db(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),GE.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.updateHiddenInput(),this.changeTrigger()}refreshChange(){this.checkView(),this.refreshControl(),this.changeTrigger()}setDate(){GE.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()}enableInput(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),GE.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled")&&this.bindEvents())}clearModelvalue(e,t){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),t.value&&t.value.length>0?this.setProperties({value:null},!0):t.value&&t.value.start?this.setProperties({value:{start:null,end:null}},!0):t.value&&!t.value.start&&this.setProperties({value:{start:null,end:null}},!0),this.updateValue(),this.setDate()}createHiddenInput(){Qy(this.firstHiddenChild)&&Qy(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input")),Qy(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name")),Pv(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:"e-daterange-hidden"}),Pv(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:"e-daterange-hidden"});let e={type:"datetime",skeleton:"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e),this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e),this.inputElement.parentElement.appendChild(this.firstHiddenChild),this.inputElement.parentElement.appendChild(this.secondHiddenChild)}onPropertyChanged(e,t){let i={format:this.formatString,type:"date",skeleton:"yMd"};for(let s of Object.keys(e))switch(this.hide(null),s){case"width":this.setEleWidth(this.width);break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:e.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":GE.setPlaceholder(e.placeholder,this.inputElement),this.setProperties({placeholder:e.placeholder},!0);break;case"readonly":GE.setReadonly(this.readonly,this.inputElement),this.inputElement.setAttribute("aria-readonly",""+this.readonly),this.setRangeAllowEdit();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":this.setProperties({enabled:e.enabled},!0),GE.setEnabled(this.enabled,this.inputElement),this.bindEvents();break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),GE.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.updateInput(),this.changeTrigger();break;case"locale":this.globalize=new Db(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),GE.setPlaceholder(this.placeholder,this.inputElement),this.setLocale();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.setDataAttribute(!0),this.checkHtmlAttributes(!0);break;case"showClearButton":GE.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof e.startDate&&(e.startDate=this.globalize.parseDate(e.startDate,i)),+this.initStartDate!=+e.startDate&&(this.startValue=this.checkDateValue(new Date(this.checkValue(e.startDate))),this.setDate(),this.setValue());break;case"endDate":"string"==typeof e.endDate&&(e.endDate=this.globalize.parseDate(e.endDate,i)),+this.initEndDate!=+e.endDate&&(this.endValue=this.checkDateValue(new Date(this.checkValue(e.endDate))),this.setDate(),this.setValue());break;case"value":if(this.invalidValueString=null,this.checkInvalidRange(e.value),"string"==typeof e.value)if(this.invalidValueString)this.clearModelvalue(e,t);else{let t=e.value.split(" "+this.separator+" ");this.value=[new Date(t[0]),new Date(t[1])],this.updateValue(),this.setDate()}else!Qy(e.value)&&e.value.length>0||!Qy(e.value)&&e.value.start?(this.valueType=e.value,null===e.value[0]||null===e.value.start?1===e.value.length||e.value.start?this.clearModelvalue(e,t):null!==e.value[1]&&null!==e.value.start||this.clearModelvalue(e,t):+this.initStartDate==+e.value[0]&&+this.initEndDate==+e.value[1]&&+this.initStartDate==+(e.value.start||+this.initEndDate!=+e.value.start)||(1===e.value.length?this.modelValue=e.value:e.value.start&&(this.modelValue=e.value),this.updateValue(),this.setDate())):(Qy(this.value)||null==e.value.start)&&(this.valueType=e.value,this.startValue=null,this.endValue=null,this.clearModelvalue(e,t));break;case"minDays":this.setProperties({minDays:e.minDays},!0),this.refreshChange();break;case"maxDays":this.setProperties({maxDays:e.maxDays},!0),this.refreshChange();break;case"min":this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0),this.previousEleValue=this.inputElement.value,this.enableInput(),this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.enableInput(),this.refreshChange();break;case"strictMode":this.invalidValueString=null,this.setProperties({strictMode:e.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:e.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=e.floatLabelType,GE.removeFloating(this.inputWrapper),GE.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"start":this.setProperties({start:e.start},!0),this.refreshChange();break;case"depth":this.setProperties({depth:e.depth},!0),this.refreshChange()}}};return Wy([lw(null)],e.prototype,"value",void 0),Wy([lw(!1)],e.prototype,"enablePersistence",void 0),Wy([lw(new Date(1900,0,1))],e.prototype,"min",void 0),Wy([lw(new Date(2099,11,31))],e.prototype,"max",void 0),Wy([lw(null)],e.prototype,"locale",void 0),Wy([lw(null)],e.prototype,"firstDayOfWeek",void 0),Wy([lw(!1)],e.prototype,"weekNumber",void 0),Wy([lw("Gregorian")],e.prototype,"calendarMode",void 0),Wy([dw()],e.prototype,"created",void 0),Wy([dw()],e.prototype,"destroyed",void 0),Wy([dw()],e.prototype,"change",void 0),Wy([dw()],e.prototype,"cleared",void 0),Wy([dw()],e.prototype,"navigated",void 0),Wy([dw()],e.prototype,"renderDayCell",void 0),Wy([lw(null)],e.prototype,"startDate",void 0),Wy([lw(null)],e.prototype,"endDate",void 0),Wy([cw([{}],_D)],e.prototype,"presets",void 0),Wy([lw("")],e.prototype,"width",void 0),Wy([lw(1e3)],e.prototype,"zIndex",void 0),Wy([lw(!0)],e.prototype,"showClearButton",void 0),Wy([lw(!0)],e.prototype,"showTodayButton",void 0),Wy([lw("Month")],e.prototype,"start",void 0),Wy([lw("Month")],e.prototype,"depth",void 0),Wy([lw("")],e.prototype,"cssClass",void 0),Wy([lw("-")],e.prototype,"separator",void 0),Wy([lw(null)],e.prototype,"minDays",void 0),Wy([lw(null)],e.prototype,"maxDays",void 0),Wy([lw(!1)],e.prototype,"strictMode",void 0),Wy([lw(null)],e.prototype,"keyConfigs",void 0),Wy([lw(null)],e.prototype,"format",void 0),Wy([lw(!0)],e.prototype,"enabled",void 0),Wy([lw(!1)],e.prototype,"readonly",void 0),Wy([lw(!0)],e.prototype,"allowEdit",void 0),Wy([lw("Never")],e.prototype,"floatLabelType",void 0),Wy([lw(null)],e.prototype,"placeholder",void 0),Wy([lw({})],e.prototype,"htmlAttributes",void 0),Wy([dw()],e.prototype,"open",void 0),Wy([dw()],e.prototype,"close",void 0),Wy([dw()],e.prototype,"select",void 0),Wy([dw()],e.prototype,"focus",void 0),Wy([dw()],e.prototype,"blur",void 0),e=Wy([uw],e),e})();var CD,ED;(CD||(CD={})).createListItems=function(e,t,i,s,n,r){let a,o,l=6e4*r,h=[],c=[];for(a=+t.setMilliseconds(0),o=+i.setMilliseconds(0);o>=a;)c.push(a),h.push(s.formatDate(new Date(a),{format:n,type:"time"})),a+=l;return{collection:c,list:bC.createList(e,h,null,!0)}},function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.axisTitleFont={size:"14px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartTitleFont={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartSubTitleFont={size:"11px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.crosshairLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.stripLineLabelFont={size:"12px",fontWeight:"Regular",color:"#353535",fontStyle:"Normal",fontFamily:"Segoe UI"},e.stockEventFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(ED||(ED={}));let DD=(()=>{class e extends Sw{}return Wy([lw("Line")],e.prototype,"type",void 0),Wy([lw(null)],e.prototype,"color",void 0),Wy([lw(1)],e.prototype,"width",void 0),Wy([lw(null)],e.prototype,"length",void 0),Wy([lw("")],e.prototype,"dashArray",void 0),e})(),kD=(()=>{class e extends Sw{}return Wy([lw("Normal")],e.prototype,"fontStyle",void 0),Wy([lw("16px")],e.prototype,"size",void 0),Wy([lw("Normal")],e.prototype,"fontWeight",void 0),Wy([lw("")],e.prototype,"color",void 0),Wy([lw("Center")],e.prototype,"textAlignment",void 0),Wy([lw("Segoe UI")],e.prototype,"fontFamily",void 0),Wy([lw(1)],e.prototype,"opacity",void 0),Wy([lw("Trim")],e.prototype,"textOverflow",void 0),e})(),AD=(()=>{class e extends Sw{}return Wy([lw("")],e.prototype,"color",void 0),Wy([lw(1)],e.prototype,"width",void 0),e})(),MD=(()=>{class e extends Sw{}return Wy([lw(0)],e.prototype,"x",void 0),Wy([lw(0)],e.prototype,"y",void 0),e})(),LD=(()=>{class e extends Sw{}return Wy([lw(10)],e.prototype,"left",void 0),Wy([lw(10)],e.prototype,"right",void 0),Wy([lw(10)],e.prototype,"top",void 0),Wy([lw(10)],e.prototype,"bottom",void 0),e})(),TD=(()=>{class e extends Sw{}return Wy([lw(!0)],e.prototype,"enable",void 0),Wy([lw(1e3)],e.prototype,"duration",void 0),Wy([lw(0)],e.prototype,"delay",void 0),e})(),RD=(()=>{class e extends Sw{}return Wy([lw(0)],e.prototype,"series",void 0),Wy([lw(0)],e.prototype,"point",void 0),e})(),PD=(()=>{class e extends Sw{}return Wy([lw(0)],e.prototype,"topLeft",void 0),Wy([lw(0)],e.prototype,"topRight",void 0),Wy([lw(0)],e.prototype,"bottomLeft",void 0),Wy([lw(0)],e.prototype,"bottomRight",void 0),e})();class ID{constructor(e,t){this.series=e,this.point=t}}let OD=(()=>{class e extends Sw{}return Wy([lw(null)],e.prototype,"fill",void 0),Wy([hw({color:"transparent",width:0},AD)],e.prototype,"border",void 0),Wy([lw("Gap")],e.prototype,"mode",void 0),e})(),ND=(()=>{class e extends Sw{}return Wy([lw(!1)],e.prototype,"enable",void 0),Wy([lw(null)],e.prototype,"minY",void 0),Wy([lw(null)],e.prototype,"maxY",void 0),Wy([lw(null)],e.prototype,"fill",void 0),e})(),VD=(()=>{class e extends Sw{}return Wy([lw(!1)],e.prototype,"enable",void 0),Wy([lw(!0)],e.prototype,"enableMarker",void 0),Wy([lw(!1)],e.prototype,"shared",void 0),Wy([lw(null)],e.prototype,"fill",void 0),Wy([lw(null)],e.prototype,"header",void 0),Wy([lw(.75)],e.prototype,"opacity",void 0),Wy([hw(ED.tooltipLabelFont,kD)],e.prototype,"textStyle",void 0),Wy([lw(null)],e.prototype,"format",void 0),Wy([lw(null)],e.prototype,"template",void 0),Wy([lw(!0)],e.prototype,"enableAnimation",void 0),Wy([lw(300)],e.prototype,"duration",void 0),Wy([lw(1e3)],e.prototype,"fadeOutDuration",void 0),Wy([lw(!1)],e.prototype,"enableTextWrap",void 0),Wy([hw({color:"#cccccc",width:.5},AD)],e.prototype,"border",void 0),e})();class FD{get start(){return this.mStart}get end(){return this.mEnd}get delta(){return this.mEnd-this.mStart}get median(){return this.mStart+(this.mEnd-this.mStart)/2}constructor(e,t){e<t?(this.mStart=e,this.mEnd=t):(this.mStart=t,this.mEnd=e)}}class BD{constructor(e){this.isColumn=0,this.chart=e}calculateNumericNiceInterval(e,t,i){let s=Fk(i,e),n=t/s;if(!Qy(e.desiredIntervals))return n;let r=Math.pow(10,Math.floor(rk(n,10)));for(let a of e.intervalDivs){let e=r*a;if(s<t/e)break;n=e}return n}getActualRange(e,t){this.initializeDoubleRange(e),!e.startFromZero&&this.isColumn>0?(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.max=e.doubleRange.end+e.actualRange.interval,e.actualRange.min=e.doubleRange.start-e.actualRange.interval<0&&e.doubleRange.start>0?0:e.doubleRange.start-e.actualRange.interval):(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end)}initializeDoubleRange(e){null!==e.minimum?this.min=e.minimum:null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=0),null!==e.maximum?this.max=e.maximum:null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=5),this.min===this.max&&(this.max=e.valueType.indexOf("Category")>-1?this.max:this.min+1),e.doubleRange=new FD(this.min,this.max),e.actualRange={}}calculateRangeAndInterval(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)}calculateRange(e,t){if(this.min=null,this.max=null,!Vk(e))for(let i of e.series)i.visible&&(this.paddingInterval=0,e.maxPointLength=i.points.length,((i.type.indexOf("Column")>-1||i.type.indexOf("Histogram")>-1)&&"Horizontal"===e.orientation||i.type.indexOf("Bar")>-1&&"Vertical"===e.orientation)&&("Double"!==i.xAxis.valueType&&"DateTime"!==i.xAxis.valueType||"Auto"!==i.xAxis.rangePadding||(this.paddingInterval=.5*Lk(i.xAxis,e.series))),"Horizontal"===e.orientation&&(this.chart.requireInvertedAxis?this.yAxisRange(e,i):this.findMinMax(i.xMin-this.paddingInterval,i.xMax+this.paddingInterval)),"Vertical"===e.orientation&&(this.isColumn+="Column"===i.type||"Bar"===i.type||"Column"===i.drawType?1:0,this.chart.requireInvertedAxis?this.findMinMax(i.xMin-this.paddingInterval,i.xMax+this.paddingInterval):this.yAxisRange(e,i)))}yAxisRange(e,t){t.dragSettings.enable&&this.chart.dragY&&(this.chart.dragY>=e.visibleRange.max&&(t.yMax=this.chart.dragY+e.visibleRange.interval),this.chart.dragY<=e.visibleRange.min&&(t.yMin=this.chart.dragY-e.visibleRange.interval)),this.findMinMax(t.yMin,t.yMax)}findMinMax(e,t){(null===this.min||this.min>e)&&(this.min=e),(null===this.max||this.max<t)&&(this.max=t)}applyRangePadding(e,t){let i=e.actualRange.min,s=e.actualRange.max;if(!Vk(e)){let n=e.actualRange.interval,r=e.getRangePadding(this.chart);"Additional"===r||"Round"===r?this.findAdditional(e,i,s,n):"Normal"===r?this.findNormal(e,i,s,n,t):this.updateActualRange(e,i,s,n)}e.actualRange.delta=e.actualRange.max-e.actualRange.min,this.calculateVisibleRange(t,e)}updateActualRange(e,t,i,s){e.actualRange={min:null!=e.minimum?e.minimum:t,max:null!=e.maximum?e.maximum:i,interval:null!=e.interval?e.interval:s,delta:e.actualRange.delta}}findAdditional(e,t,i,s){let n,r;n=Math.floor(t/s)*s,r=Math.ceil(i/s)*s,"Additional"===e.rangePadding&&(n-=s,r+=s),this.updateActualRange(e,n,r,s)}findNormal(e,t,i,s,n){let r,a,o,l=t;t<0?(l=0,a=t+.05*t,r=s+a%s,.365*s>=r&&(a-=s),a%s<0&&(a=a-s-a%s)):(a=t<5/6*i?0:t-.5*(i-t),a%s>0&&(a-=a%s)),o=i>0?i+.05*(i-l):i-.05*(i-l),r=s-o%s,.365*s>=r&&(o+=s),o%s>0&&(o=o+s-o%s),e.doubleRange=new FD(a,o),0===a&&(s=this.calculateNumericNiceInterval(e,e.doubleRange.delta,n),o=Math.ceil(o/s)*s),this.updateActualRange(e,a,o,s)}calculateVisibleRange(e,t){if(t.visibleRange={max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta,interval:t.actualRange.interval},"Cartesian"===this.chart.chartAreaType){let i=!Qy(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRange(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming&&"Category"!==t.valueType?this.calculateNumericNiceInterval(t,t.doubleRange.delta,e):t.visibleRange.interval)}t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)}calculateVisibleLabels(e,t){e.visibleLabels=[];let i,s=e.visibleRange.min;("chart"!==t.getModuleName()||"PolarRadar"!==t.chartAreaType)&&(e.zoomFactor<1||e.zoomPosition>0||this.paddingInterval)&&(s=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);let n=this.getFormat(e),r=null!==n.match("{value}"),a=0,o=0;for(e.labelFormat&&e.labelFormat.indexOf("n")>-1&&(o=parseInt(e.labelFormat.substring(1,e.labelFormat.length),10)),e.format=t.intl.getNumberFormat({format:r?"":n,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(e.visibleRange.min),e.endLabel=e.format(e.visibleRange.max),e.visibleRange.interval&&(e.visibleRange.interval+"").indexOf(".")>=0&&(a=(e.visibleRange.interval+"").split(".")[1].length),i=Ky({},Gy("properties",e.labelStyle),null,!0);s<=e.visibleRange.max;s+=e.visibleRange.interval)lk(s,e.visibleRange)&&Nk(t,s,this.formatValue(e,r,n,s),i,e);s&&(s+"").indexOf(".")>=0&&(s+"").split(".")[1].length>10&&(s=(s+"").split(".")[1].length>(o||a)?+s.toFixed(o||a):s,s<=e.visibleRange.max&&Nk(t,s,this.formatValue(e,r,n,s),i,e)),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}getFormat(e){return e.labelFormat?0===e.labelFormat.indexOf("p")&&-1===e.labelFormat.indexOf("{value}")&&e.isStack100?"{value}%":e.labelFormat:e.isStack100?"{value}%":""}formatValue(e,t,i,s){return t?i.replace("{value}",e.format(s)):e.format(s)}}const zD=/~\d+~/g,HD=/\^\d+\^/g;let jD=(()=>{class e extends Sw{}return Wy([lw("")],e.prototype,"color",void 0),Wy([lw(1)],e.prototype,"width",void 0),Wy([lw("Rectangle")],e.prototype,"type",void 0),e})(),WD=(()=>{class e extends Sw{}return Wy([lw(null)],e.prototype,"start",void 0),Wy([lw(null)],e.prototype,"end",void 0),Wy([lw("")],e.prototype,"text",void 0),Wy([lw(null)],e.prototype,"maximumTextWidth",void 0),Wy([lw(null)],e.prototype,"customAttributes",void 0),Wy([lw("")],e.prototype,"type",void 0),e})(),YD=(()=>{class e extends Sw{}return Wy([lw(!0)],e.prototype,"visible",void 0),Wy([lw(!1)],e.prototype,"startFromAxis",void 0),Wy([lw(null)],e.prototype,"start",void 0),Wy([lw(null)],e.prototype,"end",void 0),Wy([lw(null)],e.prototype,"size",void 0),Wy([lw("#808080")],e.prototype,"color",void 0),Wy([lw(null)],e.prototype,"dashArray",void 0),Wy([lw("Auto")],e.prototype,"sizeType",void 0),Wy([lw(!1)],e.prototype,"isRepeat",void 0),Wy([lw(null)],e.prototype,"repeatEvery",void 0),Wy([lw(null)],e.prototype,"repeatUntil",void 0),Wy([lw(!1)],e.prototype,"isSegmented",void 0),Wy([lw(null)],e.prototype,"segmentStart",void 0),Wy([lw(null)],e.prototype,"segmentEnd",void 0),Wy([lw(null)],e.prototype,"segmentAxisName",void 0),Wy([hw({color:"transparent",width:1},AD)],e.prototype,"border",void 0),Wy([lw("")],e.prototype,"text",void 0),Wy([lw(null)],e.prototype,"rotation",void 0),Wy([lw("Middle")],e.prototype,"horizontalAlignment",void 0),Wy([lw("Middle")],e.prototype,"verticalAlignment",void 0),Wy([hw(ED.stripLineLabelFont,kD)],e.prototype,"textStyle",void 0),Wy([lw("Behind")],e.prototype,"zIndex",void 0),Wy([lw(1)],e.prototype,"opacity",void 0),e})(),qD=(()=>{class e extends Sw{}return Wy([lw("Center")],e.prototype,"alignment",void 0),Wy([lw("Wrap")],e.prototype,"overflow",void 0),Wy([hw(ED.axisLabelFont,kD)],e.prototype,"textStyle",void 0),Wy([hw({color:null,width:1,type:"Rectangle"},jD)],e.prototype,"border",void 0),Wy([cw([],WD)],e.prototype,"categories",void 0),e})(),UD=(()=>{class e extends Sw{}return Wy([lw(null)],e.prototype,"minimum",void 0),Wy([lw(null)],e.prototype,"maximum",void 0),e})(),GD=(()=>{class e extends Sw{}return Wy([lw(!1)],e.prototype,"enable",void 0),Wy([lw(null)],e.prototype,"pointsLength",void 0),Wy([hw({},UD)],e.prototype,"range",void 0),e})(),XD=(()=>{class e extends Sw{}return Wy([lw(1)],e.prototype,"width",void 0),Wy([lw("")],e.prototype,"dashArray",void 0),Wy([lw(null)],e.prototype,"color",void 0),e})(),ZD=(()=>{class e extends Sw{}return Wy([lw(.7)],e.prototype,"width",void 0),Wy([lw("")],e.prototype,"dashArray",void 0),Wy([lw(null)],e.prototype,"color",void 0),e})(),$D=(()=>{class e extends Sw{}return Wy([lw(1)],e.prototype,"width",void 0),Wy([lw("")],e.prototype,"dashArray",void 0),Wy([lw(null)],e.prototype,"color",void 0),e})(),KD=(()=>{class e extends Sw{}return Wy([lw(1)],e.prototype,"width",void 0),Wy([lw(5)],e.prototype,"height",void 0),Wy([lw(null)],e.prototype,"color",void 0),e})(),QD=(()=>{class e extends Sw{}return Wy([lw(.7)],e.prototype,"width",void 0),Wy([lw(5)],e.prototype,"height",void 0),Wy([lw(null)],e.prototype,"color",void 0),e})(),JD=(()=>{class e extends Sw{}return Wy([lw(!1)],e.prototype,"enable",void 0),Wy([lw(null)],e.prototype,"fill",void 0),Wy([hw(ED.crosshairLabelFont,kD)],e.prototype,"textStyle",void 0),e})(),ek=(()=>{class e extends Sw{constructor(e,t,i,s){super(e,t,i,s),this.visibleLabels=[],this.series=[],this.rect=new rx(void 0,void 0,0,0),this.axisBottomLine=null,this.intervalDivs=[10,5,2,1],this.angle=this.labelRotation,this.isStack100=!1,this.crossAt=null,this.updatedRect=null,this.multiLevelLabelHeight=0,this.isChart=!0,this.internalVisibility=!0}findTickSize(e){return"Inside"===this.tickPosition?0:!e||e.visibleRange&&!this.isInside(e.visibleRange)?this.majorTickLines.height:0}isInside(e){return ok(this.crossAt,e)||!this.opposedPosition&&this.crossAt>=e.max||this.opposedPosition&&this.crossAt<=e.min}findLabelSize(e,t){let i,s,n=0;if(this.title&&(n=ix(this.title,this.titleStyle).height+t),"Inside"===this.labelPosition)return n+t;let r=n+t+10+("Vertical"===this.orientation?this.maxLabelSize.width:this.maxLabelSize.height)+this.multiLevelLabelHeight;if(e&&this.placeNextToAxisLine){let t=e.visibleRange,n="Horizontal"===e.orientation?e.rect.width:e.rect.height;if(!t||!n)return 0;this.isInside(t)&&(s=this.findDifference(e),i=s*(n/t.delta),i=s*((n-(i<r?r-i:0))/t.delta),r=i<r?r-i:0)}return r}updateCrossValue(e){let t=this.crossAt;if(null===t||!this.isInside(this.crossInAxis.visibleRange))return this.updatedRect=this.rect,null;let i=this.crossInAxis.visibleRange;this.opposedPosition?this.crossAt<i.min&&(t=i.min):this.crossAt>i.max&&(t=i.max),this.updatedRect=Ky({},this.rect,null,!0),"Horizontal"===this.orientation?(t=this.crossInAxis.rect.height-bk(t,this.crossInAxis)*this.crossInAxis.rect.height,this.updatedRect.y=this.crossInAxis.rect.y+t):(t=bk(t,this.crossInAxis)*this.crossInAxis.rect.width,this.updatedRect.x=this.crossInAxis.rect.x+t)}findDifference(e){let t=0;return t=this.opposedPosition?e.isInversed?e.visibleRange.min:e.visibleRange.max:e.isInversed?e.visibleRange.max:e.visibleRange.min,Math.abs(this.crossAt-t)}calculateVisibleRange(e){if(this.zoomFactor<1||this.zoomPosition>0){let e,t,i=this.actualRange;this.isInversed?(e=this.actualRange.max-this.zoomPosition*this.actualRange.delta,t=e-this.zoomFactor*this.actualRange.delta):(e=this.actualRange.min+this.zoomPosition*this.actualRange.delta,t=e+this.zoomFactor*this.actualRange.delta),e<i.min&&(t+=i.min-e,e=i.min),t>i.max&&(e-=t-i.max,t=i.max),this.doubleRange=new FD(e,t),this.visibleRange={min:this.doubleRange.start,max:this.doubleRange.end,delta:this.doubleRange.delta,interval:this.visibleRange.interval}}}triggerRangeRender(e,t,i,s){let n;n={cancel:!1,name:"axisRangeCalculated",axis:this,minimum:t,maximum:i,interval:s},e.trigger("axisRangeCalculated",n),n.cancel||(this.visibleRange={min:n.minimum,max:n.maximum,interval:n.interval,delta:n.maximum-n.minimum})}getRangePadding(e){let t=this.rangePadding;if("Auto"!==t)return t;switch(this.orientation){case"Horizontal":t=e.requireInvertedAxis?this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal":"None";break;case"Vertical":t=e.requireInvertedAxis?"None":this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal"}return t}getMaxLabelWidth(e){let t,i,s=0,n=!1;this.angle=this.labelRotation,this.maxLabelSize=new nx(0,0);let r,a=this.labelIntersectAction;for(let o=0,l=this.visibleLabels.length;o<l;o++){r=this.visibleLabels[o],i=ik(r.originalText),i?(r.size=ix(r.originalText.replace(/<br>/g," "),this.labelStyle),r.breakLabelSize=ix(this.enableTrim?r.text.join("<br>"):r.originalText,this.labelStyle)):r.size=ix(r.text,this.labelStyle);let e=i?r.breakLabelSize.width:r.size.width;e>this.maxLabelSize.width&&(this.maxLabelSize.width=e,this.rotatedLabel=r.text);let l=i?r.breakLabelSize.height:r.size.height;if(l>this.maxLabelSize.height&&(this.maxLabelSize.height=l),i&&(r.text=this.enableTrim?r.text:r.originalText.split("<br>")),"None"!==a&&"Hide"!==a&&"Trim"!==a&&("None"!==a||this.angle%360==0)&&"Horizontal"===this.orientation&&this.rect.width>0&&!n){let e=i?r.breakLabelSize.width:r.size.width,l=i?r.breakLabelSize.height:r.size.height;switch(t=bk(r.value,this)*this.rect.width+this.rect.x,t-=e/2,"Shift"===this.edgeLabelPlacement&&(0===o&&t<this.rect.x&&(t=this.rect.x),o===this.visibleLabels.length-1&&t+e>this.rect.x+this.rect.width&&(t=this.rect.x+this.rect.width-e)),a){case"MultipleRows":o>0&&this.findMultiRows(o,t,r,i);break;case"Rotate45":case"Rotate90":o>0&&(this.isInversed?t+e>=s:t<=s)&&(this.angle="Rotate45"===a?45:90,n=!0);break;default:if(i){let e,t,i=[];for(let s=0;s<r.text.length;s++)if(e=gA(r.text[s],this.rect.width/this.visibleLabels.length,this.labelStyle),e.length>1)for(let n=0;n<e.length;n++)t=e[n],i.push(t);else i.push(e[0]);r.text=i}else r.text=gA(r.text,this.rect.width/this.visibleLabels.length,this.labelStyle);let h=l*r.text.length;h>this.maxLabelSize.height&&(this.maxLabelSize.height=h)}s=this.isInversed?t:t+e}}0!==this.angle&&"Horizontal"===this.orientation&&(this.rotatedLabel=Qy(this.rotatedLabel)?"":this.rotatedLabel,this.maxLabelSize=ik(this.rotatedLabel)?ix(this.rotatedLabel,this.labelStyle):function(e,t,i,s){let n,r,a,o=new ex(s.element.id);return r={"font-size":e.size,"font-style":e.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight,transform:"rotate("+i+", 0, 0)","text-anchor":"middle"},a=o.createText(r,t),s.delayRedraw||s.redraw||s.element.appendChild(s.svgObject),s.svgObject.appendChild(a),n=a.getBoundingClientRect(),Rv(a),s.delayRedraw||s.redraw||Rv(s.svgObject),new nx(n.right-n.left,n.bottom-n.top)}(this.labelStyle,this.rotatedLabel,this.angle,e)),e.multiLevelLabelModule&&this.multiLevelLabels.length>0&&e.multiLevelLabelModule.getMultilevelLabelsHeight(this)}findMultiRows(e,t,i,s){let n,r,a,o,l=[];for(let c=e-1;c>=0;c--)n=this.visibleLabels[c],a=s?n.breakLabelSize.width:n.size.width,r=bk(n.value,this)*this.rect.width+this.rect.x,o=this.isInversed?t+i.size.width>r-.5*a:t<r+.5*a,o?(l.push(n.index),i.index=i.index>n.index?i.index:n.index+1):i.index=l.indexOf(n.index)>-1?i.index:n.index;let h=(s?i.breakLabelSize.height:i.size.height)*i.index+5*(i.index-1);h>this.maxLabelSize.height&&(this.maxLabelSize.height=h)}getModule(e){this.baseModule="Double"===this.valueType?new BD(e):e[Mk(this.valueType)+"Module"]}}return Wy([hw(ED.axisLabelFont,kD)],e.prototype,"labelStyle",void 0),Wy([hw({},JD)],e.prototype,"crosshairTooltip",void 0),Wy([lw("")],e.prototype,"title",void 0),Wy([hw(ED.axisTitleFont,kD)],e.prototype,"titleStyle",void 0),Wy([lw("")],e.prototype,"labelFormat",void 0),Wy([lw("")],e.prototype,"skeleton",void 0),Wy([lw("DateTime")],e.prototype,"skeletonType",void 0),Wy([lw(0)],e.prototype,"plotOffset",void 0),Wy([lw(null)],e.prototype,"plotOffsetLeft",void 0),Wy([lw(null)],e.prototype,"plotOffsetTop",void 0),Wy([lw(null)],e.prototype,"plotOffsetRight",void 0),Wy([lw(null)],e.prototype,"plotOffsetBottom",void 0),Wy([lw(!1)],e.prototype,"isIndexed",void 0),Wy([lw(10)],e.prototype,"logBase",void 0),Wy([lw(0)],e.prototype,"columnIndex",void 0),Wy([lw(0)],e.prototype,"rowIndex",void 0),Wy([lw(1)],e.prototype,"span",void 0),Wy([lw(null)],e.prototype,"desiredIntervals",void 0),Wy([lw(3)],e.prototype,"maximumLabels",void 0),Wy([lw(1)],e.prototype,"zoomFactor",void 0),Wy([lw(0)],e.prototype,"zoomPosition",void 0),Wy([lw(!1)],e.prototype,"opposedPosition",void 0),Wy([lw(!0)],e.prototype,"enableAutoIntervalOnZooming",void 0),Wy([lw("Auto")],e.prototype,"rangePadding",void 0),Wy([lw("Double")],e.prototype,"valueType",void 0),Wy([lw("None")],e.prototype,"edgeLabelPlacement",void 0),Wy([lw("Auto")],e.prototype,"intervalType",void 0),Wy([lw("BetweenTicks")],e.prototype,"labelPlacement",void 0),Wy([lw("Outside")],e.prototype,"tickPosition",void 0),Wy([lw("Outside")],e.prototype,"labelPosition",void 0),Wy([lw("")],e.prototype,"name",void 0),Wy([lw(!0)],e.prototype,"visible",void 0),Wy([lw(0)],e.prototype,"minorTicksPerInterval",void 0),Wy([lw(0)],e.prototype,"labelRotation",void 0),Wy([lw(null)],e.prototype,"crossesAt",void 0),Wy([lw(!0)],e.prototype,"placeNextToAxisLine",void 0),Wy([lw(null)],e.prototype,"crossesInAxis",void 0),Wy([lw(null)],e.prototype,"minimum",void 0),Wy([lw(null)],e.prototype,"maximum",void 0),Wy([lw(null)],e.prototype,"interval",void 0),Wy([lw(34)],e.prototype,"maximumLabelWidth",void 0),Wy([lw(!1)],e.prototype,"enableTrim",void 0),Wy([lw(5)],e.prototype,"labelPadding",void 0),Wy([hw({},KD)],e.prototype,"majorTickLines",void 0),Wy([hw({},QD)],e.prototype,"minorTickLines",void 0),Wy([hw({},XD)],e.prototype,"majorGridLines",void 0),Wy([hw({},ZD)],e.prototype,"minorGridLines",void 0),Wy([hw({},$D)],e.prototype,"lineStyle",void 0),Wy([lw("Trim")],e.prototype,"labelIntersectAction",void 0),Wy([lw(!1)],e.prototype,"isInversed",void 0),Wy([lw(100)],e.prototype,"coefficient",void 0),Wy([lw(0)],e.prototype,"startAngle",void 0),Wy([lw(!0)],e.prototype,"startFromZero",void 0),Wy([lw(null)],e.prototype,"description",void 0),Wy([lw(2)],e.prototype,"tabIndex",void 0),Wy([cw([],YD)],e.prototype,"stripLines",void 0),Wy([cw([],qD)],e.prototype,"multiLevelLabels",void 0),Wy([hw({color:null,width:0,type:"Rectangle"},jD)],e.prototype,"border",void 0),Wy([hw({},GD)],e.prototype,"scrollbarSettings",void 0),e})();class tk{constructor(e,t,i,s,n=new nx(0,0),r=new nx(0,0),a=1){this.text=e,this.originalText=s,this.value=t,this.labelStyle=i,this.size=n,this.breakLabelSize=r,this.index=1}}function ik(e){return-1!==e.indexOf("<br>")}function sk(e){let t,i=Ky([],e.points,null,!0),s=[],n=0;for(let r=0;r<i.length;r++)t=i[r],Qy(t.x)||""===t.x||(t.index=n++,s.push(t));return s}function nk(e){if(!e)return null;let t="string"==typeof e?jk(e):e;t&&Rv(t)}function rk(e,t){return Math.log(e)/Math.log(t)}function ak(e,t,i,s,n,r,a){let o=document.getElementById(n),l=ix(e,{fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"Regular"}).width+5;t=t+l>s?t-(l+15):t,o?(o.innerHTML=e,o.style.top=(i+15).toString()+"px",o.style.left=(t+15).toString()+"px"):(o=Sv("div",{innerHTML:e,id:n,styles:"top:"+(i+15).toString()+"px;left:"+(t+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'}),r.appendChild(o),parseInt(o.style.left.replace("px",""),10)<0&&(o.style.left="0px")),a&&setTimeout(()=>{nk(n)},1500)}function ok(e,t){return e<t.max&&e>t.min}function lk(e,t){return e<=t.max&&e>=t.min}function hk(e,t){return"Logarithmic"===t.valueType?rk(e,t.logBase):e}function ck(e,t,i,s){let n=hk(t.xValue,s.xAxis),r=e?hk(e.xValue,s.xAxis):n,a=i?hk(i.xValue,s.xAxis):n,o=Math.floor(s.xAxis.visibleRange.min),l=Math.ceil(s.xAxis.visibleRange.max);return r>=o&&r<=l||n>=o&&n<=l||a>=o&&a<=l||o>=r&&o<=a}function dk(e){let t=0;for(let i of e)t+=i;return t}function uk(e,t,i,s,n){let r=0;if(null!==s)for(let a=t+1;a<i;a++)-1===s.indexOf(a)&&(r+=e[a][n.yName]);else for(let a=t+1;a<i;a++)Qy(e[a][n.yName])||(r+=e[a][n.yName]);return r}function pk(e,t){return e.x+=t.left,e.y+=t.top,e.width-=t.left+t.right,e.height-=t.top+t.bottom,e}function mk(e,t,i){let s=e*Math.PI/180;return new SA(Math.cos(s)*t+i.x,Math.sin(s)*t+i.y)}function gk(e){return e*(Math.PI/180)}function fk(e,t,i,s){let n=[];for(let r=0;r<4;r++){let a=e[r],o=a.x-t,l=a.y-i,h=o*Math.cos(gk(s))-l*Math.sin(gk(s)),c=o*Math.sin(gk(s))+l*Math.cos(gk(s));a.x=h+t,a.y=c+i,n.push(new SA(a.x,a.y))}return n}function yk(e,t){let i,s,n,r,a,o,l,h,c=[e,t];for(r=0;r<c.length;r++){let d=c[r];for(a=0;a<d.length;a++){let r=d[a],c=d[(a+1)%d.length],u=new SA(c.y-r.y,r.x-c.x);for(i=s=void 0,o=0;o<e.length;o++)n=u.x*e[o].x+u.y*e[o].y,(Qy(i)||n<i)&&(i=n),(Qy(s)||n>s)&&(s=n);for(l=h=void 0,o=0;o<t.length;o++)n=u.x*t[o].x+u.y*t[o].y,(Qy(l)||n<l)&&(l=n),(Qy(h)||n>h)&&(h=n);if(s<l||h<i)return!1}}return!0}function bk(e,t){let i=t.visibleRange,s=(e-i.min)/i.delta;return t.isInversed?1-s:s}function vk(e,t,i,s,n,r){e="Logarithmic"===i.valueType?rk(e>1?e:1,i.logBase):e,t="Logarithmic"===s.valueType?rk(t>1?t:1,s.logBase):t,e+="Category"===i.valueType&&"BetweenTicks"===i.labelPlacement&&"Radar"!==r.type?.5:0;let a=r.chart.radius*bk(t,s),o=xk(_k(e,i),r.chart.primaryXAxis.startAngle);return{x:r.clipRect.width/2+r.clipRect.x+a*o.x,y:r.clipRect.height/2+r.clipRect.y+a*o.y}}function wk(e,t=!1){let i=["NaN","NaN"];return e.indexOf("_Point_")>-1?i=e.split("_Series_")[1].split("_Point_"):e.indexOf("_shape_")>-1&&(!t||t&&-1===e.indexOf("_legend_"))?(i=e.split("_shape_"),i[0]="0"):e.indexOf("_text_")>-1&&(!t||t&&-1===e.indexOf("_legend_"))&&(i=e.split("_text_"),i[0]="0"),new ID(parseInt(i[0],10),parseInt(i[1],10))}function xk(e,t){t=t<0?t+360:t;let i=Math.PI*(1.5-2*e);return i+=t*Math.PI/180,{x:Math.cos(i),y:Math.sin(i)}}function _k(e,t){let i,s,n=t.visibleRange;return"Category"!==t.valueType?(i=n.max-("DateTime"===t.valueType?t.dateTimeInterval:n.interval)-n.min,s=t.visibleLabels.length-1,i=0===i?1:i):(i=1===t.visibleLabels.length?1:t.visibleLabels[t.visibleLabels.length-1].value-t.visibleLabels[0].value,s=t.visibleLabels.length),t.isInversed?(e-n.min)/i*(1-1/s):1-(e-n.min)/i*(1-1/s)}class Sk{constructor(e,t,i,s,n,r){this.verticalStandardMean=e,this.horizontalStandardMean=i,this.verticalSquareRoot=t,this.horizontalSquareRoot=s,this.verticalMean=n,this.horizontalMean=r}}class Ck{constructor(e,t,i,s,n){this.startAngle=e,this.endAngle=t,this.innerRadius=i,this.radius=s,this.currentXPosition=n}}function Ek(e,t,i,s=0,n=0){return e>=i.x-s&&e<=i.x+i.width+s&&t>=i.y-n&&t<=i.y+i.height+n}function Dk(e,t,i){return(i.isInversed?1-e/t:e/t)*i.visibleRange.delta+i.visibleRange.min}function kk(e,t,i){return(i.isInversed?e/t:1-e/t)*i.visibleRange.delta+i.visibleRange.min}function Ak(e){let t=e.clipRect;e.chart.requireInvertedAxis?(t.x=e.yAxis.rect.x,t.y=e.xAxis.rect.y,t.width=e.yAxis.rect.width,t.height=e.xAxis.rect.height):(t.x=e.xAxis.rect.x,t.y=e.yAxis.rect.y,t.width=e.xAxis.rect.width,t.height=e.yAxis.rect.height)}function Mk(e){return e.substr(0,1).toLowerCase()+e.substr(1)}function Lk(e,t){let i,s,n,r=Number.MAX_VALUE;for(let a=0;a<t.length;a++){let o=t[a];if(i=[],o.visible&&(e.name===o.xAxisName||"primaryXAxis"===e.name&&null===o.xAxisName||e.name===o.chart.primaryXAxis.name&&!o.xAxisName))if(i=o.points.map((e,t)=>e.xValue),i.sort((e,t)=>e-t),1===i.length)n="DateTime"===e.valueType&&o.xMin===o.xMax?o.xMin-2592e6:o.xMin,s=i[0]-(Qy(n)?e.visibleRange.min:n),0!==s&&(r=Math.min(r,s));else for(let e=0;e<i.length;e++){let t=i[e];e>0&&t&&(s=t-i[e-1],0!==s&&(r=Math.min(r,s)))}}return r===Number.MAX_VALUE&&(r=1),r}function Tk(e){let t;switch(e){case"Linear":t=Rk}return t}function Rk(e,t,i,s){return-i*Math.cos(e/s*(Math.PI/2))+i+t}function Pk(e,t,i,s,n,r,a){let o=r.x,l=r.y,h=0;e.style.visibility="hidden",new gw({}).animate(e,{duration:i,delay:t,progress:t=>{t.timeStamp>t.delay&&(t.element.style.visibility="visible",h=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate("+o+" "+l+") scale("+h+") translate("+-o+" "+-l+")"))},end:t=>{e.style.visibility="","Scatter"!==s.type&&"Bubble"!==s.type||a||n!==s.points.length-1||s.chart.trigger("animationComplete",{series:s.chart.isBlazor?{}:s})}})}function Ik(e,t,i,s,n){if(!i||!s&&!e)return null;let r=300;n&&(r=n);let a,o,l,h=s||e.getAttribute("d"),c=h.split(/(?=[LMCZAQ])/),d=t.split(/(?=[LMCZAQ])/),u=[],p=[];e.setAttribute("d",h),new gw({}).animate(Sv("div"),{duration:r,progress:t=>{a="",c.map((e,i)=>{if(u=e.split(" "),p=d[i]?d[i].split(" "):u,a+="Z"===u[0]?"Z ":u[0]+" "+Rk(t.timeStamp,+u[1],+p[1]-+u[1],t.duration)+" "+Rk(t.timeStamp,+u[2],+p[2]-+u[2],t.duration)+" ","C"===u[0]||"Q"===u[0])for(o=3,l="Q"===u[0]?4:6;o<l;)a+=Rk(t.timeStamp,+u[o],+p[o]-+u[o],t.duration)+" "+Rk(t.timeStamp,+u[++o],+p[o]-+u[o],t.duration)+" ",++o;"A"===u[0]&&(a+="0 0 1 "+Rk(t.timeStamp,+u[6],+p[6]-+u[6],t.duration)+" "+Rk(t.timeStamp,+u[7],+p[7]-+u[7],t.duration)+" ")}),e.setAttribute("d",a)},end:()=>{e.setAttribute("d",t)}})}function Ok(e,t,i,s="drawClipPath"){let n=hA(e,t.id,t,i);if(n){let e=i.createDefs();return e.appendChild(n),e}return i[s](t)}function Nk(e,t,i,s,n){let r;if(r={cancel:!1,name:"axisLabelRender",axis:n,text:i,value:t,labelStyle:s},e.trigger("axisLabelRender",r),!r.cancel){let e=-1!==r.text.indexOf("<br>"),t=n.enableTrim?e?function(e,t,i){let s=[],n=t.split("<br>");for(let r=0;r<n.length;r++){let a=ix(t=n[r],i).width;if(a>e){for(let n=t.length-1;n>=0;--n)if(a=ix(t=t.substring(0,n)+"...",i).width,a<=e){s.push(t);break}}else s.push(t)}return s}(n.maximumLabelWidth,r.text,n.labelStyle):oA(n.maximumLabelWidth,r.text,n.labelStyle):r.text;n.visibleLabels.push(new tk(t,r.value,r.labelStyle,r.text))}}function Vk(e){return null!=e.minimum&&null!=e.maximum}function Fk(e,t){let i="Horizontal"===t.orientation?e.width:e.height;if(Qy(t.desiredIntervals)){let e=("Horizontal"===t.orientation?.533:1)*t.maximumLabels;return e=Math.max(i*(e/100),1),e}return t.desiredIntervals}function Bk(e,t,i,s,n){new gw({}).animate(e,{duration:i,delay:t,name:s,progress:e=>{e.element.style.visibility="visible"},end:e=>{n?Rv(e.element):e.element.style.visibility="visible"}})}function zk(e,t,i,s,n,r,a,o,l,h){let c=a||new ex(""),d=function(e,t,i,s,n,r,a){let o,l="Path",h=r&&"Circle"===i?t.width-2:t.width,c=r&&"Circle"===i?t.height-2:t.height,d=r?a.targetWidth:0,u=e.x,p=e.y,m=e.y+-c/2,g=e.x+-h/2;switch(i){case"Bubble":case"Circle":l="Ellipse",$y(s,{rx:h/2,ry:c/2,cx:u,cy:p});break;case"Cross":o="M "+g+" "+p+" L "+(u+h/2)+" "+p+" M "+u+" "+(p+c/2)+" L "+u+" "+(p+-c/2),$y(s,{d:o,stroke:s.fill});break;case"Multiply":o="M "+(u-d)+" "+(p-d)+" L "+(u+d)+" "+(p+d)+" M "+(u-d)+" "+(p+d)+" L "+(u+d)+" "+(p-d),$y(s,{d:o,stroke:s.fill});break;case"HorizontalLine":o="M "+g+" "+p+" L "+(u+h/2)+" "+p,$y(s,{d:o});break;case"VerticalLine":o="M "+u+" "+(p+c/2)+" L "+u+" "+(p+-c/2),$y(s,{d:o});break;case"Diamond":o="M "+g+" "+p+" L "+u+" "+(p+-c/2)+" L "+(u+h/2)+" "+p+" L "+u+" "+(p+c/2)+" L "+g+" "+p+" z",$y(s,{d:o});break;case"ActualRect":o="M "+g+" "+(p+-c/8)+" L "+(u+d)+" "+(p+-c/8)+" L "+(u+d)+" "+(p+c/8)+" L "+g+" "+(p+c/8)+" L "+g+" "+(p+-c/8)+" z",$y(s,{d:o});break;case"TargetRect":o="M "+(g+d)+" "+(p+-c/2)+" L "+(u+d/2)+" "+(p+-c/2)+" L "+(u+d/2)+" "+(p+c/2)+" L "+(g+d)+" "+(p+c/2)+" L "+(g+d)+" "+(p+-c/2)+" z",$y(s,{d:o});break;case"Rectangle":case"Hilo":case"HiloOpenClose":case"Candle":case"Waterfall":case"BoxAndWhisker":case"StepArea":case"Square":case"Flag":o="M "+g+" "+(p+-c/2)+" L "+(u+h/2)+" "+(p+-c/2)+" L "+(u+h/2)+" "+(p+c/2)+" L "+g+" "+(p+c/2)+" L "+g+" "+(p+-c/2)+" z",$y(s,{d:o});break;case"Pyramid":case"Triangle":o="M "+g+" "+(p+c/2)+" L "+u+" "+(p+-c/2)+" L "+(u+h/2)+" "+(p+c/2)+" L "+g+" "+(p+c/2)+" z",$y(s,{d:o});break;case"Funnel":case"InvertedTriangle":o="M "+(u+h/2)+" "+(p-c/2)+" L "+u+" "+(p+c/2)+" L "+(u-h/2)+" "+(p-c/2)+" L "+(u+h/2)+" "+(p-c/2)+" z",$y(s,{d:o});break;case"Pentagon":let e,t,i=72;for(let s=0;s<=5;s++)e=h/2*Math.cos(Math.PI/180*(s*i)),t=c/2*Math.sin(Math.PI/180*(s*i)),o=0===s?"M "+(u+e)+" "+(p+t)+" ":o.concat("L "+(u+e)+" "+(p+t)+" ");o=o.concat("Z"),$y(s,{d:o});break;case"Image":l="Image",$y(s,{href:n,height:c,width:h,x:g,y:m})}return{renderOption:s=function(e,t,i,s){let n="",r=t.height,a=t.width,o=e.x,l=e.y;switch(i){case"MultiColoredLine":case"Line":case"StackingLine":case"StackingLine100":n="M "+(o+-a/2)+" "+l+" L "+(o+a/2)+" "+l,$y(s,{d:n});break;case"StepLine":s.fill="transparent",n="M "+(o+-a/2-2.5)+" "+(l+r/2)+" L "+(o+-a/2+a/10)+" "+(l+r/2)+" L "+(o+-a/2+a/10)+" "+l+" L "+(o+-a/10)+" "+l+" L "+(o+-a/10)+" "+(l+r/2)+" L "+(o+a/5)+" "+(l+r/2)+" L "+(o+a/5)+" "+(l+-r/2)+" L "+(o+a/2)+" "+(l+-r/2)+"L "+(o+a/2)+" "+(l+r/2)+" L"+(o+a/2+2.5)+" "+(l+r/2),$y(s,{d:n});break;case"RightArrow":n="M "+(o+-a/2)+" "+(l-r/2)+" L "+(o+a/2)+" "+l+" L "+(o+-a/2)+" "+(l+r/2)+" L "+(o+-a/2)+" "+(l+r/2-2)+" L "+(o+a/2-4)+" "+l+" L"+(o+-a/2)+" "+(l-r/2+2)+" Z",$y(s,{d:n});break;case"LeftArrow":s.fill=s.stroke,s.stroke="transparent",n="M "+(o+a/2)+" "+(l-r/2)+" L "+(o+-a/2)+" "+l+" L "+(o+a/2)+" "+(l+r/2)+" L "+(o+a/2)+" "+(l+r/2-2)+" L "+(o+-a/2+4)+" "+l+" L"+(o+a/2)+" "+(l-r/2+2)+" Z",$y(s,{d:n});break;case"Column":case"Pareto":case"StackingColumn":case"StackingColumn100":case"RangeColumn":case"Histogram":n="M "+(o-a/5*3)+" "+(l-r/5)+" L "+(o+-a/10*3)+" "+(l-r/5)+" L "+(o+-a/10*3)+" "+(l+r/2)+" L "+(o-a/5*3)+" "+(l+r/2)+" Z M "+(o+-a/10-a/20)+" "+(l-r/4-5)+" L "+(o+a/10+a/20)+" "+(l-r/4-5)+" L "+(o+a/10+a/20)+" "+(l+r/2)+" L "+(o+-a/10-a/20)+" "+(l+r/2)+" Z M "+(o+a/10*3)+" "+l+" L "+(o+a/5*3)+" "+l+" L "+(o+a/5*3)+" "+(l+r/2)+" L "+(o+a/10*3)+" "+(l+r/2)+" Z",$y(s,{d:n});break;case"Bar":case"StackingBar":case"StackingBar100":n="M "+(o+-a/2+-2.5)+" "+(l-r/5*3)+" L "+(o+a/10*3)+" "+(l-r/5*3)+" L "+(o+a/10*3)+" "+(l-r/10*3)+" L "+(o-a/2-2.5)+" "+(l-r/10*3)+" Z M "+(o+-a/2+-2.5)+" "+(l-r/5+.5)+" L "+(o+a/2+2.5)+" "+(l-r/5+.5)+" L "+(o+a/2+2.5)+" "+(l+r/10+.5)+" L "+(o-a/2-2.5)+" "+(l+r/10+.5)+" Z M "+(o-a/2-2.5)+" "+(l+r/5+1)+" L "+(o+-a/4)+" "+(l+r/5+1)+" L "+(o+-a/4)+" "+(l+r/2+1)+" L "+(o-a/2-2.5)+" "+(l+r/2+1)+" Z",$y(s,{d:n});break;case"Spline":s.fill="transparent",n="M "+(o-a/2)+" "+(l+r/5)+" Q "+o+" "+(l-r)+" "+o+" "+(l+r/5)+" M "+o+" "+(l+r/5)+" Q "+(o+a/2)+" "+(l+r/2)+" "+(o+a/2)+" "+(l-r/2),$y(s,{d:n});break;case"Area":case"MultiColoredArea":case"RangeArea":case"StackingArea":case"StackingArea100":n="M "+(o-a/2-2.5)+" "+(l+r/2)+" L "+(o+-a/4+-1.25)+" "+(l-r/2)+" L "+o+" "+(l+r/4)+" L "+(o+a/4+1.25)+" "+(l+-r/2+r/4)+" L "+(o+r/2+2.5)+" "+(l+r/2)+" Z",$y(s,{d:n});break;case"SplineArea":n="M "+(o-a/2)+" "+(l+r/5)+" Q "+o+" "+(l-r)+" "+o+" "+(l+r/5)+" Z M "+o+" "+(l+r/5)+" Q "+(o+a/2)+" "+(l+r/2)+" "+(o+a/2)+" "+(l-r/2)+"  Z",$y(s,{d:n});break;case"Pie":case"Doughnut":s.stroke="transparent",n=function(e,t,i,s,n,r){let a=mk(270,i,new SA(e,t)),o=mk(270,i,new SA(e+n/10,t));return"M "+e+" "+t+" L "+(e+i)+" "+t+" A "+i+" "+i+" 0 1 1 "+a.x+" "+a.y+" Z M "+(e+n/10)+" "+(t-s/10)+" L"+(e+i)+" "+(t-s/10)+" A "+i+" "+i+" 0 0 0 "+o.x+" "+o.y+" Z"}(o,l,Math.min(r,a)/2,r,a),$y(s,{d:n})}return{renderOption:s}}(e,new nx(h,c),i,s).renderOption,functionName:l}}(e,i,t,n,s,l,h);return c["draw"+d.functionName](d.renderOption,o?new Int32Array([o.x,o.y]):null)}function Hk(e,t,i){return e>i?i:e<t?t:e}function jk(e){return document.getElementById(e)}function Wk(e,t,i,s,n,r,a){let o,l;o=function(e){let t=null;try{document.querySelectorAll(e).length&&(t=sv(document.querySelector(e).innerHTML.trim()))}catch(i){t=sv(e)}return t}(i);try{let t=window.Blazor?a?n:{point:n}:{chart:s,series:r,point:n},i=o?o(t,null,null,a||e.id.replace(/[^a-zA-Z0-9]/g,"")):[];if(i.length){l=Array.prototype.slice.call(i);let t=l.length;for(let i=0;i<t;i++)e.appendChild(l[i])}}catch(h){return e}return e}function Yk(e){let t="";return t="font-size:"+e.size+"; font-style:"+e.fontStyle+"; font-weight:"+e.fontWeight+"; font-family:"+e.fontFamily+";opacity:"+e.opacity+"; color:"+e.color+";",t}function qk(e,t=!1){let i;return document.body.appendChild(e),i=e.getBoundingClientRect(),t?Rv(e):nk(e.id),i}function Uk(e,t,i,s,n,r){e="Logarithmic"===i.valueType?rk(e>0?e:1,i.logBase):e,t="Logarithmic"===s.valueType?rk(t>0?t:1,s.logBase):t,e=bk(e,i),t=bk(t,s);let a=n?i.rect.height:i.rect.width,o=n?s.rect.width:s.rect.height;return new SA(n?t*o:e*a,n?(1-e)*a:(1-t)*o)}function Gk(e,t,i=!1,s=!1,n="x",r="y"){if(!(e&&e.hasChildNodes()&&t))return null;Xk(!1,t,e,i,s,n,r)}function Xk(e,t,i,s,n=!1,r="x",a="y",o,l,h=!1,c=!1,d=null,u){if(e)return null;let p=t.querySelector("#"+i.id),m=p||jk(i.id),g=i,f=u||300;if(s&&n&&m)if(o=o||("DIV"===m.tagName?new SA(+m.style[r].split("px")[0],+m.style[a].split("px")[0]):new SA(+m.getAttribute(r),+m.getAttribute(a))),l&&"undefined"!==l)Ik(i,i.getAttribute("d"),s,l,f);else if(c&&d)!function(e,t,i,s,n){let r=t=>{e.setAttribute("x",t.x+""),e.setAttribute("y",t.y+""),e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")};new gw({}).animate(Sv("div"),{duration:i,delay:0,name,progress:e=>{r(new rx(Rk(e.timeStamp,n.x,s.x-n.x,e.duration),Rk(e.timeStamp,n.y,s.y-n.y,e.duration),Rk(e.timeStamp,n.width,s.width-n.width,e.duration),Rk(e.timeStamp,n.height,s.height-n.height,e.duration)))},end:()=>{r(s)}})}(g,0,f,new rx(+m.getAttribute("x"),+m.getAttribute("y"),+m.getAttribute("width"),+m.getAttribute("height")),d);else{let e="DIV"===g.tagName?new SA(+g.style[r].split("px")[0],+g.style[a].split("px")[0]):new SA(+g.getAttribute(r),+g.getAttribute(a));cA(g,f,o,e,r,a)}else s&&n&&!m&&h&&Bk(g,0,600,"FadeIn");p?t.replaceChild(g,m):t.appendChild(g)}function Zk(e,t,i,s,n){let r=Math.abs(e-i),a=Math.abs(t-s),o=Math.max($k(Math.min(e,i),r,n.x,n.width),n.x),l=Math.max($k(Math.min(t,s),a,n.y,n.height),n.y);return new rx(o,l,Math.min(r,n.width),Math.min(a,n.height))}function $k(e,t,i,s){return e<i?e=i:e+t>s+i&&(e=s+i-t),e}function Kk(e,t,i){let s=t.yAxis.labelFormat,n=[],r=null!==s.match("{value}");switch(t.seriesType){case"XY":"PolarRadar"===t.chart.chartAreaType?-1!==t.drawType.indexOf("Stacking")?("Logarithmic"===t.yAxis.valueType&&hk(t.stackedValues.endValues[e.index],t.yAxis)||lk(t.stackedValues.endValues[e.index],t.yAxis.visibleRange))&&n.push(e.text||e.yValue.toString()):("Logarithmic"===t.yAxis.valueType&&hk(e.yValue,t.yAxis)||lk(e.yValue,t.yAxis.visibleRange))&&n.push(e.text||e.yValue.toString()):n.push(e.text||e.yValue.toString());break;case"HighLow":n.push(e.text||Math.max(e.high,e.low).toString()),n.push(e.text||Math.min(e.high,e.low).toString());break;case"HighLowOpenClose":n.push(e.text||Math.max(e.high,e.low).toString()),n.push(e.text||Math.min(e.high,e.low).toString()),n.push(e.text||Math.max(e.open,e.close).toString()),n.push(e.text||Math.min(e.open,e.close).toString());break;case"BoxPlot":n.push(e.text||e.median.toString()),n.push(e.text||e.maximum.toString()),n.push(e.text||e.minimum.toString()),n.push(e.text||e.upperQuartile.toString()),n.push(e.text||e.lowerQuartile.toString());for(let t of e.outliers)n.push(e.text||t.toString())}if(s&&!e.text){t.yAxis.format=i.intl.getNumberFormat({format:r?"":s,useGrouping:i.useGroupingSeparator});for(let e=0;e<n.length;e++)n[e]=r?s.replace("{value}",t.yAxis.format(parseFloat(n[e]))):t.yAxis.format(parseFloat(n[e]))}return n}function Qk(e){window.clearInterval(e)}function Jk(e,t,i){let s,n=new rx(e.x+i.x,e.y+i.y,e.width,e.height);return s=t.some(e=>n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.height+n.y>e.y),s}function eA(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.height+e.y>t.y}function tA(e,t,i){return new rx(e.x-t.width/2-i.left,e.y-t.height/2-i.top,t.width+i.left+i.right,t.height+i.top+i.bottom)}function iA(e){let t=e.toString(16);return 1===t.length?"0"+t:t}function sA(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?new EA(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)):new EA(255,255,255)}function nA(e){let t;e="transparent"===e?"white":e,document.body.appendChild(Sv("text",{id:"chartmeasuretext"})),t=document.getElementById("chartmeasuretext"),t.style.color=e,e=window.getComputedStyle(t).color,Rv(t);let i=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/.exec(e);return"#"+iA((s=new EA(parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10))).r)+iA(s.g)+iA(s.b);var s}function rA(e,t){(e=(e=nA(e)).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;let i,s="#";for(let n=0;n<3;n++)i=parseInt(e.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)),s+=("00"+i.toString(16)).substr(i.toString(16).length);return s}function aA(e){let t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}function oA(e,t,i){let s=t,n=ix(t,i).width;if(n>e)for(let r=t.length-1;r>=0;--r)if(s=t.substring(0,r)+"...",n=ix(s,i).width,n<=e)return s;return s}function lA(e,t){return null!=e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function hA(e,t,i,s){if(!e)return null;let n=jk(t);return n&&i&&s.setElementAttributes(i,"clipPath"===n.tagName?n.childNodes[0]:n),n}function cA(e,t,i,s,n="x",r="y"){let a="DIV"===e.tagName,o=(t,i)=>{a?(e.style[n]=t+"px",e.style[r]=i+"px"):(e.setAttribute(n,t+""),e.setAttribute(r,i+""))};o(i.x,i.y),new gw({}).animate(Sv("div"),{duration:t,progress:e=>{o(Rk(e.timeStamp,i.x,s.x-i.x,e.duration),Rk(e.timeStamp,i.y,s.y-i.y,e.duration))},end:()=>{o(s.x,s.y)}})}function dA(e,t,i,s,n,r=!1,a,o,l=!1,h,c,d,u,p){let m,g,f,y,b,v,w={};if(w={id:t.id,x:t.x,y:t.y,fill:s||"black","font-size":i.size,"font-style":i.fontStyle,"font-family":i.fontFamily,"font-weight":i.fontWeight,"text-anchor":t.anchor,labelRotation:t.labelRotation,transform:t.transform,opacity:i.opacity,"dominant-baseline":t.baseLine},f="string"==typeof t.text?t.text:r?t.text[t.text.length-1]:t.text[0],m=e.createText(w,f,c?c.x:0,c?c.y:0),"string"!=typeof t.text&&t.text.length>1)for(let x=1,_=t.text.length;x<_;x++)y=ix(t.text[x],i).height,b=t.y+(r?-x*y:x*y),v=r?t.text[t.text.length-(x+1)]:t.text[x],p?g=e.createText(w,v,null,null,b,!0):(g=e.createTSpan({x:t.x,id:t.id,y:b},v),m.appendChild(g));return u||Xk(e instanceof tx,n,m,a,o,"x","y",null,null,l,!1,null,h),m}function uA(e){let t=e.element.clientWidth||e.element.offsetWidth,i=e.element.clientHeight;e.stockChart&&(t=e.stockChart.element.clientWidth);let s,n=450;if("rangeNavigator"===e.getModuleName()){let t=e,i=t.periodSelectorSettings.periods.length?t.periodSelectorSettings.height:0;s=t.margin.top+t.margin.bottom+(t.tooltip.enable?35:0);let r=ix("tempString",t.labelStyle).height,a=15;n=(e.series.length?Kv.isDevice?80:120:(t.enableGrouping?40+a+r:40)+s)+i,t.disableRangeSelector&&(n=i)}e.availableSize=new nx(lA(e.width,t)||t||600,lA(e.height,i)||i||n)}function pA(e,t,i){let s=[];switch(t.textOverflow){case"Wrap":s=gA(e,i,t);break;case"Trim":s.push(oA(i,e,t));break;default:s.push(e)}return s}function mA(e,t){let i;return i="Near"===t.textAlignment?e.x:"Center"===t.textAlignment?e.x+e.width/2:e.x+e.width,i}function gA(e,t,i){let s,n=e.split(" "),r="",a=[];for(let o=0,l=n.length;o<l;o++)s=n[o],ix(r.concat(s),i).width<t?r=r.concat((""===r?"":" ")+s):""!==r?(a.push(oA(t,r,i)),r=s):(a.push(oA(t,s,i)),s=""),r&&o===l-1&&a.push(oA(t,r,i));return a}function fA(e,t){let i=e.replace(t," "),s=e.match(t),n=" ",r=" ",a=0,o={0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089"},l={0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079"};for(let h=0;h<=i.length-1;h++)if(" "===i[h]){n=s[a].replace(t===zD?/~/g:/\^/g,"");for(let e=0;e<n.length;e++)r+=t===zD?o[n[e]]:l[n[e]];a++}else r+=i[h];return r.trim()}function yA(e){for(let t=0;t<e.annotations.length;t++)nv((e.element.id+"_Annotation_"+t).replace(/[^a-zA-Z0-9]/g,""));nv(e.element.id+"_tooltipparent_template_blazorTemplate"),nv(e.element.id+"_DataLabel")}class bA{constructor(e,t){this.startValues=e,this.endValues=t}}class vA extends ux{constructor(e,t,i,s,n,r,a,o,l){super(e,t,i.width,i.color,s,l),this.y=n.y,this.x=n.x,this.height=n.height,this.width=n.width,this.rx=r||0,this.ry=a||0,this.transform=o||"",this.stroke=0!==i.width&&""!==this.stroke?i.color:"transparent"}}class wA{constructor(e,t,i,s,n,r,a,o){this.height=e,this.width=t,this.href=i,this.x=s,this.y=n,this.id=r,this.visibility=a,this.preserveAspectRatio=o}}class xA extends ux{constructor(e,t,i,s,n,r,a){super(e,t,i.width,i.color,s),this.cy=r,this.cx=n,this.r=a}}class _A{constructor(e,t,i){this.id=e,this.points=t,this.fill=i}}class SA{constructor(e,t){this.x=e,this.y=t}}class CA{constructor(e,t,i,s){this.left=e,this.right=t,this.top=i,this.bottom=s}}class EA{constructor(e,t,i){this.r=e,this.g=t,this.b=i}}class DA{constructor(e,t,i=0){this.point=e,this.series=t,this.lierIndex=i}}class kA{constructor(e,t,i=0){this.point=e,this.series=t}}class AA{constructor(e,t){this.controlPoint1=e,this.controlPoint2=t}}class MA{constructor(e){this.currentPoints=[],this.previousPoints=[],this.insideRegion=!1,this.chart=e,this.lierIndex=0}getData(){let e,t,i,s,n=this.chart,r=null,a=null;for(let o=n.visibleSeries.length-1;o>=0;o--){if(a=n.visibleSeries[o],e="Scatter"===a.type||"Scatter"===a.drawType||!a.isRectSeries&&a.marker.visible?(a.marker.height+5)/2:0,t="Scatter"===a.type||"Scatter"===a.drawType||!a.isRectSeries&&a.marker.visible?(a.marker.width+5)/2:0,i=n.mouseX,s=n.mouseY,a.dragSettings.enable&&a.isRectSeries)if("Bar"===a.type&&n.isTransposed||!n.isTransposed&&"Bar"!==a.type){let e=a.marker.height/2;s=a.yAxis.isInversed?s-e:s+e}else{let e=a.marker.width/2;i=a.yAxis.isInversed?i+e:i-e}if(a.visible&&Ek(i,s,a.clipRect,e,t)&&(r=this.getRectPoint(a,a.clipRect,i,s)),r)return new DA(r,a)}return new DA(r,a)}isSelected(e){return(e.selectionMode.indexOf("Drag")>-1||e.selectionMode.indexOf("Lasso")>-1)&&e.selectionModule&&null!==e.selectionModule.rectPoints}getRectPoint(e,t,i,s){let n,r,a,o,l,h,c=0;if(this.chart.isScrolling)return null;for(let d of e.points)if(d.regionData||d.regions&&d.regions.length){if(d.regionData&&"PolarRadar"===this.chart.chartAreaType&&e.drawType.indexOf("Column")>-1&&(n=i-(e.clipRect.width/2+e.clipRect.x),r=s-(e.clipRect.height/2+e.clipRect.y),c=2*Math.PI*(d.regionData.currentXPosition<0?1+d.regionData.currentXPosition:d.regionData.currentXPosition),a=(Math.atan2(r,n)+.5*Math.PI-c)%(2*Math.PI),a=a<0?2*Math.PI+a:a,a+=2*Math.PI*e.chart.primaryXAxis.startAngle,o=d.regionData.startAngle,o-=c,o=o<0?2*Math.PI+o:o,l=d.regionData.endAngle,l-=c,l=l<0?2*Math.PI+l:l,h=Math.sqrt(Math.pow(Math.abs(n),2)+Math.pow(Math.abs(r),2)),a>=o&&a<=l&&(h>=d.regionData.innerRadius&&h<=d.regionData.radius||h<=d.regionData.innerRadius&&h>=d.regionData.radius)&&h<=e.chart.radius))return d;if(e.dragSettings.enable&&e.isRectSeries&&this.rectRegion(i,s,d,t,e))return this.insideRegion=!0,d;if(!this.insideRegion&&this.checkRegionContainsPoint(d.regions,t,i,s))return d;if(this.insideRegion&&this.checkRegionContainsPoint(d.regions,t,i,s))return d}return null}checkRegionContainsPoint(e,t,i,s){return e.some((e,n)=>(this.lierIndex=n,Ek(i,s,new rx(("Cartesian"===this.chart.chartAreaType?t.x:0)+e.x,("Cartesian"===this.chart.chartAreaType?t.y:0)+e.y,e.width,e.height))))}rectRegion(e,t,i,s,n){let r,a="Bar"===n.type,o=n.yAxis.isInversed,l=n.chart.isTransposed,h=0,c=0,d=r=20;return o&&l?a?(h=i.regions[0].height-10,r=i.regions[0].width):(c=-10,d=i.regions[0].height):o||i.yValue<0?a?(c=-10,d=i.regions[0].height):(h=i.regions[0].height-10,r=i.regions[0].width):l?a?(h=-10,r=i.regions[0].width):(c=i.regions[0].width-10,d=i.regions[0].height):a?(c=i.regions[0].width-10,d=i.regions[0].height):(h=-10,r=i.regions[0].width),i.regions.some(i=>Ek(e,t,new rx(("Cartesian"===this.chart.chartAreaType?s.x:0)+i.x+c,("Cartesian"===this.chart.chartAreaType?s.y:0)+i.y+h,r,d)))}getClosest(e,t){let i,s=e.xData;if(t>=e.xMin-.5&&t<=e.xMax+.5)for(let n of s)(null==i||Math.abs(n-t)<Math.abs(i-t))&&(i=n);return i}getClosestX(e,t){let i,s=t.clipRect;i=e.requireInvertedAxis?kk(e.mouseY-s.y,s.height,t.xAxis):Dk(e.mouseX-s.x,s.width,t.xAxis);let n=this.getClosest(t,i);for(let r of t.points)if(n===r.xValue&&r.visible)return new DA(r,t);return null}}let LA=(()=>{class e extends Sw{}return Wy([lw(!1)],e.prototype,"visible",void 0),Wy([lw(null)],e.prototype,"name",void 0),Wy([lw("transparent")],e.prototype,"fill",void 0),Wy([lw(1)],e.prototype,"opacity",void 0),Wy([lw(0)],e.prototype,"angle",void 0),Wy([lw(!1)],e.prototype,"enableRotation",void 0),Wy([lw("Auto")],e.prototype,"position",void 0),Wy([lw(5)],e.prototype,"rx",void 0),Wy([lw(5)],e.prototype,"ry",void 0),Wy([lw("Center")],e.prototype,"alignment",void 0),Wy([hw({width:null,color:null},AD)],e.prototype,"border",void 0),Wy([hw({left:5,right:5,top:5,bottom:5},LD)],e.prototype,"margin",void 0),Wy([hw({size:"11px",color:"",fontStyle:"Normal",fontWeight:"Normal",fontFamily:"Segoe UI"},kD)],e.prototype,"font",void 0),Wy([lw(null)],e.prototype,"template",void 0),Wy([lw("Hide")],e.prototype,"labelIntersectAction",void 0),e})(),TA=(()=>{class e extends Sw{}return Wy([lw(!1)],e.prototype,"visible",void 0),Wy([lw("Circle")],e.prototype,"shape",void 0),Wy([lw("")],e.prototype,"imageUrl",void 0),Wy([lw(5)],e.prototype,"height",void 0),Wy([lw(5)],e.prototype,"width",void 0),Wy([hw({width:2,color:null},AD)],e.prototype,"border",void 0),Wy([hw({x:0,y:0},MD)],e.prototype,"offset",void 0),Wy([lw(null)],e.prototype,"fill",void 0),Wy([lw(1)],e.prototype,"opacity",void 0),Wy([hw({},LA)],e.prototype,"dataLabel",void 0),e})();class RA{constructor(){this.symbolLocations=null,this.regions=null,this.percentage=null,this.regionData=null,this.isSelect=!1,this.marker={visible:!1},this.isPointInRange=!0}}let PA=(()=>{class e extends Sw{constructor(){super(...arguments),this.clipRect=new rx(0,0,0,0)}setDataSource(e,t){e&&(this.points=e.points),Mk(this.type),t.trendLineModule.initDataSource(this,t),t.visibleSeriesCount++}}return Wy([lw("")],e.prototype,"name",void 0),Wy([lw("0")],e.prototype,"dashArray",void 0),Wy([lw(!0)],e.prototype,"visible",void 0),Wy([lw("Linear")],e.prototype,"type",void 0),Wy([lw(2)],e.prototype,"period",void 0),Wy([lw(2)],e.prototype,"polynomialOrder",void 0),Wy([lw(0)],e.prototype,"backwardForecast",void 0),Wy([lw(0)],e.prototype,"forwardForecast",void 0),Wy([hw({},TD)],e.prototype,"animation",void 0),Wy([hw({},TA)],e.prototype,"marker",void 0),Wy([lw(!0)],e.prototype,"enableTooltip",void 0),Wy([lw(null)],e.prototype,"intercept",void 0),Wy([lw("")],e.prototype,"fill",void 0),Wy([lw(1)],e.prototype,"width",void 0),Wy([lw("SeriesType")],e.prototype,"legendShape",void 0),e})(),IA=(()=>{class e extends Sw{}return Wy([lw(1)],e.prototype,"width",void 0),Wy([lw(10)],e.prototype,"length",void 0),Wy([lw(null)],e.prototype,"color",void 0),Wy([lw(1)],e.prototype,"opacity",void 0),e})(),OA=(()=>{class e extends Sw{}return Wy([lw(null)],e.prototype,"value",void 0),Wy([lw(null)],e.prototype,"color",void 0),Wy([lw("0")],e.prototype,"dashArray",void 0),e})(),NA=(()=>{class e extends Sw{}return Wy([lw(!1)],e.prototype,"visible",void 0),Wy([lw("Fixed")],e.prototype,"type",void 0),Wy([lw("Both")],e.prototype,"direction",void 0),Wy([lw("Vertical")],e.prototype,"mode",void 0),Wy([lw(null)],e.prototype,"color",void 0),Wy([lw(1)],e.prototype,"verticalError",void 0),Wy([lw(1)],e.prototype,"width",void 0),Wy([lw(1)],e.prototype,"horizontalError",void 0),Wy([lw(3)],e.prototype,"verticalPositiveError",void 0),Wy([lw(3)],e.prototype,"verticalNegativeError",void 0),Wy([lw(1)],e.prototype,"horizontalPositiveError",void 0),Wy([lw(1)],e.prototype,"horizontalNegativeError",void 0),Wy([hw(null,IA)],e.prototype,"errorBarCap",void 0),e})(),VA=(()=>{class e extends Sw{constructor(){super(...arguments),this.currentViewData=[],this.clipRect=new rx(0,0,0,0),this.seriesType="XY"}processJsonData(){let e=0,t=new RA,i=this instanceof FA&&"Histogram"===this.type?"x":this.xName,s=this instanceof FA&&this.marker.dataLabel.name?this.marker.dataLabel.name:"";this instanceof FA&&("Waterfall"!==this.type&&"Histogram"!==this.type||(this.currentViewData=this.chart[Mk(this.type)+"SeriesModule"].processInternalData(Ky([],this.currentViewData,null,!0),this)),"Pareto"===this.category&&(this.currentViewData=function(e,t,i){let s=Ky([],e,null);return s.sort((e,i)=>{let s=0,n=0;for(let r=0;r<t.length;r++)s+=e[t[r]],n+=i[t[r]];return s>n?-1:s===n?0:1}),s}(Ky([],this.currentViewData,null,!0),[this.yName]),"Line"===this.type&&(this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this))));let n=Object.keys(this.currentViewData).length;if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,this.getSeriesType(),"Category"===this.xAxis.valueType)for(;e<n;)t=this.dataPoint(e,s,i),this.pushCategoryData(t,e,t.x),this.pushData(t,e),this.setEmptyPoint(t,e),e++;else if(this.xAxis.valueType.indexOf("DateTime")>-1){let r={skeleton:"full",type:"dateTime"},a=this.chart.intl.getDateParser(r),o=this.chart.intl.getDateFormat(r);for(;e<n;)t=this.dataPoint(e,s,i),Qy(t.x)||""===t.x?t.visible=!1:(t.x=new Date(xx.parse.parseJson({val:t.x}).val),"DateTime"===this.xAxis.valueType?t.xValue=Date.parse(t.x.toString()):this.pushCategoryData(t,e,Date.parse(a(o(t.x))).toString()),this.pushData(t,e),this.setEmptyPoint(t,e)),e++}else for(;e<n;)t=this.dataPoint(e,s,i),t.xValue=t.x,this.pushData(t,e),this.setEmptyPoint(t,e),e++;if(this instanceof FA&&(this.type.indexOf("Spline")>-1||this.drawType.indexOf("Spline")>-1&&"PolarRadar"===this.chart.chartAreaType)){let e=this.type.indexOf("Area")>-1||this.drawType.indexOf("Area")>-1;this.chart["spline"+(e?"Area":"")+"SeriesModule"].findSplinePoint(this)}}pushData(e,t){e.index=t,e.yValue=e.y,this.xMin=Math.min(this.xMin,e.xValue),this.xMax=Math.max(this.xMax,e.xValue),this.xData.push(e.xValue)}dataPoint(e,t,i){let s;this.points[e]=new RA,s=this.points[e];let n=this.currentViewData,r=this.enableComplexProperty?Gy:this.getObjectValue;return s.x=r(i,n[e]),s.high=r(this.high,n[e]),s.low=r(this.low,n[e]),s.open=r(this.open,n[e]),s.close=r(this.close,n[e]),s.volume=r(this.volume,n[e]),s.interior=r(this.pointColorMapping,n[e]),this instanceof FA&&(s.y=r(this.yName,n[e]),s.size=r(this.size,n[e]),s.text=r(t,n[e]),s.tooltip=r(this.tooltipMappingName,n[e])),s}getObjectValue(e,t){return t[e]}setEmptyPoint(e,t){if(!this.findVisibility(e))return e.visible=!0,null;switch(e.isEmpty=!0,this instanceof FA&&e.isPointInRange?this.emptyPointSettings.mode:"Drop"){case"Zero":e.visible=!0,this instanceof FA&&this.seriesType.indexOf("HighLow")>-1?(e.high=e.low=0,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=e.close=0)):e.y=e.yValue=this.yData[t]=0;break;case"Average":this instanceof FA&&(this.seriesType.indexOf("HighLow")>-1?(e.high=Qy(e.high)||isNaN(+e.high)?this.getAverage(this.high,t):e.high,e.low=Qy(e.low)||isNaN(+e.low)?this.getAverage(this.low,t):e.low,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=Qy(e.open)||isNaN(+e.open)?this.getAverage(this.open,t):e.open,e.close=Qy(e.close)||isNaN(+e.close)?this.getAverage(this.close,t):e.close)):e.y=e.yValue=this.yData[t]=this.getAverage(this.yName,t)),e.visible=!0;break;case"Drop":case"Gap":this.yData[t]=null,e.visible=!1}}findVisibility(e){let t,i=this.yAxis.minimum,s=this.yAxis.maximum;switch(this instanceof FA?this.seriesType:"HighLowOpenClose"){case"XY":return"PolarRadar"===this.chart.chartAreaType&&(!Qy(i)&&e.yValue<i||!Qy(s)&&e.yValue>s)?(e.isPointInRange=!1,!0):(this.setXYMinMax(e.yValue),this.yData.push(e.yValue),this instanceof FA&&"Bubble"===this.type&&(this.sizeMax=Math.max(this.sizeMax,Qy(e.size)||isNaN(+e.size)?this.sizeMax:e.size)),Qy(e.x)||Qy(e.y)||isNaN(+e.y));case"HighLow":return this.setHiloMinMax(e.high,e.low),Qy(e.x)||Qy(e.low)||isNaN(+e.low)||Qy(e.high)||isNaN(+e.high);case"HighLowOpenClose":return this.setHiloMinMax(e.high,e.low),Qy(e.x)||Qy(e.low)||isNaN(+e.low)||Qy(e.open)||isNaN(+e.open)||Qy(e.close)||isNaN(+e.close)||Qy(e.high)||isNaN(+e.high);case"BoxPlot":return t=(e.y||[null]).filter(e=>!Qy(e)&&!isNaN(e)).sort((e,t)=>e-t),e.y=t,this.yMin=Math.min(this.yMin,Math.min(...t)),this.yMax=Math.max(this.yMax,Math.max(...t)),!t.length}}setXYMinMax(e){this.yMin=Math.min(this.yMin,Qy(e)||isNaN(e)?this.yMin:e),this.yMax=Math.max(this.yMax,Qy(e)||isNaN(e)?this.yMax:e)}setHiloMinMax(e,t){this.yMin=Math.min(this.yMin,Math.min(Qy(t)||isNaN(t)?this.yMin:t,Qy(e)||isNaN(e)?this.yMin:e)),this.yMax=Math.max(this.yMax,Math.max(Qy(t)||isNaN(t)?this.yMax:t,Qy(e)||isNaN(e)?this.yMax:e))}getSeriesType(){let e;if(this instanceof FA){let t="PolarRadar"===this.chart.chartAreaType?this.drawType:this.type;if(t)switch(t){case"RangeColumn":case"RangeArea":case"Hilo":e="HighLow";break;case"HiloOpenClose":case"Candle":e="HighLowOpenClose";break;case"BoxAndWhisker":e="BoxPlot";break;default:e="XY"}}this.seriesType=e}pushCategoryData(e,t,i){if(!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[t]?this.xAxis.labels[t]+=", "+i:this.xAxis.labels.push(i),e.xValue=t):(this.xAxis.labels.indexOf(i)<0&&this.xAxis.labels.push(i),e.xValue=this.xAxis.labels.indexOf(i))}getAverage(e,t,i=this.currentViewData){return((i[t-1]&&i[t-1][e]||0)+(i[t+1]&&i[t+1][e]||0))/2}refreshDataManager(e){this.chart=e;let t=this.dataSource||e.dataSource;t instanceof Ax||!Qy(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then(e=>this.dataManagerSuccess(e)):this.dataManagerSuccess({result:t,count:t.length},!1)}dataManagerSuccess(e,t=!0){if(this.currentViewData=e.count?e.result:[],this.chart.allowServerDataBinding=!1,this instanceof FA){this.chart.stockChart&&(this.chart.stockChart.series[this.index].localData=this.currentViewData);let e={name:"seriesRender",series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger("seriesRender",e),this.interior=e.fill,this.currentViewData=e.data}!this.chart.stockChart||this instanceof FA||(this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName)),this.processJsonData(),this.recordsCount=e.count,this.refreshChart(t),this.currentViewData=null}refreshChart(e){let t=this.chart;if(this instanceof FA&&(t.visibleSeriesCount+=e?1:0),t.refreshTechnicalIndicator(this),this instanceof FA&&"TrendLine"!==this.category)for(let i of this.trendlines)i.setDataSource(this,t);t.visibleSeries.length===t.visibleSeriesCount&&(t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t}),this.chart.stockChart&&this.chart.stockChart.initialRender&&(this.chart.stockChart.stockChartDataManagerSuccess(),this.chart.stockChart.initialRender=!1)),this instanceof FA&&(t.visibleSeriesCount+=e?0:1)}}return Wy([lw("")],e.prototype,"xName",void 0),Wy([lw("")],e.prototype,"high",void 0),Wy([lw("")],e.prototype,"low",void 0),Wy([lw("")],e.prototype,"open",void 0),Wy([lw("")],e.prototype,"close",void 0),Wy([lw("")],e.prototype,"volume",void 0),Wy([lw("")],e.prototype,"pointColorMapping",void 0),Wy([lw(!0)],e.prototype,"visible",void 0),Wy([lw(null)],e.prototype,"xAxisName",void 0),Wy([lw(null)],e.prototype,"yAxisName",void 0),Wy([hw(null,TD)],e.prototype,"animation",void 0),Wy([lw(null)],e.prototype,"fill",void 0),Wy([lw(1)],e.prototype,"width",void 0),Wy([lw("0")],e.prototype,"dashArray",void 0),Wy([lw("")],e.prototype,"dataSource",void 0),Wy([lw()],e.prototype,"query",void 0),Wy([cw([],OA)],e.prototype,"segments",void 0),Wy([lw("X")],e.prototype,"segmentAxis",void 0),Wy([lw(!1)],e.prototype,"enableComplexProperty",void 0),e})(),FA=(()=>{class e extends VA{constructor(e,t,i,s){super(e,t,i,s),this.visibleSeriesCount=0,this.category="Series",this.isRectSeries=!1,this.drawPoints=[],this.delayedAnimation=!1}refreshAxisLabel(){if("Category"!==this.xAxis.valueType)return null;this.xAxis.labels=[];for(let e of this.xAxis.series)if(e.visible&&"TrendLine"!==e.category){e.xMin=1/0,e.xMax=-1/0;for(let t of e.points)e.pushCategoryData(t,t.index,t.x),e.xMin=Math.min(e.xMin,t.xValue),e.xMax=Math.max(e.xMax,t.xValue)}}findSeriesCollection(e,t,i){let s=[];for(let n of t.axes)for(let t of n.series)for(let n of e.axes)for(let e of n.series)e===t&&e.visible&&this.rectSeriesInChart(e,i)&&s.push(e);return s}rectSeriesInChart(e,t){let i=e.type.toLowerCase();return-1!==i.indexOf("column")||-1!==i.indexOf("bar")||-1!==i.indexOf("histogram")||-1!==i.indexOf("hiloopenclose")||-1!==i.indexOf("candle")||-1!==i.indexOf("pareto")||-1!==i.indexOf("hilo")||-1!==e.drawType.indexOf("Column")||-1!==i.indexOf("waterfall")||-1!==i.indexOf("boxandwhisker")||t}calculateStackedValue(e,t){for(let i of t.columns)for(let s of t.rows)this.calculateStackingValues(this.findSeriesCollection(i,s,!0),e)}calculateStackingValues(e,t){let i,s,n,r,a,o=[],l=[],h=[],c=[];t&&(c=this.findFrequencies(e));let d=[],u=[],p=[];for(let m of e)if(-1!==m.type.indexOf("Stacking")||-1!==m.drawType.indexOf("Stacking")&&"PolarRadar"===m.chart.chartAreaType){n=-1!==m.type.indexOf("StackingArea")?"StackingArea100":-1!==m.type.indexOf("StackingLine")?"StackingLine100":m.stackingGroup,l[n]||(l[n]=[],h[n]=[]),o=m.yData,i=[],s=[],d.push(m),p=sk(m);for(let e=0,d=p.length;e<d;e++)r=0,a=+o[e],void 0===l[n][p[e].xValue]&&(l[n][p[e].xValue]=0),void 0===h[n][p[e].xValue]&&(h[n][p[e].xValue]=0),t?(a=a/c[n][p[e].xValue]*100,a=isNaN(a)?0:a,p[e].percentage=+a.toFixed(2)):u[e]=u[e]?u[e]+Math.abs(a):Math.abs(a),a>=0?(r=l[n][p[e].xValue],l[n][p[e].xValue]+=a):(r=h[n][p[e].xValue],h[n][p[e].xValue]+=a),i.push(r),s.push(a+r),t&&s[e]>100&&(s[e]=100);m.stackedValues=new bA(i,s),m.yMin=Math.min.apply(0,i),m.yMax=Math.max.apply(0,s),m.yMin>Math.min.apply(0,s)&&(m.yMin=t?-100:Math.min.apply(0,s)),m.yMax<Math.max.apply(0,i)&&(m.yMax=0)}this.findPercentageOfStacking(d,u,t)}findPercentageOfStacking(e,t,i){for(let s of e){if(i)return null;for(let e of sk(s))e.percentage=Math.abs(+(e.y/t[e.index]*100).toFixed(2))}}findFrequencies(e){let t,i=[],s=[];for(let n of e)if(n.yAxis.isStack100=-1!==n.type.indexOf("100"),s=sk(n),-1!==n.type.indexOf("Stacking")){t=-1!==n.type.indexOf("StackingArea")?"StackingArea100":-1!==n.type.indexOf("StackingLine")?"StackingLine100":n.stackingGroup,i[t]||(i[t]=[]);for(let e=0,r=s.length;e<r;e++)void 0===i[t][s[e].xValue]&&(i[t][s[e].xValue]=0),n.yData[e]>0?i[t][s[e].xValue]+=n.yData[e]:i[t][s[e].xValue]-=n.yData[e]}return i}renderSeries(e){let t=Mk(this.type);t=t.replace("100",""),e[t+"SeriesModule"]&&("Indicator"!==this.category&&"TrendLine"!==this.category&&this.createSeriesElements(e),this.visiblePoints=sk(this),e[t+"SeriesModule"].render(this,this.xAxis,this.yAxis,e.requireInvertedAxis),"Indicator"!==this.category&&(this.errorBar.visible&&this.chart.errorBarModule.render(this),this.marker.dataLabel.visible&&e.dataLabelModule.render(this,this.chart,this.marker.dataLabel),this.appendSeriesElement(e.seriesElements,e)),this.chart.enableCanvas||this.performAnimation(e,t,this.errorBar,this.marker,this.marker.dataLabel))}createSeriesElements(e){if("Indicator"!==this.category){let t,i,s=e.element.id,n=this.marker.border.width+8+5,r="Scatter"===this.type||"Bubble"===this.type?e.svgRenderer:e.renderer,a=void 0===this.index?this.category:this.index,o="Scatter"===this.type?(this.marker.height+n)/2:0,l="Scatter"===this.type?(this.marker.width+n)/2:0;if("PolarRadar"===e.chartAreaType){let i="Scatter"===this.drawType?Math.max(this.marker.width,this.marker.height):0;t=new xA(s+"_ChartSeriesClipRect_"+a,"transparent",{width:1,color:"Gray"},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,e.radius+i),this.clipRectElement=Ok(e.redraw,t,r,"drawCircularClipPath")}else t=new vA(s+"_ChartSeriesClipRect_"+a,"transparent",{width:1,color:"Gray"},1,{x:-l,y:-o,width:this.clipRect.width+2*l,height:this.clipRect.height+2*o}),this.clipRectElement=Ok(e.redraw,t,r);i="Cartesian"===e.chartAreaType?"translate("+this.clipRect.x+","+this.clipRect.y+")":"",this.symbolElement=null,this.seriesElement=r.createGroup({id:s+"SeriesGroup"+a,transform:i,"clip-path":"url(#"+s+"_ChartSeriesClipRect_"+a+")"}),this.chart.enableCanvas&&"Scatter"!==this.type&&"Bubble"!==this.type||this.seriesElement.appendChild(this.clipRectElement)}}appendSeriesElement(e,t){let i=this.marker,s=i.dataLabel,n=t.redraw;"TrendLine"!==this.category&&(Xk(t.enableCanvas,t.seriesElements,this.seriesElement,n),this.errorBar.visible&&Xk(t.enableCanvas,t.seriesElements,"PolarRadar"===t.chartAreaType?this.seriesElement:this.errorBarElement,n),"Scatter"!==this.type&&"Bubble"!==this.type||Xk(!1,t.seriesElements,this.seriesElement,n)),i.visible&&("Cartesian"===t.chartAreaType||"Scatter"!==this.drawType&&"PolarRadar"===t.chartAreaType)&&"Scatter"!==this.type&&"Bubble"!==this.type&&"Candle"!==this.type&&"Hilo"!==this.type&&"HiloOpenClose"!==this.type&&Xk(t.enableCanvas,t.seriesElements,this.symbolElement,n),s.visible&&(Xk(t.enableCanvas,t.dataLabelElements,this.shapeElement,n),Xk(t.enableCanvas,t.dataLabelElements,this.textElement,n)),!t.enableCanvas&&t.dataLabelElements.hasChildNodes()&&t.seriesElements.appendChild(t.dataLabelElements)}performAnimation(e,t,i,s,n){this.animation.enable&&e.animateSeries&&(e[t+"SeriesModule"].doAnimation(this),i.visible&&e.errorBarModule.doErrorBarAnimation(this),s.visible&&e.markerRender.doMarkerAnimation(this),n.visible&&"edge"!==Kv.info.name&&!Kv.isIE&&e.dataLabelModule.doDataLabelAnimation(this))}setPointColor(e,t){return t=e.interior||t,e.isEmpty&&this.emptyPointSettings.fill||t}setBorderColor(e,t){return t.width=e.isEmpty&&this.emptyPointSettings.border.width||t.width,t.color=e.isEmpty&&this.emptyPointSettings.border.color||t.color,t}}return Wy([lw("")],e.prototype,"name",void 0),Wy([lw("")],e.prototype,"yName",void 0),Wy([lw("Line")],e.prototype,"drawType",void 0),Wy([lw(!0)],e.prototype,"isClosed",void 0),Wy([lw("#2ecd71")],e.prototype,"bearFillColor",void 0),Wy([lw("#e74c3d")],e.prototype,"bullFillColor",void 0),Wy([lw(!1)],e.prototype,"enableSolidCandles",void 0),Wy([lw("")],e.prototype,"size",void 0),Wy([lw(null)],e.prototype,"binInterval",void 0),Wy([lw(!1)],e.prototype,"showNormalDistribution",void 0),Wy([lw("")],e.prototype,"stackingGroup",void 0),Wy([hw({color:"transparent",width:0},AD)],e.prototype,"border",void 0),Wy([lw(1)],e.prototype,"opacity",void 0),Wy([lw(0)],e.prototype,"zOrder",void 0),Wy([lw("Line")],e.prototype,"type",void 0),Wy([hw(null,NA)],e.prototype,"errorBar",void 0),Wy([hw(null,TA)],e.prototype,"marker",void 0),Wy([hw({},ND)],e.prototype,"dragSettings",void 0),Wy([cw([],PA)],e.prototype,"trendlines",void 0),Wy([lw(!0)],e.prototype,"enableTooltip",void 0),Wy([lw("")],e.prototype,"tooltipFormat",void 0),Wy([lw("")],e.prototype,"tooltipMappingName",void 0),Wy([lw("SeriesType")],e.prototype,"legendShape",void 0),Wy([lw(null)],e.prototype,"selectionStyle",void 0),Wy([lw(null)],e.prototype,"unSelectedStyle",void 0),Wy([lw(null)],e.prototype,"nonHighlightStyle",void 0),Wy([lw(1)],e.prototype,"minRadius",void 0),Wy([lw(3)],e.prototype,"maxRadius",void 0),Wy([lw("Natural")],e.prototype,"splineType",void 0),Wy([lw(.5)],e.prototype,"cardinalSplineTension",void 0),Wy([hw(null,OD)],e.prototype,"emptyPointSettings",void 0),Wy([lw(!0)],e.prototype,"showMean",void 0),Wy([lw("Normal")],e.prototype,"boxPlotMode",void 0),Wy([lw(null)],e.prototype,"columnWidth",void 0),Wy([lw(0)],e.prototype,"columnSpacing",void 0),Wy([lw("#C64E4A")],e.prototype,"negativeFillColor",void 0),Wy([lw("#4E81BC")],e.prototype,"summaryFillColor",void 0),Wy([lw()],e.prototype,"intermediateSumIndexes",void 0),Wy([lw()],e.prototype,"sumIndexes",void 0),Wy([hw({color:"black",width:2},DD)],e.prototype,"connector",void 0),Wy([hw(null,PD)],e.prototype,"cornerRadius",void 0),e})();class BA{constructor(e,t){this.initDataManager(e,t)}initDataManager(e,t){this.dataManager=e instanceof Ax?e:new Ax(e),this.query=t instanceof vx?t:new vx}generateQuery(){return this.query.clone()}getData(e){if(this.dataManager.ready){let t=new Mx;return this.dataManager.ready.then(i=>{this.dataManager.executeQuery(e).then(e=>{t.resolve(e)})}).catch(e=>{t.reject(e)}),t.promise}return this.dataManager.executeQuery(e)}}let zA=(()=>{class e extends Sw{}return Wy([lw(0)],e.prototype,"x",void 0),Wy([lw(0)],e.prototype,"y",void 0),e})(),HA=(()=>{class e extends Sw{}return Wy([lw(!0)],e.prototype,"visible",void 0),Wy([lw(null)],e.prototype,"height",void 0),Wy([lw(null)],e.prototype,"width",void 0),Wy([hw({x:0,y:0},zA)],e.prototype,"location",void 0),Wy([lw("Auto")],e.prototype,"position",void 0),Wy([lw(8)],e.prototype,"padding",void 0),Wy([lw("Center")],e.prototype,"alignment",void 0),Wy([hw(ED.legendLabelFont,kD)],e.prototype,"textStyle",void 0),Wy([lw(10)],e.prototype,"shapeHeight",void 0),Wy([lw(10)],e.prototype,"shapeWidth",void 0),Wy([hw({},AD)],e.prototype,"border",void 0),Wy([hw({left:0,right:0,top:0,bottom:0},LD)],e.prototype,"margin",void 0),Wy([lw(5)],e.prototype,"shapePadding",void 0),Wy([lw("transparent")],e.prototype,"background",void 0),Wy([lw(1)],e.prototype,"opacity",void 0),Wy([lw(!0)],e.prototype,"toggleVisibility",void 0),Wy([lw(null)],e.prototype,"description",void 0),Wy([lw(3)],e.prototype,"tabIndex",void 0),e})();class jA{constructor(e){this.rowCount=0,this.columnCount=0,this.pageButtonSize=8,this.pageXCollections=[],this.maxColumns=0,this.isTrimmed=!1,this.maxWidth=0,this.currentPage=1,this.currentPageNumber=1,this.legendRegions=[],this.pagingRegions=[],this.chart=e,this.legend=e.legendSettings,this.legendID=e.element.id+"_chart_legend",this.isChartControl="chart"===e.getModuleName(),this.isBulletChartControl="bulletChart"===e.getModuleName(),this.bulletChart=this.chart}calculateLegendBounds(e,t,i){let s=this.legend;this.getPosition(s.position,t),this.legendBounds=new rx(e.x,e.y,0,0);let n=this.isBulletChartControl?"40%":"20%";this.isVertical="Left"===this.position||"Right"===this.position,this.isVertical?(this.legendBounds.height=lA(s.height,t.height-(e.y-this.chart.margin.top))||e.height,this.legendBounds.width=lA(s.width||n,t.width)):(this.legendBounds.width=lA(s.width,t.width)||e.width,this.legendBounds.height=lA(s.height||n,t.height)),this.library.getLegendBounds(t,this.legendBounds,s),this.getLocation(this.position,s.alignment,this.legendBounds,e,t,i)}getPosition(e,t){let i=this.chart,s=this.chart;this.isChartControl||this.isBulletChartControl?this.position="Auto"!==e?e:"Bottom":("Auto"===e&&((i||s).visibleSeries&&"Funnel"===(i||s).visibleSeries[0].type||"Pyramid"===(i||s).visibleSeries[0].type)&&(e="Top"),this.position="Auto"!==e?e:t.width>t.height?"Right":"Bottom")}setBounds(e,t,i,s){e=e<s.width?e:s.width,t=t<s.height?t:s.height,s.width=i.width?s.width:e,s.height=i.height?s.height:t,this.rowCount=Math.max(1,Math.ceil((s.height-i.padding)/(this.maxItemHeight+i.padding)))}getLocation(e,t,i,s,n,r){let a=this.legend.border.width,o=this.isBulletChartControl,l=this.bulletChart,h="Inside"===l.labelPosition,c="Inside"===l.tickPosition,d="Vertical"===l.orientation,u=o&&""!==l.categoryField?r.width+this.chart.border.width+3*a:0,p=i.height+a+this.legend.margin.top+this.legend.margin.bottom,m=i.width+a+this.legend.margin.left+this.legend.margin.right,g=this.chart.margin.bottom;"Bottom"===e?(i.x=this.alignLegend(i.x,n.width,i.width,t),i.y=s.y+(s.height-p)+a+this.legend.margin.top,i.y+=!o||l.opposedPosition||h||c||d?d&&""!==l.categoryField?r.height+2*a:0:l.majorTickLines.height+g+this.legend.border.width+2*a,pk(s,new CA(0,0,0,p))):"Top"===e?(i.x=this.alignLegend(i.x,n.width,i.width,t),i.y=s.y+a+this.legend.margin.top,i.y-=!o||!l.opposedPosition||h||c||d?0:l.majorTickLines.height+this.chart.margin.top,p-=o?2*-a:0,pk(s,new CA(0,0,p,0))):"Right"===e?(i.x=s.x+(s.width-i.width)-this.legend.margin.right,i.y=s.y+this.alignLegend(0,n.height-(s.y+g),i.height,t),m+=o&&l.opposedPosition&&!h&&!c&&d?this.chart.margin.left+this.chart.margin.right+l.majorTickLines.height:0,pk(s,new CA(0,m,0,0))):"Left"===e?(i.x=i.x+this.legend.margin.left,i.y=s.y+this.alignLegend(0,n.height-(s.y+g),i.height,t),m+=!o||l.opposedPosition||h||c||!d?"Vertical"!==l.orientation&&""!==l.categoryField?u:0:i.x-this.chart.margin.left+a+l.majorTickLines.height,pk(s,new CA(m,0,0,0))):(i.x=this.legend.location.x,i.y=this.legend.location.y,pk(s,new CA(0,0,0,0)))}alignLegend(e,t,i,s){switch(s){case"Far":e=t-i-e;break;case"Center":e=(t-i)/2}return e}renderLegend(e,t,i,s){let n=this.findFirstLegendPosition(this.legendCollections),r=t.padding;this.legendRegions=[],this.maxItemHeight=Math.max(this.legendCollections[0].textSize.height,t.shapeHeight);let a=e.renderer.createGroup({id:this.legendID+"_g"}),o=this.createLegendElements(e,i,a,t,this.legendID,s);if(n!==this.legendCollections.length){let s,l;l=new SA(i.x+r+t.shapeWidth/2,i.y+r+this.maxItemHeight/2);let h=new lx("",l.x,l.y,e.isRtlEnabled?"end":"start");this.totalPages=this.totalPages=this.isChartControl||this.isBulletChartControl?this.totalPages:0;let c=t.shapePadding+r+t.shapeWidth,d=0;this.pageXCollections=[],this.legendCollections[n].location=l;let u=this.legendCollections[n];for(let r of this.legendCollections)"accumulationchart"===this.chart.getModuleName()&&(r.fill=(this.chart||this.chart).visibleSeries[0].points[r.pointIndex].color),this.accessbilityText=this.isBulletChartControl?"Legend of bullet chart"+r.text:"Click to show or hide the "+r.text+" series",r.render&&""!==r.text&&(s=e.renderer.createGroup({id:this.legendID+this.generateId(r,"_g_",d)}),s&&(s.setAttribute("tabindex",t.tabIndex.toString()),s.setAttribute("aria-label",t.description||this.accessbilityText)),this.library.getRenderPoint(r,l,c,u,i,d,n),this.renderSymbol(r,s,d),this.renderText(e,r,s,h,d),s&&s.setAttribute("style","cursor: "+(!t.toggleVisibility&&("None"===e.selectionMode||"None"===e.highlightMode||"None"===e.selectionMode)||this.isBulletChartControl?"auto":"pointer")),o&&o.appendChild(s),u=r),d++;this.isPaging?this.renderPagingElements(e,i,h,a):this.totalPages=1}Xk(e.enableCanvas,e.svgObject,a,s)}findFirstLegendPosition(e){let t=0;for(let i of e){if(i.render&&""!==i.text)break;t++}return t}createLegendElements(e,t,i,s,n,r){let a=s.padding,o=new vA(n+"_element",s.background,s.border,s.opacity,t);i?i.appendChild(e.renderer.drawRectangle(o)):e.renderer.drawRectangle(o);let l=e.renderer.createGroup({id:n+"_collections"}),h=e.enableCanvas;h||i.appendChild(l),this.legendTranslateGroup=e.renderer.createGroup({id:n+"_translate_g"}),h||l.appendChild(this.legendTranslateGroup);let c=e.renderer.createClipPath({id:n+"_clipPath"});return o.y+=a,o.id+="_clipPath_rect",o.width=!this.isChartControl&&"bulletChart"!==e.getModuleName()&&this.isVertical?this.maxWidth-a:t.width,h?this.pagingClipRect=o:(this.clipRect=e.renderer.drawRectangle(o),c.appendChild(this.clipRect)),Xk(h,e.svgObject,c,r),h||l.setAttribute("style","clip-path:url(#"+c.id+")"),this.legendTranslateGroup}renderSymbol(e,t,i){let s,n=this.isBulletChartControl?this.chart:null,r=e.visible?e.fill:"#D3D3D3",a="SeriesType"===e.shape?e.type:e.shape;a="Scatter"===a?e.markerShape:a;let o="chart"===this.chart.getModuleName()&&"SeriesType"===e.shape&&e.type.toLowerCase().indexOf("line")>-1&&-1===e.type.toLowerCase().indexOf("area")?this.chart.visibleSeries[i].width:this.isBulletChartControl&&"Multiply"===e.shape?4:1,l="chart"===this.chart.getModuleName()&&("Scatter"===e.type||"Bubble"===e.type);if(l&&i<this.chart.visibleSeries.length){let e=this.chart.visibleSeries[i].border;s=e.color?e.color:r,o=e.width?e.width:1}let h,c=new ux(this.legendID+this.generateId(e,"_shape_",i),r,o,l?s:r,1,"",""),d=this.chart.enableCanvas;d?(h=-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),zk(e.location,a,new nx(this.legend.shapeWidth,this.legend.shapeHeight),"",c,0,this.chart.renderer,this.currentPageNumber?new rx(0,h,0,0):null,this.isBulletChartControl,n),this.legendRegions.push({rect:new rx(e.location.x,e.location.y,this.legend.shapeWidth,this.legend.shapeHeight+h),index:i})):t.appendChild(zk(e.location,a,new nx(this.legend.shapeWidth,this.legend.shapeHeight),"",c,0,this.chart.renderer,null,this.isBulletChartControl,n)),("Line"===a&&e.markerVisibility&&"Image"!==e.markerShape||"Doughnut"===e.type)&&(c.id=this.legendID+this.generateId(e,"_shape_marker_",i),a="Doughnut"===e.type?"Circle":e.markerShape,c.fill="Doughnut"===e.type?"#FFFFFF":c.fill,d?zk(e.location,a,new nx(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",c,0,this.chart.renderer,this.currentPageNumber?new rx(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,this.isBulletChartControl,n):t.appendChild(zk(e.location,a,new nx(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",c,0,null,null,this.isBulletChartControl,n)))}renderText(e,t,i,s,n){let r=e.legendSettings;s.id=this.legendID+this.generateId(t,"_text_",n);let a=t.visible?r.textStyle.color||e.themeStyle.legendLabel:"#D3D3D3";s.text=t.text,s.x=t.location.x+r.shapeWidth/2+r.shapePadding,s.y=t.location.y+this.maxItemHeight/4;let o=this.chart.enableCanvas,l=dA(e.renderer,s,r.textStyle,a,i,!1,!1,!1,!1,null,this.currentPageNumber&&o?new rx(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);if(l&&l.setAttribute("aria-label",r.description||this.accessbilityText),o){let e=ix(s.text,r.textStyle);this.legendRegions[n].rect.y=s.y<this.legendRegions[n].rect.y?s.y:this.legendRegions[n].rect.y,this.legendRegions[n].rect.width+=e.width,this.legendRegions[n].rect.height=e.height,this.legendRegions[n].rect.y-=.5*e.height}}renderPagingElements(e,t,i,s){let n=e.renderer.createGroup({id:this.legendID+"_navigation"});this.pagingRegions=[];let r=e.enableCanvas;r||s.appendChild(n);let a=e.legendSettings;this.totalPages=this.isChartControl||this.isBulletChartControl||!this.isVertical?Math.ceil(this.totalPages/Math.max(1,this.rowCount-1)):Math.ceil(this.totalPages/this.maxColumns);let o=new ux(this.legendID+"_pageup","transparent",5,"#545454",1,"",""),l=this.pageButtonSize;n&&n.setAttribute("style","cursor: pointer"),this.clipPathHeight=(this.rowCount-1)*(this.maxItemHeight+a.padding),r?(this.pagingClipRect.height=this.legendBounds.height-this.clipPathHeight-(this.pagingClipRect.y-this.legendBounds.y)-a.border.width,this.pagingClipRect.y=this.pagingClipRect.y+this.clipPathHeight,this.pagingClipRect.x+=a.border.width,this.pagingClipRect.width-=a.border.width+a.border.width/2,this.chart.renderer.clearRect(new rx(this.pagingClipRect.x,this.pagingClipRect.y,this.pagingClipRect.width,this.pagingClipRect.height))):this.clipRect.setAttribute("height",this.clipPathHeight.toString());let h=t.x+l/2,c=t.y+this.clipPathHeight+(t.height-this.clipPathHeight)/2,d=ix(this.totalPages+"/"+this.totalPages,a.textStyle);r?zk({x:h,y:c},"LeftArrow",new nx(l,l),"",o,0,this.chart.renderer,new rx(t.width-(2*(l+8)+8+d.width),0,0,0)):n.appendChild(zk({x:h,y:c},"LeftArrow",new nx(l,l),"",o)),this.pagingRegions.push(new rx(h+t.width-(2*(l+8)+8+d.width)-.5*l,c-.5*l,l,l)),i.x=h+l/2+8,i.y=c+d.height/4,i.id=this.legendID+"_pagenumber",i.text="1/"+this.totalPages,r&&this.totalNoOfPages&&(i.text=this.currentPageNumber+"/"+this.totalNoOfPages);let u=dA(e.renderer,i,a.textStyle,a.textStyle.color,n,!1,!1,!1,!1,null,new rx(t.width-(2*(l+8)+8+d.width),0,0,0));h=i.x+8+l/2+d.width,o.id=this.legendID+"_pagedown",r?zk({x:h,y:c},"RightArrow",new nx(l,l),"",o,0,this.chart.renderer,new rx(t.width-(2*(l+8)+8+d.width),0,0,0)):n.appendChild(zk({x:h,y:c},"RightArrow",new nx(l,l),"",o)),this.pagingRegions.push(new rx(h+(t.width-(2*(l+8)+8+d.width)-.5*l),c-.5*l,l,l)),r?1===this.currentPageNumber&&this.calTotalPage&&(this.totalNoOfPages=this.totalPages,this.calTotalPage=!1):n.setAttribute("transform","translate("+(t.width-(2*(l+8)+8+d.width))+", 0)"),this.translatePage(u,this.currentPage-1,this.currentPage)}translatePage(e,t,i){let s=this.clipPathHeight*t,n="translate(0,-"+s+")";return this.isChartControl||this.bulletChart||!this.isVertical||(s=this.pageXCollections[t*this.maxColumns]-this.legendBounds.x,s=s<0?0:s,n="translate(-"+s+",0)"),this.chart.enableCanvas||this.legendTranslateGroup.setAttribute("transform",n),this.chart.enableCanvas||(e.textContent=i+"/"+this.totalPages),this.currentPage=i,s}changePage(e,t){let i=document.getElementById(this.legendID+"_pagenumber"),s=parseInt(i.textContent.split("/")[0],10);t&&s>1?this.translatePage(i,s-2,s-1):!t&&s<this.totalPages&&this.translatePage(i,s,s+1)}generateId(e,t,i){return this.isChartControl?t+i:t+e.pointIndex}move(e){let t=this.chart.mouseX,i=this.chart.mouseY;if(e.target.textContent.indexOf("...")>-1){let s=e.target.id.split(this.legendID+"_text_");if(2===s.length){let e=parseInt(s[1],10),n=this.chart.element;isNaN(e)||(this.chart.isTouch&&nk(this.chart.element.id+"_EJ2_Legend_Tooltip"),this.isChartControl?ak(this.chart.series[e].name,t,i,n.offsetWidth,n.id+"_EJ2_Legend_Tooltip",jk(this.chart.element.id+"_Secondary_Element")):ak(this.chart.visibleSeries[0].points[e].x.toString(),t+10,i+10,n.offsetWidth,n.id+"_EJ2_Legend_Tooltip",jk(this.chart.element.id+"_Secondary_Element")))}}else nk(this.chart.element.id+"_EJ2_Legend_Tooltip");this.chart.isTouch&&(clearTimeout(this.clearTooltip),this.clearTooltip=setTimeout(()=>{nk(this.chart.element.id+"_EJ2_Legend_Tooltip")},1e3))}}class WA{constructor(e,t,i,s,n,r,a,o,l){this.location={x:0,y:0},this.text=e,this.fill=t,this.shape=i,this.visible=s,this.type=n,this.markerVisibility=a,this.markerShape=r,this.pointIndex=o,this.seriesIndex=l}}class YA{constructor(e){this.control=e}print(e){this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);let t={cancel:!1,htmlContent:this.getHTMLContent(e),name:"beforePrint"};this.control.trigger("beforePrint",t),t.cancel||function(e,t){let i=document.createElement("div"),s=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),n="";Qy(t)&&(t=window.open("","print","height=452,width=1024,tabbar=no")),i.appendChild(e.cloneNode(!0));for(let a=0,o=s.length;a<o;a++)n+=s[a].outerHTML;t.document.write("<!DOCTYPE html> <html><head>"+n+"</head><body>"+i.innerHTML+"<script> (function() { window.ready = true; })(); <\/script></body></html>"),t.document.close(),t.focus();let r=setInterval(()=>{t.ready&&(t.print(),t.close(),clearInterval(r))},500)}(t.htmlContent,this.printWindow)}getHTMLContent(e){let t=Sv("div");if(e)if(e instanceof Array)for(let i=0;i<e.length;i++)t.appendChild(jk(e[i]).cloneNode(!0));else e instanceof Element?t.appendChild(e.cloneNode(!0)):t.appendChild(jk(e).cloneNode(!0));else t.appendChild(this.control.element.cloneNode(!0));return t}export(e,t,i,s,n,r,a){let o=this.getControlsValue(s,a);n=n||o.width,r=r||o.height;let l,h=this.control.svgObject,c=this.control.enableCanvas;c||(h=Sv("canvas",{id:"ej2-canvas",attrs:{width:n.toString(),height:r.toString()}}));let d=!(Kv.userAgent.toString().indexOf("HeadlessChrome")>-1);i=Qy(i)?Q_.Landscape:i;let u=window.URL.createObjectURL(new Blob("SVG"===e?['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+o.svg.outerHTML+"</svg>"]:[(new XMLSerializer).serializeToString(o.svg)],{type:"image/svg+xml"}));if("SVG"===e)if("msie"===Kv.info.name){let i=new Blob([(new XMLSerializer).serializeToString(o.svg)],{type:"application/octet-stream"});window.navigator.msSaveOrOpenBlob(i,t+"."+e.toLocaleLowerCase())}else this.triggerDownload(t,e,u,d);else if("msie"===Kv.info.name){let s=h;c||(s=this.createCanvas()),l=s.toDataURL(),"PDF"===e?this.exportPdf(s,i,n,r,d,t):this.doexport(e,l,t)}else{let s=new Image,a=h.getContext("2d");s.onload=()=>{a.drawImage(s,0,0),window.URL.revokeObjectURL(u),"PDF"===e?this.exportPdf(h,i,n,r,d,t):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(h.msToBlob(),t+"."+e.toLocaleLowerCase()):this.triggerDownload(t,e,h.toDataURL("image/"+e.toLowerCase()),d)},s.src=u}c||nk(document.getElementById(this.control.element.id+"_canvas"))}getDataUrl(e){let t=this.getControlsValue([e]),i=this.control.svgObject,s=this.control.enableCanvas;s||(i=Sv("canvas",{id:"ej2-canvas",attrs:{width:t.width.toString(),height:t.height.toString()}}));let n=window.URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(t.svg)],{type:"image/svg+xml"}));if("msie"===Kv.info.name){let t=i;s||(t=this.createCanvas());let n={name:"afterExport",cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger("afterExport",n),{element:t,dataUrl:t.toDataURL()}}{let t=new Image,s=i.getContext("2d");return t.onload=()=>{s.drawImage(t,0,0),window.URL.revokeObjectURL(n);let r={name:"afterExport",cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger("afterExport",r),r.dataUrl},t.src=n,{element:i,blobUrl:n}}}triggerDownload(e,t,i,s){Sv("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(s?"click":"move",{view:window,bubbles:!1,cancelable:!0}))}getControlsValue(e,t){let i=0,s=0,n="",r=this.control.enableCanvas,a=new ex("").createSvg({id:"Svg_Export_Element",width:200,height:200});return e.map(e=>{let o=e.svgObject.cloneNode(!0),l=e.renderer.createGroup({style:Qy(t)||t?"transform: translateY("+s+"px)":"transform: translateX("+i+"px)"});r||l.appendChild(o),i=Qy(t)||t?Math.max(e.availableSize.width,i):i+e.availableSize.width,s=Qy(t)||t?s+e.availableSize.height:Math.max(e.availableSize.height,s),n+=e.svgObject.outerHTML,r||a.appendChild(l)}),r||(a.setAttribute("width",i+""),a.setAttribute("height",s+"")),{width:i,height:s,svg:a}}createCanvas(){let e=this.control;this.canvasRender(!0,e);let t=e.svgObject;return this.canvasRender(!1,e),t}canvasRender(e,t){t.enableCanvas=e,t.preRender(),t.render()}exportPdf(e,t,i,s,n,r){let a,o,l=new uC,h=l.pageSettings.margins,c=l.pageSettings.width,d=l.pageSettings.height,u=e.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");l.pageSettings.orientation=t,a=c<i?i+h.left+h.right:c,o=d<s?s+h.top+h.bottom:d,l.pageSettings.size=new b_(a,o),u=u.slice(u.indexOf(",")+1),l.pages.add().graphics.drawImage(new bS(u),0,0,i,s),n&&(l.save(r+".pdf"),l.destroy())}doexport(e,t,i){let s=[];s=[t],this.exportImage(s,i,e||"JPG",t)}exportImage(e,t,i,s){let n=[],r=e instanceof HTMLElement?0:e.length;for(let a=0;a<r;a++){let t=e[a].replace(/^data:[a-z]*;,/,"").split(","),i=atob(t[1]),s=new ArrayBuffer(i.length),r=new Uint8Array(s);for(let e=0;e<i.length;e++)r[e]=i.charCodeAt(e);n.push(s)}for(let a=0;a<n.length;a++){let e=new Blob([n[a]],{type:"application/octet-stream"});"msie"===Kv.info.name&&window.navigator.msSaveOrOpenBlob(e,t+"."+i.toLocaleLowerCase())}}}class qA extends BD{calculateDateTimeNiceInterval(e,t,i,s,n=!0){let r,a=new Date(i),o=new Date(s),l=Math.abs((a.getTime()-o.getTime())/864e5);switch(e.actualIntervalType=e.intervalType,e.intervalType){case"Years":r=this.calculateNumericNiceInterval(e,l/365,t);break;case"Quarter":r=this.calculateNumericNiceInterval(e,l/365*4,t);break;case"Months":r=this.calculateNumericNiceInterval(e,l/30,t);break;case"Weeks":r=this.calculateNumericNiceInterval(e,l/7,t);break;case"Days":r=this.calculateNumericNiceInterval(e,l,t);break;case"Hours":r=this.calculateNumericNiceInterval(e,24*l,t);break;case"Minutes":r=this.calculateNumericNiceInterval(e,24*l*60,t);break;case"Seconds":r=this.calculateNumericNiceInterval(e,24*l*60*60,t);break;case"Auto":return r=this.calculateNumericNiceInterval(e,l/365,t),r>=1?(e.actualIntervalType="Years",r):(r=this.calculateNumericNiceInterval(e,l/365*4,t),r>=1&&!n?(e.actualIntervalType="Quarter",r):(r=this.calculateNumericNiceInterval(e,l/30,t),r>=1?(e.actualIntervalType="Months",r):(r=this.calculateNumericNiceInterval(e,l/7,t),r>=1&&!n?(e.actualIntervalType="Weeks",r):(r=this.calculateNumericNiceInterval(e,l,t),r>=1?(e.actualIntervalType="Days",r):(r=this.calculateNumericNiceInterval(e,24*l,t),r>=1?(e.actualIntervalType="Hours",r):(r=this.calculateNumericNiceInterval(e,24*l*60,t),r>=1?(e.actualIntervalType="Minutes",r):(r=this.calculateNumericNiceInterval(e,24*l*60*60,t),e.actualIntervalType="Seconds",r)))))))}return r}getSkeleton(e,t,i,s){let n,r=e.actualIntervalType;return e.skeleton?e.skeleton:(n="Years"===r?s?"y":e.isChart?"DateTime"===e.valueType?"y":"yMMM":"y":"Quarter"===r?s?"y":"yMMM":"Months"===r?s?"m":e.isChart?"MMMd":"MMM":"Weeks"===r?s?"m":"MEd":"Days"===r?s?"d":e.isChart?this.getDayFormat(e,t,i):"MMMd":"Hours"===r?s?"t":e.isChart?"DateTime"===e.valueType?"Hm":"EHm":"h":"Minutes"===r?s?"T":e.isChart?"Hms":"hm":s?"T":e.isChart?"Hms":"hms",n)}getMonthFormat(e,t){return new Date(e).getFullYear()===new Date(t).getFullYear()?"MMM":"y MMM"}getDayFormat(e,t,i){return"DateTime"===e.valueType?new Date(t).getMonth()!==new Date(i).getMonth()?"MMMd":"d":"yMd"}findCustomFormats(e,t,i){let s=e.labelFormat?e.labelFormat:"";return!e.isChart||e.skeleton||"Months"!==e.actualIntervalType||s||(s="DateTime"===e.valueType?this.getMonthFormat(t,i):"yMMM"),s}}class UA extends qA{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)}getActualRange(e,t){let i={skeleton:"full",type:"dateTime"},s=this.chart.intl.getDateParser(i),n=this.chart.intl.getDateFormat(i);null!==e.minimum?this.min=Date.parse(s(n(new Date(xx.parse.parseJson({val:e.minimum}).val)))):null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=Date.parse(s(n(new Date(1970,1,1))))),null!==e.maximum?this.max=Date.parse(s(n(new Date(xx.parse.parseJson({val:e.maximum}).val)))):null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=Date.parse(s(n(new Date(1970,5,1))))),this.min===this.max&&(this.max=this.max+2592e6,this.min=this.min-2592e6),e.actualRange={},e.doubleRange=new FD(this.min,this.max);let r=this.calculateDateTimeNiceInterval(e,t,e.doubleRange.start,e.doubleRange.end);e.actualRange.interval=e.interval?e.interval:r,e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end}applyRangePadding(e,t){let i,s;this.min=e.actualRange.min,this.max=e.actualRange.max;let n=e.actualRange.interval;if(!Vk(e)){let t=e.getRangePadding(this.chart);i=new Date(this.min),s=new Date(this.max);let r=e.actualIntervalType;if("None"===t)this.min=i.getTime(),this.max=s.getTime();else if("Additional"===t||"Round"===t)switch(r){case"Years":this.getYear(i,s,t,n);break;case"Months":this.getMonth(i,s,t,n);break;case"Days":this.getDay(i,s,t,n);break;case"Hours":this.getHour(i,s,t,n);break;case"Minutes":let e=i.getMinutes()/n*n,r=s.getMinutes()+(i.getMinutes()-e);"Round"===t?(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),e,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),r,59).getTime()):(this.min=new Date(i.getFullYear(),s.getMonth(),i.getDate(),i.getHours(),e+-n,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),r+n,0).getTime());break;case"Seconds":let a=i.getSeconds()/n*n,o=s.getSeconds()+(i.getSeconds()-a);"Round"===t?(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),a,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),o,0).getTime()):(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),a+-n,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),o+n,0).getTime())}}e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=e.actualRange.max-e.actualRange.min,e.doubleRange=new FD(e.actualRange.min,e.actualRange.max),this.calculateVisibleRange(t,e)}getYear(e,t,i,s){let n=e.getFullYear(),r=t.getFullYear();"Additional"===i?(this.min=new Date(n-s,1,1,0,0,0).getTime(),this.max=new Date(r+s,1,1,0,0,0).getTime()):(this.min=new Date(n,0,0,0,0,0).getTime(),this.max=new Date(r,11,30,23,59,59).getTime())}getMonth(e,t,i,s){let n=e.getMonth(),r=t.getMonth();"Round"===i?(this.min=new Date(e.getFullYear(),n,0,0,0,0).getTime(),this.max=new Date(t.getFullYear(),r,new Date(t.getFullYear(),t.getMonth(),0).getDate(),23,59,59).getTime()):(this.min=new Date(e.getFullYear(),n+-s,1,0,0,0).getTime(),this.max=new Date(t.getFullYear(),r+s,2===r?28:30,0,0,0).getTime())}getDay(e,t,i,s){let n=e.getDate(),r=t.getDate();"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),n,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),r,23,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),n+-s,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),r+s,0,0,0).getTime())}getHour(e,t,i,s){let n=e.getHours()/s*s,r=t.getHours()+(e.getHours()-n);"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),n,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),r,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),n+-s,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),r+s,0,0).getTime())}calculateVisibleRange(e,t){t.visibleRange={min:t.actualRange.min,max:t.actualRange.max,interval:t.actualRange.interval,delta:t.actualRange.delta};let i=!Qy(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRange(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(t,e,t.visibleRange.min,t.visibleRange.max):t.visibleRange.interval),t.dateTimeInterval=this.increaseDateTimeInterval(t,t.visibleRange.min,t.visibleRange.interval).getTime()-t.visibleRange.min,t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)}calculateVisibleLabels(e,t){e.visibleLabels=[];let i,s,n=e.visibleRange.min,r=e.visibleLabels;for(Vk(e)||(n=this.alignRangeStart(e,n,e.visibleRange.interval,e.actualIntervalType).getTime());n<=e.visibleRange.max;)i=Ky({},Gy("properties",e.labelStyle),null,!0),s=r.length?e.visibleLabels[r.length-1].value:n,e.format=t.intl.getDateFormat({format:this.findCustomFormats(e,n,s)||this.blazorCustomFormat(e),type:Mk(e.skeletonType),skeleton:this.getSkeleton(e,n,s,t.isBlazor)}),e.startLabel=e.format(new Date(e.visibleRange.min)),e.endLabel=e.format(new Date(e.visibleRange.max)),lk(n,e.visibleRange)&&Nk(t,n,e.format(new Date(n)),i,e),n=this.increaseDateTimeInterval(e,n,e.visibleRange.interval).getTime();"Months"!==e.actualIntervalType&&"Days"!==e.actualIntervalType||!e.isChart||(e.format=t.intl.getDateFormat({format:e.labelFormat||("Months"!==e.actualIntervalType||e.skeleton?"":"y MMM"),type:Mk(e.skeletonType),skeleton:e.skeleton||("Days"===e.actualIntervalType?"MMMd":"")})),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}blazorCustomFormat(e){return this.chart.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""}increaseDateTimeInterval(e,t,i){let s=new Date(t);switch(i=Math.ceil(i),e.visibleRange.interval=i,e.actualIntervalType){case"Years":return s.setFullYear(s.getFullYear()+i),s;case"Quarter":return s.setMonth(s.getMonth()+3*i),s;case"Months":return s.setMonth(s.getMonth()+i),s;case"Weeks":return s.setDate(s.getDate()+7*i),s;case"Days":return s.setDate(s.getDate()+i),s;case"Hours":return s.setHours(s.getHours()+i),s;case"Minutes":return s.setMinutes(s.getMinutes()+i),s;case"Seconds":return s.setSeconds(s.getSeconds()+i),s}return s}alignRangeStart(e,t,i,s){let n=new Date(t);switch(e.actualIntervalType){case"Years":let e=Math.floor(Math.floor(n.getFullYear()/i)*i);return n=new Date(e,n.getMonth(),n.getDate(),0,0,0),n;case"Months":let t=Math.floor(Math.floor(n.getMonth()/i)*i);return n=new Date(n.getFullYear(),t,n.getDate(),0,0,0),n;case"Days":let s=Math.floor(Math.floor(n.getDate()/i)*i);return n=new Date(n.getFullYear(),n.getMonth(),s,0,0,0),n;case"Hours":let r=Math.floor(Math.floor(n.getHours()/i)*i);return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),r,0,0),n;case"Minutes":let a=Math.floor(Math.floor(n.getMinutes()/i)*i);return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),a,0,0),n;case"Seconds":let o=Math.floor(Math.floor(n.getSeconds()/i)*i);return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),o,0),n}return n}getModuleName(){return"DateTime"}destroy(e){}}class GA extends qA{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)}getActualRange(e,t){this.initializeDoubleRange(e),e.actualRange={},e.actualRange.interval=e.interval?Math.ceil(e.interval):Math.max(1,Math.floor(e.doubleRange.delta/Fk(t,e))),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end,e.actualRange.delta=e.doubleRange.delta}applyRangePadding(e,t){let i="BetweenTicks"===e.labelPlacement&&"PolarRadar"!==this.chart.chartAreaType?.5:0;i>0?(e.actualRange.min-=i,e.actualRange.max+=i):e.actualRange.max+=e.actualRange.max?0:.5,e.doubleRange=new FD(e.actualRange.min,e.actualRange.max),e.actualRange.delta=e.doubleRange.delta,this.calculateVisibleRange(t,e)}calculateVisibleLabels(e){e.visibleLabels=[];let t,i,s=Math.ceil(e.visibleRange.min);for((e.zoomFactor<1||e.zoomPosition>0)&&(s=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval),e.startLabel=e.labels[Math.round(e.visibleRange.min)],e.endLabel=e.labels[Math.floor(e.visibleRange.max)];s<=e.visibleRange.max;s+=e.visibleRange.interval)t=Ky({},Gy("properties",e.labelStyle),null,!0),lk(s,e.visibleRange)&&e.labels.length>0&&(i=Math.round(s),Nk(this.chart,i,e.labels[i]?e.labels[i].toString():i.toString(),t,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}getModuleName(){return"Category"}destroy(e){}}class XA extends BD{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.calculateRange(t,e),this.getActualRange(t,e),this.calculateVisibleRange(e,t),this.calculateVisibleLabels(t,this.chart)}getActualRange(e,t){this.initializeDoubleRange(e),this.min=this.min<0?0:this.min;let i=rk(this.min,e.logBase);i=isFinite(i)?i:this.min;let s=1===this.max?1:rk(this.max,e.logBase);s=isFinite(i)?s:this.max,this.min=Math.floor(i/1),this.max=Math.ceil(s/1),e.actualRange.interval=e.interval||this.calculateLogNiceInterval(this.max-this.min,t,e),e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=this.max-this.min}calculateVisibleRange(e,t){t.visibleRange={interval:t.actualRange.interval,max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta};let i=!Qy(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRange(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateLogNiceInterval(t.doubleRange.delta,e,t):t.visibleRange.interval,t.visibleRange.interval=0===Math.floor(t.visibleRange.interval)?1:Math.floor(t.visibleRange.interval),t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval))}calculateLogNiceInterval(e,t,i){let s=Fk(t,i),n=e,r=Math.pow(10,Math.floor(rk(n,10)));for(let a=0,o=i.intervalDivs.length;a<o;a++){let t=r*i.intervalDivs[a];if(s<e/t)break;n=t}return n}calculateVisibleLabels(e,t){let i,s=e.visibleRange.min;e.visibleLabels=[],(e.zoomFactor<1||e.zoomPosition>0)&&(s=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);let n=this.getFormat(e),r=null!==n.match("{value}");for(e.format=t.intl.getNumberFormat({format:r?"":n,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(Math.pow(e.logBase,e.visibleRange.min)),e.endLabel=e.format(Math.pow(e.logBase,e.visibleRange.max));s<=e.visibleRange.max;s+=e.visibleRange.interval)i=Ky({},Gy("properties",e.labelStyle),null,!0),lk(s,e.visibleRange)&&Nk(this.chart,s,this.formatValue(e,r,n,Math.pow(e.logBase,s)),i,e);e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}getModuleName(){return"Logarithmic"}destroy(e){}}class ZA extends GA{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.axisSize=e,this.calculateRange(t,e),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)}calculateVisibleLabels(e){let t;e.visibleLabels=[];let i="BetweenTicks"===e.labelPlacement?.5:0;"Auto"===e.intervalType?this.calculateDateTimeNiceInterval(e,this.axisSize,parseInt(e.labels[0],10),parseInt(e.labels[e.labels.length-1],10)):e.actualIntervalType=e.intervalType,e.format=this.chart.intl.getDateFormat({format:e.labelFormat||this.blazorCustomFormat(e),type:Mk(e.skeletonType),skeleton:this.getSkeleton(e,null,null,this.chart.isBlazor)});for(let s=0;s<e.labels.length;s++)t=Ky({},Gy("properties",e.labelStyle),null,!0),this.sameInterval(e.labels.map(Number)[s],e.labels.map(Number)[s-1],e.actualIntervalType,s)&&!e.isIndexed||lk(s-i,e.visibleRange)&&Nk(this.chart,s,e.isIndexed?this.getIndexedAxisLabel(e.labels[s],e.format):e.format(new Date(e.labels.map(Number)[s])),t,e);e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}blazorCustomFormat(e){return this.chart.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""}getIndexedAxisLabel(e,t){let i=e.split(",");for(let s=0;s<i.length;s++)i[s]=t(new Date(parseInt(i[s],10)));return i.join(", ")}sameInterval(e,t,i,s){let n;if(0===s)n=!1;else switch(i){case"Years":n=new Date(e).getFullYear()===new Date(t).getFullYear();break;case"Months":n=new Date(e).getFullYear()===new Date(t).getFullYear()&&new Date(e).getMonth()===new Date(t).getMonth();break;case"Days":n=Math.abs(e-t)<864e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Hours":n=Math.abs(e-t)<36e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Minutes":n=Math.abs(e-t)<6e4&&new Date(e).getMinutes()===new Date(t).getMinutes();break;case"Seconds":n=Math.abs(e-t)<1e3&&new Date(e).getDay()===new Date(t).getDay()}return n}getModuleName(){return"DateTimeCategory"}destroy(e){}}class $A{measureStripLine(e,t,i,s,n){let r,a,o=e.orientation;if(t.isRepeat&&null!==t.size)r=s,a=null;else if("DateTimeCategory"===e.valueType){let i=t.start,s=t.end;r=null!=i&&"number"!=typeof i?e.labels.indexOf(i.getTime().toString()):i,a=null!=s&&"number"!=typeof s?e.labels.indexOf(s.getTime().toString()):s}else r=null===t.start?null:+t.start,a=null===t.end?null:+t.end;let l=this.getFromTovalue(r,a,t.size,t.startFromAxis,e,t),h="Vertical"===o?(l.to-l.from)*e.rect.height:i.height,c="Horizontal"===o?(l.to-l.from)*e.rect.width:i.width,d="Vertical"===o?i.x:l.from*e.rect.width+e.rect.x,u="Horizontal"===o?i.y:e.rect.y+e.rect.height-("Pixel"===t.sizeType?l.from:l.to)*e.rect.height;if(t.isSegmented&&null!=t.segmentStart&&null!=t.segmentEnd&&"Pixel"!==t.sizeType){let e=this.getFromTovalue(+t.segmentStart,+t.segmentEnd,null,null,n,t);"Vertical"===n.orientation?(u=n.rect.y+n.rect.height-e.to*n.rect.height,h=(e.to-e.from)*n.rect.height):(d=e.from*n.rect.width+n.rect.x,c=(e.to-e.from)*n.rect.width)}return 0!==h&&0!==c||"Pixel"===t.sizeType&&(null!==t.start||t.startFromAxis)?new rx(d,u,c,h):new rx(0,0,0,0)}getFromTovalue(e,t,i,s,n,r){let a=!r.isRepeat&&s?n.visibleRange.min:e,o=this.getToValue(Math.max(e,Qy(t)?e:t),a,i,n,t,r);return a=this.findValue(a,n),o=this.findValue(o,n),{from:bk(n.isInversed?o:a,n),to:bk(n.isInversed?a:o,n)}}getToValue(e,t,i,s,n,r){let a=r.sizeType,o=null===n;if("DateTime"!==s.valueType)return"Pixel"===r.sizeType?t:o?t+i:e;{let n=new Date(t);switch("Auto"===a&&(a=s.actualIntervalType,i*=s.visibleRange.interval),a){case"Years":return o?new Date(n.setFullYear(n.getFullYear()+i)):e;case"Months":return o?new Date(n.setMonth(n.getMonth()+i)):e;case"Days":return o?new Date(n.setDate(n.getDate()+i)):e;case"Hours":return o?new Date(n.setHours(n.getHours()+i)):e;case"Minutes":return o?new Date(n.setMinutes(n.getMinutes()+i)):e;case"Seconds":return o?new Date(n.setSeconds(n.getSeconds()+i)):e;default:return t}}}findValue(e,t){return e<t.visibleRange.min?e=t.visibleRange.min:e>t.visibleRange.max&&(e=t.visibleRange.max),e}renderStripLine(e,t,i){let s,n=e.element.id+"_stripline_"+t+"_",r=e.chartAxisLayoutPanel.seriesClipRect,a=0,o=0,l=0,h=null,c=new vA(n+"ClipRect","transparent",{width:1,color:"Gray"},1,{x:e.initialClipRect.x,y:e.initialClipRect.y,width:e.initialClipRect.width,height:e.initialClipRect.height}),d=e.renderer.createGroup({id:n+"collections","clip-path":"url(#"+n+"ClipRect)"});d.appendChild(Ok(e.redraw,c,e.renderer));for(let u of i){let c=0;for(let p of u.stripLines)if(p.visible&&p.zIndex===t)if(p.isSegmented&&null!=p.segmentStart&&null!=p.segmentEnd&&"Pixel"!==p.sizeType&&(h=this.getSegmentAxis(i,u,p)),p.isRepeat&&null!=p.repeatEvery&&null!==p.size&&"Pixel"!==p.sizeType)for(o=null!=p.repeatUntil?"DateTime"===u.valueType?p.repeatUntil.getTime():+p.repeatUntil:u.actualRange.max,l=p.start,(p.startFromAxis&&"DateTime"===u.valueType&&"Auto"===p.sizeType||p.start<u.visibleRange.min)&&(l=u.visibleLabels[0].value===u.visibleRange.min?u.visibleRange.min:u.visibleLabels[0].value-("DateTime"===u.valueType?u.dateTimeInterval:u.visibleRange.interval)),l=p.startFromAxis&&"DateTime"!==u.valueType?u.visibleRange.min:l;l<o;)a=l+("DateTime"===u.valueType?u.dateTimeInterval*+p.size:p.size),s=lk(a,u.visibleRange),(l>=u.visibleRange.min&&l<u.visibleRange.max||s)&&this.renderStripLineElement(u,p,r,n,d,e,l,h,c),c++,l=this.getStartValue(u,p,l);else this.renderStripLineElement(u,p,r,n,d,e,null,h,c),c++}Xk(e.enableCanvas,e.svgObject,d,e.redraw)}renderPath(e,t,i,s,n,r){let a=jk(i),o=a?a.getAttribute("d"):"";Xk(n.enableCanvas,s,n.renderer.drawPath(new ux(i,"",e.size,e.color,e.opacity,e.dashArray,"Vertical"===r.orientation?"M"+t.x+" "+t.y+" L"+(t.x+t.width)+" "+t.y:"M"+t.x+" "+t.y+" L"+t.x+" "+(t.y+t.height))),n.redraw,!0,"x","y",null,o,!0)}renderRectangle(e,t,i,s,n){let r=jk(i),a=r?new rx(+r.getAttribute("x"),+r.getAttribute("y"),+r.getAttribute("width"),+r.getAttribute("height")):null;Xk(n.enableCanvas,s,n.renderer.drawRectangle(new vA(i,e.color,e.border,e.opacity,t,0,0,"",e.dashArray)),n.redraw,!0,"x","y",null,null,!0,!0,a)}renderText(e,t,i,s,n,r){let a,o=ix(e.text,e.textStyle).height/8*3,l=t.y+t.height/2+o,h=null===e.rotation?"Vertical"===r.orientation?0:-90:e.rotation,c=t.x+t.width/2;"Horizontal"===r.orientation?(c=this.getTextStart(c+o*this.factor(e.horizontalAlignment),t.width,e.horizontalAlignment),l=this.getTextStart(l-o,t.height,e.verticalAlignment),a=this.invertAlignment(e.verticalAlignment)):(c=this.getTextStart(c,t.width,e.horizontalAlignment),l=this.getTextStart(l+o*this.factor(e.verticalAlignment)-5,t.height,e.verticalAlignment),a=e.horizontalAlignment),dA(n.renderer,new lx(i,c,l,a,e.text,"rotate("+h+" "+c+","+l+")","middle"),e.textStyle,e.textStyle.color,s)}invertAlignment(e){switch(e){case"Start":e="End";break;case"End":e="Start"}return e}getStartValue(e,t,i){return"DateTime"===e.valueType?this.getToValue(null,i,+t.repeatEvery,e,null,t):i+ +t.repeatEvery}getSegmentAxis(e,t,i){let s;if(null==i.segmentAxisName)return"Horizontal"===t.orientation?e[1]:e[0];for(let n=0;n<e.length;n++)i.segmentAxisName===e[n].name&&(s=e[n]);return s}renderStripLineElement(e,t,i,s,n,r,a,o,l){let h=this.measureStripLine(e,t,i,a,o);"Pixel"===t.sizeType?this.renderPath(t,h,s+"path_"+e.name+"_"+l,n,r,e):0!==h.height&&0!==h.width&&this.renderRectangle(t,h,s+"rect_"+e.name+"_"+l,n,r),""!==t.text&&this.renderText(t,h,s+"text_"+e.name+"_"+l,n,r,e)}factor(e){let t=0;switch(e){case"Start":t=1;break;case"End":t=-1}return t}getTextStart(e,t,i){switch(i){case"Start":e=e-t/2+5;break;case"End":e=e+t/2-5}return e}getModuleName(){return"StripLine"}destroy(){}}class KA{constructor(e){this.chart=e}enableComplexProperty(e){let t,i=[],s=[],n=e.xAxis.visibleRange,r=e.yAxis.visibleRange,a=e.points,o=e.clipRect,l=Math.abs(n.delta/o.width),h=Math.abs(r.delta/o.height),c=a[0]&&a[0].x>l?0:l,d=a[0]&&a[0].y>h?0:h,u=0,p=0;for(let m of a)m.symbolLocations=[],u=m.xValue?m.xValue:n.min,p=m.yValue?m.yValue:r.min,(Math.abs(c-u)>=l||Math.abs(d-p)>=h)&&(i.push(m),c=u,d=p);for(let m=0;m<i.length;m++)t=i[m],Qy(t.x)||""===t.x||s.push(t);return s}getLineDirection(e,t,i,s,n,r){let a="";if(null!=e){let o=n(e.xValue,e.yValue,i.xAxis,i.yAxis,s,i),l=n(t.xValue,t.yValue,i.xAxis,i.yAxis,s,i);a=r+" "+o.x+" "+o.y+" L "+l.x+" "+l.y+" "}return a}appendLinePath(e,t,i){let s=jk(e.id),n=t.chart,r=s?s.getAttribute("d"):null,a=t.chart.renderer.drawPath(e,new Int32Array([t.clipRect.x,t.clipRect.y]));a&&a.setAttribute("clip-path",i),t.pathElement=a,t.chart.enableCanvas||t.seriesElement.appendChild(a),t.isRectSeries=!1,Ik(s,e.d,t.chart.redraw,r,n.duration)}renderMarker(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)}doProgressiveAnimation(e,t){let i,s=new gw({}),n=e.pathElement,r=n.getAttribute("stroke-dasharray"),a=e.pathElement.getTotalLength();n.style.visibility="hidden",s.animate(n,{duration:t.duration,delay:t.delay,progress:e=>{e.timeStamp>=e.delay&&(n.style.visibility="visible",i=Math.abs(Math.round((e.timeStamp-e.delay)*a/e.duration)),n.setAttribute("stroke-dasharray",i+","+a))},end:t=>{n.setAttribute("stroke-dasharray",r),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})}storePointLocation(e,t,i,s){let n=t.marker&&t.marker.width?t.marker.width:0,r=t.marker&&t.marker.height?t.marker.height:0;e.symbolLocations.push(s(e.xValue,e.yValue,t.xAxis,t.yAxis,i,t)),e.regions.push(new rx(e.symbolLocations[0].x-n,e.symbolLocations[0].y-r,2*n,2*r))}withinYRange(e,t){return e.yValue>=t.visibleRange.min&&e.yValue<=t.visibleRange.max}getFirstLastVisiblePoint(e){let t=null,i=null;for(let s of e)null===t&&s.visible&&(t=i=s),i=s.visible?s:i;return{first:t||e[0],last:i||e[e.length-1]}}doLinearAnimation(e,t){let i,s=e.clipRectElement.childNodes[0].childNodes[0],n=e.chart.animated?e.chart.duration:t.duration,r=Tk("Linear"),a=+s.getAttribute("height"),o=+s.getAttribute("width"),l=+s.getAttribute("x"),h=e.chart.requireInvertedAxis?+s.getAttribute("height")+ +s.getAttribute("y"):+s.getAttribute("y");s.style.visibility="hidden",new gw({}).animate(s,{duration:n,delay:t.delay,progress:t=>{t.timeStamp>=t.delay&&(s.style.visibility="visible",e.chart.requireInvertedAxis?(i=r(t.timeStamp-t.delay,0,a,t.duration),s.setAttribute("transform","translate("+l+" "+h+") scale(1,"+i/a+") translate("+-l+" "+-h+")")):(i=r(t.timeStamp-t.delay,0,o,t.duration),s.setAttribute("transform","translate("+l+" "+h+") scale("+i/o+", 1) translate("+-l+" "+-h+")")))},end:t=>{s.setAttribute("transform","translate(0,0)"),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})}}class QA extends KA{render(e,t,i,s){let n,r,a,o="",l=null,h="M",c=e.chart&&"PolarRadar"===e.chart.chartAreaType,d=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,u=c?vk:Uk,p=this.enableComplexProperty(e);for(let m of p)m.regions=[],c&&!m.visible||(m.visible&&ck(p[m.index-1],m,p[m.index+1],e)?(o+=this.getLineDirection(l,m,e,s,u,h),h=l?"L":h,l=m,this.storePointLocation(m,e,s,u)):(l=d?l:null,h=d?h:"M",m.symbolLocations=[]));if(c&&e.isClosed){let a=this.getFirstLastVisiblePoint(p);r=u(a.last.xValue,a.last.yValue,t,i,s,e),n=u(a.first.xValue,a.first.yValue,t,i,s,e),o=o.concat(h+" "+r.x+" "+r.y+" L "+n.x+" "+n.y)}a=new ux("Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:"TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+(void 0===e.index?e.category:e.index),"none",e.width,e.interior,e.opacity,e.dashArray,o),this.appendLinePath(a,e,""),this.renderMarker(e)}doAnimation(e){this.doProgressiveAnimation(e,e.animation)}getModuleName(){return"LineSeries"}destroy(e){}}class JA{getSideBySideInfo(e){e.chart.enableSideBySidePlacement&&!e.position&&this.getSideBySidePositions(e);let t=e.chart.enableSideBySidePlacement?e.position:0,i=e.chart.enableSideBySidePlacement?e.rectCount:1;e.isRectSeries=!0;let s,n=e.chart.visibleSeries,r=e.chart.enableSideBySidePlacement?e.columnSpacing:0,a=null===e.columnWidth||isNaN(+e.columnWidth)?"Histogram"===e.type?1:.7:e.columnWidth,o=Lk(e.xAxis,n)*a,l=t/i-.5,h=new FD(l,l+1/i);return isNaN(h.start)||isNaN(h.end)||(h=new FD(h.start*o,h.end*o),s=r*h.delta,h=new FD(h.start+s/2,h.end-s/2)),h}getRectangle(e,t,i,s,n){let r=Uk(e,t,n.xAxis,n.yAxis,n.chart.requireInvertedAxis),a=Uk(i,s,n.xAxis,n.yAxis,n.chart.requireInvertedAxis);return new rx(Math.min(r.x,a.x),Math.min(r.y,a.y),Math.abs(a.x-r.x),Math.abs(a.y-r.y))}getSideBySidePositions(e){let t=e.chart;for(let i of t.columns)for(let s of t.rows)this.findRectPosition(e.findSeriesCollection(i,s,!1))}findRectPosition(e){let t=[],i={rectCount:0,position:null};for(let s=0;s<e.length;s++){let n=e[s];-1!==n.type.indexOf("Stacking")?n.stackingGroup?void 0===t[n.stackingGroup]?(n.position=i.rectCount,t[n.stackingGroup]=i.rectCount++):n.position=t[n.stackingGroup]:null===i.position?(n.position=i.rectCount,i.position=i.rectCount++):n.position=i.position:n.position=i.rectCount++}for(let s=0;s<e.length;s++)e[s].rectCount=i.rectCount}updateSymbolLocation(e,t,i){i.chart.requireInvertedAxis?this.updateYRegion(e,t,i):this.updateXRegion(e,t,i),"Histogram"===i.type&&(e.minimum=+e.x-i.histogramValues.binWidth/2,e.maximum=+e.x+i.histogramValues.binWidth/2)}updateXRegion(e,t,i){e.symbolLocations.push({x:t.x+t.width/2,y:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0==!i.yAxis.isInversed?t.y:t.y+t.height}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x+t.width/2,y:t.y+t.height})}updateYRegion(e,t,i){e.symbolLocations.push({x:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0==!i.yAxis.isInversed?t.x+t.width:t.x,y:t.y+t.height/2}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x,y:t.y+t.height/2})}renderMarker(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)}getRegion(e,t,i){if(0===e.y){let t=i.marker&&i.marker.width?i.marker.width:0,s=i.marker&&i.marker.height?i.marker.height:0;e.regions.push(new rx(e.symbolLocations[0].x-t,e.symbolLocations[0].y-s,2*t,2*s))}else e.regions.push(t)}triggerEvent(e,t,i,s){let n={cancel:!1,name:"pointRender",series:e,point:t,fill:e.setPointColor(t,i),border:e.setBorderColor(t,s)};return e.chart.trigger("pointRender",n),t.color=n.fill,n}drawRectangle(e,t,i,s){let n=e.chart;if((n.requireInvertedAxis?i.height:i.width)<=0)return null;let r=this.calculateRoundedRectPath(i,e.cornerRadius.topLeft,e.cornerRadius.topRight,e.cornerRadius.bottomLeft,e.cornerRadius.bottomRight),a="Indicator"===e.category?n.element.id+"_Indicator_"+e.index+"_"+e.name+"_Point_"+t.index:n.element.id+"_Series_"+e.index+"_Point_"+t.index,o=hA(n.redraw,a),l=o?o.getAttribute("d"):"",h=new ux(a,s.fill,s.border.width,s.border.color,e.opacity,e.dashArray,r),c=n.renderer.drawPath(h,new Int32Array([e.clipRect.x,e.clipRect.y]));switch(e.seriesType){case"XY":c.setAttribute("aria-label",t.x.toString()+":"+t.yValue.toString());break;case"HighLow":c.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString())}Xk(e.chart.enableCanvas,e.seriesElement,c,n.redraw),e.chart.enableCanvas||Ik(c,r,n.redraw,l,n.duration)}animate(e){let t=e.seriesElement.childNodes,i="Indicator"===e.category?0:1,s=sk(e);for(let n of s)(n.symbolLocations.length||"BoxAndWhisker"===e.type&&n.regions.length)&&(this.animateRect(t[i],e,n),i++)}animateRect(e,t,i){let s,n,r,a,o,l=t.animation,h=t.chart.animated?t.chart.duration:l.duration,c=Tk("Linear"),d=i.yValue<0,u=+i.regions[0].height,p=+i.regions[0].width;t.chart.requireInvertedAxis?(n=+i.regions[0].y,t.type.indexOf("Stacking")>-1?(s=bk(0,t.yAxis)*t.yAxis.rect.width,r=s,a=n):(s=+i.regions[0].x,a=d?n:n+u,r=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?s+p/2:d!==t.yAxis.isInversed?s+p:s)):(s=+i.regions[0].x,t.type.indexOf("Stacking")>-1?(n=(1-bk(0,t.yAxis))*t.yAxis.rect.height,r=s,a=n):(n=+i.regions[0].y,a=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?n+u/2:d!==t.yAxis.isInversed?n:n+u,r=d?s:s+p)),Qy(e)||(e.style.visibility="hidden",new gw({}).animate(e,{duration:h,delay:l.delay,progress:i=>{i.timeStamp>=i.delay&&(e.style.visibility="visible",t.chart.requireInvertedAxis?(p=p||1,o=c(i.timeStamp-i.delay,0,p,i.duration),e.setAttribute("transform","translate("+r+" "+a+") scale("+o/p+", 1) translate("+-r+" "+-a+")")):(u=u||1,o=c(i.timeStamp-i.delay,0,u,i.duration),e.setAttribute("transform","translate("+r+" "+a+") scale(1,"+o/u+") translate("+-r+" "+-a+")")))},end:s=>{e.setAttribute("transform","translate(0,0)");let n=t.seriesElement;if((e===n.lastElementChild||i.index===t.points.length-1||"Waterfall"===t.type&&e===n.children[n.childElementCount-2])&&(t.chart.trigger("animationComplete",{series:t.chart.isBlazor?{}:t}),"Waterfall"===t.type)){let e=n.childNodes;for(let t=0;t<e.length;t++)-1!==e[t].id.indexOf("Connector")&&(e[t].style.visibility="visible",e[t].setAttribute("transform","translate(0,0)"))}}}))}calculateRoundedRectPath(e,t,i,s,n){return"M "+e.x+" "+(t+e.y)+" Q "+e.x+" "+e.y+" "+(e.x+t)+" "+e.y+" L "+(e.x+e.width-i)+" "+e.y+" Q "+(e.x+e.width)+" "+e.y+" "+(e.x+e.width)+" "+(e.y+i)+" L "+(e.x+e.width)+" "+(e.y+e.height-n)+" Q "+(e.x+e.width)+" "+(e.y+e.height)+" "+(e.x+e.width-n)+" "+(e.y+e.height)+" L "+(e.x+s)+" "+(e.y+e.height)+" Q "+e.x+" "+(e.y+e.height)+" "+e.x+" "+(e.y+e.height-s)+" L "+e.x+" "+(t+e.y)+" Z"}}class eM extends JA{render(e){let t,i,s=this.getSideBySideInfo(e),n=Math.max(e.yAxis.visibleRange.min,0);for(let r of e.points)r.symbolLocations=[],r.regions=[],r.visible&&ck(e.points[r.index-1],r,e.points[r.index+1],e)&&(t=this.getRectangle(r.xValue+s.start,r.yValue,r.xValue+s.end,n,e),i=this.triggerEvent(e,r,"Indicator"===e.category?r.color:e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.updateSymbolLocation(r,t,e),this.drawRectangle(e,r,t,i)));this.renderMarker(e)}doAnimation(e){this.animate(e)}getModuleName(){return"ColumnSeries"}destroy(e){}}class tM extends KA{getAreaPathDirection(e,t,i,s,n,r,a){let o,l="";return null===r&&(o=n(e,t,i.xAxis,i.yAxis,s,i),l+=a+" "+o.x+" "+o.y+" "),l}getAreaEmptyDirection(e,t,i,s,n){let r="";return r+=this.getAreaPathDirection(e.x,e.y,i,s,n,null,"L"),r+=this.getAreaPathDirection(t.x,t.y,i,s,n,null,"L"),r}setPointColor(e,t,i,s,n){if(""===i.pointColorMapping){let t,r;for(let a=0;a<n.length;a++)if(t=n[a],r=s?e.xValue:e.yValue,r<=this.getAxisValue(t.value,s?i.xAxis:i.yAxis,i.chart)||!t.value){e.interior=t.color;break}return null==e.interior&&(e.interior=i.interior),!1}return!!t&&i.setPointColor(e,i.interior)!==i.setPointColor(t,i.interior)}sortSegments(e,t){let i="X"===e.segmentAxis?e.xAxis:e.yAxis,s=[].concat(t),n=this;return s.sort((t,s)=>n.getAxisValue(t.value,i,e.chart)-n.getAxisValue(s.value,i,e.chart))}applySegmentAxis(e,t,i){if(""!==e.pointColorMapping)return t.map(t=>{this.appendLinePath(t,e,"")}),null;let s,n="X"===e.segmentAxis,r=n?e.xAxis:e.yAxis,a=e.chart;this.includeSegment(i,r,e,i.length);let o,l,h,c=i.length;for(let d=0;d<c;d++)s=i[d],o=this.getAxisValue(s.value,r,e.chart),l=this.createClipRect(d?this.getAxisValue(i[d-1].value,r,e.chart):r.visibleRange.min,o,e,d,n),l&&t.map(t=>{h={"clip-path":l,"stroke-dasharray":s.dashArray,opacity:t.opacity,stroke:e.type.indexOf("Line")>-1?s.color||e.interior:e.border.color,"stroke-width":t["stroke-width"],fill:e.type.indexOf("Line")>-1?"none":s.color||e.interior,id:t.id+"_Segment_"+d,d:t.d},Ik(jk(h.id),h.d,a.redraw),e.seriesElement.appendChild(a.renderer.drawPath(h))})}includeSegment(e,t,i,s){if(s<=0)return e.push({value:t.visibleRange.max,color:i.interior}),null;this.getAxisValue(e[s-1].value,t,i.chart)<t.visibleRange.max&&e.push({value:t.visibleRange.max,color:i.interior})}createClipRect(e,t,i,s,n){let r,a=i.chart.requireInvertedAxis,o=Uk(n?e:i.xAxis.visibleRange.min,n?i.yAxis.visibleRange.max:t,i.xAxis,i.yAxis,a),l=Uk(n?t:i.xAxis.visibleRange.max,n?i.yAxis.visibleRange.min:e,i.xAxis,i.yAxis,a);return l=a?[o,o=l][0]:l,l.x-o.x>0&&l.y-o.y>0?(r=new vA(i.chart.element.id+"_ChartSegmentClipRect_"+s,"transparent",{width:1,color:"Gray"},1,{x:o.x,y:o.y,width:l.x-o.x,height:l.y-o.y}),i.seriesElement.appendChild(Ok(i.chart.redraw,r,i.chart.renderer)),"url(#"+i.chart.element.id+"_ChartSegmentClipRect_"+s+")"):null}getAxisValue(e,t,i){if(null===e&&(e=t.visibleRange.max),"DateTime"===t.valueType){let t={skeleton:"full",type:"dateTime"};return Date.parse(i.intl.getDateParser(t)(i.intl.getDateFormat(t)(new Date(xx.parse.parseJson({val:e}).val))))}if(t.valueType.indexOf("Category")>-1){let i="DateTimeCategory"===t.valueType?e.getTime().toString():e;return t.labels.indexOf(i)<0?+e:t.labels.indexOf(i)}return+e}}class iM extends tM{render(e,t,i,s){let n,r=null,a="",o=e.chart&&"PolarRadar"===e.chart.chartAreaType,l=Math.max(e.yAxis.visibleRange.min,0);o&&(l=this.getFirstLastVisiblePoint(e.points).first.yValue);let h,c=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,d=e.border?e.border.width:0,u=e.border?e.border.color:"transparent",p="PolarRadar"===e.chart.chartAreaType?vk:Uk,m=this.enableComplexProperty(e);for(let g=0;g<m.length;g++)h=m[g],n=h.xValue,h.symbolLocations=[],h.regions=[],h.visible&&ck(m[g-1],h,m[g+1],e)&&(a+=this.getAreaPathDirection(n,l,e,s,p,r,"M"),r=r||new SA(n,l),a+=this.getAreaPathDirection(n,h.yValue,e,s,p,null,"L"),m[g+1]&&!m[g+1].visible&&(!o||o&&this.withinYRange(m[g+1],i))&&!c&&(a+=this.getAreaEmptyDirection({x:n,y:l},r,e,s,p),r=null),this.storePointLocation(h,e,s,p));if(o&&""!==a){let n="",r=this.chart;n+=this.getAreaPathDirection(0,l,e,s,p,null,"L"),(t.isInversed||i.isInversed)&&(a+="Polar"===e.type?r.polarSeriesModule.getPolarIsInversedPath(t,n):r.radarSeriesModule.getRadarIsInversedPath(t,n)),a=a.concat(a+" Z")}this.appendLinePath(new ux(e.chart.element.id+"_Series_"+e.index,e.interior,d,u,e.opacity,e.dashArray,e.points.length>1&&""!==a?a+this.getAreaPathDirection(e.points[e.points.length-1].xValue,"PolarRadar"===e.chart.chartAreaType?e.points[e.points.length-1].yValue:l,e,s,p,null,"L"):""),e,""),this.renderMarker(e)}destroy(e){}getModuleName(){return"AreaSeries"}doAnimation(e){this.doLinearAnimation(e,e.animation)}}class sM extends JA{render(e){let t,i,s=Math.max(e.yAxis.visibleRange.min,0),n=this.getSideBySideInfo(e);for(let r of e.points)r.symbolLocations=[],r.regions=[],r.visible&&ck(e.points[r.index-1],r,e.points[r.index+1],e)&&(t=this.getRectangle(r.xValue+n.start,r.yValue,r.xValue+n.end,s,e),i=this.triggerEvent(e,r,e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.updateSymbolLocation(r,t,e),this.drawRectangle(e,r,t,i)));this.renderMarker(e)}doAnimation(e){this.animate(e)}destroy(e){}getModuleName(){return"BarSeries"}}class nM extends KA{constructor(){super(...arguments),this.visibleAxisLabelRect=[]}measureAxis(e){let t=this.chart;this.initialClipRect=e,this.seriesClipRect=new rx(e.x,e.y,e.width,e.height),this.measureRowAxis(t,this.initialClipRect),this.measureColumnAxis(t,this.initialClipRect),this.calculateAxisSize()}measureRowAxis(e,t){this.calculateRowSize(t);let i=e.rows[0];this.measureDefinition(i,e,new nx(e.availableSize.width,i.computedHeight),t)}measureColumnAxis(e,t){this.calculateColumnSize(t);let i=e.columns[0];this.measureDefinition(i,e,new nx(i.computedWidth,e.availableSize.height),t)}measureDefinition(e,t,i,s){for(let n of e.axes)n.getModule(t),n.baseModule.calculateRangeAndInterval(i,n)}calculateAxisSize(){let e,t=this.chart;this.centerX=.5*this.initialClipRect.width+this.initialClipRect.x,this.centerY=.5*this.initialClipRect.height+this.initialClipRect.y,t.radius=Math.min(this.initialClipRect.width,this.initialClipRect.height)/2-5-t.primaryXAxis.majorTickLines.height-t.primaryXAxis.maxLabelSize.height,t.radius=t.primaryXAxis.coefficient*t.radius/100,this.seriesClipRect.y=this.centerY-t.radius,this.seriesClipRect.x=this.centerX-t.radius,this.seriesClipRect.height=2*t.radius,this.seriesClipRect.width=2*t.radius,this.calculateRowSize(this.seriesClipRect),e=t.primaryYAxis,e.rect=this.seriesClipRect,this.calculateColumnSize(this.seriesClipRect),e=t.primaryXAxis,e.rect=this.seriesClipRect}measure(){let e=this.chart;e.verticalAxes.push(e.primaryYAxis);let t=e.rows[0];t.axes[0]=e.primaryYAxis,e.rows[0]=t,e.horizontalAxes.push(e.primaryXAxis);let i=e.columns[0];i.axes[0]=e.primaryXAxis,e.columns[0]=i}calculateRowSize(e){let t=this.chart,i=t.rows[0];i.computedHeight=e.height/2,i.computedTop=e.y,t.rows[0]=i}calculateColumnSize(e){let t=this.chart,i=t.columns[0];i.computedLeft=e.x,i.computedWidth=e.width,t.columns[0]=i}renderAxes(){let e,t=this.chart;this.startAngle=t.primaryXAxis.startAngle;let i=t.renderer.createGroup({id:t.element.id+"AxisCollection"}),s=t.renderer.createGroup({id:t.element.id+"AxisOutsideCollection"});for(let n=0,r=t.axisCollections.length;n<r;n++)this.element=t.renderer.createGroup({id:t.element.id+"AxisGroup"+n}),e=t.axisCollections[n],"Horizontal"===e.orientation?((e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawXAxisGridLine(e,n),e.visible&&e.internalVisibility&&this.drawXAxisLabels(e,n)):(this.drawYAxisGridLine(e,n),e.lineStyle.width>0&&this.drawYAxisLine(e,n,e.plotOffset,0),e.visible&&e.internalVisibility&&this.drawYAxisLabels(e,n)),i.appendChild(this.element);return i.appendChild(this.element),Xk(t.enableCanvas,t.svgObject,i,t.redraw),s}drawYAxisLine(e,t,i,s){let n=this.chart,r={},a=xk(_k(e.visibleLabels[0].value,e),this.startAngle);r={id:n.element.id+"AxisLine_"+t,d:"M "+this.centerX+" "+this.centerY+"L "+(this.centerX+n.radius*a.x)+" "+(this.centerY+n.radius*a.y),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||n.themeStyle.axisLine};let o=n.renderer.drawPath(r);this.setPointerEventNone(o),n.yAxisElements.appendChild(o)}drawYAxisLabels(e,t){let i,s,n,r,a,o=this.chart,l=0,h=0,c=this.startAngle<0?this.startAngle+360:this.startAngle,d=[],u=[];u[0]=!0;let p=e.labelIntersectAction,m=o.renderer.createGroup({id:o.element.id+"AxisLabels"+t});n=xk(_k(e.visibleLabels[0].value,e),this.startAngle);for(let g=0,f=e.visibleLabels.length;g<f;g++){if(a=!1,r=o.radius*bk(e.visibleLabels[g].value,e),i=e.visibleLabels[g].size,r=o.radius*bk(e.visibleLabels[g].value,e),l=this.centerX+r*n.x+(e.majorTickLines.height+i.width/2+2.5)*Math.cos(c*Math.PI/180)*("Inside"===e.labelPosition?1:-1),h=this.centerY+r*n.y+(e.majorTickLines.height+i.height/2)*Math.sin(c*Math.PI/180)*("Inside"===e.labelPosition?1:-1),h+=i.height/4,d[g]=this.getLabelRegion(l,h,e.visibleLabels[g],"middle"),0!==g&&"Hide"===p){for(let e=g;e>=0;e--){if(e=0===e?0:e===g?e-1:e,u[e]&&eA(d[g],d[e])){a=!0,u[g]=!1;break}u[g]=!0}if(a)continue;for(let e of this.visibleAxisLabelRect)if(eA(d[g],e)){a=!0;break}}a||(this.visibleAxisLabelRect.push(d[g]),s=new lx(o.element.id+t+"_AxisLabel_"+g,l,h,"middle",e.visibleLabels[g].text),dA(o.renderer,s,e.labelStyle,e.labelStyle.color||o.themeStyle.axisLabel,m,!1,o.redraw,!0,!0))}o.yAxisElements.appendChild(m)}drawYAxisGridLine(e,t){let i,s,n,r,a,o,l,h,c,d=this.chart,u="",p="",m=this.startAngle<0?this.startAngle+360:this.startAngle,g={color:e.majorGridLines.color||d.themeStyle.majorGridLine,width:e.majorGridLines.width};if(e.majorGridLines.width>0)if("Polar"===d.visibleSeries[0].type){for(let n=0;n<e.visibleLabels.length;n++)c=jk(d.element.id+"_MajorGridLine_"+t+"_"+n),h=c?c.getAttribute("r"):null,s=d.radius*bk(e.visibleLabels[n].value,e),i=new xA(d.element.id+"_MajorGridLine_"+t+"_"+n,"transparent",g,e.majorGridLines.width,this.centerX,this.centerY,s),Xk(d.enableCanvas,this.element,d.renderer.drawCircle(i),d.redraw,!0,"r","r",new SA(+h,+h),null,!0);s!==d.radius&&(i=new xA(d.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length+1,"transparent",g,e.majorGridLines.width,this.centerX,this.centerY,d.radius),Xk(d.enableCanvas,this.element,d.renderer.drawCircle(i),d.redraw,!0,"r","r",new SA(+h,+h),null,!0))}else{for(let n=0;n<e.visibleLabels.length;n++)s=d.radius*bk(e.visibleLabels[n].value,e),p=this.renderRadarGrid(s,"",d),c=jk(d.element.id+"_MajorGridLine_"+t+"_"+n),h=c?c.getAttribute("d"):null,i=new ux(d.element.id+"_MajorGridLine_"+t+"_"+n,"transparent",e.majorGridLines.width,e.majorGridLines.color||d.themeStyle.majorGridLine,null,null,p),Xk(d.enableCanvas,this.element,d.renderer.drawPath(i),d.redraw,!0,"x","y",null,h,!0);s!==d.radius&&(p=this.renderRadarGrid(d.radius,"",d),c=jk(d.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length),h=c?c.getAttribute("d"):null,i=new ux(d.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length,"transparent",e.majorGridLines.width,e.majorGridLines.color||d.themeStyle.majorGridLine,null,null,p),Xk(d.enableCanvas,this.element,d.renderer.drawPath(i),d.redraw,!0,"x","y",null,h,!0))}if(e.majorTickLines.width>0){n=xk(_k(e.visibleLabels[0].value,e),this.startAngle);for(let i=0;i<e.visibleLabels.length;i++)s=d.radius*bk(e.visibleLabels[i].value,e),r=this.centerX+s*n.x,a=this.centerY+s*n.y,o=r+e.majorTickLines.height*Math.cos(m*Math.PI/180)*("Inside"===e.tickPosition?1:-1),l=a+e.majorTickLines.height*Math.sin(m*Math.PI/180)*("Inside"===e.tickPosition?1:-1),u="M "+r+" "+a+" L "+o+" "+l,this.renderTickLine(e,t,u,"",i)}}renderRadarGrid(e,t,i){let s,n,r,a,o,l;for(let h=0,c=i.primaryXAxis.visibleLabels.length;h<c;h++)s=xk(_k(i.primaryXAxis.visibleLabels[h].value,i.primaryXAxis),this.startAngle),n=xk(_k(h+1<c?i.primaryXAxis.visibleLabels[h+1].value:i.primaryXAxis.visibleLabels[0].value,i.primaryXAxis),this.startAngle),r=this.centerX+e*s.x,a=this.centerY+e*s.y,o=this.centerX+e*n.x,l=this.centerY+e*n.y,t=t.concat((h?"L ":"M ")+" "+r+" "+a+" L  "+o+" "+l+" ");return t}drawXAxisGridLine(e,t){let i,s,n,r,a,o=this.chart,l="",h="",c="",d="",u=this.centerX,p=this.centerY,m=e.visibleLabels.length;for(let g=0;g<m;g++)i=e.visibleLabels[g].value,s=xk(_k(e.visibleLabels[g].value,e),this.startAngle),n=this.centerX+o.radius*s.x,r=this.centerY+o.radius*s.y,l="M "+u+" "+p+" L "+n+" "+r,h="M "+n+" "+r+" L "+(n+e.majorTickLines.height*s.x*("Inside"===e.tickPosition?-1:1))+" "+(r+e.majorTickLines.height*s.y*("Inside"===e.tickPosition?-1:1)),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&"Category"!==e.valueType&&"Radar"!==o.visibleSeries[0].type&&(a=this.drawAxisMinorLine(e,i,c,d),c=a[0],d=a[1]),this.renderTickLine(e,t,h,d,g),this.renderGridLine(e,t,l,c,g)}drawAxisMinorLine(e,t,i,s){let n,r,a,o=t,l=e.visibleRange,h=[];for(let c=0;c<e.minorTicksPerInterval;c++)if(o+=("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval)/(e.minorTicksPerInterval+1),ok(o,l)){a=xk(_k(o,e),this.startAngle),n=this.centerX+this.chart.radius*a.x,r=this.centerY+this.chart.radius*a.y;let t=n+e.minorTickLines.height*a.x*("Inside"===e.tickPosition?-1:1),l=r+e.minorTickLines.height*a.y*("Inside"===e.tickPosition?-1:1);i=i.concat("M "+this.centerX+" "+this.centerY+"L "+n+" "+r),s=s.concat("M "+n+" "+r+"L "+t+" "+l)}return h.push(i),h.push(s),h}drawXAxisLabels(e,t){let i;this.visibleAxisLabelRect=[],this.chart.legendModule&&(i=this.chart.legendModule.legendBounds);let s,n,r,a,o,l,h,c=this.chart,d=0,u=0,p=c.renderer.createGroup({id:c.element.id+"AxisLabels"+t}),m="Inside"===e.labelPosition,g="",f=[],y=[];y[0]=!0;let b=e.labelIntersectAction,v="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,w=c.radius+e.majorTickLines.height;w=m?-w:w;for(let x=0,_=e.visibleLabels.length;x<_;x++){if(h=!1,n=xk(_k(e.visibleLabels[x].value+v,e),this.startAngle),isNaN(n.x)||isNaN(n.y)||(d=this.centerX+(w+e.majorTickLines.height+5)*n.x,u=this.centerY+(w+e.majorTickLines.height+5)*n.y,g=parseFloat(d.toFixed(1))===parseFloat(this.centerX.toFixed(1))?"middle":d<this.centerX&&!m||d>this.centerX&&m?"end":"start"),l=e.visibleLabels[x],r=l.text,e.enableTrim||"Trim"===b){let t,i,s=e.visibleLabels[x].originalText,n=e.labelPosition,a=c.availableSize.width,o=s.length;for(let h=o-1;h>=0;--h)if(t=s.substring(0,h)+"...",i=ix(t,e.labelStyle).width,d===a/2?d-i/2>=0&&d+i/2<=a:"Outside"===n&&(d>=a/2&&d+i<=a||d<=a/2&&d-i>=0)||"Inside"===n&&(d+i<=a/2||d-i>=a/2)){r=h===o-1?s:t,l.size.width=ix(r,e.labelStyle).width,l.text=r;break}}if(f[x]=this.getLabelRegion(d,u,l,g),0===x?a=d:x===e.visibleLabels.length-1&&"Category"!==e.valueType&&(o=ix(r,e.labelStyle).height,o+=d,r=o>a?"":r),0!==x&&"Hide"===b)for(let e=x;e>=0;e--){if(e=0===e?0:e===x?e-1:e,y[e]&&eA(f[x],f[e])){h=!0,y[x]=!1;break}y[x]=!0}if(!h&&i&&(h=eA(f[x],i),h)){let t=this.getAvailableSpaceToTrim(i,f[x]);t>0&&(r=oA(t,e.visibleLabels[x].originalText,e.labelStyle),h=!1)}s=new lx(c.element.id+t+"_AxisLabel_"+x,d,u,g,r,"","central"),h||(this.visibleAxisLabelRect.push(f[x]),dA(c.renderer,s,l.labelStyle,l.labelStyle.color||c.themeStyle.axisLabel,p,!1,c.redraw,!0,!0))}this.element.appendChild(p)}getAvailableSpaceToTrim(e,t){let i=e.x,s=i+e.width,n=t.x,r=n+t.width,a=0;return n>i&&n<s&&r>s?a=r-s:n>i&&n<s&&r<s?a=0:r>i&&r<s&&n<i?a=i-n:r>i&&r>s&&n<i&&(a=i-n),a}getLabelRegion(e,t,i,s){return"middle"===s?e-=i.size.width/2:"end"===s?e-=i.size.width:e=e,new rx(e,t-=i.size.height/2,i.size.width,i.size.height)}renderTickLine(e,t,i,s,n){let r,a,o,l=this.chart;e.majorTickLines.width>0&&(o=jk(l.element.id+"_MajorTickLine_"+t+"_"+n),a=o?o.getAttribute("d"):null,r=new ux(l.element.id+"_MajorTickLine_"+t+"_"+n,"transparent",e.majorTickLines.width,e.majorTickLines.color||l.themeStyle.majorTickLine,null,null,i),o=l.renderer.drawPath(r),this.setPointerEventNone(o),Xk(l.enableCanvas,l.yAxisElements,o,l.redraw,!0,"x","y",null,a)),e.minorTickLines.width>0&&(o=jk(l.element.id+"_MinorTickLine_"+t+"_"+n),a=o?o.getAttribute("d"):null,r=new ux(l.element.id+"_MinorTickLine_"+t+"_"+n,"transparent",e.minorTickLines.width,e.minorTickLines.color||l.themeStyle.minorTickLine,null,null,s),o=l.renderer.drawPath(r),this.setPointerEventNone(o),Xk(l.enableCanvas,l.yAxisElements,o,l.redraw,!0,"x","y",null,a))}renderGridLine(e,t,i,s,n){let r,a,o,l=this.chart;e.majorGridLines.width>0&&(o=jk(l.element.id+"_MajorGridLine_"+t+"_"+n),a=o?o.getAttribute("d"):null,r=new ux(l.element.id+"_MajorGridLine_"+t+"_"+n,"transparent",e.majorGridLines.width,e.majorGridLines.color||l.themeStyle.majorGridLine,null,e.majorGridLines.dashArray,i),Xk(l.enableCanvas,this.element,l.renderer.drawPath(r),l.redraw,!0,"x","y",null,a)),e.minorGridLines.width>0&&(o=jk(l.element.id+"_MinorGridLine_"+t+"_"+n),a=o?o.getAttribute("d"):null,r=new ux(l.element.id+"_MinorGridLine_"+t+"_"+n,"transparent",e.minorGridLines.width,e.minorGridLines.color||l.themeStyle.minorGridLine,null,e.minorGridLines.dashArray,s),Xk(l.enableCanvas,this.element,l.renderer.drawPath(r),l.redraw,!0,"x","y",null,a))}setPointerEventNone(e){e&&e.setAttribute("style","pointer-events:none")}}class rM extends nM{render(e,t,i,s){let n=Mk(e.drawType),r=i.minimum,a=i.maximum;for(let o of e.points)o.visible=o.visible&&!(!Qy(r)&&o.yValue<r||!Qy(a)&&o.yValue>a);e.drawType.indexOf("Column")>-1?this.columnDrawTypeRender(e,t,i):e.chart[n+"SeriesModule"].render(e,t,i,s)}columnDrawTypeRender(e,t,i){let s,n,r,a,o,l,h,c,d,u,p,m,g,f,y,b,v,w,x,_,S,C=t.actualRange.min,E=e.clipRect.width/2+e.clipRect.x,D=e.clipRect.height/2+e.clipRect.y,k="RangeColumn"===e.drawType,A="Polar"===e.type,M="Logarithmic"===i.valueType,L="StackingColumn"===e.drawType,T="",R=0,P=(e.points[1]?e.points[1].xValue:2*e.points[0].xValue)-e.points[0].xValue,I="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?0:t.isInversed?-P/2:P/2,O="DateTime"===t.valueType?t.dateTimeInterval:1;this.getSeriesPosition(e);let N=t.isInversed?e.rectCount-1-e.position:e.position;do{R+=O,C+=O}while(C<=t.actualRange.max-("Category"===t.valueType?0:1));for(let V of e.points)V.symbolLocations=[],V.regions=[],V.visible&&ck(e.points[V.index-1],V,e.points[V.index+1],e)&&(h=t.isInversed?t.visibleRange.max-V.xValue:V.xValue-t.visibleRange.min,o=h+(P/e.rectCount*N-I)+R/360*t.startAngle,o/=R,r=2*Math.PI*(o+t.startAngle),a=2*Math.PI*(o+t.startAngle+P/e.rectCount/R),0===r&&0===a?(a=2*Math.PI,S="1"):S="0",c=r,d=a,r=r-.5*Math.PI+e.columnSpacing/2,a=a-.5*Math.PI-1e-6-e.columnSpacing/2,L||k?(f=k?V.low:e.stackedValues.startValues[V.index],y=k?V.high:e.stackedValues.endValues[V.index],y=M?rk(0===y?1:y,i.logBase):y,y=y>i.actualRange.max?i.actualRange.max:y):(f=i.visibleRange.min,y=V.yValue>i.actualRange.max?i.actualRange.max:V.yValue),l=f===y?0:e.chart.radius*bk(y,i),u=E+l*Math.cos(r),p=E+l*Math.cos(a),m=D+l*Math.sin(r),g=D+l*Math.sin(a),b=e.chart.radius*bk(0===f&&0!==i.visibleRange.min?i.visibleRange.min:f,i),v=E+b*Math.cos(r),w=D+b*Math.sin(r),x=E+b*Math.cos(a),_=D+b*Math.sin(a),T=A?"M "+u+" "+m+" A "+l+" "+l+" 0 "+S+" 1 "+p+" "+g+" L "+x+" "+_+" A "+b+" "+b+" 1 0 0 "+v+" "+w+" Z":"M "+u+" "+m+" L "+p+" "+g+" L "+x+" "+_+" L "+v+" "+w+" Z",V.regionData=new Ck(c,d,b,l,o),n=this.triggerEvent(e.chart,e,V),s=new ux(e.chart.element.id+"_Series_"+e.index+"_Point_"+V.index,n.fill,n.border.width,n.border.color,e.opacity,e.dashArray,T),n.cancel||(this.appendLinePath(s,e,""),A?(V.symbolLocations.push({x:E+l*Math.cos(r+(a-r)/2),y:D+l*Math.sin(r+(a-r)/2)}),k&&V.symbolLocations.push({x:E+b*Math.cos(r+(a-r)/2),y:D+b*Math.sin(r+(a-r)/2)})):(V.symbolLocations.push({x:(u+p)/2,y:(m+g)/2}),k&&V.symbolLocations.push({x:(x+v)/2,y:(_+w)/2}))));this.renderMarker(e),e.isRectSeries=!0}triggerEvent(e,t,i){let s={cancel:!1,name:"pointRender",series:t,point:i,fill:t.setPointColor(i,t.interior),border:t.setBorderColor(i,{width:t.border.width,color:t.border.color})};return e.trigger("pointRender",s),i.color=s.fill,s}getSeriesPosition(e){let t=e.chart,i=[],s=[],n={rectCount:0,position:null};for(let r of t.visibleSeries)!r.visible||"Polar"!==r.type&&"Radar"!==r.type||-1===r.drawType.indexOf("Column")||i.push(r);for(let r=0;r<i.length;r++){let e=i[r];-1!==e.drawType.indexOf("Stacking")?e.stackingGroup?void 0===s[e.stackingGroup]?(e.position=n.rectCount,s[e.stackingGroup]=n.rectCount++):e.position=s[e.stackingGroup]:null===n.position?(e.position=n.rectCount,n.position=n.rectCount++):e.position=n.position:e.position=n.rectCount++}for(let r=0;r<i.length;r++)i[r].rectCount=n.rectCount}doAnimation(e){let t=e.animation.duration,i=e.animation.delay,s=e.seriesElement.childNodes,n=1;if("Scatter"===e.drawType)for(let r of e.points)r.symbolLocations.length&&s[n]&&(Pk(s[n],i,t,e,r.index,r.symbolLocations[0],!1),n++);else for(n=1;n<s.length;n++)this.doPolarRadarAnimation(s[n],i,t,e)}doPolarRadarAnimation(e,t,i,s){let n=s.clipRect.width/2+s.clipRect.x,r=s.clipRect.height/2+s.clipRect.y,a=0;e.style.visibility="hidden",new gw({}).animate(e,{duration:i,delay:t,progress:t=>{t.timeStamp>t.delay&&(t.element.style.visibility="visible",a=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate("+n+" "+r+") scale("+a+") translate("+-n+" "+-r+")"))},end:t=>{e.style.visibility="visible",e.removeAttribute("transform"),s.chart.trigger("animationComplete",{series:s.chart.isBlazor?{}:s})}})}getPolarIsInversedPath(e,t){let i,s,n,r=this.chart.radius,a=t,o=e.isInversed?"1 1 ":"1 0 ";return i=xk(_k(e.visibleLabels[0].value,e),this.startAngle),s=this.centerX+r*i.x,n=this.centerY+r*i.y,a+"L "+s+" "+n+" A "+r+" "+r+" 0 "+o+s+" "+(this.centerY+r)+" A "+r+" "+r+" 0 "+o+s+" "+n+" "}getModuleName(){return"PolarSeries"}destroy(e){}}class aM extends rM{render(e,t,i,s){let n=Mk(e.drawType),r=i.minimum,a=i.maximum;for(let o of e.points)o.visible=o.visible&&!(!Qy(r)&&o.yValue<r||!Qy(a)&&o.yValue>a);-1===e.drawType.indexOf("Column")?e.chart[n+"SeriesModule"].render(e,t,i,s):this.columnDrawTypeRender(e,t,i)}getRadarIsInversedPath(e,t){let i,s,n,r=this.chart.radius,a=e.visibleLabels.length,o=t;n=xk(_k(e.visibleLabels[0].value,e),this.startAngle),s=this.centerY+r*n.y,i=this.centerX+r*n.x,o+=" L "+i+" "+s+" ";for(let l=a-1;l>=0;l--)n=xk(_k(e.visibleLabels[l].value,e),this.startAngle),s=this.centerY+r*n.y,i=this.centerX+r*n.x,o+="L "+i+" "+s+" ";return o}getModuleName(){return"RadarSeries"}destroy(e){}}class oM extends JA{render(e){let t,i,s=this.getSideBySideInfo(e),n=e.stackedValues;for(let r of e.points)r.symbolLocations=[],r.regions=[],r.visible&&ck(e.points[r.index-1],r,e.points[r.index+1],e)&&(t=this.getRectangle(r.xValue+s.start,n.endValues[r.index],r.xValue+s.end,n.startValues[r.index],e),i=this.triggerEvent(e,r,e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.drawRectangle(e,r,t,i),this.updateSymbolLocation(r,t,e)));this.renderMarker(e)}destroy(e){}getModuleName(){return"StackingBarSeries"}doAnimation(e){this.animate(e)}}class lM extends JA{render(e){let t,i=this.getSideBySideInfo(e),s=Math.max(e.border.width,1);for(let n of e.points){let r,a,o,l="";o=(i.start+i.end)/2,n.regions=[],n.symbolLocations=[],n.visible&&ck(e.points[n.index-1],n,e.points[n.index+1],e)&&(a=this.getRectangle(n.xValue+i.median,Math.max(n.high,n.low),n.xValue+i.median,Math.min(n.high,n.low),e),e.chart.requireInvertedAxis?(a.y-=s/2,a.height=s):(a.x-=s/2,a.width=s),r=this.getRectangle(n.xValue+i.start,Math.max(n.open,n.close),n.xValue+i.end,Math.min(n.open,n.close),e),l=this.getPathString(a,r,e),t=this.triggerPointRenderEvent(e,n),t.cancel||(this.drawCandle(e,n,r,t,l),this.updateSymbolLocation(n,a,e),this.updateSymbolLocation(n,r,e)))}}triggerPointRenderEvent(e,t){let i;i=this.getCandleColor(t,e);let s={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,s)}getCandleColor(e,t){let i=t.points[e.index-1];return!1===t.enableSolidCandles?i&&i.close>e.close?t.bullFillColor:t.bearFillColor:e.open>e.close?t.bullFillColor:t.bearFillColor}getPathString(e,t,i){let s="",n=i.chart.requireInvertedAxis?e.y+e.height/2:e.x+e.width/2;return s+=i.chart.requireInvertedAxis?"M "+e.x+" "+n+" L "+t.x+" "+n:"M "+n+" "+e.y+" L "+n+" "+t.y,s=s.concat(" M "+t.x+" "+t.y+" L "+(t.x+t.width)+" "+t.y+" L "+(t.x+t.width)+" "+(t.y+t.height)+" L "+t.x+" "+(t.y+t.height)+" Z"),s+=i.chart.requireInvertedAxis?" M "+(t.x+t.width)+" "+n+" L "+(e.x+e.width)+" "+n:" M "+n+" "+(t.y+t.height)+" L "+n+" "+(e.y+e.height),s}drawCandle(e,t,i,s,n){if((e.chart.requireInvertedAxis?i.height:i.width)<=0)return null;let r=e.enableSolidCandles?s.fill:t.open>t.close?s.fill:"transparent";s.border.color=s.fill;let a=new ux(e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,r,s.border.width,s.border.color,e.opacity,e.dashArray,n),o=jk(a.id),l=o?o.getAttribute("d"):null,h=e.chart.renderer.drawPath(a,new Int32Array([e.clipRect.x,e.clipRect.y]));h.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(h),Ik(o,n,e.chart.redraw,l)}doAnimation(e){this.animate(e)}getModuleName(){return"CandleSeries"}destroy(e){}}class hM extends JA{render(e){e.isRectSeries=!0;let t,i,s=this.getSideBySideInfo(e),n=e.stackedValues,r=sk(e);for(let a of r)a.symbolLocations=[],a.regions=[],a.visible&&ck(r[a.index-1],a,r[a.index+1],e)&&(t=this.getRectangle(a.xValue+s.start,n.endValues[a.index],a.xValue+s.end,n.startValues[a.index],e),i=this.triggerEvent(e,a,e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.drawRectangle(e,a,t,i),this.updateSymbolLocation(a,t,e)));this.renderMarker(e)}doAnimation(e){this.animate(e)}destroy(e){}getModuleName(){return"StackingColumnSeries"}}class cM extends KA{render(e,t,i,s){let n,r,a,o,l="",h="M",c=null,d=this.enableComplexProperty(e);r="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0;for(let u of d)u.symbolLocations=[],u.regions=[],u.visible&&ck(d[u.index-1],u,d[u.index+1],e)?(null!=c?(o=Uk(u.xValue,u.yValue,t,i,s),a=Uk(c.xValue,c.yValue,t,i,s),l=l.concat(h+" "+a.x+" "+a.y+" L "+o.x+" "+a.y+" L "+o.x+" "+o.y+" "),h="L"):(a=Uk(u.xValue-r,u.yValue,t,i,s),l=l.concat(h+" "+a.x+" "+a.y+" "),h="L"),this.storePointLocation(u,e,s,Uk),c=u):(c="Drop"===e.emptyPointSettings.mode?c:null,h="Drop"===e.emptyPointSettings.mode?h:"M");a=Uk(d[d.length-1].xValue+r,d[d.length-1].yValue,t,i,s),l=l.concat(h+" "+a.x+" "+a.y+" "),n=new ux(e.chart.element.id+"_Series_"+e.index,"transparent",e.width,e.interior,e.opacity,e.dashArray,l),this.appendLinePath(n,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(e){}getModuleName(){return"StepLineSeries"}}class dM extends KA{render(e,t,i,s){let n,r,a,o,l,h,c=null,d="",u=this.enableComplexProperty(e),p=u.length,m=Math.max(e.yAxis.visibleRange.min,0),g=null;h="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0;for(let f=0;f<p;f++)o=u[f],l=o.xValue,o.symbolLocations=[],o.regions=[],o.visible&&ck(u[f-1],o,u[f+1],e)&&(null===c&&(c=new SA(l,0),n=Uk(l-h,m,t,i,s),d+="M "+n.x+" "+n.y+" ",n=Uk(l-h,o.yValue,t,i,s),d+="L "+n.x+" "+n.y+" "),null!=g?(n=Uk(o.xValue,o.yValue,t,i,s),r=Uk(g.xValue,g.yValue,t,i,s),d+="L "+n.x+" "+r.y+" L "+n.x+" "+n.y+" "):"Gap"===e.emptyPointSettings.mode&&(n=Uk(o.xValue,o.yValue,t,i,s),d+="L "+n.x+" "+n.y+" "),this.storePointLocation(o,e,s,Uk),g=o),u[f+1]&&!u[f+1].visible&&"Drop"!==e.emptyPointSettings.mode&&(n=Uk(l+h,m,t,i,s),d+="L "+n.x+" "+n.y,c=null,g=null);p>1&&""!==d?(c={x:u[p-1].xValue+h,y:u[p-1].yValue},r=Uk(c.x,c.y,t,i,s),d+="L "+r.x+" "+r.y+" ",c={x:u[p-1].xValue+h,y:m},r=Uk(c.x,c.y,t,i,s),d+="L "+r.x+" "+r.y+" "):d="",a=new ux(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,d),this.appendLinePath(a,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(e){}getModuleName(){return"StepAreaSeries"}}class uM extends KA{render(e,t,i,s){let n,r,a="PolarRadar"===e.chart.chartAreaType,o=a?vk:Uk,l="",h=this.enableComplexProperty(e),c=h.length,d=e.stackedValues,u=a?Math.max(e.yAxis.visibleRange.min,d.endValues[0]):Math.max(e.yAxis.visibleRange.min,d.startValues[0]),p=0,m=o(h[0].xValue,u,t,i,s,e);l=l.concat("M "+m.x+" "+m.y+" ");let g=e.chart&&"PolarRadar"===e.chart.chartAreaType;for(let f=0;f<c;f++)if(h[f].symbolLocations=[],h[f].regions=[],h[f].visible&&ck(h[f-1],h[f],h[f+1],e))m=o(h[f].xValue,d.endValues[f],t,i,s,e),l=l.concat("L "+m.x+" "+m.y+" "),h[f].symbolLocations.push(o(h[f].xValue,d.endValues[f],t,i,s,e)),h[f].regions.push(new rx(h[f].symbolLocations[0].x-e.marker.width,h[f].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height));else if(!g&&"Drop"!==e.emptyPointSettings.mode){for(let n=f-1;n>=p;n--)r=o(h[n].xValue,d.startValues[n],t,i,s,e),l=l.concat("L "+r.x+" "+r.y+" ");h[f+1]&&h[f+1].visible&&(!g||g&&this.withinYRange(h[f+1],i))&&(m=o(h[f+1].xValue,d.startValues[f+1],t,i,s,e),l=l.concat("M "+m.x+" "+m.y+" ")),p=f+1}if("PolarRadar"===e.chart.chartAreaType&&h.length>1){let n=this.getFirstLastVisiblePoint(e.points),a=this.chart;m={x:n.first.xValue,y:d.endValues[n.first.index]},r=o(m.x,m.y,t,i,s,e),l+="L "+r.x+" "+r.y+" ",1===this.chart.visible&&(t.isInversed||i.isInversed)&&(this.chart.enableAnimation=!1,l="Polar"===e.type?a.polarSeriesModule.getPolarIsInversedPath(t,l):a.radarSeriesModule.getRadarIsInversedPath(t,l))}if(!g||g&&e.index!==this.getFirstSeriesIndex(e.chart.visibleSeries))for(let f=c-1;f>=p;f--){if(g&&!h[f].visible)continue;let n=this.getPreviousSeries(e);"Drop"===n.emptyPointSettings.mode&&n.points[f].isEmpty||(r=o(h[f].xValue,d.startValues[f],t,i,s,e),l=l.concat((f===c-1&&a?"M":"L")+" "+r.x+" "+r.y+" "))}n=new ux(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,l),this.appendLinePath(n,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(e){}getModuleName(){return"StackingAreaSeries"}getPreviousSeries(e){let t=e.chart.visibleSeries;for(let i=0,s=t.length;i<s;i++)if(e.index===t[i].index&&0!==i)return t[i-1];return t[0]}getFirstSeriesIndex(e){for(let t of e)if(t.visible)return t.index;return 0}}class pM extends KA{render(e,t,i,s){let n,r,a,o="PolarRadar"===e.chart.chartAreaType?vk:Uk,l="",h=this.enableComplexProperty(e),c=h.length,d=e.stackedValues;for(let u=0;u<c;u++)h[u].regions=[],h[u].symbolLocations=[],h[u].visible&&ck(h[u-1],h[u],h[u+1],e)?(r=o(h[u].xValue,d.endValues[u],t,i,s,e),l=l.concat((u?"L":"M")+" "+r.x+" "+r.y+" "),h[u].symbolLocations.push(o(h[u].xValue,d.endValues[u],t,i,s,e)),h[u].regions.push(new rx(h[u].symbolLocations[0].x-e.marker.width,h[u].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height))):"Drop"!==e.emptyPointSettings.mode&&h[u+1]&&h[u+1].visible&&(r=o(h[u+1].xValue,d.endValues[u+1],t,i,s,e),l=l.concat("M "+r.x+" "+r.y+" "));"PolarRadar"===e.chart.chartAreaType&&h.length>1&&(r={y:d.endValues[0],x:e.points[0].xValue},a=o(r.x,r.y,t,i,s,e),l+="L "+a.x+" "+a.y+" "),n=new ux(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.interior,e.opacity,e.dashArray,l),this.appendLinePath(n,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(e){}getModuleName(){return"StackingLineSeries"}}class mM{render(e,t,i,s){e.isRectSeries=!1;let n,r,a=e.marker,o=e.points,l="PolarRadar"===e.chart.chartAreaType?vk:Uk,h=e.chart.redraw;for(let c of o)r=h&&c.symbolLocations?c.symbolLocations[0]:null,c.symbolLocations=[],c.regions=[],c.visible&&ck(o[c.index-1],c,o[c.index+1],e)&&(n={cancel:!1,name:"pointRender",series:e,point:c,fill:e.setPointColor(c,e.interior),border:e.setBorderColor(c,{width:e.border.width,color:e.border.color}),height:a.height,width:a.width,shape:a.shape},e.chart.trigger("pointRender",n),n.cancel?c.marker={visible:!0}:(c.symbolLocations.push(l(c.xValue,c.yValue,t,i,s,e)),c.color=n.fill,this.refresh(e,c,n,r)))}refresh(e,t,i,s){let n,r,a=e.chart,o=e.marker,l=new ux(a.element.id+"_Series_"+e.index+"_Point_"+t.index,i.fill,i.border.width,i.border.color,e.opacity,null);a.redraw&&jk(l.id)&&(n="Circle"===i.shape?"c":"",r=jk(l.id).getAttribute("d")),Xk(!1,e.seriesElement,zk(t.symbolLocations[0],i.shape,new nx(i.width,i.height),o.imageUrl,l,(t.x.toString(),t.yValue.toString()),e.chart.svgRenderer,e.clipRect),a.redraw,!0,n+"x",n+"y",s,r),t.regions.push(new rx(t.symbolLocations[0].x-o.width,t.symbolLocations[0].y-o.height,2*o.width,2*o.height)),t.marker={border:i.border,fill:i.fill,height:i.height,visible:!0,width:i.width,shape:i.shape}}doAnimation(e){let t=e.animation.duration,i=e.animation.delay,s=e.seriesElement.childNodes,n=1;for(let r of e.points)r.symbolLocations.length&&s[n]&&(Pk(s[n],i,t,e,r.index,r.symbolLocations[0],!1),n++)}getModuleName(){return"ScatterSeries"}destroy(e){}}class gM extends JA{render(e){let t,i,s=this.getSideBySideInfo(e);for(let n of e.points)n.symbolLocations=[],n.regions=[],n.visible&&ck(e.points[n.index-1],n,e.points[n.index+1],e)&&(t=this.getRectangle(n.xValue+s.start,n.high,n.xValue+s.end,n.low,e),i=this.triggerEvent(e,n,e.interior,{width:e.border.width,color:e.border.color}),i.cancel||(this.updateSymbolLocation(n,t,e),this.drawRectangle(e,n,t,i)));this.renderMarker(e)}getModuleName(){return"RangeColumnSeries"}doAnimation(e){this.animate(e)}destroy(e){}}class fM extends JA{render(e){let t,i,s,n,r=this.getSideBySideInfo(e),a=Math.max(e.yAxis.visibleRange.min,0),o=0,l="",h=0,c=null,d=e.chart.requireInvertedAxis,u=0,p=e.chart.redraw;for(let f of e.points)if(f.symbolLocations=[],f.regions=[],f.visible&&ck(e.points[f.index-1],f,e.points[f.index+1],e)){let p=this.isIntermediateSum(e,f.index),m=this.isSumIndex(e,f.index);h+=p||!0===m?0:f.yValue,s=!0===p?u:null===o||m?a:o,t=this.getRectangle(f.xValue+r.start,h,f.xValue+r.end,s,e),i=this.triggerPointRenderEvent(e,f),p&&(u=h),o=h,i.cancel||(this.updateSymbolLocation(f,t,e),this.drawRectangle(e,f,t,i));let g=f.regions[0];if(null!==c){let e=d?g.x:g.y,t=d?c.x+c.width:c.y+c.height,i=d?g.x+g.width:g.y+g.height;n=Math.round(d?c.x:c.y)===Math.round(e)||Math.round(t)===Math.round(e)?d?g.x:g.y:i,l=l.concat(d?"M "+n+" "+(c.y+c.height)+" L "+n+" "+g.y+" ":"M "+c.x+" "+n+" L "+(g.x+g.width)+" "+n+" ")}c=f.regions[0]}let m=new ux(e.chart.element.id+"_Series_"+e.index+"_Connector_","none",e.connector.width,e.connector.color,e.opacity,e.connector.dashArray,l);p&&jk(m.id)&&(l=jk(m.id).getAttribute("d"));let g=hA(p,m.id,m,e.chart.renderer)||e.chart.renderer.drawPath(m,new Int32Array([e.clipRect.x,e.clipRect.y]));g.style.visibility=e.chart.enableCanvas?null:e.animation.enable&&e.chart.animateSeries?"hidden":"visible",Xk(e.chart.enableCanvas,e.seriesElement,g,p,!0,null,null,null,l),this.renderMarker(e)}isIntermediateSum(e,t){return void 0!==e.intermediateSumIndexes&&-1!==e.intermediateSumIndexes.indexOf(t)}isSumIndex(e,t){return void 0!==e.sumIndexes&&-1!==e.sumIndexes.indexOf(t)}triggerPointRenderEvent(e,t){let i,s=this.isIntermediateSum(e,t.index),n=this.isSumIndex(e,t.index);return i=s||n?e.summaryFillColor:t.y<0?e.negativeFillColor:e.interior,this.triggerEvent(e,t,i,{color:e.border.color,width:e.border.width})}processInternalData(e,t){let i,s=e,n=t.intermediateSumIndexes,r=t.sumIndexes;if(void 0!==n&&n.length>0)for(let a=0;a<n.length;a++)for(let e=0;e<s.length;e++)e===n[a]&&(i=uk(s,0===a?-1:n[a-1],n[a],null,t),s[e][t.yName]=i);if(void 0!==r&&r.length>0)for(let a=0;a<r.length;a++)for(let e=0;e<s.length;e++)e===r[a]&&(i=uk(s,-1,r[a],void 0!==n?r:null,t),s[e][t.yName]=i);return s}doAnimation(e){this.animate(e)}getModuleName(){return"WaterfallSeries"}destroy(e){}}class yM extends JA{render(e){let t,i,s=this.getSideBySideInfo(e);for(let n of e.points)n.symbolLocations=[],n.regions=[],n.visible&&ck(e.points[n.index-1],n,e.points[n.index+1],e)&&(t=this.getRectangle(n.xValue+s.median,n.high,n.xValue+s.median,n.low,e),i=this.triggerPointRenderEvent(e,n),i.cancel||(e.chart.requireInvertedAxis?(t.height=i.border.width,t.y=t.y-t.height/2):(t.width=i.border.width,t.x=t.x-t.width/2),i.border.width=0,this.updateSymbolLocation(n,t,e),this.drawRectangle(e,n,t,i)))}triggerPointRenderEvent(e,t){let i={color:e.fill,width:Math.max(e.border.width,2)};return super.triggerEvent(e,t,e.interior,i)}getModuleName(){return"HiloSeries"}doAnimation(e){this.animate(e)}destroy(e){}}class bM extends JA{render(e){let t,i,s=this.getSideBySideInfo(e),n=Math.max(e.border.width,2);for(let r of e.points)r.symbolLocations=[],r.regions=[],r.visible&&ck(e.points[r.index-1],r,e.points[r.index+1],e)&&(t=this.getRectangle(r.xValue+s.start,Math.max(r.high,r.low),r.xValue+s.end,Math.min(r.high,r.low),e),r.regions.push(this.getRectangle(r.xValue+s.median,Math.max(r.high,r.low),r.xValue+s.median,Math.min(r.high,r.low),e)),this.updateTickRegion(!e.chart.requireInvertedAxis,r.regions[0],n),r.regions.push(this.getRectangle(r.xValue+s.start,Math.max(r.open,r.close),r.xValue+s.median,Math.max(r.open,r.close),e)),r.regions.push(this.getRectangle(r.xValue+s.median,Math.min(r.open,r.close),r.xValue+s.end,Math.min(r.open,r.close),e)),i=this.triggerPointRenderEvent(e,r),i.cancel||(this.updateSymbolLocation(r,r.regions[0],e),this.drawHiloOpenClosePath(e,r,{x:r.regions[1].x,y:r.regions[1].y},{x:r.regions[2].x,y:r.regions[2].y},t,i)),this.updateTickRegion(e.chart.requireInvertedAxis,r.regions[1],n),this.updateTickRegion(e.chart.requireInvertedAxis,r.regions[2],n))}updateTickRegion(e,t,i){e?(t.x-=i/2,t.width=i):(t.y-=i/2,t.height=i)}triggerPointRenderEvent(e,t){let i=t.open<=t.close?e.bearFillColor:e.bullFillColor,s={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,s)}drawHiloOpenClosePath(e,t,i,s,n,r){let a,o;e.chart.requireInvertedAxis?(a="M "+n.x+" "+(n.y+n.height/2)+" L "+(n.x+n.width)+" "+(n.y+n.height/2)+" ",a+="M "+i.x+" "+(n.y+n.height/2)+" L "+i.x+" "+(n.y+n.height)+" ",a+="M "+s.x+" "+(n.y+n.height/2)+" L "+s.x+" "+n.y+" "):(a="M "+(n.x+n.width/2)+" "+(n.y+n.height)+" L "+(n.x+n.width/2)+" "+n.y+" ",a+="M "+n.x+" "+i.y+" L "+(n.x+n.width/2)+" "+i.y+" ",a+="M "+(n.x+n.width/2)+" "+s.y+" L "+(n.x+n.width)+" "+s.y+" "),o=new ux(e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,r.fill,r.border.width,r.fill,e.opacity,e.dashArray,a),Ik(jk(o.id),a,e.chart.redraw);let l=e.chart.renderer.drawPath(o,new Int32Array([e.clipRect.x,e.clipRect.y]));l.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(l)}getModuleName(){return"HiloOpenCloseSeries"}doAnimation(e){this.animate(e)}destroy(e){}}class vM extends KA{render(e,t,i,s){let n,r="",a="M",o=void 0,l=this.enableComplexProperty(e);for(let c=0,d=l.length;c<d;c++){n=l[c],n.symbolLocations=[],n.regions=[];let h=Math.min(n.low,n.high),d=Math.max(n.low,n.high);if(i.isInversed){let e=h;h=d,d=e}let u=Uk(n.xValue,h,t,i,s),p=Uk(n.xValue,d,t,i,s);n.symbolLocations.push(p),n.symbolLocations.push(u);let m=new rx(Math.min(u.x,p.x),Math.min(u.y,p.y),Math.max(Math.abs(p.x-u.x),e.marker.width),Math.max(Math.abs(p.y-u.y),e.marker.width));s?m.y-=e.marker.width/2:m.x-=e.marker.width/2,n.regions.push(m),n.visible&&ck(l[n.index-1],n,l[n.index+1],e)?(r=r.concat(a+" "+u.x+" "+u.y+" "),o=!1,(c+1<l.length&&!l[c+1].visible||c===l.length-1)&&(r=this.closeRangeAreaPath(l,n,e,r,c),a="M",r=r.concat(" Z"),o=!0),a="L"):(!1===o&&0!==c&&(r=this.closeRangeAreaPath(l,n,e,r,c),o=!0),a="M",n.symbolLocations=[])}let h=new ux("Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,r);this.appendLinePath(h,e,""),this.renderMarker(e)}closeRangeAreaPath(e,t,i,s,n){for(let r=n;r>=0&&e[r].visible&&e[r].symbolLocations[0];r--)s+="L "+(t=e[r]).symbolLocations[0].x+" "+t.symbolLocations[0].y+" ";return s}doAnimation(e){this.doLinearAnimation(e,e.animation)}getModuleName(){return"RangeAreaSeries"}destroy(e){}}class wM{render(e,t,i,s){let n,r,a,o,l,h,c=e.marker,d=e.points,u=Math.max(e.chart.initialClipRect.height,e.chart.initialClipRect.width),p=u/100,m=e.maxRadius*p,g=e.minRadius*p,f=null,y=null,b=e.chart.redraw;if(null===e.maxRadius||null===e.minRadius){for(let t of e.chart.visibleSeries)"Bubble"!==t.type||!0!==t.visible||null!==t.maxRadius&&null!==t.minRadius||(f=t.sizeMax>f?t.sizeMax:f);y=u/5/2,g=m=1,o=y*m}else f=e.sizeMax,o=m-g;for(let v of d)h=b?v.symbolLocations[0]:null,v.symbolLocations=[],v.regions=[],v.visible&&ck(d[v.index-1],v,d[v.index+1],e)&&(a=null===e.maxRadius||null===e.minRadius?o*Math.abs(+v.size/f):g+o*Math.abs(+v.size/f),a=a||g,r={cancel:!1,name:"pointRender",series:e,point:v,fill:e.setPointColor(v,e.interior),border:e.setBorderColor(v,{width:e.border.width,color:e.border.color}),height:2*a,width:2*a},e.chart.trigger("pointRender",r),r.cancel?v.marker={visible:!1}:(v.symbolLocations.push(Uk(v.xValue,v.yValue,t,i,s)),v.color=r.fill,n=new ux(e.chart.element.id+"_Series_"+e.index+"_Point_"+v.index,r.fill,r.border.width,r.border.color,e.opacity,null),l=zk(v.symbolLocations[0],"Circle",new nx(r.width,r.height),c.imageUrl,n,(v.x.toString(),v.yValue.toString()),e.chart.svgRenderer,e.clipRect),Xk(!1,e.seriesElement,l,b),v.regions.push(new rx(v.symbolLocations[0].x-a,v.symbolLocations[0].y-a,2*a,2*a)),v.marker={border:r.border,fill:r.fill,height:r.height,visible:!0,shape:"Circle",width:r.width},b&&cA(l,300,h,v.symbolLocations[0],"cx","cy")))}destroy(e){}getModuleName(){return"BubbleSeries"}doAnimation(e){let t=e.animation.duration,i=e.animation.delay,s=e.seriesElement.childNodes,n=1;for(let r of e.points)r.symbolLocations.length&&(Pk(s[n],i,t,e,r.index,r.symbolLocations[0],!1),n++)}}class xM extends KA{constructor(e){super(e),this.splinePoints=[]}findSplinePoint(e){let t,i,s=[],n=[],r=0;s=this.filterEmptyPoints(e);for(let a=0;a<s.length;a++)i=s[a],null!==i.x&&""!==i.x&&(i.index=r,r++,n.push(i));if(this.splinePoints=this.findSplineCoefficients(n,e),n.length>1){e.drawPoints=[];for(let i of n)if(0!==i.index){let s=this.getPreviousIndex(n,i.index-1,e);t=this.getControlPoints(n[s],i,this.splinePoints[s],this.splinePoints[i.index],e),e.drawPoints.push(t);let r=e.yMax-e.yMin;i.yValue&&t.controlPoint1.y&&t.controlPoint2.y&&r>1&&(e.yMin=Math.floor(Math.min(e.yMin,i.yValue,t.controlPoint1.y,t.controlPoint2.y)),e.yMax=Math.ceil(Math.max(e.yMax,i.yValue,t.controlPoint1.y,t.controlPoint2.y)))}"PolarRadar"===e.chart.chartAreaType&&e.isClosed&&(t=this.getControlPoints({xValue:n[n.length-1].xValue,yValue:n[n.length-1].yValue},{xValue:n[n.length-1].xValue+1,yValue:n[0].yValue},this.splinePoints[0],this.splinePoints[n[n.length-1].index],e),e.drawPoints.push(t))}}getPreviousIndex(e,t,i){if("Drop"!==i.emptyPointSettings.mode)return t;for(;Qy(e[t])&&t>-1;)t-=1;return t}getNextIndex(e,t,i){if("Drop"!==i.emptyPointSettings.mode)return t;for(;Qy(e[t])&&t<e.length;)t+=1;return t}filterEmptyPoints(e){if("Drop"!==e.emptyPointSettings.mode&&this.isPointInRange(e.points))return e.points;let t=Ky([],e.points,null,!0);for(let i=0;i<t.length;i++)t[i].index=i,t[i].isEmpty&&(t[i].symbolLocations=[],t[i].regions=[],t.splice(i,1),i--);return t}isPointInRange(e){for(let t of e)if(!t.isPointInRange)return!1;return!0}findSplineCoefficients(e,t){let i,s,n,r,a,o,l,h=e.length,c=[],d=[],u=[],p=[],m=[],g=t.cardinalSplineTension?t.cardinalSplineTension:.5;switch(g=g<0?0:g>1?1:g,t.splineType){case"Monotonic":for(let t=0;t<h-1;t++)u[t]=e[t+1].xValue-e[t].xValue,p[t]=e[t+1].yValue-e[t].yValue,m[t]=p[t]/u[t];l=m.length,c[0]=m[0],c[h-1]=m[l-1];for(let e=0;e<u.length;e++)l>e+1&&(m[e]*m[e+1]<=0?c[e+1]=0:(o=u[e]+u[e+1],c[e+1]=3*o/((o+u[e+1])/m[e]+(o+u[e])/m[e+1])));break;case"Cardinal":for(let t=0;t<h;t++)c[t]=0===t?h>2?g*(e[t+2].xValue-e[t].xValue):0:t===h-1?h>2?g*(e[h-1].xValue-e[h-3].xValue):0:g*(e[t+1].xValue-e[t-1].xValue);break;default:"Clamped"===t.splineType?(c[0]=3*(e[1].yValue-e[0].yValue)/(e[1].xValue-e[0].xValue)-3,d[0]=.5,c[e.length-1]=3*(e[e.length-1].yValue-e[e.length-2].yValue)/(e[e.length-1].xValue-e[e.length-2].xValue),c[0]=d[0]=Math.abs(c[0])===1/0?0:c[0],c[e.length-1]=d[e.length-1]=Math.abs(c[e.length-1])===1/0?0:c[e.length-1]):(c[0]=d[0]=0,c[e.length-1]=0);for(let t=1;t<h-1;t++)if(i=e[t].xValue-e[t-1].xValue,s=e[t+1].xValue-e[t-1].xValue,n=e[t+1].xValue-e[t].xValue,r=e[t+1].yValue-e[t].yValue||null,a=e[t].yValue-e[t-1].yValue||null,0===i||0===s||0===n)c[t]=0,d[t]=0;else{let e=1/(i*c[t-1]+2*s);c[t]=-e*n,d[t]=e*(6*(r/n-a/i)-i*d[t-1])}for(let e=h-2;e>=0;e--)c[e]=c[e]*c[e+1]+d[e]}return c}getControlPoints(e,t,i,s,n){let r,a,o,l=i,h=s,c=e.xValue,d=e.yValue,u=t.xValue,p=t.yValue;switch(n.splineType){case"Cardinal":"DateTime"===n.xAxis.valueType&&(l=i/this.dateTimeInterval(n),h=s/this.dateTimeInterval(n)),r=new SA(c+i/3,d+l/3),a=new SA(u-s/3,p-h/3),o=new AA(r,a);break;case"Monotonic":let e=(u-c)/3;r=new SA(c+e,d+i*e),a=new SA(u-e,p-s*e),o=new AA(r,a);break;default:let t=1/3,m=u-c;m*=m;let g=t*(d+2*p-t*m*(.5*i+s));r=new SA((2*c+u)*t,t*(2*d+p-t*m*(i+.5*s))),a=new SA((c+2*u)*t,g),o=new AA(r,a)}return o}dateTimeInterval(e){let t,i=e.xAxis.actualIntervalType;return t="Years"===i?31536e6:"Months"===i?2592e6:"Days"===i?864e5:"Hours"===i?36e5:"Minutes"===i?6e4:"Seconds"===i?1e3:2592e6,t}doAnimation(e){this.doLinearAnimation(e,e.animation)}}class _M extends xM{render(e,t,i,s){let n,r,a,o=null,l="",h="M",c=[],d=[],u=0;c=this.filterEmptyPoints(e);for(let m=0;m<c.length;m++)r=c[m],Qy(r.x)||""===r.x||(r.index=u++,d.push(r));let p="PolarRadar"===e.chart.chartAreaType?vk:Uk;for(let m of d)a=this.getPreviousIndex(d,m.index-1,e),m.symbolLocations=[],m.regions=[],m.visible&&ck(d[a],m,d[this.getNextIndex(d,m.index-1,e)],e)?(null!==o&&(l=this.getSplineDirection(e.drawPoints[a],o,m,t,i,s,e,h,p,l),h="L"),o=m,this.storePointLocation(m,e,s,p)):(h="M",o=null,m.symbolLocations=[]);if(d.length>0&&e.drawPoints.length>0&&"PolarRadar"===e.chart.chartAreaType&&e.isClosed){let n=this.getFirstLastVisiblePoint(d);l=this.getSplineDirection(e.drawPoints[e.drawPoints.length-1],n.last,{xValue:n.first.xValue,yValue:n.first.yValue},t,i,s,e,h,p,l),h="L"}n=new ux("TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+e.index,"transparent",e.width,e.interior,e.opacity,e.dashArray,l),this.appendLinePath(n,e,""),this.renderMarker(e)}getSplineDirection(e,t,i,s,n,r,a,o,l,h){let c=e.controlPoint1,d=e.controlPoint2,u=l(t.xValue,t.yValue,s,n,r,a),p=l(i.xValue,i.yValue,s,n,r,a),m=l(c.x,c.y,s,n,r,a),g=l(d.x,d.y,s,n,r,a);return h.concat(o+" "+u.x+" "+u.y+" C "+m.x+" "+m.y+" "+g.x+" "+g.y+" "+p.x+" "+p.y+" ")}getModuleName(){return"SplineSeries"}destroy(e){}}class SM extends eM{render(e){super.render(e),e.showNormalDistribution&&this.renderNormalDistribution(e)}calculateBinInterval(e,t){let i=dk(e)/e.length,s=0;for(let n of e)s+=(n-i)*(n-i);t.histogramValues.mean=i,t.histogramValues.sDValue=Math.round(Math.sqrt(s/e.length-1)),t.histogramValues.binWidth=t.binInterval||Math.round(3.5*t.histogramValues.sDValue/Math.pow(e.length,1/3))}processInternalData(e,t){let i,s=[],n=[],r=Object.keys(e);for(let l=0;l<r.length;l++)n.push(e[r[l]][t.yName]);t.histogramValues={yValues:n};let a,o=Math.min(...t.histogramValues.yValues);this.calculateBinInterval(t.histogramValues.yValues,t),i=t.histogramValues.binWidth;for(let l=0;l<e.length;)a=n.filter(e=>e>=o&&e<o+i).length,s.push({x:o+i/2,[t.yName]:a}),o+=i,l+=a;return s}renderNormalDistribution(e){let t,i,s,n,r=e.xAxis.actualRange.min,a="",o="M",l=e.histogramValues.yValues.length,h=e.histogramValues.binWidth,c=e.histogramValues.mean,d=e.histogramValues.sDValue,u=(e.xAxis.actualRange.max-r)/499;for(let p=0;p<500;p++)t=r+p*u,s=Math.exp(-(t-c)*(t-c)/(2*d*d))/(d*Math.sqrt(2*Math.PI)),i=Uk(t,s*h*l,e.xAxis,e.yAxis,e.chart.requireInvertedAxis),a+=o+" "+i.x+" "+i.y+" ",o="L";n=e.chart.renderer.drawPath(new ux(e.chart.element.id+"_Series_"+e.index+"_NDLine","transparent",2,e.chart.themeStyle.errorBar,e.opacity,e.dashArray,a),new Int32Array([e.clipRect.x,e.clipRect.y])),n.style.visibility=e.chart.enableCanvas?null:e.animation.enable&&e.chart.animateSeries?"hidden":"visible",e.chart.enableCanvas||e.seriesElement.appendChild(n)}doAnimation(e){super.doAnimation(e),e.showNormalDistribution&&Bk(e.seriesElement.lastElementChild,e.animation.duration,500,"FadeIn")}getModuleName(){return"HistogramSeries"}destroy(e){}}class CM extends xM{render(e,t,i,s){let n,r,a,o,l,h,c,d=null,u="",p=null,m=null,g=[],f=[],y=0;g=this.filterEmptyPoints(e);for(let _=0;_<g.length;_++)c=g[_],null!==c.x&&""!==c.x&&(c.index=y,y++,f.push(c));let b,v=f.length,w="PolarRadar"===e.chart.chartAreaType?vk:Uk,x="PolarRadar"===e.chart.chartAreaType?e.points[0].yValue:Math.max(e.yAxis.visibleRange.min,0);for(let _=0;_<v;_++)c=f[_],c.symbolLocations=[],c.regions=[],b=this.getPreviousIndex(f,c.index-1,e),c.visible&&ck(f[b],c,f[this.getNextIndex(f,c.index-1,e)],e)?(d?(l=e.drawPoints[b].controlPoint1,h=e.drawPoints[b].controlPoint2,n=w(d.xValue,d.yValue,t,i,s,e),r=w(c.xValue,c.yValue,t,i,s,e),a=w(l.x,l.y,t,i,s,e),o=w(h.x,h.y,t,i,s,e),u=u.concat("C "+a.x+" "+a.y+" "+o.x+" "+o.y+" "+r.x+" "+r.y+" ")):(p=w(c.xValue,x,t,i,s,e),u+="M "+p.x+" "+p.y+" ",m=w(c.xValue,c.yValue,t,i,s,e),u+="L "+m.x+" "+m.y+" "),this.storePointLocation(c,e,s,w),d=c):(d=null,c.symbolLocations=[]),(_+1<v&&!f[_+1].visible||_===v-1)&&r&&p&&(p=w(c.xValue,x,t,i,s,e),u=u.concat("L "+p.x+" "+p.y));this.appendLinePath(new ux(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,u),e,""),this.renderMarker(e)}getModuleName(){return"SplineAreaSeries"}destroy(e){}}class EM extends KA{initSeriesCollection(e,t){e.targetSeries=[];let i=new FA(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)}setSeriesProperties(e,t,i,s,n,r){e.name=i.length<=4?i.toLocaleUpperCase():i,e.xName="x",e.yName="y",e.fill=s||"#606eff",e.dashArray=t.dashArray,e.width=n,e.xAxisName=t.xAxisName,e.animation=t.animation,e.yAxisName=t.yAxisName,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=!0,e.interior=e.fill,e.category="Indicator",e.index=t.index,e.chart=r,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],e.marker.visible=!1,t.targetSeries.push(e)}createIndicatorElements(e,t,i){(t.seriesName||t.dataSource)&&Ak(t.targetSeries[0]);let s=new rx(0,0,0,0);(t.seriesName||t.dataSource)&&(s=t.targetSeries[0].clipRect);let n=new vA(e.element.id+"_ChartIndicatorClipRect_"+i,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:s.width,height:s.height}),r=Ok(e.redraw,n,e.renderer);t.indicatorElement=e.renderer.createGroup({id:e.element.id+"IndicatorGroup"+i,transform:"translate("+s.x+","+s.y+")","clip-path":"url(#"+e.element.id+"_ChartIndicatorClipRect_"+i+")"}),t.indicatorElement.appendChild(r);for(let a of t.targetSeries){a.clipRectElement=r;let e=a.chart.renderer.createGroup({id:a.chart.element.id+"_Indicator_"+t.index+"_"+a.name+"_Group"});t.indicatorElement.appendChild(e),a.seriesElement=e}e.indicatorElements.appendChild(t.indicatorElement)}getDataPoint(e,t,i,s,n,r=null){let a=new RA;return a.x=e,a.y=t,a.xValue=i.xValue,a.color=s.fill,a.index=n,a.yValue=t,a.visible=!0,s.xMin=Math.min(s.xMin,a.xValue),s.yMin=Math.min(s.yMin,a.yValue),s.xMax=Math.max(s.xMax,a.xValue),s.yMax=Math.max(s.yMax,a.yValue),s.xData.push(a.xValue),r&&"Macd"===r.type&&"Column"===s.type&&(a.color=a.y>=0?r.macdPositiveColor:r.macdNegativeColor),a}getRangePoint(e,t,i,s,n,r,a=null){let o=new RA;return o.x=e,o.high=t,o.low=i,o.xValue=s.xValue,o.color=n.fill,o.index=r,o.visible=!0,n.xData.push(o.xValue),o}setSeriesRange(e,t,i=null){i?i.points=e:t.targetSeries[0].points=e}}class DM extends EM{initDataSource(e,t){let i=[],s=e.points;if(s&&s.length){let t=s,n=Mk(e.field),r="x",a=e.targetSeries[0];if(t&&t.length&&t.length>=e.period){let s=0,o=0;for(let i=0;i<e.period;i++)o+=t[i][n];s=o/e.period,i.push(this.getDataPoint(t[e.period-1][r],s,t[e.period-1],a,i.length));let l=e.period;for(;l<t.length;)o-=t[l-e.period][n],o+=t[l][n],s=o/e.period,i.push(this.getDataPoint(t[l][r],s,t[l],a,i.length)),l++}this.setSeriesRange(i,e)}}destroy(e){}getModuleName(){return"SmaIndicator"}}class kM extends EM{initDataSource(e,t){let i=Mk(e.field),s=[],n=e.targetSeries[0],r=e.points;if(r&&r.length&&r.length>=e.period){let t=0,a=0,o=2/(e.period+1);for(let s=0;s<e.period;s++)t+=r[s][i];a=t/e.period,s.push(this.getDataPoint(r[e.period-1].x,a,r[e.period-1],n,s.length));let l=e.period;for(;l<r.length;){let t=s[l-e.period][n.yName];s.push(this.getDataPoint(r[l].x,(r[l][i]-t)*o+t,r[l],n,s.length)),l++}}this.setSeriesRange(s,e)}destroy(e){}getModuleName(){return"EmaIndicator"}}class AM extends EM{initDataSource(e,t){let i=[],s=Mk(e.field),n=e.points;if(n&&n.length&&n.length>=e.period){let t=e.targetSeries[0],n=e.points;if(n.length&&n.length>=e.period){let r=0,a=[],o=0,l=n.length,h=e.period;for(;l>=h;){r=0,o=n.length-l;for(let e=o;e<o+h;e++)r+=n[e][s];r/=h,a.push(r),l--}for(let e=0;e<h-1;e++){r=0;for(let t=0;t<e+1;t++)r+=n[t][s];r/=e+1,a.splice(e,0,r)}for(o=e.period;o<=a.length;){r=0;for(let t=o-e.period;t<o;t++)r+=a[t];r/=e.period,i.push(this.getDataPoint(n[o-1].x,r,n[o-1],t,i.length)),o++}}}this.setSeriesRange(i,e)}destroy(e){}getModuleName(){return"TmaIndicator"}}class MM extends EM{initDataSource(e,t){let i=[],s=e.points;s.length>0&&s.length>e.period&&(i=this.calculateADPoints(e,s)),this.setSeriesRange(i,e)}calculateADPoints(e,t){let i=[],s=0,n=0,r=0,a=0,o=0,l=0,h=e.targetSeries[0];for(n=0;n<t.length;n++)a=Number(t[n].high),o=Number(t[n].low),l=Number(t[n].close),r=(l-o-(a-l))/(a-o),s+=r*Number(t[n].volume),i[n]=this.getDataPoint(t[n].x,s,t[n],h,i.length);return i}destroy(e){}getModuleName(){return"AccumulationDistributionIndicator"}}class LM extends EM{initDataSource(e,t){let i=e.points;i.length>0&&i.length>e.period&&this.calculateATRPoints(e,i)}calculateATRPoints(e,t){let i=0,s=0,n=0,r=0,a=0,o=[],l=[],h=e.period,c=0,d=e.targetSeries[0];for(let u=0;u<t.length;u++)s=Number(t[u].high)-Number(t[u].low),u>0&&(n=Math.abs(Number(t[u].high)-Number(t[u-1].close)),r=Math.abs(Number(t[u].low)-Number(t[u-1].close))),a=Math.max(s,n,r),c+=a,u>=h?(i=(Number(l[u-1].y)*(h-1)+a)/h,o.push(this.getDataPoint(t[u].x,i,t[u],d,o.length))):(i=c/h,u===h-1&&o.push(this.getDataPoint(t[u].x,i,t[u],d,o.length))),l[u]={x:t[u].x,y:i};this.setSeriesRange(o,e)}destroy(e){}getModuleName(){return"AtrIndicator"}}class TM extends EM{initSeriesCollection(e,t){super.initSeriesCollection(e,t);let i=new FA(e,"targetSeries",{},!0);super.setSeriesProperties(i,e,"UpperLine",e.upperLine.color,e.upperLine.width,t)}initDataSource(e,t){let i=[],s=[],n=e.points;if(n&&n.length){let t=e.targetSeries[1],r=e.targetSeries[0],a=e.period;if(n.length>=e.period)for(let e=0;e<n.length;e++)i.push(this.getDataPoint(n[e].x,100,n[e],t,i.length)),e<a||s.push(this.getDataPoint(n[e].x,Number(n[e].close)/Number(n[e-a].close)*100,n[e],r,s.length));this.setSeriesRange(s,e,e.targetSeries[0]),this.setSeriesRange(i,e,e.targetSeries[1])}}destroy(e){}getModuleName(){return"MomentumIndicator"}}class RM extends EM{initSeriesCollection(e,t){if(super.initSeriesCollection(e,t),e.showZones){let i=new FA(e,"targetSeries",{},!0);super.setSeriesProperties(i,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t);let s=new FA(e,"targetSeries",{},!0);super.setSeriesProperties(s,e,"UpperLine",e.upperLine.color,e.upperLine.width,t)}}initDataSource(e,t){let i=[],s=[],n=[],r=e.targetSeries[0],a=e.points;if(a.length&&a.length>=e.period){if(e.showZones)for(let i=0;i<a.length;i++)n.push(this.getDataPoint(a[i].x,e.overBought,a[i],e.targetSeries[1],n.length)),s.push(this.getDataPoint(a[i].x,e.overSold,a[i],e.targetSeries[2],s.length));let t=Number(a[0].close),o=0,l=0;for(let i=1;i<=e.period;i++){let e=Number(a[i].close);e>t?o+=e-t:l+=t-e,t=e}o/=e.period,l/=e.period,i.push(this.getDataPoint(a[e.period].x,100-100/(1+o/l),a[e.period],r,i.length));for(let s=e.period+1;s<a.length;s++){let n=Number(a[s].close);n>t?(o=(o*(e.period-1)+(n-t))/e.period,l=l*(e.period-1)/e.period):n<t&&(l=(l*(e.period-1)+(t-n))/e.period,o=o*(e.period-1)/e.period),t=n,i.push(this.getDataPoint(a[s].x,100-100/(1+o/l),a[s],r,i.length))}}this.setSeriesRange(i,e,e.targetSeries[0]),e.showZones&&(this.setSeriesRange(n,e,e.targetSeries[1]),this.setSeriesRange(s,e,e.targetSeries[2]))}destroy(e){}getModuleName(){return"RsiIndicator"}}class PM extends EM{initSeriesCollection(e,t){super.initSeriesCollection(e,t);let i=new FA(e,"targetSeries",{},!0);if(this.setSeriesProperties(i,e,"PeriodLine",e.periodLine.color,e.periodLine.width,t),e.showZones){let i=new FA(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,"UpperLine",e.upperLine.color,e.upperLine.width,t);let s=new FA(e,"targetSeries",{},!0);this.setSeriesProperties(s,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t)}}initDataSource(e,t){let i=[],s=[],n=[],r=[],a=[],o=e.points;if(o.length&&o.length>=e.period){if(e.showZones)for(let t=0;t<o.length;t++)s.push(this.getDataPoint(o[t].x,e.overBought,o[t],e.targetSeries[2],s.length)),n.push(this.getDataPoint(o[t].x,e.overSold,o[t],e.targetSeries[3],n.length));a=this.calculatePeriod(e.period,e.kPeriod,o,e.targetSeries[1]),r=this.smaCalculation(e.period,e.kPeriod,a,e.targetSeries[1]),i=this.smaCalculation(e.period+e.kPeriod-1,e.dPeriod,a,e.targetSeries[0])}this.setSeriesRange(i,e,e.targetSeries[0]),this.setSeriesRange(r,e,e.targetSeries[1]),e.showZones&&(this.setSeriesRange(s,e,e.targetSeries[2]),this.setSeriesRange(n,e,e.targetSeries[3]))}smaCalculation(e,t,i,s){let n=[];if(i.length>=e+t){let r=e+(t-1),a=[],o=[];for(let e=0;e<i.length;e++){let t=Number(i[e].y);a.push(t)}let l=a.length;for(;l>=r;){let i=0;for(let s=e-1;s<e+t-1;s++)i+=a[s];i/=t,o.push(i.toFixed(2)),a.splice(0,1),l=a.length}let h=r-1;for(let e=0;e<i.length;e++)e<h||(n.push(this.getDataPoint(i[e].x,Number(o[e-h]),i[e],s,n.length)),i[e].y=Number(o[e-h]))}return n}calculatePeriod(e,t,i,s){let n=[],r=[],a=[],o=[];for(let l=0;l<i.length;l++)n[l]=i[l].low,r[l]=i[l].high,a[l]=i[l].close;if(i.length>e){let t=[],l=[];for(let n=0;n<e-1;++n)l.push(0),t.push(0),o.push(this.getDataPoint(i[n].x,i[n].close,i[n],s,o.length));for(let s=e-1;s<i.length;++s){let i=Number.MAX_VALUE,a=Number.MIN_VALUE;for(let t=0;t<e;++t)i=Math.min(i,n[s-t]),a=Math.max(a,r[s-t]);l.push(a),t.push(i)}for(let n=e-1;n<i.length;++n){let e=0,r=0;e+=a[n]-t[n],r+=l[n]-t[n],o.push(this.getDataPoint(i[n].x,e/r*100,i[n],s,o.length))}}return o}destroy(e){}getModuleName(){return"StochasticIndicator"}}class IM extends EM{initSeriesCollection(e,t){e.targetSeries=[];let i=new FA(e,"targetSeries",{},!0);i.type="RangeArea","transparent"!==e.bandColor&&"none"!==e.bandColor&&this.setSeriesProperties(i,e,"BollingerBand",e.bandColor,0,t);let s=new FA(e,"targetSeries",{},!0);this.setSeriesProperties(s,e,"BollingerBand",e.fill,e.width,t);let n=new FA(e,"targetSeries",{},!0);this.setSeriesProperties(n,e,"UpperLine",e.upperLine.color,e.upperLine.width,t);let r=new FA(e,"targetSeries",{},!0);this.setSeriesProperties(r,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t)}initDataSource(e,t){let i="transparent"!==e.bandColor&&"none"!==e.bandColor,s=i?1:0,n=[],r=[],a=[],o=[],l=e.targetSeries[s+1],h=e.targetSeries[s+2],c=e.targetSeries[s],d=i?e.targetSeries[0]:null,u=e.points;if(u.length&&u.length>=e.period){let t=0,s=0,p=e.standardDeviation,m=u.length,g=Math.round(e.period),f=[],y=[],b=[];for(let e=0;e<g;e++)t+=Number(u[e].close);let v=t/e.period;for(let i=0;i<m;i++){let n=Number(u[i].close);if(i>=g-1&&i<m){i-e.period>=0?(t+=n-Number(u[i-g].close),v=t/e.period,f[i]=v,y[i]=Math.pow(n-v,2),s+=y[i]-y[i-g]):(f[i]=v,y[i]=Math.pow(n-v,2),s+=y[i]);let r=Math.sqrt(s/e.period),a=f[i]-p*r,o=f[i]+p*r;if(i+1===g)for(let e=0;e<g-1;e++)b[e]={X:u[e].x,mb:f[i],lb:a,ub:o,visible:!0};b[i]={X:u[i].x,mb:f[i],lb:a,ub:o,visible:!0}}else i<e.period-1&&(f[i]=v,y[i]=Math.pow(n-v,2),s+=y[i])}let w=-1,x=-1;for(let e=0;e<m;e++)if(e>=g-1){let t="lb",s="mb";r.push(this.getDataPoint(u[e].x,b[e].ub,u[e],l,r.length)),a.push(this.getDataPoint(u[e].x,b[e][t],u[e],h,a.length)),n.push(this.getDataPoint(u[e].x,b[e][s],u[e],c,n.length)),i&&o.push(this.getRangePoint(u[e].x,r[++w].y,a[++x].y,u[e],d,o.length))}}i&&this.setSeriesRange(o,e,e.targetSeries[0]),this.setSeriesRange(n,e,e.targetSeries[s]),this.setSeriesRange(r,e,e.targetSeries[s+1]),this.setSeriesRange(a,e,e.targetSeries[s+2])}destroy(e){}getModuleName(){return"BollingerBandsIndicator"}}class OM extends EM{initSeriesCollection(e,t){if(super.initSeriesCollection(e,t),"Line"===e.macdType||"Both"===e.macdType){let i=new FA(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,"MacdLine",e.macdLine.color,e.macdLine.width,t)}if("Histogram"===e.macdType||"Both"===e.macdType){let i=new FA(e,"targetSeries",{},!0);i.type="Column",this.setSeriesProperties(i,e,"Histogram",e.macdPositiveColor,e.width,t)}}initDataSource(e,t){let i,s,n=[],r=e.fastPeriod,a=e.slowPeriod,o=e.period,l=r+o,h=[],c=[],d=e.points,u=e.targetSeries[0];if("Histogram"===e.macdType?i=e.targetSeries[1]:(s=e.targetSeries[1],"Both"===e.macdType&&(i=e.targetSeries[2])),d&&l<d.length&&a<=r&&a>0&&l-2>=0){let t=this.calculateEMAValues(a,d,"close"),l=this.calculateEMAValues(r,d,"close"),p=this.getMACDVales(e,t,l);h=this.getMACDPoints(e,p,d,s||u);let m=this.calculateEMAValues(o,h,"y");n=this.getSignalPoints(e,m,d,u),i&&(c=this.getHistogramPoints(e,p,m,d,i))}this.setSeriesRange(n,e,e.targetSeries[0]),i&&this.setSeriesRange(c,e,i),s&&this.setSeriesRange(h,e,s)}calculateEMAValues(e,t,i){let s=0,n=0,r=[],a=2/(e+1);for(let l=0;l<e;l++)s+=Number(t[l][i]);n=s/e,r.push(n);let o=n;for(let l=e;l<t.length;l++)o=(Number(t[l][i])-o)*a+o,r.push(o);return r}getMACDPoints(e,t,i,s){let n=[],r=e.fastPeriod-1,a=0;for(;r<i.length;)n.push(this.getDataPoint(i[r].x,t[a],i[r],s,n.length)),r++,a++;return n}getSignalPoints(e,t,i,s){let n=e.fastPeriod+e.period-2,r=0,a=[];for(;n<i.length;)a.push(this.getDataPoint(i[n].x,t[r],i[n],s,a.length)),n++,r++;return a}getMACDVales(e,t,i){let s=[],n=e.fastPeriod-e.slowPeriod;for(let r=0;r<i.length;r++)s.push(t[r+n]-i[r]);return s}getHistogramPoints(e,t,i,s,n){let r=e.fastPeriod+e.period-2,a=0,o=[];for(;r<s.length;)o.push(this.getDataPoint(s[r].x,t[a+(e.period-1)]-i[a],s[r],n,o.length,e)),r++,a++;return o}destroy(e){}getModuleName(){return"MacdIndicator"}}class NM{initSeriesCollection(e,t){let i=new FA(e,"targetSeries",{},!0);i.type="Linear"===e.type||"MovingAverage"===e.type?"Line":"Spline",this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)}setSeriesProperties(e,t,i,s,n,r){e.name=t.name,e.xName="x",e.yName="y",e.fill=s||"blue",e.width=n,e.dashArray=t.dashArray,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=t.enableTooltip,e.index=t.index,e.sourceIndex=t.sourceIndex,e.interior=e.fill,e.animation=t.animation,e.legendShape="HorizontalLine",e.marker=t.marker,e.category="TrendLine",e.chart=r,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],t.targetSeries=e}createTrendLineElements(e,t,i,s,n){t.trendLineElement=s,t.targetSeries.clipRectElement=n,t.targetSeries.seriesElement=s,e.trendLineElements&&e.trendLineElements.appendChild(t.trendLineElement)}getDataPoint(e,t,i,s,n){let r=new RA;return r.x="DateTime"===s.xAxis.valueType?new Date(Number(e)):e,r.y=t,r.xValue=Number(e),r.color=s.fill,r.index=n,r.yValue=Number(t),r.visible=!0,s.xMin=Math.min(s.xMin,r.xValue),s.yMin=Math.min(s.yMin,r.yValue),s.xMax=Math.max(s.xMax,r.xValue),s.yMax=Math.max(s.yMax,r.yValue),s.xData.push(r.xValue),r}findSlopeIntercept(e,t,i,s){let n=0,r=0,a=0,o=0,l=0,h=0,c=0,d=0;for(;h<s.length;)isNaN(t[h])&&(t[h]=(t[h-1]+t[h+1])/2),n+=e[h],r+=t[h],a+=e[h]*t[h],o+=e[h]*e[h],l+=t[h]*t[h],h++;let u=i.type;if(!i.intercept||"Linear"!==u&&"Exponential"!==u)c=Math.abs((s.length*a-n*r)/(s.length*o-n*n)),d="Exponential"===u||"Power"===u?Math.exp((r-c*n)/s.length):(r-c*n)/s.length;else switch(d=i.intercept,u){case"Linear":c=(a-i.intercept*n)/o;break;case"Exponential":c=(a-Math.log(Math.abs(i.intercept))*n)/o}return{slope:c,intercept:d}}initDataSource(e,t){let i=e.points;if(i&&i.length){let t=e.targetSeries;switch(e.type){case"Linear":this.setLinearRange(i,e,t);break;case"Exponential":this.setExponentialRange(i,e,t);break;case"MovingAverage":this.setMovingAverageRange(i,e,t);break;case"Polynomial":this.setPolynomialRange(i,e,t);break;case"Power":this.setPowerRange(i,e,t);break;case"Logarithmic":this.setLogarithmicRange(i,e,t)}"Linear"!==e.type&&"MovingAverage"!==e.type&&t.chart.splineSeriesModule.findSplinePoint(t)}}setExponentialRange(e,t,i){let s,n=[],r=[],a=0;for(;a<e.length;){let t=e[a],i=t.yValue?Math.log(t.yValue):0;n.push(t.xValue),r.push(i),a++}s=this.findSlopeIntercept(n,r,t,e),i.points=this.getExponentialPoints(t,e,n,r,i,s)}setLogarithmicRange(e,t,i){let s,n=[],r=[],a=[],o=0;for(;o<e.length;){let t=e[o],i=t.xValue?Math.log(t.xValue):0;a.push(t.xValue),n.push(i),r.push(t.yValue),o++}s=this.findSlopeIntercept(n,r,t,e),i.points=this.getLogarithmicPoints(t,e,a,r,i,s)}setPolynomialRange(e,t,i){let s=[],n=[],r=0;for(;r<e.length;){let t=e[r];s.push(t.xValue),n.push(t.yValue),r++}i.points=this.getPolynomialPoints(t,e,s,n,i)}setPowerRange(e,t,i){let s,n=[],r=[],a=[],o=0;for(;o<e.length;){let t=e[o],i=t.xValue?Math.log(t.xValue):0,s=t.yValue?Math.log(t.yValue):0;a.push(t.xValue),n.push(i),r.push(s),o++}s=this.findSlopeIntercept(n,r,t,e),i.points=this.getPowerPoints(t,e,a,r,i,s)}setLinearRange(e,t,i){let s,n=[],r=[],a=0;for(;a<e.length;){let t=e[a];n.push(t.xValue),r.push(t.yValue),a++}s=this.findSlopeIntercept(n,r,t,e),i.points=this.getLinearPoints(t,e,n,r,i,s)}setMovingAverageRange(e,t,i){let s=[],n=[],r=[],a=0;for(;a<e.length;){let t=e[a];r.push(t.xValue),s.push(a+1),n.push(t.yValue),a++}i.points=this.getMovingAveragePoints(t,e,r,n,i)}getLogarithmicPoints(e,t,i,s,n,r){let a=Math.round(t.length/2),o=[],l=i[0]-e.backwardForecast,h=l?Math.log(l):0,c=r.intercept+r.slope*h,d=i[a-1],u=d?Math.log(d):0,p=r.intercept+r.slope*u,m=i[i.length-1]+e.forwardForecast,g=m?Math.log(m):0,f=r.intercept+r.slope*g;return o.push(this.getDataPoint(l,c,t[0],n,o.length)),o.push(this.getDataPoint(d,p,t[a-1],n,o.length)),o.push(this.getDataPoint(m,f,t[t.length-1],n,o.length)),o}getPowerPoints(e,t,i,s,n,r){let a=Math.round(t.length/2),o=[],l=i[0]-e.backwardForecast;l=l>-1?l:0;let h=r.intercept*Math.pow(l,r.slope),c=i[a-1],d=r.intercept*Math.pow(c,r.slope),u=i[i.length-1]+e.forwardForecast,p=r.intercept*Math.pow(u,r.slope);return o.push(this.getDataPoint(l,h,t[0],n,o.length)),o.push(this.getDataPoint(c,d,t[a-1],n,o.length)),o.push(this.getDataPoint(u,p,t[t.length-1],n,o.length)),o}getPolynomialPoints(e,t,i,s,n){Math.round(t.length/2);let r=[],a=t.length<=e.polynomialOrder?t.length:e.polynomialOrder;a=Math.max(2,a),a=Math.min(6,a),e.polynomialOrder=a,e.polynomialSlopes=[],e.polynomialSlopes.length=e.polynomialOrder+1;let o=0;for(;o<i.length;){let t=i[o],n=s[o],r=0;for(;r<=e.polynomialOrder;)e.polynomialSlopes[r]||(e.polynomialSlopes[r]=0),e.polynomialSlopes[r]+=Math.pow(t,r)*n,++r;o++}let l=[];l.length=1+2*e.polynomialOrder;let h=[];h.length=e.polynomialOrder+1;let c=0;for(;c<e.polynomialOrder+1;)h[c]=[],h[c].length=3,c++;let d=0;for(;d<i.length;){let e=i[d],t=1,s=0;for(;s<l.length;)l[s]||(l[s]=0),l[s]+=t,t*=e,++s;++d}let u=0;for(;u<=e.polynomialOrder;){let t=0;for(;t<=e.polynomialOrder;)h[u][t]=l[u+t],++t;++u}return this.gaussJordanElimination(h,e.polynomialSlopes)||(e.polynomialSlopes=null),r=this.getPoints(e,t,i,s,n),r}getMovingAveragePoints(e,t,i,s,n){let r=[],a=e.period>=t.length?t.length-1:e.period;a=Math.max(2,a);let o,l,h,c,d=0;for(;d<t.length-1;){o=h=c=0;for(let e=d;h<a;e++)h++,s[e]||c++,o+=s[e];o=a-c<=0?null:o/(a-c),o&&!isNaN(o)&&(l=i[a-1+d],r.push(this.getDataPoint(l,o,t[a-1+d],n,r.length))),d++}return r}getLinearPoints(e,t,i,s,n,r){let a=[],o=i[0]-e.backwardForecast,l=i[i.length-1]+e.forwardForecast,h=r.slope*l+r.intercept;return a.push(this.getDataPoint(o,r.slope*o+r.intercept,t[0],n,a.length)),a.push(this.getDataPoint(l,h,t[t.length-1],n,a.length)),a}getExponentialPoints(e,t,i,s,n,r){let a=Math.round(t.length/2),o=[],l=i[0]-e.backwardForecast,h=r.intercept*Math.exp(r.slope*l),c=i[a-1],d=r.intercept*Math.exp(r.slope*c),u=i[i.length-1]+e.forwardForecast,p=r.intercept*Math.exp(r.slope*u);return o.push(this.getDataPoint(l,h,t[0],n,o.length)),o.push(this.getDataPoint(c,d,t[a-1],n,o.length)),o.push(this.getDataPoint(u,p,t[t.length-1],n,o.length)),o}getPoints(e,t,i,s,n){Math.round(t.length/2);let r,a,o=e.polynomialSlopes,l=[],h=1,c=1;for(;c<=o.length;)1===c?(r=i[0]-e.backwardForecast,a=this.getPolynomialYValue(o,r),l.push(this.getDataPoint(r,a,t[0],n,l.length))):c===o.length?(r=i[t.length-1]+e.forwardForecast,a=this.getPolynomialYValue(o,r),l.push(this.getDataPoint(r,a,t[t.length-1],n,l.length))):(h+=(t.length+e.forwardForecast)/o.length,r=i[parseInt(h.toString(),10)-1],a=this.getPolynomialYValue(o,r),l.push(this.getDataPoint(r,a,t[parseInt(h.toString(),10)-1],n,l.length))),c++;return l}getPolynomialYValue(e,t){let i=0,s=0;for(;s<e.length;)i+=e[s]*Math.pow(t,s),s++;return i}gaussJordanElimination(e,t){let i=e.length,s=[],n=[],r=[];s.length=i,n.length=i,r.length=i;let a=0;for(;a<i;)r[a]=0,++a;let o=0;for(;o<i;){let a=0,l=0,h=0,c=0;for(;c<i;){if(1!==r[c]){let t=0;for(;t<i;)0===r[t]&&Math.abs(e[c][t])>=a&&(a=Math.abs(e[c][t]),l=c,h=t),++t}++c}if(++r[h],l!==h){let s=0;for(;s<i;){let t=e[l][s];e[l][s]=e[h][s],e[h][s]=t,++s}let n=t[l];t[l]=t[h],t[h]=n}if(n[o]=l,s[o]=h,0===e[h][h])return!1;let d=1/e[h][h];e[h][h]=1;let u=0;for(;u<i;)e[h][u]*=d,++u;t[h]*=d;let p=0;for(;p<i;){if(p!==h){let s=e[p][h];e[p][h]=0;let n=0;for(;n<i;)e[p][n]-=e[h][n]*s,++n;t[p]-=t[h]*s}++p}++o}let l=i-1;for(;l>=0;){if(n[l]!==s[l]){let t=0;for(;t<i;){let i=e[t][n[l]];e[t][n[l]]=e[t][s[l]],e[t][s[l]]=i,++t}}--l}return!0}getTrendLineElements(e,t){Ak(e);let i,s=e.clipRect,n=t.renderer.drawClipPath(new vA(t.element.id+"_ChartTrendlineClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:s.width,height:s.height}));i=t.renderer.createGroup({id:t.element.id+"TrendlineSeriesGroup"+e.index,transform:"translate("+s.x+","+s.y+")","clip-path":"url(#"+t.element.id+"_ChartTrendlineClipRect_"+e.index+")"}),i&&i.appendChild(n);for(let r of e.trendlines)this.createTrendLineElements(t,r,r.index,i,n)}destroy(e){}getModuleName(){return"TrendLine"}}class VM{constructor(e){this.arrowLocation=new SA(0,0),this.rx=2,this.ry=2,this.chart=e,this.elementID=this.chart.element.id,this.svgRenderer=new ex(this.chart.element.id),this.addEventListener()}addEventListener(){if(this.chart.isDestroyed)return;let e=Kv.isPointer?"pointerleave":"mouseleave";this.chart.on(Kv.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(Kv.touchEndEvent,this.mouseUpHandler,this),this.chart.on(e,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this)}mouseUpHandler(){this.chart.startMove&&this.removeCrosshair(2e3)}mouseLeaveHandler(){this.removeCrosshair(1e3)}mouseMoveHandler(e){let t=this.chart;"touchmove"===e.type&&(Kv.isIos||Kv.isIos7)&&t.startMove&&e.preventDefault&&e.preventDefault(),t.disableTrackTooltip||(Ek(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?!t.startMove&&t.isTouch||this.crosshair():this.removeCrosshair(1e3))}longPress(){let e=this.chart;return Ek(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.crosshair(),!1}crosshair(){let e,t,i=this.chart,s="",n="",r=document.getElementById(this.elementID+"_crosshair_axis"),a=i.crosshair,o=document.getElementById(this.elementID+"_tooltip"),l=i.chartAxisLayoutPanel.seriesClipRect,h=i.enableCanvas?document.getElementById(this.elementID+"_Secondary_Element"):document.getElementById(this.elementID+"_UserInteraction"),c=document.getElementById(this.elementID+"_Crosshair");return i.enableCanvas&&(c||(c=Sv("div",{id:this.elementID+"_Crosshair",styles:"position: absolute; pointer-events: none"}),h.appendChild(c))),this.stopAnimation(),i.tooltip.enable&&!Ek(i.tooltipModule.valueX,i.tooltipModule.valueY,l)?null:i.stockChart&&i.stockChart.onPanning?(this.removeCrosshair(1e3),null):(this.valueX=i.tooltip.enable?i.tooltipModule.valueX:i.mouseX,this.valueY=i.tooltip.enable?i.tooltipModule.valueY:i.mouseY,i.enableCanvas||h.setAttribute("opacity","1"),"Both"!==a.lineType&&"Horizontal"!==a.lineType||(s+="M "+l.x+" "+this.valueY+" L "+(l.x+l.width)+" "+this.valueY),"Both"!==a.lineType&&"Vertical"!==a.lineType||(n+="M "+this.valueX+" "+l.y+" L "+this.valueX+" "+(l.y+l.height)),void(i.enableCanvas?(r||(r=this.svgRenderer.createGroup({id:this.elementID+"_crosshair_axis"})),t=this.svgRenderer.createSvg({id:i.tooltip.enable?i.element.id+"_tooltip_svg":i.element.id+"_svg",width:i.availableSize.width,height:i.availableSize.height}),i.tooltip.enable&&(o=o||i.tooltipModule.createElement(),o.appendChild(t),h.appendChild(o)),e=new ux(this.elementID+"_HorizontalLine","none",a.line.width,a.line.color||i.themeStyle.crosshairLine,1,a.dashArray,s),this.drawCrosshairLine(e,c,l.x,this.valueY,l.width,0,s),e.d=n,e.id=this.elementID+"_VerticalLine",this.drawCrosshairLine(e,c,this.valueX,l.y,0,l.height,n),this.renderAxisTooltip(i,l,r),t.appendChild(r),i.tooltip.enable||c.appendChild(t)):0===h.childNodes.length?(r=i.renderer.createGroup({id:this.elementID+"_crosshair_axis"}),e=new ux(this.elementID+"_HorizontalLine","none",a.line.width,a.line.color||i.themeStyle.crosshairLine,1,a.dashArray,s),this.renderCrosshairLine(e,h),e.d=n,e.id=this.elementID+"_VerticalLine",this.renderCrosshairLine(e,h),h.appendChild(r),this.renderAxisTooltip(i,l,h.lastChild)):(document.getElementById(this.elementID+"_HorizontalLine").setAttribute("d",s),document.getElementById(this.elementID+"_VerticalLine").setAttribute("d",n),this.renderAxisTooltip(i,l,h.lastChild))))}renderCrosshairLine(e,t){let i=this.chart.renderer.drawPath(e);t.appendChild(i)}drawCrosshairLine(e,t,i,s,n,r,a){if(!document.getElementById(e.id)&&a){let i=Sv("div",{id:e.id});t.appendChild(i)}if(document.getElementById(e.id)){let a="top:"+s.toString()+"px;left:"+i.toString()+"px;width:"+n+"px;height:"+r+"px;fill:"+e.stroke+";border: 0.5px solid black;position: absolute",o=document.getElementById(e.id),l=document.getElementById(this.elementID+"_crosshair_axis");o.setAttribute("style",a),t.style.opacity="1",l&&(l.style.opacity="1")}}renderAxisTooltip(e,t,i){let s,n,r,a,o,l,h,c;for(let d=0,u=e.axisCollections.length;d<u;d++)if(s=e.axisCollections[d],c=s.placeNextToAxisLine?s.updatedRect:s.rect,s.crosshairTooltip.enable)if(this.valueX<=c.x+c.width&&c.x<=this.valueX||this.valueY<=c.y+c.height&&c.y<=this.valueY){if(a=document.getElementById(this.elementID+"_axis_tooltip_"+d),o=document.getElementById(this.elementID+"_axis_tooltip_text_"+d),n=this.getAxisText(s),!n)continue;r=this.tooltipLocation(n,s,t,c),null===a&&(a=e.enableCanvas?this.svgRenderer.drawPath({id:this.elementID+"_axis_tooltip_"+d,fill:s.crosshairTooltip.fill||e.themeStyle.crosshairFill},null):e.renderer.drawPath({id:this.elementID+"_axis_tooltip_"+d,fill:s.crosshairTooltip.fill||e.themeStyle.crosshairFill},null),i.appendChild(a),l=new lx(this.elementID+"_axis_tooltip_text_"+d,0,0,"start",n),o=dA(e.enableCanvas?this.svgRenderer:e.renderer,l,s.crosshairTooltip.textStyle,s.crosshairTooltip.textStyle.color||e.themeStyle.crosshairLabel,i)),h=sx(this.rx,this.ry,r,this.arrowLocation,10,this.isTop,this.isBottom,this.isLeft,this.valueX,this.valueY),a.setAttribute("d",h),o.textContent=n,o.setAttribute("x",(r.x+5).toString()),o.setAttribute("y",(r.y+5+3*this.elementSize.height/4).toString())}else nk(this.elementID+"_axis_tooltip_"+d),nk(this.elementID+"_axis_tooltip_text_"+d)}getAxisText(e){let t;this.isBottom=!1,this.isTop=!1,this.isLeft=!1,this.isRight=!1;let i="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0;return"Horizontal"===e.orientation?(t=Dk(Math.abs(this.valueX-e.rect.x),e.rect.width,e)+i,this.isBottom=!e.opposedPosition,this.isTop=e.opposedPosition):(t=kk(Math.abs(this.valueY-e.rect.y),e.rect.height,e)+i,this.isRight=e.opposedPosition,this.isLeft=!e.opposedPosition),"DateTime"===e.valueType?e.format(new Date(t)):"Category"===e.valueType?e.labels[Math.floor(t)]:"DateTimeCategory"===e.valueType?this.chart.dateTimeCategoryModule.getIndexedAxisLabel(e.labels[Math.floor(t)],e.format):"Logarithmic"===e.valueType?e.format(Math.pow(e.logBase,t)):e.labelFormat&&null!==e.labelFormat.match("{value}")?e.labelFormat.replace("{value}",e.format(t)):e.format(t)}tooltipLocation(e,t,i,s){let n,r=i.x,a=i.y,o="Inside"===t.labelPosition,l=t.scrollbarSettings.enable||t.zoomingScrollBar&&t.zoomingScrollBar.svgObject?t.scrollBarHeight:0;if(this.elementSize=ix(e,t.crosshairTooltip.textStyle),"Horizontal"===t.orientation){let e=o?s.y-this.elementSize.height-10:s.y+10;this.arrowLocation=new SA(this.valueX,o?s.y-this.elementSize.height-20:s.y+l),n=new rx(this.valueX-this.elementSize.width/2-5,e+(o?0:l),this.elementSize.width+10,this.elementSize.height+10),t.opposedPosition&&(n.y=o?s.y:s.y-(this.elementSize.height+10+10)-l),n.x<r&&(n.x=r),n.x+n.width>r+i.width&&(n.x-=n.x+n.width-(r+i.width)),this.arrowLocation.x+5>n.x+n.width-this.rx&&(this.arrowLocation.x=n.x+n.width-this.rx-5),this.arrowLocation.x-5<n.x+this.rx&&(this.arrowLocation.x=n.x+this.rx+5)}else l*=t.opposedPosition?1:-1,this.arrowLocation=new SA(s.x,this.valueY),n=new rx((o?s.x-l:s.x-this.elementSize.width-20)+l,this.valueY-this.elementSize.height/2-5,this.elementSize.width+10,this.elementSize.height+10),t.opposedPosition?(n.x=o?s.x-this.elementSize.width-10:s.x+10+l,n.x+n.width>this.chart.availableSize.width&&(this.arrowLocation.x-=n.x+n.width-this.chart.availableSize.width,n.x-=n.x+n.width-this.chart.availableSize.width)):n.x<0&&(this.arrowLocation.x-=n.x,n.x=0),n.y<a&&(n.y=a),n.y+n.height>=a+i.height&&(n.y-=n.y+n.height-(a+i.height)),this.arrowLocation.y+5>n.y+n.height-this.ry&&(this.arrowLocation.y=n.y+n.height-this.ry-5),this.arrowLocation.y-5<n.y+this.ry&&(this.arrowLocation.y=n.y+this.ry+5);return n}stopAnimation(){Qk(this.crosshairInterval)}progressAnimation(){Qk(this.crosshairInterval)}removeCrosshair(e){let t=this.chart,i=t.enableCanvas?document.getElementById(this.elementID+"_Crosshair"):document.getElementById(this.elementID+"_UserInteraction"),s=t.enableCanvas?document.getElementById(this.elementID+"_crosshair_axis"):null;this.stopAnimation(),i&&"0"!==i.getAttribute("opacity")&&(this.crosshairInterval=setTimeout(()=>{new gw({}).animate(i,{duration:200,progress:e=>{i.style.animation="",t.enableCanvas?(i.style.opacity=(1-e.timeStamp/e.duration).toString(),s.style.opacity=(1-e.timeStamp/e.duration).toString()):i.setAttribute("opacity",(1-e.timeStamp/e.duration).toString())},end:e=>{t.enableCanvas?(i.style.opacity="0",s.style.opacity="0"):i.setAttribute("opacity","0"),t.startMove=!1,t.tooltipModule&&(t.tooltipModule.valueX=null,t.tooltipModule.valueY=null)}})},e))}getModuleName(){return"Crosshair"}destroy(e){}}class FM extends MA{constructor(e){super(e),this.element=this.chart.element,this.textStyle=e.tooltip.textStyle,this.control=e}getElement(e){return document.getElementById(e)}getTooltipElement(e){this.inverted=this.chart.requireInvertedAxis,this.header=null===this.control.tooltip.header?this.control.tooltip.shared?"<b>${point.x}</b>":"<b>${series.name}</b>":this.control.tooltip.header,this.formattedText=[];let t=document.getElementById(this.chart.element.id+"_tooltip"),i=this.chart.element.id.indexOf("stockChart")>-1;return!e&&!t||i?this.createElement():null}createElement(){let e=document.createElement("div");return e.id=this.element.id+"_tooltip",e.className="ejSVGTooltip",e.setAttribute("style","pointer-events:none; position:absolute;z-index: 1"),e}pushData(e,t,i,s){return!!e.series.enableTooltip&&(this.currentPoints.push(e),this.stopAnimation(),i&&!document.getElementById(i.id)&&(this.chart.stockChart?document.getElementById(this.chart.stockChart.element.id+"_Secondary_Element").appendChild(i):document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),!0)}removeHighlight(e){let t,i;for(let s=0,n=this.previousPoints.length;s<n;s++)t=this.previousPoints[s],t.series.isRectSeries?t.series.visible&&this.highlightPoint(t.series,t.point.index,!1):(i=t.series,i.marker.visible||"Scatter"===t.series.type||"Bubble"===t.series.type||(this.previousPoints.shift(),n-=1))}highlightPoint(e,t,i){let s=this.getElement(this.element.id+"_Series_"+e.index+"_Point_"+t);s&&s.setAttribute("opacity",(i?e.opacity/2:e.opacity).toString())}highlightPoints(){for(let e of this.currentPoints)e.series.isRectSeries&&"Series"===e.series.category&&this.highlightPoint(e.series,e.point.index,!0)}createTooltip(e,t,i,s,n,r,a,o,l=null,h=null,c){let d=this.currentPoints[0].series,u=e.tooltipModule||e.accumulationTooltipModule;u&&(t?this.svgTooltip=new bx({opacity:e.tooltip.opacity,header:this.headerText,content:this.text,fill:e.tooltip.fill,border:e.tooltip.border,enableAnimation:e.tooltip.enableAnimation,location:i,shared:e.tooltip.shared,shapes:r,clipBounds:"PolarRadar"===this.chart.chartAreaType?new SA(0,0):s,areaBounds:o,palette:this.findPalette(),template:c||e.tooltip.template,data:h,theme:e.theme,offset:a,textStyle:e.tooltip.textStyle,isNegative:d.isRectSeries&&"Waterfall"!==d.type&&n&&n.y<0,inverted:this.chart.requireInvertedAxis&&d.isRectSeries,arrowPadding:this.text.length>1||this.chart.stockChart?0:12,availableSize:e.availableSize,duration:this.chart.tooltip.duration,isCanvas:this.chart.enableCanvas,isTextWrap:e.tooltip.enableTextWrap&&"chart"===e.getModuleName(),blazorTemplate:{name:"Template",parent:this.chart.tooltip},tooltipRender:()=>{u.removeHighlight(u.control),u.highlightPoints(),u.updatePreviousPoint(l)},animationComplete:t=>{t.tooltip.fadeOuted&&u.fadeOut(u.previousPoints,e)}},"#"+this.element.id+"_tooltip"):this.svgTooltip&&(this.svgTooltip.location=i,this.svgTooltip.content=this.text,this.svgTooltip.header=this.headerText,this.svgTooltip.offset=a,this.svgTooltip.palette=this.findPalette(),this.svgTooltip.shapes=r,this.svgTooltip.data=h,this.svgTooltip.template=e.tooltip.template,this.svgTooltip.textStyle=e.tooltip.textStyle,this.svgTooltip.isNegative=d.isRectSeries&&"Waterfall"!==d.type&&n&&n.y<0,this.svgTooltip.clipBounds="PolarRadar"===this.chart.chartAreaType?new SA(0,0):s,this.svgTooltip.arrowPadding=this.text.length>1||this.chart.stockChart?0:12,this.svgTooltip.dataBind()))}findPalette(){let e=[];for(let t of this.currentPoints)e.push(this.findColor(t,t.series));return e}findColor(e,t){return!t.isRectSeries||"Candle"!==t.type&&"Hilo"!==t.type&&"HiloOpenClose"!==t.type?(e.point.color&&"#ffffff"!==e.point.color?e.point.color:e.point.interior)||t.marker.fill||t.interior:e.point.color}updatePreviousPoint(e){e&&(this.currentPoints=this.currentPoints.concat(e)),this.previousPoints=Ky([],this.currentPoints,null,!0)}fadeOut(e,t){let i=this.getElement(this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg");i&&parseInt(i.getAttribute("opacity"),10)>0||(this.valueX=null,this.valueY=null,this.currentPoints=[],this.removeHighlight(t),this.removeHighlightedMarker(e),this.svgTooltip=null,this.control.trigger("animationComplete",{}))}removeHighlightedMarker(e){if(this.chart.markerRender){for(let t of e)nk(this.element.id+"_Series_"+t.series.index+"_Point_"+t.point.index+"_Trackball");this.chart.markerRender.removeHighlightedMarker()}this.previousPoints=[]}removeText(){this.textElements=[];let e=this.getElement(this.element.id+"_tooltip_group");if(e&&e.childNodes.length>0)for(;e.lastChild&&1!==e.childNodes.length;)e.removeChild(e.lastChild)}stopAnimation(){Qk(this.toolTipInterval)}removeTooltip(e){let t=this.getElement(this.element.id+"_tooltip");this.stopAnimation(),t&&this.previousPoints.length>0&&(this.toolTipInterval=setTimeout(()=>{this.svgTooltip&&this.svgTooltip.fadeOut()},e))}}class BM extends FM{constructor(e){super(e),this.addEventListener()}addEventListener(){this.chart.isDestroyed||(this.chart.on(Kv.isPointer?"pointerleave":"mouseleave",this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(Kv.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(Kv.touchEndEvent,this.mouseUpHandler,this))}mouseUpHandler(){let e=this.control;e.isTouch&&!this.isSelected(e)&&(Ek(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&e.tooltip.shared||!e.tooltip.shared)&&(e.crosshair.enable?e.startMove&&this.removeTooltip(2e3):(this.tooltip(),this.removeTooltip(2e3)))}mouseLeaveHandler(){this.removeTooltip(this.chart.tooltip.fadeOutDuration)}mouseMoveHandler(){let e=this.chart;e.disableTrackTooltip||this.isSelected(e)||(e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip(),Ek(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)?!e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip():e.tooltip.shared&&this.removeTooltip(this.chart.tooltip.fadeOutDuration))}longPress(){let e=this.chart;return e.crosshair.enable&&Ek(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.tooltip(),!1}tooltip(){if(this.chart.stockChart&&this.chart.stockChart.onPanning)return this.removeTooltip(1e3),null;let e;e=this.getElement(this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg");let t=this.chart.stockChart&&e&&e.firstChild.childNodes.length>1,i=e&&parseInt(e.getAttribute("opacity"),10)>0&&!t,s=this.getTooltipElement(i);this.chart.enableCanvas&&s&&(document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(s),s.appendChild(document.getElementById(this.chart.element.id+"_tooltip_svg"))),this.chart.tooltip.shared?this.renderGroupedTooltip(this.chart,!i,s):this.renderSeriesTooltip(this.chart,!i,s)}findHeader(e){return""===this.header?"":(this.header=this.parseTemplate(e.point,e.series,this.header,e.series.xAxis,e.series.yAxis),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()?this.header:"")}findShapes(){if(!this.chart.tooltip.enableMarker)return[];let e=[];for(let t of this.currentPoints)e.push(t.point.marker.shape||t.series.marker.shape);return e}renderSeriesTooltip(e,t,i){let s=this.getData();if(s.lierIndex=this.lierIndex,this.currentPoints=[],this.findData(s,this.previousPoints[0])){if((!e.dataEditingModule||!e.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&s.point.index===this.previousPoints[0].point.index&&s.series.index===this.previousPoints[0].series.index)return null;this.pushData(s,t,i,!0)&&this.triggerTooltipRender(s,t,this.getTooltipText(s),this.findHeader(s))}else if(!s.point&&this.isRemove)this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.isRemove=!1;else for(let n of e.visibleSeries)n.visible&&(s=this.getClosestX(e,n)||s);s&&s.point&&this.findMouseValue(s,e)}triggerTooltipRender(e,t,i,s,n=!0){let r={cancel:!1,name:"tooltipRender",text:i,headerText:s,template:void 0,series:this.chart.isBlazor?{}:e.series,textStyle:this.textStyle,point:e.point,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.index,pointText:e.point.text}},a=i=>{i.cancel?(this.removeHighlight(this.control),Rv(this.getElement(this.element.id+"_tooltip"))):("BoxAndWhisker"===e.series.type&&(this.removeText(),t=!0),this.headerText=i.headerText,this.formattedText=this.formattedText.concat(i.text),this.text=this.formattedText,this.createTooltip(this.chart,t,this.getSymbolLocation(e),e.series.clipRect,e.point,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),this.chart.chartAxisLayoutPanel.seriesClipRect,null,this.getTemplateText(e),this.chart.tooltip.template?i.template:"")),this.isRemove=!0};a.bind(this,e),this.chart.trigger("tooltipRender",r,a)}findMarkerHeight(e){if(!this.chart.tooltip.enableMarker)return 0;let t=0,i=e.series;return t=(i.marker.visible||this.chart.tooltip.shared&&(!i.isRectSeries||i.marker.visible)||"Scatter"===i.type||"Scatter"===i.drawType)&&"Candle"!==i.type&&"Hilo"!==i.type&&"HiloOpenClose"!==i.type?(i.marker.height+2)/2+2*i.marker.border.width:0,t}findData(e,t){return e.point&&(!t||t.point!==e.point||t&&t.lierIndex>3&&t.lierIndex!==this.lierIndex||t.point===e.point)}getSymbolLocation(e){let t;if("BoxAndWhisker"!==e.series.type){if(!e.point.symbolLocations[0])return null;t=new SA(e.point.symbolLocations[0].x,e.point.symbolLocations[0].y)}switch(e.series.type){case"BoxAndWhisker":return this.getBoxLocation(e);case"Waterfall":return this.getWaterfallRegion(e,t);case"RangeArea":return this.getRangeArea(e,t);default:return t}}getRangeArea(e,t){return e.point.regions[0]&&(this.inverted?t.x=e.point.regions[0].x+e.point.regions[0].width/2:t.y=e.point.regions[0].y+e.point.regions[0].height/2),t}getWaterfallRegion(e,t){return this.inverted?t.x=e.point.y<0?t.x+e.point.regions[0].width:t.x:t.y=e.point.y<0?t.y-e.point.regions[0].height:t.y,t}getTooltipText(e){let t=e.series;return this.parseTemplate(e.point,t,this.getFormat(this.chart,t),t.xAxis,t.yAxis)}getTemplateText(e){if(this.chart.tooltip.template){let t=Ky({},e.point);return t.x=this.formatPointValue(e.point,e.series.xAxis,"x",!0,!1),"XY"===e.series.seriesType?t.y=this.formatPointValue(e.point,e.series.yAxis,"y",!1,!0):(t.low=this.formatPointValue(e.point,e.series.yAxis,"low",!1,!0),t.high=this.formatPointValue(e.point,e.series.yAxis,"high",!1,!0)),t}return e.point}findMouseValue(e,t){t.requireInvertedAxis?(this.valueY=(1-bk(e.point.xValue,e.series.xAxis))*e.series.xAxis.rect.height+e.series.xAxis.rect.y,this.valueX=t.mouseX):(this.valueX="PolarRadar"===t.chartAreaType?_k(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x:bk(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x,this.valueY=t.mouseY)}renderGroupedTooltip(e,t,i){let s,n="PolarRadar"===e.chartAreaType?this.getData():null;this.stopAnimation(),this.removeHighlight(e),this.currentPoints=[];let r=[],a="";t&&(e.stockChart?document.getElementById(e.stockChart.element.id+"_Secondary_Element").appendChild(i):i&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),this.removeText();for(let o of e.visibleSeries)o.enableTooltip&&o.visible&&("Cartesian"===e.chartAreaType&&o.visible?s=this.getClosestX(e,o):"PolarRadar"===e.chartAreaType&&o.visible&&null!==n.point&&(s=new DA(o.points[n.point.index],o)),s&&""!==this.header&&0===this.currentPoints.length&&(a=this.findHeader(s)),s&&this.triggerSharedTooltip(s,t,this.getTooltipText(s),this.findHeader(s),r));this.currentPoints.length>0?this.createTooltip(e,t,this.findSharedLocation(),1===this.currentPoints.length?this.currentPoints[0].series.clipRect:null,null,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),e.chartAxisLayoutPanel.seriesClipRect,r):this.getElement(this.element.id+"_tooltip_path")&&this.getElement(this.element.id+"_tooltip_path").setAttribute("d","")}triggerSharedTooltip(e,t,i,s,n){let r={cancel:!1,name:"tooltipRender",text:i,headerText:s,point:e.point,series:this.chart.isBlazor?{}:e.series,textStyle:this.textStyle,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.index,pointText:e.point.text}},a=t=>{t.cancel?n.push(e):("BoxAndWhisker"===e.series.type&&this.removeText(),this.formattedText=this.formattedText.concat(t.text),this.text=this.formattedText,this.headerText=t.headerText,this.findMouseValue(e,this.chart),this.currentPoints.push(e),e=null)};a.bind(this,e,n),this.chart.trigger("tooltipRender",r,a)}findSharedLocation(){let e=this.chart.stockChart;if(e){1===this.text.length&&this.text.push("");let t=e.enablePeriodSelector?e.toolbarHeight:0,i=document.getElementById(e.element.id+"_ChartTitle"),s=""!==e.title?i.getBoundingClientRect().height+10:0;return new SA(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+t+5+s)}return this.currentPoints.length>1?new SA(this.valueX,this.valueY):this.getSymbolLocation(this.currentPoints[0])}getBoxLocation(e){let t;return t=this.lierIndex>3?e.point.symbolLocations[this.lierIndex-4]:{x:e.point.regions[0].x+e.point.regions[0].width/2,y:e.point.regions[0].y+e.point.regions[0].height/2},t}parseTemplate(e,t,i,s,n){let r,a;for(let o of Object.keys(e))r=new RegExp("${point."+o+"}","gm"),i=i.replace(r.source,this.formatPointValue(e,"${point.x}"===r.source?s:n,o,"${point.x}"===r.source,"${point.high}"===r.source||"${point.open}"===r.source||"${point.close}"===r.source||"${point.low}"===r.source||"${point.y}"===r.source||"${point.minimum}"===r.source||"${point.maximum}"===r.source||"${point.outliers}"===r.source||"${point.upperQuartile}"===r.source||"${point.lowerQuartile}"===r.source||"${point.median}"===r.source));for(let o of Object.keys(Object.getPrototypeOf(t)))r=new RegExp("${series."+o+"}","gm"),a=t[o],i=i.replace(r.source,a);return i}formatPointValue(e,t,i,s,n){let r,a,o;return"Category"!==t.valueType&&s?(a=t.labelFormat&&null!==t.labelFormat.match("{value}"),r=a?t.labelFormat.replace("{value}",t.format(e[i])):t.format(e[i])):n?(a=t.labelFormat&&null!==t.labelFormat.match("{value}"),o=t.format("outliers"===i?e[i][this.lierIndex-4]:e[i]),r=a?t.labelFormat.replace("{value}",o):o):r=e[i],r}getFormat(e,t){if(t.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):t.tooltipFormat;if(!t.tooltipFormat&&e.tooltip.format)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):e.tooltip.format;let i=e.tooltip.shared?"${series.name}":"Histogram"===t.type?"${point.minimum}-${point.maximum}":"${point.x}";switch(t.seriesType){case"XY":return"Indicator"===t.category&&this.getIndicatorTooltipFormat(t,e,e.tooltip.format),i+" : "+("Bubble"===t.type?"<b>${point.y}</b>  Size : <b>${point.size}</b>":"<b>${point.y}</b>");case"HighLow":return i+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>";case"HighLowOpenClose":return i+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>";case"BoxPlot":return i+"<br/>"+(this.lierIndex>3?"Outliers : <b>${point.outliers}</b>":"Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>")}return""}getIndicatorTooltipFormat(e,t,i){let s;return s="XY"===e.seriesType?e.name+" : <b>${point.y}</b>":i,s}removeHighlightedMarker(e){for(let t of e)nk(this.element.id+"_Series_"+t.series.index+"_Point_"+t.point.index+"_Trackball");this.chart.markerRender&&this.chart.markerRender.removeHighlightedMarker(),this.previousPoints=[]}getModuleName(){return"Tooltip"}destroy(e){}}class zM{constructor(e){this.iconRectOverFill="transparent",this.iconRectSelectionFill="transparent",this.chart=e,this.elementId=e.element.id,this.chart.svgRenderer=new ex(this.elementId),this.selectionColor="Bootstrap4"===e.theme?"#FFFFFF":"#ff4081",this.fillColor="Bootstrap4"===e.theme?"#495057":"#737373",this.iconRectOverFill="Bootstrap4"===e.theme?"#5A6268":this.iconRectOverFill,this.iconRectSelectionFill="Bootstrap4"===e.theme?"#5B6269":this.iconRectSelectionFill,this.iconRect="Bootstrap4"===e.theme?new rx(-5,-5,26,26):new rx(0,0,16,16)}createPanButton(e,t,i){let s=this.chart.svgRenderer,n=this.chart.zoomModule.isPanning?this.selectionColor:this.fillColor,r="M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,";r+="11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z",e.id=this.elementId+"_Zooming_Pan",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Pan")),this.panElements=e,e.appendChild(s.drawRectangle(new vA(this.elementId+"_Zooming_Pan_1","transparent",{},1,this.iconRect))),e.appendChild(s.drawPath(new ux(this.elementId+"_Zooming_Pan_2",n,null,null,1,null,"M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z"),null)),t.appendChild(e),this.wireEvents(e,this.pan)}createZoomButton(e,t,i){let s=this.chart.svgRenderer,n=this.chart.zoomModule.isPanning?this.fillColor:this.selectionColor,r=this.chart.zoomModule.isPanning?"transparent":this.iconRectSelectionFill,a="M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,";a+="5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571",a+="L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,",e.id=this.elementId+"_Zooming_Zoom",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Zoom")),this.zoomElements=e,this.selectedID=this.chart.zoomModule.isPanning?this.chart.element.id+"_Zooming_Pan_1":this.elementId+"_Zooming_Zoom_1",e.appendChild(s.drawRectangle(new vA(this.elementId+"_Zooming_Zoom_1",r,{},1,this.iconRect))),e.appendChild(s.drawPath(new ux(this.elementId+"_Zooming_Zoom_3",n,null,null,1,null,"M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z"))),t.appendChild(e),this.wireEvents(e,this.zoom)}createZoomInButton(e,t,i){let s=this.chart.svgRenderer,n=this.fillColor,r="M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,";r+="14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,",r+="5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,",e.id=this.elementId+"_Zooming_ZoomIn",e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomIn")),e.appendChild(s.drawRectangle(new vA(this.elementId+"_Zooming_ZoomIn_1","transparent",{},1,this.iconRect))),e.appendChild(s.drawPath(new ux(this.elementId+"_Zooming_ZoomIn_2",n,null,null,1,null,"M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z"),null)),e.appendChild(s.drawPolygon(new _A(this.elementId+"_Zooming_ZoomIn_3","12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466",n))),this.zoomInElements=e,this.elementOpacity=i.zoomModule.isPanning?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomIn)}createZoomOutButton(e,t,i){let s=this.chart.svgRenderer,n=this.fillColor,r="M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,";r+="1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,",r+="1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,",e.id=this.elementId+"_Zooming_ZoomOut",e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomOut")),e.appendChild(s.drawRectangle(new vA(this.elementId+"_Zooming_ZoomOut_1","transparent",{},1,this.iconRect))),e.appendChild(s.drawPath(new ux(this.elementId+"_Zooming_ZoomOut_2",n,null,null,1,null,"M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z"),null)),this.zoomOutElements=e,this.elementOpacity=i.zoomModule.isPanning?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomOut)}createResetButton(e,t,i,s){let n,r=this.chart.svgRenderer,a=this.fillColor,o="M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,";o+="1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,",o+="13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,",e.id=this.elementId+"_Zooming_Reset",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Reset")),s?(n=ix(this.chart.getLocalizedLabel("ResetZoom"),{size:"12px"}),e.appendChild(r.drawRectangle(new vA(this.elementId+"_Zooming_Reset_1","transparent",{},1,new rx(0,0,n.width,n.height)))),dA(i.renderer,new lx(this.elementId+"_Zooming_Reset_2",0+n.width/2,0+3*n.height/4,"middle",this.chart.getLocalizedLabel("ResetZoom"),"rotate(0,0,0)","auto"),{size:"12px"},"black",e)):(e.appendChild(r.drawRectangle(new vA(this.elementId+"_Zooming_Reset_1","transparent",{},1,this.iconRect))),e.appendChild(r.drawPath(new ux(this.elementId+"_Zooming_Reset_2",a,null,null,1,null,"M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z"),null))),t.appendChild(e),this.wireEvents(e,this.reset)}wireEvents(e,t){Tb.add(e,"mousedown touchstart",t,this),Tb.add(e,"mouseover",this.showTooltip,this),Tb.add(e,"mouseout",this.removeTooltip,this)}showTooltip(e){let t=e.currentTarget.id.split("_Zooming_")[1],i=e.pageX-(ix(t,{size:"10px"}).width+5),s=jk(e.currentTarget.id+"_1"),n=jk(e.currentTarget.id+"_2"),r=jk(e.currentTarget.id+"_3");s&&(this.hoveredID=s.id,s.setAttribute("fill",this.iconRectOverFill)),n&&n.setAttribute("fill",this.selectionColor),r&&r.setAttribute("fill",this.selectionColor),this.chart.isTouch||function(e,t,i,s,n){let r=jk(e),a="top:"+i.toString()+"px;left:"+s.toString()+"px;color:black !important; background:#FFFFFF !important; position:absolute;border:1px solid #707070;font-size:10px;border-radius:2px; z-index:1";r?(r.setAttribute("innerHTML","&nbsp;"+t+"&nbsp;"),r.setAttribute("styles",a)):(r=Sv("div",{id:e,innerHTML:"&nbsp;"+t+"&nbsp;",styles:a}),document.body.appendChild(r))}("EJ2_Chart_ZoomTip",this.chart.getLocalizedLabel(t),e.pageY+10,i)}removeTooltip(){if(jk(this.hoveredID)){let e=this.chart.zoomModule.isPanning?this.hoveredID.indexOf("_Pan_")>-1?this.iconRectSelectionFill:"transparent":this.hoveredID.indexOf("_Zoom_")>-1?this.iconRectSelectionFill:"transparent";jk(this.hoveredID).setAttribute("fill",e)}let e=this.hoveredID?jk(this.hoveredID.replace("_1","_2")):null,t=this.hoveredID?jk(this.hoveredID.replace("_1","_3")):null;if(e){let t=this.chart.zoomModule.isPanning?this.hoveredID.indexOf("_Pan_")>-1?this.selectionColor:this.fillColor:this.hoveredID.indexOf("_Zoom_")>-1?this.selectionColor:this.fillColor;e.setAttribute("fill",t)}if(t){let e=this.chart.zoomModule.isPanning?this.fillColor:this.hoveredID.indexOf("_Zoom_")>-1?this.selectionColor:this.fillColor;t.setAttribute("fill",e)}nk("EJ2_Chart_ZoomTip")}reset(){let e,t,i=this.chart;i.zoomModule.isDevice||Rv(i.zoomModule.toolkitElements),this.removeTooltip(),i.svgObject.setAttribute("cursor","auto");let s=[];for(let n of i.axisCollections)e={cancel:!1,name:"zoomComplete",axis:n,previousZoomFactor:n.zoomFactor,previousZoomPosition:n.zoomPosition,currentZoomFactor:1,currentZoomPosition:0},n.zoomFactor=1,n.zoomPosition=0,n.zoomingScrollBar&&(n.zoomingScrollBar.isScrollUI=!1),i.trigger("zoomComplete",e),e.cancel||(n.zoomFactor=e.currentZoomFactor,n.zoomPosition=e.currentZoomPosition),s.push({zoomFactor:n.zoomFactor,zoomPosition:n.zoomFactor,axisName:n.name,axisRange:n.visibleRange});return t={cancel:!1,axisCollection:s,name:"onZooming"},!t.cancel&&this.chart.isBlazor?(this.chart.trigger("onZooming",t,()=>{this.setDefferedZoom(i)}),!1):this.setDefferedZoom(i)}setDefferedZoom(e){return e.disableTrackTooltip=!1,e.zoomModule.isZoomed=e.zoomModule.isPanning=e.isChartDrag=e.delayRedraw=!1,e.zoomModule.touchMoveList=e.zoomModule.touchStartList=[],e.zoomModule.pinchTarget=null,e.removeSvg(),e.refreshAxis(),e.refreshBound(),this.elementOpacity="1",!1}zoomIn(e){return this.zoomInOutCalculation(1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1}zoomOut(e){return this.zoomInOutCalculation(-1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1}zoom(e){return this.chart.zoomModule.isPanning=!1,this.elementOpacity="1",this.chart.svgObject.setAttribute("cursor","auto"),this.zoomInElements.setAttribute("opacity",this.elementOpacity),this.zoomOutElements.setAttribute("opacity",this.elementOpacity),this.applySelection(this.zoomElements.childNodes,this.selectionColor),this.applySelection(this.panElements.childNodes,"#737373"),jk(this.selectedID)&&jk(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Zoom_1",jk(this.selectedID).setAttribute("fill",this.iconRectSelectionFill),!1}pan(){let e;return this.chart.zoomModule.isPanning=!0,this.chart.svgObject.setAttribute("cursor","pointer"),this.elementOpacity="0.2",e=this.zoomInElements?this.zoomInElements.setAttribute("opacity",this.elementOpacity):null,e=this.zoomOutElements?this.zoomOutElements.setAttribute("opacity",this.elementOpacity):null,e=this.panElements?this.applySelection(this.panElements.childNodes,this.selectionColor):null,e=this.zoomElements?this.applySelection(this.zoomElements.childNodes,"#737373"):null,jk(this.selectedID)&&jk(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Pan_1",jk(this.selectedID).setAttribute("fill",this.iconRectSelectionFill),!1}zoomInOutCalculation(e,t,i,s){if(!t.zoomModule.isPanning&&"0.2"!==this.elementOpacity){let n,r,a,o;t.disableTrackTooltip=!0,t.delayRedraw=!0;for(let l of i)o={cancel:!1,name:"zoomComplete",axis:l,previousZoomFactor:l.zoomFactor,previousZoomPosition:l.zoomPosition,currentZoomFactor:l.zoomFactor,currentZoomPosition:l.zoomPosition},("Horizontal"===l.orientation&&"Y"!==s||"Vertical"===l.orientation&&"X"!==s)&&(a=Math.max(Math.max(1/Hk(l.zoomFactor,0,1),1)+.25*e,1),n=1===a?1:Hk(1/a,0,1),r=1===a?0:l.zoomPosition+.5*(l.zoomFactor-n),l.zoomPosition===r&&l.zoomFactor===n||(n=r+n>1?1-r:n),o.currentZoomFactor=n,o.currentZoomPosition=r,t.trigger("zoomComplete",o),o.cancel||(l.zoomFactor=o.currentZoomFactor,l.zoomPosition=o.currentZoomPosition))}}applySelection(e,t){for(let i=1,s=e.length;i<s;i++)e[i].setAttribute("fill",t)}}class HM{constructor(e){this.chart=e,this.isPointer=Kv.isPointer,this.browserName=Kv.info.name,this.wheelEvent="mozilla"===this.browserName?this.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel",this.cancelEvent=this.isPointer?"pointerleave":"mouseleave",this.addEventListener(),this.isDevice=Kv.isDevice;let t=e.zoomSettings;this.toolkit=new zM(e),this.zooming=t,this.elementId=e.element.id,this.zoomingRect=new rx(0,0,0,0),this.zoomAxes=[],this.zoomkitOpacity=.3,this.isIOS=Kv.isIos||Kv.isIos7,this.isZoomed=this.performedUI=this.zooming.enablePan&&this.zooming.enableSelectionZooming,t.enableScrollbar&&(e.scrollElement=Sv("div",{id:e.element.id+"_scrollElement"}))}renderZooming(e,t,i){this.calculateZoomAxesRange(t,t.axisCollections),!this.zooming.enableSelectionZooming||i&&(!t.isDoubleTap||1!==this.touchStartList.length)||this.isPanning&&!t.isDoubleTap?this.isPanning&&t.isChartDrag&&(!i||i&&1===this.touchStartList.length)&&(this.pinchTarget=i?e.target:null,this.doPan(t,t.axisCollections)):(this.isPanning=!!this.isDevice||this.isPanning,this.performedUI=!0,this.drawZoomingRectangle(t))}drawZoomingRectangle(e){let t=e.chartAxisLayoutPanel.seriesClipRect,i=new SA(e.previousMouseMoveX,e.previousMouseMoveY),s=new SA(e.mouseX,e.mouseY),n=this.zoomingRect=function(e,t,i){let s,n;return s=t.x<i.x?i.x:t.x>i.x+i.width?i.x+i.width:t.x,n=t.y<i.y?i.y:t.y>i.y+i.height?i.y+i.height:t.y,new rx(s>e.x?e.x:s,n>e.y?e.y:n,Math.abs(s-e.x),Math.abs(n-e.y))}(i,s,t);n.width>0&&n.height>0&&(this.isZoomed=!0,e.disableTrackTooltip=!0,e.svgObject.setAttribute("cursor","crosshair"),"X"===this.zooming.mode?(n.height=t.height,n.y=t.y):"Y"===this.zooming.mode&&(n.width=t.width,n.x=t.x),(e.enableCanvas?document.getElementById(this.elementId+"_tooltip_svg"):e.svgObject).appendChild(e.svgRenderer.drawRectangle(new vA(this.elementId+"_ZoomArea",e.themeStyle.selectionRectFill,{color:e.themeStyle.selectionRectStroke,width:1},1,n,0,0,"","3"))))}doPan(e,t){if(e.startMove&&e.crosshair.enable)return null;let i,s,n,r;this.isZoomed=!0,this.offset=e.delayRedraw?this.offset:e.chartAxisLayoutPanel.seriesClipRect,e.delayRedraw=!0,e.disableTrackTooltip=!0;let a=[];for(let o of t)n={cancel:!1,name:"zoomComplete",axis:o,previousZoomFactor:o.zoomFactor,previousZoomPosition:o.zoomPosition,currentZoomFactor:o.zoomFactor,currentZoomPosition:o.zoomPosition},i=Math.max(1/Hk(o.zoomFactor,0,1),1),"Horizontal"===o.orientation?(s=(e.previousMouseMoveX-e.mouseX)/o.rect.width/i,n.currentZoomPosition=Hk(o.zoomPosition+s,0,1-o.zoomFactor)):(s=(e.previousMouseMoveY-e.mouseY)/o.rect.height/i,n.currentZoomPosition=Hk(o.zoomPosition-s,0,1-o.zoomFactor)),e.trigger("zoomComplete",n),n.cancel||(o.zoomFactor=n.currentZoomFactor,o.zoomPosition=n.currentZoomPosition),a.push({zoomFactor:o.zoomFactor,zoomPosition:o.zoomFactor,axisName:o.name,axisRange:o.visibleRange});r={cancel:!1,axisCollection:a,name:"onZooming"},!r.cancel&&this.chart.isBlazor?this.chart.trigger("onZooming",r,()=>{this.performDefferedZoom(e)}):this.performDefferedZoom(e)}performDefferedZoom(e){let t,i;if(this.zooming.enableDeferredZooming){switch(t=e.mouseX-e.mouseDownX,i=e.mouseY-e.mouseDownY,this.zooming.mode){case"X":i=0;break;case"Y":t=0}this.setTransform(t,i,null,null,e,!1),this.refreshAxis(e.chartAxisLayoutPanel,e,e.axisCollections),e.enableCanvas&&this.performZoomRedraw(e)}else this.performZoomRedraw(e);e.previousMouseMoveX=e.mouseX,e.previousMouseMoveY=e.mouseY}performZoomRedraw(e){let t=this.zoomingRect;e.animateSeries=!1,this.isZoomed&&(t.width>0&&t.height>0?(this.performedUI=!0,e.svgObject.setAttribute("cursor","auto"),this.doZoom(e,e.axisCollections,e.chartAxisLayoutPanel.seriesClipRect),e.isDoubleTap=!1):e.disableTrackTooltip&&(e.disableTrackTooltip=!1,e.delayRedraw=!1,e.enableCanvas?e.createChartSvg():e.removeSvg(),e.refreshAxis(),e.refreshBound()))}refreshAxis(e,t,i){let s=t.zoomSettings.mode;e.measureAxis(new rx(t.initialClipRect.x,t.initialClipRect.y,t.initialClipRect.width,t.initialClipRect.height)),i.map((t,i)=>{"Horizontal"===t.orientation&&"Y"!==s&&e.drawXAxisLabels(t,i,null,t.placeNextToAxisLine?t.updatedRect:t.rect),"Vertical"===t.orientation&&"X"!==s&&e.drawYAxisLabels(t,i,null,t.placeNextToAxisLine?t.updatedRect:t.rect)})}doZoom(e,t,i){let s,n,r=this.zoomingRect,a=this.zooming.mode;this.isPanning=e.zoomSettings.enablePan||this.isPanning;let o=[];for(let l of t)s={cancel:!1,name:"zoomComplete",axis:l,previousZoomFactor:l.zoomFactor,previousZoomPosition:l.zoomPosition,currentZoomFactor:l.zoomFactor,currentZoomPosition:l.zoomPosition},"Horizontal"===l.orientation?"Y"!==a&&(s.currentZoomPosition+=Math.abs((r.x-i.x)/i.width)*l.zoomFactor,s.currentZoomFactor*=r.width/i.width,e.trigger("zoomComplete",s)):"X"!==a&&(s.currentZoomPosition+=(1-Math.abs((r.height+(r.y-i.y))/i.height))*l.zoomFactor,s.currentZoomFactor*=r.height/i.height,e.trigger("zoomComplete",s)),s.cancel||(l.zoomFactor=s.currentZoomFactor,l.zoomPosition=s.currentZoomPosition),o.push({zoomFactor:l.zoomFactor,zoomPosition:l.zoomFactor,axisName:l.name,axisRange:l.visibleRange});n={cancel:!1,axisCollection:o,name:"onZooming"},!n.cancel&&this.chart.isBlazor?this.chart.trigger("onZooming",n,()=>{this.zoomingRect=new rx(0,0,0,0),this.performZoomRedraw(e)}):(this.zoomingRect=new rx(0,0,0,0),this.performZoomRedraw(e))}performMouseWheelZooming(e,t,i,s,n){let r,a,o,l,h,c="mozilla"!==this.browserName||this.isPointer?e.wheelDelta/120>0?1:-1:-e.detail/3>0?1:-1,d=this.zooming.mode,u=.5;this.isZoomed=!0,this.calculateZoomAxesRange(s,s.axisCollections),s.disableTrackTooltip=!0,this.performedUI=!0,this.isPanning=s.zoomSettings.enablePan||this.isPanning;let p=[];for(let m of n)l={cancel:!1,name:"zoomComplete",axis:m,previousZoomFactor:m.zoomFactor,previousZoomPosition:m.zoomPosition,currentZoomFactor:m.zoomFactor,currentZoomPosition:m.zoomPosition},("Vertical"===m.orientation&&"X"!==d||"Horizontal"===m.orientation&&"Y"!==d)&&(r=Math.max(Math.max(1/Hk(m.zoomFactor,0,1),1)+.25*c,1),r>=1&&(u="Horizontal"===m.orientation?t/m.rect.width:1-i/m.rect.height,u=u>1?1:u<0?0:u,a=1===r?1:Hk(1/r,0,1),o=1===r?0:m.zoomPosition+(m.zoomFactor-a)*u,m.zoomPosition===o&&m.zoomFactor===a||(a=o+a>1?1-o:a),l.currentZoomFactor=a,l.currentZoomPosition=o,s.trigger("zoomComplete",l)),l.cancel||(m.zoomFactor=l.currentZoomFactor,m.zoomPosition=l.currentZoomPosition)),p.push({zoomFactor:m.zoomFactor,zoomPosition:m.zoomFactor,axisName:m.name,axisRange:m.visibleRange});h={cancel:!1,axisCollection:p,name:"onZooming"},!h.cancel&&this.chart.isBlazor?this.chart.trigger("onZooming",h,()=>{this.performZoomRedraw(s)}):this.performZoomRedraw(s)}performPinchZooming(e,t){if(this.zoomingRect.width>0&&this.zoomingRect.height>0||t.startMove&&t.crosshair.enable)return!1;this.calculateZoomAxesRange(t,t.axisCollections),this.isZoomed=!0,this.isPanning=!0,this.performedUI=!0,this.offset=t.delayRedraw?this.offset:t.chartAxisLayoutPanel.seriesClipRect,t.delayRedraw=!0,t.disableTrackTooltip=!0;let i,s,n,r,a,o,l,h=t.element.getBoundingClientRect(),c=this.touchStartList,d=this.touchMoveList,u=c[0].pageX-h.left,p=c[0].pageY-h.top,m=d[0].pageX-h.left,g=d[0].pageY-h.top,f=c[1].pageX-h.left,y=c[1].pageY-h.top,b=d[1].pageY-h.top;if(i=Math.abs(m-(d[1].pageX-h.left))/Math.abs(u-f),s=Math.abs(g-b)/Math.abs(p-y),o=(this.offset.x-m)/i+u,l=(this.offset.y-g)/s+p,a=new rx(o,l,this.offset.width/i,this.offset.height/s),n=m-i*u,r=g-s*p,!isNaN(i-i)&&!isNaN(s-s))switch(this.zooming.mode){case"XY":this.setTransform(n,r,i,s,t,!0);break;case"X":this.setTransform(n,0,i,1,t,!0);break;case"Y":this.setTransform(0,r,1,s,t,!0)}return this.calculatePinchZoomFactor(t,a),this.refreshAxis(t.chartAxisLayoutPanel,t,t.axisCollections),!0}calculatePinchZoomFactor(e,t){let i,s,n,r,a,o,l,h,c,d,u=this.zooming.mode,p=[];for(let m=0;m<e.axisCollections.length;m++){let d=e.axisCollections[m];("Horizontal"===d.orientation&&"Y"!==u||"Vertical"===d.orientation&&"X"!==u)&&(h=d.zoomFactor,c=d.zoomPosition,l={cancel:!1,name:"zoomComplete",axis:d,previousZoomFactor:d.zoomFactor,previousZoomPosition:d.zoomPosition,currentZoomFactor:h,currentZoomPosition:c},"Horizontal"===d.orientation?(a=t.x-this.offset.x,o=d.rect.width/this.zoomAxes[m].delta,n=a/o+this.zoomAxes[m].min,a=t.x+t.width-this.offset.x,r=a/o+this.zoomAxes[m].min):(a=t.y-this.offset.y,o=d.rect.height/this.zoomAxes[m].delta,n=(-1*a+d.rect.height)/o+this.zoomAxes[m].min,a=t.y+t.height-this.offset.y,r=(-1*a+d.rect.height)/o+this.zoomAxes[m].min),i=Math.min(n,r),s=Math.max(n,r),c=(i-this.zoomAxes[m].actualMin)/this.zoomAxes[m].actualDelta,h=(s-i)/this.zoomAxes[m].actualDelta,l.currentZoomPosition=c<0?0:c,l.currentZoomFactor=h>1?1:h,e.trigger("zoomComplete",l),l.cancel||(d.zoomFactor=l.currentZoomFactor,d.zoomPosition=l.currentZoomPosition),p.push({zoomFactor:d.zoomFactor,zoomPosition:d.zoomFactor,axisName:d.name,axisRange:d.visibleRange}))}d={cancel:!1,axisCollection:p,name:"onZooming"},!d.cancel&&this.chart.isBlazor&&this.chart.trigger("onZooming",d)}setTransform(e,t,i,s,n,r){let a,o,l,h;if(n.enableCanvas||n.seriesElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),n.indicatorElements&&n.indicatorElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),null!==e&&null!==t)for(let c of n.visibleSeries)o=n.requireInvertedAxis?c.yAxis.rect.x:c.xAxis.rect.x,l=n.requireInvertedAxis?c.xAxis.rect.y:c.yAxis.rect.y,a="translate("+(e+(r?i*o:o))+","+(t+(r?s*l:l))+")",a=i||s?a+" scale("+i+" "+s+")":a,c.visible&&("Indicator"===c.category?c.seriesElement.parentNode.setAttribute("transform",a):n.enableCanvas||c.seriesElement.setAttribute("transform",a),h=jk(n.element.id+"_Series_"+c.index+"_DataLabelCollections"),c.errorBarElement&&c.errorBarElement.setAttribute("transform",a),c.symbolElement&&c.symbolElement.setAttribute("transform",a),c.textElement&&(c.textElement.setAttribute("visibility","hidden"),c.shapeElement.setAttribute("visibility","hidden")),h&&(h.style.visibility="hidden"))}calculateZoomAxesRange(e,t){let i,s;for(let n=0;n<e.axisCollections.length;n++){let t=e.axisCollections[n];s=t.visibleRange,this.zoomAxes[n]?e.delayRedraw||(this.zoomAxes[n].min=s.min,this.zoomAxes[n].delta=s.delta):(i={actualMin:t.actualRange.min,actualDelta:t.actualRange.delta,min:s.min,delta:s.delta},this.zoomAxes[n]=i)}}showZoomingToolkit(e){let t,i,s=this.zooming.toolbarItems,n=e.chartAxisLayoutPanel.seriesClipRect,r=e.svgRenderer,a=this.isDevice?1:s.length,o=this.isDevice?ix("Reset Zoom",{size:"12px"}).width:16,l=this.isDevice?ix("Reset Zoom",{size:"12px"}).height:22,h=a*o+5*(a+1)+5*(a-1),c=n.x+n.width-h-5,d=n.y+5,u=5,p=this.toolkit,m='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/>';if(m+='<feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/>',m+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',0===a||jk(this.elementId+"_Zooming_KitCollection"))return!1;let g,f=r.createDefs();s=this.isDevice?["Reset"]:s,f.innerHTML='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/><feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',this.toolkitElements=r.createGroup({id:this.elementId+"_Zooming_KitCollection",transform:"translate("+c+","+d+")"}),this.toolkitElements.appendChild(f),this.toolkitElements.appendChild(r.drawRectangle(new vA(this.elementId+"_Zooming_Rect","#fafafa",{color:"transparent",width:1},1,new rx(0,0,h,l+10),0,0))),t=r.drawRectangle(new vA(this.elementId+"_Zooming_Rect","#fafafa",{color:"transparent",width:1},.1,new rx(0,0,h,l+10),0,0)),t.setAttribute("filter","url(#chart_shadow)"),this.toolkitElements.appendChild(t);for(let y=1;y<=a;y++){switch(g=s[y-1],i=r.createGroup({transform:"translate("+u+","+(this.isDevice?5:8)+")"}),g){case"Pan":p.createPanButton(i,this.toolkitElements,e);break;case"Zoom":p.createZoomButton(i,this.toolkitElements,e);break;case"ZoomIn":p.createZoomInButton(i,this.toolkitElements,e);break;case"ZoomOut":p.createZoomOutButton(i,this.toolkitElements,e);break;case"Reset":p.createResetButton(i,this.toolkitElements,e,this.isDevice)}u+=o+10}if(this.toolkitElements.setAttribute("opacity",this.isDevice?"1":""+this.zoomkitOpacity),this.toolkitElements.setAttribute("cursor","auto"),e.enableCanvas){let t=document.createElement("div");t.id=e.element.id+"_zoom",t.setAttribute("style","position:absolute; z-index:1");let i=e.svgRenderer.createSvg({id:e.element.id+"_zoomkit_svg",width:e.availableSize.width,height:e.availableSize.height/2});i.setAttribute("style","position:absolute"),i.appendChild(this.toolkitElements),t.appendChild(i),document.getElementById(this.elementId+"_Secondary_Element").appendChild(t)}else e.svgObject.appendChild(this.toolkitElements);return this.isDevice||(Tb.add(this.toolkitElements,"mousemove touchstart",this.zoomToolkitMove,this),Tb.add(this.toolkitElements,"mouseleave touchend",this.zoomToolkitLeave,this),this.isPanning&&p.pan()),!0}applyZoomToolkit(e,t){this.isAxisZoomed(t)?(this.showZoomingToolkit(e),this.isZoomed=!0):(this.toolkit.removeTooltip(),this.isPanning=!1,this.isZoomed=!1,e.svgObject.setAttribute("cursor","auto"))}isAxisZoomed(e){let t=!1;for(let i of e)t=t||1!==i.zoomFactor||0!==i.zoomPosition;return t}zoomToolkitMove(e){let t=this.toolkitElements;return t.getAttribute("opacity"),this.zoomkitOpacity=1,t.setAttribute("opacity",""+this.zoomkitOpacity),!1}zoomToolkitLeave(e){let t=this.toolkitElements;return this.zoomkitOpacity=.3,t.setAttribute("opacity",""+this.zoomkitOpacity),!1}addEventListener(){this.chart.isDestroyed||(Tb.add(this.chart.element,this.wheelEvent,this.chartMouseWheel,this),this.chart.on(Kv.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(Kv.touchStartEvent,this.mouseDownHandler,this),this.chart.on(Kv.touchEndEvent,this.mouseUpHandler,this),this.chart.on(this.cancelEvent,this.mouseCancelHandler,this))}removeEventListener(){this.chart.isDestroyed||(Tb.remove(this.chart.element,this.wheelEvent,this.chartMouseWheel),this.chart.off(Kv.touchMoveEvent,this.mouseMoveHandler),this.chart.off(Kv.touchStartEvent,this.mouseDownHandler),this.chart.off(Kv.touchEndEvent,this.mouseUpHandler),this.chart.off(this.cancelEvent,this.mouseCancelHandler))}chartMouseWheel(e){let t=this.chart,i=t.element.getBoundingClientRect(),s=jk(t.svgId).getBoundingClientRect(),n=e.clientX-i.left-Math.max(s.left-i.left,0),r=e.clientY-i.top-Math.max(s.top-i.top,0);return this.zooming.enableMouseWheelZooming&&Ek(n,r,t.chartAxisLayoutPanel.seriesClipRect)&&(e.preventDefault(),this.performMouseWheelZooming(e,n,r,t,t.axisCollections)),!1}mouseMoveHandler(e){let t=this.chart,i=null;"touchmove"===e.type&&(e.preventDefault&&this.isIOS&&(this.isPanning||t.isDoubleTap||this.zooming.enablePinchZooming&&this.touchStartList.length>1)&&e.preventDefault(),i=e.touches),t.isChartDrag&&(t.isTouch&&(this.touchMoveList=this.addTouchPointer(this.touchMoveList,e,i),this.zooming.enablePinchZooming&&this.touchMoveList.length>1&&this.touchStartList.length>1&&this.performPinchZooming(e,t)),this.renderZooming(e,t,t.isTouch))}mouseDownHandler(e){let t,i=this.chart,s=null;"touchstart"===e.type?(s=e.touches,t=e.target):t=e.target,-1===t.id.indexOf(i.element.id+"_Zooming_")&&Ek(i.previousMouseMoveX,i.previousMouseMoveY,i.chartAxisLayoutPanel.seriesClipRect)&&(i.isChartDrag=!0),i.isTouch&&(this.touchStartList=this.addTouchPointer(this.touchStartList,e,s))}mouseUpHandler(e){let t=this.chart,i=-1===e.target.id.indexOf(t.element.id+"_ZoomOut_")||-1===e.target.id.indexOf(t.element.id+"_ZoomIn_");(t.isChartDrag||i)&&this.performZoomRedraw(t),t.isTouch&&(t.isDoubleTap&&Ek(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&1===this.touchStartList.length&&this.isZoomed&&this.toolkit.reset(),this.touchStartList=[],t.isDoubleTap=!1)}mouseCancelHandler(e){this.isZoomed&&this.performZoomRedraw(this.chart),this.pinchTarget=null,this.touchStartList=[],this.touchMoveList=[]}addTouchPointer(e,t,i){if(i){e=[];for(let t=0,s=i.length;t<s;t++)e.push({pageX:i[t].clientX,pageY:i[t].clientY,pointerId:null})}else if(0===(e=e||[]).length)e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});else for(let s=0,n=e.length;s<n;s++)e[s].pointerId===t.pointerId?e[s]={pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId}:e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});return e}getModuleName(){return"Zoom"}destroy(e){this.removeEventListener()}}class jM{constructor(e){this.control=e}seriesStyles(){let e,t,i,s=document.getElementById(this.styleId),n="{}",r=this.control.selectionPattern,a=this.control.highlightPattern;if(Qy(s)||"None"!==r||"None"!==a){s=document.createElement("style"),s.setAttribute("id",this.styleId);for(let o of this.control.visibleSeries){let l=this.control.visibleSeries[o.index]||this.control.visibleSeries[o.index];if(!(Qy(r)&&Qy(a)||"None"===r&&"None"===a)){let e=this.styleId.indexOf("highlight")>0?a:r;if("Pie"===l.type||"Funnel"===l.type||"Pyramid"===l.type)for(let s=0;s<l.points.length;s++)i=l.opacity,t=this.pattern(this.control,l.points[s].color,o.index,e,i),n="{ fill:"+t+"}";else l.type&&(i=l.opacity,t=this.pattern(this.control,l.interior,o.index,e,i),n="{ fill:"+t+"}")}e=o.selectionStyle||this.styleId+"_series_"+o.index+",."+this.styleId+"_series_"+o.index+"> *",n=n.indexOf("None")>-1?"{}":n,s.innerHTML+=o.selectionStyle?"":"."+e+n}s.innerHTML+="."+this.unselected+" { opacity:0.3;} ",document.body.appendChild(s)}}pattern(e,t,i,s,n){let r,a;r=e.svgObject;let o=[],l={id:s+"_Selection_"+i,patternUnits:"userSpaceOnUse"};switch(s){case"Dots":l.height=l.width=6,l.width=6,o[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:"#ffffff",opacity:n,name:"rect"},o[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:t,name:"circle"};break;case"Pacman":l.height="18.384",l.width="17.917",o[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:t,fill:t};break;case"Chessboard":l.height=l.width=10,o[0]={x:0,y:0,width:10,height:10,fill:"#ffffff",opacity:n,name:"rect"},o[1]={x:0,y:0,width:5,height:5,fill:t,opacity:n,name:"rect"},o[2]={x:5,y:5,width:5,height:5,fill:t,opacity:n,name:"rect"};break;case"Crosshatch":l.height=l.width="8",o[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:"#ffffff",opacity:n,name:"rect"},o[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:t,name:"path"};break;case"DiagonalForward":l.height=l.width=6,o[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:n,name:"rect"},o[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:t,name:"path"};break;case"DiagonalBackward":l.height=l.width=6,o[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:n,name:"rect"},o[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:t,name:"path"};break;case"Grid":l.height=l.width=6,o[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:t};break;case"Turquoise":const e=17,i=1;l.height=l.width=e,o[0]={name:"rect",x:0,y:0,width:e,height:e,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},o[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},o[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},o[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},o[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},o[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t},o[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":i,"stroke-miterlimit":10,stroke:t,fill:t};break;case"Star":const s=21;l.height=l.width=s,o[0]={name:"rect",x:0,y:0,width:s,height:s,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:t,fill:t};break;case"Triangle":l.height=l.width=10,o[0]={name:"rect",x:0,y:0,width:10,height:10,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:t,fill:t};break;case"Circle":const r=9;l.height=l.width=r,o[0]={name:"rect",x:0,y:0,width:r,height:r,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:t};break;case"Tile":const a=18,h=1;l.height=l.width=a,o[0]={name:"rect",x:0,y:0,width:a,height:a,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":h,stroke:t,fill:t},o[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":h,stroke:t,fill:t},o[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":h,stroke:t,fill:t},o[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":h,stroke:t,fill:t};break;case"HorizontalDash":l.height=l.width=12,o[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalDash":l.height=l.width=12,o[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Rectangle":l.height=l.width=12,o[0]={name:"rect",width:12,height:12,fill:"#ffffff",opacity:n},o[1]={name:"rect",x:1,y:2,width:4,height:9,fill:t,opacity:n},o[2]={name:"rect",x:7,y:2,width:4,height:9,fill:t,opacity:n};break;case"Box":l.height=l.width=10,o[0]={name:"rect",width:13,height:13,fill:"#ffffff",opacity:n},o[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:t,opacity:n};break;case"HorizontalStripe":l.height=12,l.width=10,o[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalStripe":l.height=10,l.width=12,o[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Bubble":const c=20;l.height=l.width=c,o[0]={name:"rect",x:0,y:0,width:c,height:c,transform:"translate(0,0)",fill:"#ffffff",opacity:n},o[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},o[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:t},o[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"}}let h=e.svgRenderer||e.renderer;return a=h.createPattern(l,"pattern"),this.loadPattern(e,o,a,h),r.appendChild(a),"url(#"+s+"_Selection_"+i+")"}loadPattern(e,t,i,s){let n;for(n=0;n<t.length;n++){let e=s.createPattern(t[n],t[n].name);i.appendChild(e)}}concatIndexes(e,t){return e.concat(t)}checkVisibility(e){if(!e)return!1;let t=!1,i=[];for(let s of e)-1===i.indexOf(s.series)&&i.push(s.series);for(let s of i)if(this.control.series[s].visible){t=!0;break}return t}addSvgClass(e,t){let i=e.getAttribute("class")||"";i+=""!==i?" ":"",-1===i.indexOf(t)&&e.setAttribute("class",i+t)}removeSvgClass(e,t){let i=e.getAttribute("class")||"";i.indexOf(t)>-1&&e.setAttribute("class",i.replace(t,""))}getChildren(e){let t=[];for(let i=0;i<e.childNodes.length;i++)"defs"!==e.childNodes[i].tagName&&t.push(e.childNodes[i]);return t}}class WM extends jM{constructor(e){super(e),this.isdrawRect=!0,this.multiDataIndexes=[],this.pathIndex=0,this.seriesIndex=0,this.count=-1,this.dragRectArray=[],this.filterArray=[],this.totalSelectedPoints=[],this.chart=e,this.renderer=e.renderer,this.isMultiDrag=e.isMultiSelect&&e.selectionMode.indexOf("Drag")>-1,this.addEventListener()}addEventListener(){if(this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning)return;let e=Kv.isPointer?"pointerleave":"mouseleave";this.chart.on(Kv.touchMoveEvent,this.mouseMove,this),this.chart.on(e,this.completeSelection,this),this.chart.on("click",this.calculateSelectedElements,this),this.chart.on(Kv.touchStartEvent,this.mousedown,this),this.chart.on(Kv.touchEndEvent,this.completeSelection,this)}mousedown(e){let t=this.chart;t.isPointMouseDown||"None"===t.selectionMode||t.isChartDrag||(t.isDoubleTap||!t.isTouch||this.rectPoints)&&this.dragStart(t,t.chartAxisLayoutPanel.seriesClipRect,t.mouseDownX,t.mouseDownY,e)}removeEventListener(){this.chart.isDestroyed||(this.chart.off(Kv.touchMoveEvent,this.mouseMove),this.chart.off("pointerleave",this.completeSelection),this.chart.off("click",this.calculateSelectedElements),this.chart.off(Kv.touchStartEvent,this.mousedown),this.chart.off(Kv.touchEndEvent,this.completeSelection))}initPrivateVariables(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.closeIconId=e.element.id+"_ej2_drag_close",this.draggedRectGroup=e.element.id+"_ej2_drag_group",this.multiRectGroup=e.element.id+"_ej2_drag_multi_group",this.draggedRect=e.element.id+"_ej2_drag_rect",this.lassoPath=e.element.id+"_ej2_drag_path",this.selectedDataIndexes=[],this.rectPoints=null,this.isSeriesMode="Series"===e.selectionMode}invokeSelection(e){this.initPrivateVariables(e),this.series=Ky({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.selectionMode,e.selectionMode.indexOf("Drag")>-1||this.selectDataIndex(e,this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes))}generateStyle(e){return e?(this.styleId.indexOf("selection")>1&&"None"!==this.chart.selectionMode&&(this.unselected=e.unSelectedStyle||this.unselected),this.styleId.indexOf("highlight")>0&&"None"!==this.chart.highlightMode&&(this.unselected=e.nonHighlightStyle||this.unselected),e.selectionStyle||this.styleId+"_series_"+e.index):"undefined"}selectDataIndex(e,t){for(let i of t)this.performSelection(i,e,this.getElementByIndex(e,i)[0])}getElementByIndex(e,t,i=""){let s=e.element.id+"_Series_"+t.series+"_Point_"+t.point,n=e.series[t.series];return s=!n.isRectSeries&&"Scatter"!==n.type&&"Bubble"!==n.type&&n.marker.visible?s+"_Symbol"+i:s,[jk(s),"RangeArea"===n.type&&n.marker.visible?jk(s+"1"):null]}getClusterElements(e,t){let i,s,n=[];for(let r of e.visibleSeries)t=new ID(r.index,t.point),n.push(this.getElementByIndex(e,t)[0]),i=this.generateStyle(e.visibleSeries[t.series]),s=document.querySelectorAll("."+i),this.findTrackballElements(s,i),!e.isMultiSelect&&s.length>0&&s[0].id!==n[t.series].id&&this.removeSelection(e,t.series,s,i,!0);return n}findTrackballElements(e,t){let i,s;for(let n=0;n<e.length;n++)if(!Qy(e[n])&&(i=Qy(e[n].parentNode)?[]:[].slice.call(e[0].parentNode.querySelectorAll("."+t)),i.length>0)){s=[];for(let e=0;e<i.length;e++)i[e].id.indexOf("Trackball")>-1&&s.push(i[e]);this.removeStyles(s)}}findElements(e,t,i,s=""){return this.isSeriesMode?this.getSeriesElements(t):"Cluster"===this.currentMode?this.getClusterElements(e,i):this.getElementByIndex(e,i,s)}isAlreadySelected(e){let t=e.target;if("click"===e.type?(this.currentMode=this.chart.selectionMode,this.styleId=this.chart.element.id+"_ej2_chart_selection"):"mousemove"===e.type&&(this.currentMode=this.chart.highlightMode,this.highlightDataIndexes=[],this.styleId=this.chart.element.id+"_ej2_chart_highlight"),"None"!==this.chart.highlightMode&&"None"===this.chart.selectionMode&&"click"===e.type)return!1;if("None"!==this.chart.highlightMode&&this.previousSelectedEle&&this.previousSelectedEle[0]){let i,s=t.parentNode.id;t.parentNode&&(i=s.indexOf("SeriesGroup")>0||s.indexOf("SymbolGroup")>0);for(let t=0;t<this.previousSelectedEle.length;t++)this.previousSelectedEle[t].hasAttribute("class")&&(this.previousSelectedEle[t].getAttribute("class").indexOf("highlight")>-1&&(i||"click"===e.type)?(this.previousSelectedEle[t].removeAttribute("class"),this.addOrRemoveIndex(this.highlightDataIndexes,this.indexFinder(this.previousSelectedEle[t].id))):!i&&this.previousSelectedEle[t].getAttribute("class").indexOf("highlight")>-1&&this.performSelection(this.indexFinder(this.previousSelectedEle[t].id),this.chart,this.previousSelectedEle[t]))}return!0}calculateSelectedElements(e){if(Qy(e.target))return;let t=e.target;if(("None"!==this.chart.selectionMode||"None"!==this.chart.highlightMode)&&-1!==t.id.indexOf(this.chart.element.id+"_")){if("mousemove"===e.type){if(t.hasAttribute("class")&&(t.getAttribute("class").indexOf("highlight")>-1||t.getAttribute("class").indexOf("selection")>-1))return;if(!Qy(t.parentNode)&&t.parentNode.hasAttribute("class")&&(t.parentNode.getAttribute("class").indexOf("highlight")>0||t.parentNode.getAttribute("class").indexOf("selection")>0))return}if(this.isAlreadySelected(e),t.id.indexOf("_Series_")>-1){let e;if(t.id.indexOf("_Trackball_1")>-1)e=jk(t.id.split("_Trackball_")[0]+"_Symbol"),e=Qy(e)?jk(t.id.split("_Trackball_")[0]):e;else if(t.id.indexOf("_Trackball_0")>-1)return null;this.performSelection(this.indexFinder(t.id),this.chart,e||t)}}}performSelection(e,t,i){if(this.isSeriesMode="Series"===this.currentMode,"BoxAndWhisker"===t.series[e.series].type&&i.id===t.element.id+"_Series_"+e.series+"_Point_"+e.point+"_BoxPath"&&(i=i.parentNode),"Area"===t.series[e.series].type&&("Point"===this.currentMode||"Cluster"===this.currentMode)&&i.id===this.chart.element.id+"_Series_"+e.series){let i=this.generateStyle(t.series[e.series]),s=document.querySelectorAll("."+i);this.findTrackballElements(s,i),this.blurEffect(t.element.id,t.visibleSeries)}switch(this.currentMode){case"Series":this.selection(t,e,this.getSeriesElements(t.series[e.series])),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries);break;case"Point":isNaN(e.point)||(this.selection(t,e,[i]),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries));break;case"Cluster":isNaN(e.point)||(this.clusterSelection(t,e),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries))}}selectionComplete(e,t,i){let s,n,r,a,o,l=[];if("Cluster"===i){for(let i of e.visibleSeries)if(i.visible)for(let h=0;h<this.selectedDataIndexes.length;h++)n=e.isMultiSelect?this.selectedDataIndexes[h].point:t.point,r=i.index,s=i.points,isNaN(n)||(a="RangeArea"!==i.type?s[n].yValue:s[n].regions[0].y,o=s[n].xValue,"Category"===e.primaryXAxis.valueType?o=s[n].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(o=new Date(s[n].xValue)),"Indicator"!==i.category&&l.push({x:o,y:a,seriesIndex:r,pointIndex:n}),"RangeArea"===i.type&&l.push({x:o,y:s[n].regions[0].y,seriesIndex:r,pointIndex:n}))}else if("Series"===i)if(e.isMultiSelect)for(let h=0;h<this.selectedDataIndexes.length;h++)r=this.selectedDataIndexes[h].series,l.push({seriesIndex:r});else r=this.selectedDataIndexes.length>0?this.selectedDataIndexes[0].series:0,l.push({seriesIndex:r});else if("Point"===i)for(let h=0;h<this.selectedDataIndexes.length;h++){n=this.selectedDataIndexes[h].point,r=this.selectedDataIndexes[h].series;let t=e.series[r];s=t.points,isNaN(n)||(o=s[n].xValue,a="RangeArea"!==t.type?s[n].yValue:s[n].regions[0].y,"Category"===e.primaryXAxis.valueType?o=s[n].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(o=new Date(s[n].xValue)),l.push({x:o,y:a,seriesIndex:r,pointIndex:n}))}e.trigger("selectionComplete",{name:"selectionComplete",selectedDataValues:l,cancel:!1})}selection(e,t,i,s=!1){if("Lasso"!==this.currentMode&&(e.isMultiSelect||-1!==this.currentMode.indexOf("Drag")||-1!==this.styleId.indexOf("highlight")||"None"===e.selectionMode||this.removeMultiSelectElements(e,this.selectedDataIndexes,t,e.series)),!Qy(i[0])){let s,n=i[0]&&(i[0].getAttribute("class")||""),r=i[0].parentNode&&(i[0].parentNode.getAttribute("class")||"");""!==n&&"Cluster"!==this.currentMode&&this.findTrackballElements(i,n),i[0]&&n.indexOf(this.getSelectionClass(i[0].id))>-1?this.removeStyles(i):i[0].parentNode&&r.indexOf(this.getSelectionClass(i[0].id))>-1?this.removeStyles([i[0].parentNode]):(this.previousSelectedEle="None"!==e.highlightMode?i:[],this.applyStyles(i),s=!0),this.styleId.indexOf("highlight")>0&&"None"!==e.highlightMode?this.addOrRemoveIndex(this.highlightDataIndexes,t,s):this.addOrRemoveIndex(this.selectedDataIndexes,t,s)}}clusterSelection(e,t){this.selection(e,t,this.getClusterElements(e,new ID(t.series,t.point)))}removeMultiSelectElements(e,t,i,s){let n;for(let r=0;r<t.length;r++)n=s[t[r].series],(this.isSeriesMode&&!this.toEquals(t[r],i,this.isSeriesMode)||"Cluster"===this.currentMode&&!this.toEquals(t[r],i,!1)||!this.isSeriesMode&&this.toEquals(t[r],i,!0)&&!this.toEquals(t[r],i,!1))&&(this.removeStyles(this.findElements(e,n,t[r])),t.splice(r,1),r--)}blurEffect(e,t,i=!1){let s=this.checkVisibility(this.highlightDataIndexes)||this.checkVisibility(this.selectedDataIndexes);for(let n of t)n.visible&&(this.checkSelectionElements(jk(e+"SeriesGroup"+n.index),this.generateStyle(n),s,i,n.index),Qy(jk(e+"SymbolGroup"+n.index))||this.checkSelectionElements(jk(e+"SymbolGroup"+n.index),this.generateStyle(n),s,i,n.index))}checkSelectionElements(e,t,i,s,n){let r,a,o,l=this.isSeriesMode?[e]:e.childNodes;"None"!==this.chart.selectionMode&&"None"!==this.chart.highlightMode&&(l=e.children);let h=e;for(let c=0;c<l.length;c++)r=l[c].getAttribute("class")||"",a=l[c].parentNode.getAttribute("class")||"","None"!==this.chart.selectionMode&&"None"!==this.chart.highlightMode&&(t=r.indexOf("selection")>0||r.indexOf("highlight")>0?r:t,t=a.indexOf("selection")>0||a.indexOf("highlight")>0?a:t),-1===r.indexOf(t)&&-1===a.indexOf(t)&&i?this.addSvgClass(l[c],this.unselected):(h=l[c],this.removeSvgClass(l[c],this.unselected),this.removeSvgClass(l[c].parentNode,this.unselected)),l[c].id.indexOf("Trackball")>0&&h.classList[0]===t&&(this.removeSvgClass(l[c],this.unselected),this.removeSvgClass(l[c].parentNode,this.unselected),this.addSvgClass(l[c],t));if(e.id.indexOf("Symbol")>-1&&e.querySelectorAll("."+t)[0]&&e.querySelectorAll("."+t)[0].getAttribute("class")===t){let t=jk(this.control.element.id+"_Series_"+e.id[e.id.length-1]);(t&&t.hasAttribute("class")?t.getAttribute("class"):"").indexOf(this.unselected)>-1&&this.removeSvgClass(t,this.unselected)}this.control.legendModule&&this.control.legendSettings.visible&&(o=jk(this.control.element.id+"_chart_legend_shape_"+n),o&&(o.hasAttribute("class")&&this.removeSvgClass(o,o.getAttribute("class")),r=h.getAttribute("class")||"",a=h.parentNode.getAttribute("class")||"",-1===r.indexOf(t)&&-1===a.indexOf(t)&&i?(this.addSvgClass(o,this.unselected),this.removeSvgClass(o,t)):(this.removeSvgClass(o,this.unselected),""===r&&""===a||"EJ2-Trackball"===r.trim()?this.removeSvgClass(o,t):this.addSvgClass(o,t)),s&&a.indexOf(t)>-1&&this.addSvgClass(o,t)))}applyStyles(e){for(let t of e)t&&(this.removeSvgClass(t.parentNode,this.unselected),this.removeSvgClass(t,this.unselected),this.addSvgClass(t,this.getSelectionClass(t.id)))}getSelectionClass(e){return this.generateStyle(this.control.series[this.indexFinder(e).series])}removeStyles(e){for(let t of e)t&&this.removeSvgClass(t,this.getSelectionClass(t.id))}addOrRemoveIndex(e,t,i){for(let s=0;s<e.length;s++)this.toEquals(e[s],t,this.isSeriesMode)&&(e.splice(s,1),s--);i&&e.push(t)}toEquals(e,t,i){return(e.series===t.series||"Cluster"===this.currentMode&&!i)&&(i||e.point===t.point)}redrawSelection(e,t){this.isSeriesMode="Series"===t;let i=Ky([],this.selectedDataIndexes,null,!0),s=Ky([],this.highlightDataIndexes,null,!0);this.styleId.indexOf("highlight")>0&&s.length>0?(this.removeSelectedElements(e,this.highlightDataIndexes,e.series),i=s):this.removeSelectedElements(e,this.selectedDataIndexes,e.series),this.blurEffect(e.element.id,e.visibleSeries),this.selectDataIndex(e,i)}legendSelection(e,t,i){let s=i.target;if("mousemove"===i.type){if(i.target.id.indexOf("text")>1&&(s=jk(i.target.id.replace("text","shape"))),s.hasAttribute("class")&&(s.getAttribute("class").indexOf("highlight")>-1||s.getAttribute("class").indexOf("selection")>-1))return;this.currentMode=this.chart.highlightMode}if(this.isAlreadySelected(i)){let i=this.generateStyle(e.visibleSeries[t]),s=document.querySelectorAll("."+i);this.isSeriesMode="Series"===this.currentMode;let n=!0;if(s.length>0)this.removeSelection(e,t,s,i,n);else{for(let a of e.visibleSeries)a.index===t||e.isMultiSelect||(i=this.generateStyle(e.visibleSeries[a.index]),s=document.querySelectorAll("."+i),this.removeSelection(e,t,s,i,n));let r=this.getSeriesElements(e.visibleSeries[t]);for(let e of r)this.checkSelectionElements(e,i,!1,!0,t);this.isSeriesMode=!0,this.selection(e,new ID(t,NaN),r,!0),this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries,!0)}}}removeSelection(e,t,i,s,n){if(i.length>0){let r=[];for(let e=0;e<i.length;e++)r.push(i[e]);this.removeStyles(r),this.isSeriesMode=!0,this.addOrRemoveIndex(this.selectedDataIndexes,new ID(t,NaN));for(let i of e.visibleSeries)if(s=this.generateStyle(i),document.querySelectorAll("."+s).length>0){for(let e of r)this.checkSelectionElements(e,s,!0,!0,t);n=!1;break}n&&(this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries))}}getSeriesElements(e){let t=[e.seriesElement];return e.marker.visible&&"Scatter"!==e.type&&"Bubble"!==e.type&&!e.isRectSeries&&t.push(e.symbolElement),t}indexFinder(e){let t=["NaN","NaN"];return e.indexOf("SeriesGroup")>-1?(t=e.split("SeriesGroup"),t[0]=t[1]):e.indexOf("SymbolGroup")>-1?(t=e.split("SymbolGroup"),t[0]=t[1]):e.indexOf("_Point_")>-1?t=e.split("_Series_")[1].split("_Point_"):e.indexOf("_Series_")>-1?t[0]=e.split("_Series_")[1]:e.indexOf("_chart_legend_shape_")>-1&&(t=e.split("_chart_legend_shape_"),t[0]=t[1]),new ID(parseInt(t[0],10),parseInt(t[1],10))}calculateDragSelectedElements(e,t,i){this.removeSelectedElements(e,this.selectedDataIndexes,e.series);let s,n,r="Lasso"===e.selectionMode,a=new rx(t.x,t.y,t.width,t.height),o=new SA(e.chartAxisLayoutPanel.seriesClipRect.x,e.chartAxisLayoutPanel.seriesClipRect.y);this.removeOffset(a,o);let l=[],h=[];this.isSeriesMode=!1;let c=e.allowMultiSelection&&(this.rectGrabbing||this.resizing);if(this.rectPoints=this.dragRectArray[c?this.targetIndex:this.count]=new rx(t.x,t.y,t.width,t.height),t.width&&t.height&&!i){let e=new rx(t.x,t.y,t.width,t.height);this.removeOffset(e,o),this.filterArray[c?this.targetIndex:this.count]=e}for(let d of e.visibleSeries)if(d.visible){let t,i;s=d.points,l=[],!e.isTransposed&&-1===d.type.indexOf("Bar")||e.isTransposed&&-1!==d.type.indexOf("Bar")?(t=d.xAxis.rect.x-o.x,i=d.yAxis.rect.y-o.y):(t=d.xAxis.rect.y-o.y,i=d.yAxis.rect.x-o.x);for(let r=0;r<s.length;r++){let h,c="RangeArea"!==d.type?s[r].yValue:s[r].regions[0].y,u=s[r].xValue;"Category"===e.primaryXAxis.valueType?u=s[r].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(u=new Date(s[r].xValue)),h="BoxAndWhisker"===d.type?s[r].regions.some(e=>Ek(e.x+t,e.y+i,a)):"Lasso"===e.selectionMode?s[r].isSelect:e.allowMultiSelection?this.isPointSelect(s[r],t,i,this.filterArray,o):s[r].symbolLocations.some(e=>e&&Ek(e.x+t,e.y+i,a)),h&&"Indicator"!==d.category&&(n=new ID(d.index,s[r].index),this.selection(e,n,this.findElements(e,d,n)),l.push({x:u,y:c})),h&&"RangeArea"===d.type&&l.push({x:u,y:s[r].regions[0].y})}h.push(l)}this.blurEffect(e.element.id,e.visibleSeries),i||this.createCloseButton(r?e.mouseDownX:t.x+t.width,r?e.mouseDownY:t.y),e.trigger("dragComplete",{name:"dragComplete",selectedDataValues:h,cancel:!1})}removeOffset(e,t){e.x-=t.x,e.y-=t.y}isPointSelect(e,t,i,s,n){let r=e.symbolLocations[0];for(let a of s)if(a&&r&&Ek(r.x+t,r.y+i,a))return!0;return!1}drawDraggingRect(e,t,i){let s=e.chartAxisLayoutPanel.seriesClipRect,n=e.chartArea.border.width,r=e.themeStyle.selectionRectFill,a=e.themeStyle.selectionRectStroke,o="Lasso"===e.selectionMode;switch(this.isdrawRect&&(s.x=s.x-n/2,s.y=s.y-n/2,s.width=s.width+n,s.height=s.height+n,this.isdrawRect=!1),e.selectionMode){case"DragX":t.y=s.y,t.height=s.height;break;case"DragY":t.x=s.x,t.width=s.width}if((t.width<5||t.height<5)&&!o)return null;let l=e.selectionMode.indexOf("Drag")>-1||"Lasso"===e.selectionMode;if(e.allowMultiSelection&&l){let s,n,o=jk(this.multiRectGroup);if(o||(o=e.svgRenderer.createGroup({id:this.multiRectGroup}),e.svgObject.appendChild(o)),this.rectGrabbing||this.resizing){let e;e=jk(this.resizing?this.draggedRect+this.targetIndex:i.id),e.nextSibling&&Rv(e.nextSibling),this.setAttributes(e,t)}else if(!jk(this.draggedRectGroup+this.count)){n=e.svgRenderer.createGroup({id:this.draggedRectGroup+this.count});let t=document.getElementById(e.element.id+"_series_svg");e.enableCanvas?t.appendChild(n):o.appendChild(n)}"Lasso"!==e.selectionMode?(s=e.svgRenderer.drawRectangle(new vA(this.draggedRect+this.count,r,{color:a,width:1},1,t)),s.setAttribute("style","cursor:move;")):s=e.svgRenderer.drawPath(new ux(this.lassoPath+this.count,r,3,a,1,"",this.path)),n||this.rectGrabbing||this.resizing?this.rectGrabbing||this.resizing||n.appendChild(s):jk(this.draggedRectGroup+this.count).appendChild(s)}else{let i=jk(o?this.lassoPath:this.draggedRect);if(this.closeIcon&&nk(this.closeIconId),i)o?i.setAttribute("d",this.path):this.setAttributes(i,t);else{let s=e.svgRenderer.createGroup({id:this.draggedRectGroup}),n=document.getElementById(e.element.id+"_series_svg");e.enableCanvas?n.appendChild(s):e.svgObject.appendChild(s),i="Lasso"!==e.selectionMode?e.svgRenderer.drawRectangle(new vA(this.draggedRect,r,{color:a,width:1},1,t)):e.svgRenderer.drawPath(new ux(this.lassoPath,r,3,a,1,"",this.path)),s.appendChild(i)}}}getIndex(e){let t;for(t=e.length-1;t>0;t--){let i=Number(e[t]);if(isNaN(i))break}return+e.substr(t+1,e.length-1)}createCloseButton(e,t){let i=this.chart.allowMultiSelection,s=this.chart.themeStyle.selectionCircleStroke,n=this.rectGrabbing||this.resizing,r=this.chart.svgRenderer.createGroup({id:this.closeIconId+(i?n?this.targetIndex:this.count:""),style:"cursor:pointer; visibility: visible;"});r.appendChild(this.chart.svgRenderer.drawCircle(new xA(this.closeIconId+"_circle"+(i?n?this.targetIndex:this.count:""),"#FFFFFF",{color:s,width:1},1,e,t,10))),r.appendChild(this.chart.svgRenderer.drawPath({id:this.closeIconId+"_cross"+(i?n?this.targetIndex:this.count:""),d:"M "+(e-4)+" "+(t-4)+" L "+(e+4)+" "+(t+4)+" M "+(e-4)+" "+(t+4)+" L "+(e+4)+" "+(t-4),stroke:s,"stroke-width":2,fill:s},null)),this.closeIcon=r;let a=jk(this.draggedRectGroup+(i?n?this.targetIndex:this.count:""));a&&a.appendChild(r)}removeDraggedElements(e,t){if(t.target.id.indexOf(this.closeIconId)>-1&&-1===t.type.indexOf("move")){let i=!0;if(e.allowMultiSelection){let s=this.getIndex(t.target.id),n=jk(this.multiRectGroup);if(Rv(jk(this.draggedRectGroup+s)),this.dragRectArray[s]=null,this.filterArray[s]=null,this.totalSelectedPoints[s]=null,n&&0===n.childElementCount&&(nk(n),this.dragRectArray=[],this.filterArray=[],this.totalSelectedPoints=[]),"Lasso"===this.currentMode){if(null!=this.multiDataIndexes[s])for(let e=0;e<this.multiDataIndexes[s].length;e++)this.multiDataIndexes[s][e].isSelect=!1;this.multiDataIndexes[s]=null;for(let e=0;e<this.multiDataIndexes.length;e++)if(null!=this.multiDataIndexes[e]){i=!1;for(let t=0;t<this.multiDataIndexes[e].length;t++)this.multiDataIndexes[e][t].isSelect=!0}this.calculateDragSelectedElements(e,this.dragRect,!0)}else if(this.filterArray.length)for(let t=0;t<this.filterArray.length;t++)this.filterArray[t]&&(i=!1,this.calculateDragSelectedElements(e,this.filterArray[t],!0));else this.calculateDragSelectedElements(e,new rx(0,0,0,0),!0)}else Rv(jk(this.draggedRectGroup)),this.removeSelectedElements(e,this.selectedDataIndexes,e.series);this.blurEffect(e.element.id,e.visibleSeries),this.changeCursorStyle(!1,e.svgObject,"auto"),e.allowMultiSelection&&!i||(this.rectPoints=null)}}resizingSelectionRect(e,t,i,s){let n;if(e.allowMultiSelection&&s.id.indexOf("_ej2_drag_rect")>-1||this.dragRectArray[this.targetIndex]){s.id.indexOf("_ej2_drag_rect")>-1&&(this.targetIndex=this.getIndex(s.id));let e=this.dragRectArray[this.targetIndex];n=new rx(e.x,e.y,e.width,e.height)}if(e.allowMultiSelection||(n=new rx(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height)),n){let s=this.findResizeMode(e.svgObject,n,t);this.resizing&&(n=Zk(n.x,n.y,n.x+n.width,n.y+n.height,e.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(e,n),this.dragRect=n),i&&(this.resizing=s)}}findResizeMode(e,t,i){let s="se-resize",n=!1;if(this.resizing){let e=t.x,s=t.y,n=i.x-e,r=i.y-s;switch(this.resizeMode){case 0:r=Math.abs(t.height+t.y-i.y),t.y=Math.min(t.height+t.y,i.y),t.height=r;break;case 1:n=Math.abs(t.width+t.x-i.x),t.x=Math.min(t.width+t.x,i.x),t.width=n;break;case 2:t.height=Math.abs(r),t.y=Math.min(i.y,s);break;case 3:t.width=Math.abs(n),t.x=Math.min(i.x,e);break;case 4:t.width=Math.abs(n),t.height=Math.abs(r),t.x=Math.min(i.x,e),t.y=Math.min(i.y,s)}}else{let e=[new rx(t.x,t.y,t.width-5,5),new rx(t.x,t.y,5,t.height),new rx(t.x,t.y+t.height-5,t.width-5,5),new rx(t.x+t.width-5,t.y+5,5,t.height-15),new rx(t.x+t.width-10,t.y+t.height-10,10,10)];for(let t=0;t<e.length;t++)if(Ek(i.x,i.y,e[t])){s=4===t?s:t%2==0?"ns-resize":"ew-resize",n=!0,this.resizeMode=t;break}}return"Lasso"!==this.currentMode&&this.changeCursorStyle(n,jk(this.chart.allowMultiSelection?this.draggedRect+this.targetIndex:this.draggedRect),s),this.changeCursorStyle(n,e,s),n}changeCursorStyle(e,t,i){i=e?i:this.control.svgObject===t?"auto":"move",t&&t.setAttribute("style","cursor:"+i+";")}removeSelectedElements(e,t,i){let s;t.splice(0,t.length);for(let n of i){s=this.getSeriesElements(n),this.removeStyles(s);for(let e of s)this.removeStyles(this.getChildren(e))}}setAttributes(e,t){let i=Object.keys(t);for(let s of i)e.setAttribute(s,t[s])}draggedRectMoved(e,t,i,s){let n;if((this.resizing||this.rectGrabbing)&&e.allowMultiSelection){let e=this.dragRectArray[this.targetIndex];n=new rx(e.x,e.y,e.width,e.height)}else n=new rx(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height);n.x-=t.x-e.mouseX,n.y-=t.y-e.mouseY,n=Zk(n.x,n.y,n.x+n.width,n.height+n.y,e.chartAxisLayoutPanel.seriesClipRect),i?this.drawDraggingRect(e,n,s):this.calculateDragSelectedElements(e,n)}completeSelection(e){let t=this.chart;"None"!==t.selectionMode&&(this.currentMode=t.selectionMode,(this.dragging||this.resizing)&&this.dragRect.width>5&&this.dragRect.height>5?this.calculateDragSelectedElements(t,this.dragRect):!t.allowMultiSelection&&this.rectGrabbing&&this.rectPoints.width&&this.rectPoints.height?this.draggedRectMoved(t,this.dragRect):this.rectGrabbing&&this.dragRectArray[this.targetIndex].width&&this.dragRectArray[this.targetIndex].height&&this.draggedRectMoved(t,this.dragRect),"Lasso"===t.selectionMode&&this.dragging&&this.path&&-1!==this.path.indexOf("L")&&(t.allowMultiSelection?jk(this.lassoPath+this.count)&&(jk(this.lassoPath+this.count).setAttribute("d",this.path+"Z"),this.pointChecking(jk(this.lassoPath+this.count))):(jk(this.lassoPath).setAttribute("d",this.path+"Z"),this.pointChecking(jk(this.lassoPath))),(this.dragging||this.resizing)&&this.calculateDragSelectedElements(t,this.dragRect)),this.dragging=!1,this.rectGrabbing=!1,this.resizing=!1,this.removeDraggedElements(t,e))}getDragRect(e,t){return Zk(e.mouseDownX,e.mouseDownY,e.mouseX,e.mouseY,t)}dragStart(e,t,i,s,n){let r=e.selectionMode;this.currentMode=e.selectionMode,this.dragging=(r.indexOf("Drag")>-1||"Lasso"===r)&&(e.isDoubleTap||!e.isTouch)&&"PolarRadar"!==e.chartAreaType;let a=n.target;if(this.path=void 0,this.dragging&&(this.count=jk(this.multiRectGroup)?this.count+1:0,this.dragRect=new rx(e.mouseDownX,e.mouseDownY,0,0),(e.mouseDownX<t.x||e.mouseDownX>t.x+t.width||e.mouseDownY<t.y||e.mouseDownY>t.y+t.height)&&(this.dragging=!1)),"Lasso"===r)for(let o of e.visibleSeries)if(o.visible)for(let t of o.points)e.allowMultiSelection||(t.isSelect=!1);if("Lasso"!==r&&(this.rectPoints&&!e.allowMultiSelection&&(this.dragRect=new rx(e.mouseDownX,e.mouseDownY,0,0),this.resizingSelectionRect(e,new SA(i,s),!0),this.rectGrabbing=Ek(i,s,this.rectPoints)),e.allowMultiSelection)){let t=this.getIndex(a.id);this.targetIndex=this.isDragRect(a.id)?t:void 0,this.dragRectArray.length&&this.isDragRect(a.id)&&(this.resizingSelectionRect(e,new SA(i,s),!0,a),this.rectGrabbing=Ek(i,s,this.dragRectArray[t]))}}isDragRect(e){return e.indexOf("_ej2_drag_rect")>-1}mouseMove(e){let t=this.chart,i=e.target;if("None"===t.highlightMode||Qy(i))"None"!==t.selectionMode&&("touchmove"===e.type&&(Kv.isIos||Kv.isIos7)&&this.dragging&&e.preventDefault&&e.preventDefault(),Ek(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?(this.rectGrabbing&&!this.resizing?this.draggedRectMoved(t,this.dragRect,!0,i):this.dragging&&!this.resizing&&("Lasso"===t.selectionMode?(this.getPath(t.mouseDownX,t.mouseDownY,t.mouseX,t.mouseY),this.drawDraggingRect(t,this.dragRect,i)):(this.dragRect=this.getDragRect(t,t.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(t,this.dragRect,i))),this.rectPoints&&!t.allowMultiSelection?this.resizingSelectionRect(t,new SA(t.mouseX,t.mouseY),null,i):(t.allowMultiSelection&&!this.dragging||this.resizing)&&this.resizingSelectionRect(t,new SA(t.mouseX,t.mouseY),null,i)):this.completeSelection(e));else{if(e.target.id.indexOf("text")>1&&(i=jk(e.target.id.replace("text","shape"))),i.hasAttribute("class")&&(i.getAttribute("class").indexOf("highlight")>-1||i.getAttribute("class").indexOf("selection")>-1))return;this.calculateSelectedElements(e)}}getPath(e,t,i,s){this.dragging&&(this.path=this.path?this.path+" L"+i+" "+s:"M "+e+" "+t)}pointChecking(e){let t,i=this.chart,s=jk(i.svgId).getBoundingClientRect(),n=i.chartAxisLayoutPanel.seriesClipRect.x+Math.max(s.left,0),r=i.chartAxisLayoutPanel.seriesClipRect.y+Math.max(s.top,0);this.multiDataIndexes[this.count]=[];for(let a of i.visibleSeries)a.points.filter(s=>{t=document.elementFromPoint(s.symbolLocations[0].x+n,s.symbolLocations[0].y+r),t===e?(s.isSelect=!0,this.chart.allowMultiSelection&&"Lasso"===this.currentMode&&(this.multiDataIndexes[this.count][this.seriesIndex]=s,this.seriesIndex++)):i.allowMultiSelection||(s.isSelect=!1)});this.seriesIndex=0}getModuleName(){return"Selection"}destroy(e){this.removeEventListener()}}class YM{constructor(e){this.isPointDragging=!1,this.chart=e}pointMouseDown(){let e,t=this.chart,i=new MA(t),s=i.getData();!s.point||!i.insideRegion&&s.series.isRectSeries||(this.seriesIndex=s.series.index,this.pointIndex=s.point.index,e=t.series[this.seriesIndex],e.dragSettings.enable&&!t.zoomModule&&(t.trigger("dragStart",{series:s.series,seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,point:s.point,oldValue:t.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:t.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),t.isPointMouseDown=!0,t.zoomSettings.enableDeferredZooming=!1))}pointMouseMove(e){let t,i=this.chart;"touchmove"===e.type&&e.preventDefault&&e.preventDefault();let s=new MA(i),n=s.getData();n.series.dragSettings.enable&&n.point&&(s.insideRegion||!n.series.isRectSeries)?this.getCursorStyle(n):i.svgObject.setAttribute("style","cursor: null"),i.isPointMouseDown&&(t=i.series[this.seriesIndex],t.type.indexOf("Spline")>-1&&i[Mk(t.type)+"SeriesModule"].findSplinePoint(t),this.pointDragging(this.seriesIndex,this.pointIndex))}getCursorStyle(e){let t=this.chart;t.svgObject.setAttribute("style","Bar"===e.series.type&&t.isTransposed?"cursor:ns-resize":t.isTransposed||"Bar"===e.series.type?"cursor:ew-resize":"cursor:ns-resize")}pointDragging(e,t){let i,s,n,r,a,o=this.chart,l=[],h=o.visibleSeries[e],c=h.dragSettings,d=h.yAxis,u=h.isRectSeries?1:0,p=function(e,t,i){let s,n,r,a;return i?(s=t.rect.x,n=e.rect.y,r=t.rect.width,a=e.rect.height):(s=e.rect.x,n=t.rect.y,r=e.rect.width,a=t.rect.height),new rx(s,n,r,a)}(h.xAxis,d,o.requireInvertedAxis);if("Bar"===h.type?(i=o.isTransposed?p.y+p.height-o.mouseY:o.mouseX-p.x,s=o.isTransposed?p.height:p.width):(i=o.isTransposed?o.mouseX-p.x:p.y+p.height-o.mouseY,s=o.isTransposed?p.width:p.height),n=d.isInversed?1-i/s:i/s,n=n*d.visibleRange.delta+d.visibleRange.min,r=null!==d.minimum?d.visibleRange.min+u:Qy(c.minY)?n:c.minY,a=null!==d.maximum?d.visibleRange.max+u:Qy(c.maxY)?n:c.maxY,a>=n&&r<=n){h.points[t].yValue=h.points[t].y=o.dragY="Logarithmic"===d.valueType?Math.pow(d.logBase,n):parseFloat(n.toFixed(2)),h.points[t].interior=c.fill;for(let e=0;e<h.points.length;e++)l[e]=h.points[e].yValue;h.yMin=Math.min.apply(null,l),h.yMax=Math.max.apply(null,l),this.isPointDragging=!0,o.refreshBound(),o.trigger("drag",{seriesIndex:e,pointIndex:t,series:h,point:h.points[t],oldValue:o.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:h.points[t].yValue})}}pointMouseUp(){let e=this.chart;e.isPointMouseDown&&e.series[this.seriesIndex].dragSettings.enable&&(e.trigger("dragEnd",{series:e.series[this.seriesIndex],point:e.visibleSeries[this.seriesIndex].points[this.pointIndex],seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,oldValue:e.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),e.visibleSeries[this.seriesIndex].points[this.pointIndex].y=e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue,e.isPointMouseDown=!1,this.isPointDragging=!1,this.seriesIndex=this.pointIndex=void 0)}getModuleName(){return"DataEditing"}destroy(e){}}class qM extends WM{constructor(e){super(e),this.chart=e,this.renderer=e.renderer,this.wireEvents()}wireEvents(){this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning||this.chart.on(Kv.touchMoveEvent,this.mouseMove,this)}unWireEvents(){this.chart.isDestroyed||this.chart.off(Kv.touchMoveEvent,this.mouseMove)}declarePrivateVariables(e){this.styleId=e.element.id+"_ej2_chart_highlight",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.highlightDataIndexes=[],this.isSeriesMode="Series"===e.highlightMode}invokeHighlight(e){this.declarePrivateVariables(e),this.series=Ky({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.highlightMode}getModuleName(){return"Highlight"}destroy(e){this.unWireEvents()}}class UM{constructor(e){this.errorHeight=0,this.chart=e}initPrivateVariables(e,t){let i="",s="",n=e.chart.renderer,r=void 0===e.index?e.category:e.index;"Cartesian"===e.chart.chartAreaType&&(i="translate("+e.clipRect.x+","+e.clipRect.y+")",s="url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+r+")"),t.dataLabel.visible&&(e.shapeElement=n.createGroup({id:this.chart.element.id+"ShapeGroup"+r,transform:i,"clip-path":"url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+r+")"}),e.textElement=n.createGroup({id:this.chart.element.id+"TextGroup"+r,transform:i,"clip-path":s})),this.markerHeight="Scatter"===e.type||t.visible?t.height/2:0,this.commonId=this.chart.element.id+"_Series_"+r+"_Point_",this.calculateErrorHeight(e,e.marker.dataLabel.position),this.chartBackground="transparent"===this.chart.chartArea.background?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background}calculateErrorHeight(e,t){if(!e.errorBar.visible)return null;if(e.errorBar.visible&&"PolarRadar"!==this.chart.chartAreaType){let i=e.errorBar.direction,s=this.chart.errorBarModule.positiveHeight,n=this.chart.errorBarModule.negativeHeight;this.isRectSeries(e)?("Top"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?n:0),"Outer"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Plus"===i?s:0)):("Top"!==t&&"Outer"!==t&&"Auto"!==t||(this.errorHeight="Both"!==i&&"Plus"!==i||e.chart.isTransposed?0:s),"Bottom"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?n:0))}else this.errorHeight=0}isRectSeries(e){return e.isRectSeries||"RangeArea"===e.type}render(e,t,i){let s,n,r,a,o,l,h,c;this.initPrivateVariables(e,e.marker),this.inverted=t.requireInvertedAxis,this.yAxisInversed=e.yAxis.isInversed;let d,u=t.redraw,p=Sv("div",{id:t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections"}),m=sk(e);for(let g=0;g<m.length;g++){d=m[g],this.margin=i.margin;let f,y,b,v,w,x,_=[],S=!0,C=e.clipRect;h=c=i.angle,o={width:i.border.width,color:i.border.color};let E=Ky({},Gy("properties",i.font),null,!0);if(d.symbolLocations.length&&d.symbolLocations[0]||"BoxAndWhisker"===e.type&&d.regions.length){_=Kk(d,e,t),f=_.length;for(let m=0;m<f;m++)if(a={cancel:!1,name:"textRender",series:e,point:d,text:_[m],border:o,color:i.fill,template:i.template,font:E},t.trigger("textRender",a),!a.cancel)if(this.fontBackground=a.color,this.isDataLabelShape(a),this.markerHeight="Bubble"===e.type?d.regions[0].height/2:this.markerHeight,null!==a.template)this.createDataLabelTemplate(p,e,i,d,a,m,u);else{if(l=ix(a.text,i.font),s=this.calculateTextPosition(d,e,l,i,m),"PolarRadar"===t.chartAreaType)for(let e of t.chartAxisLayoutPanel.visibleAxisLabelRect)if(eA(new rx(s.x,s.y,s.width,s.height),e)){S=!1;break}let o,p=new rx(s.x+C.x,s.y+C.y,s.width,s.height),g=[];if(i.enableRotation&&0!==h){let e=this.getRectanglePoints(p);g.push(fk(e,p.x+.5*p.width,p.y-p.height/2,h)),o=!0;for(let t=m;t>0;t--)if(g[m]&&g[t-1]&&yk(g[m],g[t-1])){o=!1,g[m]=null;break}}else o=!Jk(s,t.dataLabelCollections,C);o&&S&&(t.dataLabelCollections.push(p),this.isShape&&(x=t.renderer.drawRectangle(new vA(this.commonId+d.index+"_TextShape_"+m,a.color,a.border,i.opacity,s,i.rx,i.ry),new Int32Array([C.x,C.y])),e.shapeElement&&e.shapeElement.appendChild(x)),n=sA(nA(this.fontBackground)),r=Math.round((299*n.r+587*n.g+114*n.b)/1e3),y=s.x+this.margin.left+l.width/2,b=s.y+this.margin.top+3*l.height/4,0!==h&&i.enableRotation?(v=y-i.margin.left/2+i.margin.right/2,w=b-i.margin.top/2-l.height/i.margin.top+i.margin.bottom/2,c=h>360?h-360:h<-360?h+360:h):(c=0,v=s.x,w=s.y),dA(t.renderer,new lx(this.commonId+d.index+"_Text_"+m,y,b,"middle",a.text,"rotate("+c+","+v+","+w+")","auto",c),a.font,a.font.color||(r>=128||"Hilo"===e.type?"black":"white"),e.textElement,!1,u,!0,!1,e.chart.duration,e.clipRect))}}}p.childElementCount&&Xk(t.enableCanvas,jk(t.element.id+"_Secondary_Element"),p,t.redraw,!1,"x","y",null,"",!1,!1,null,t.duration)}getRectanglePoints(e){return[new SA(e.x,e.y),new SA(e.x+e.width,e.y),new SA(e.x+e.width,e.y+e.height),new SA(e.x,e.y+e.height)]}createDataLabelTemplate(e,t,i,s,n,r,a){this.margin={left:0,right:0,bottom:0,top:0};let o=t.clipRect,l=Wk(Sv("div",{id:this.chart.element.id+"_Series_"+(void 0===t.index?t.category:t.index)+"_DataLabel_"+s.index+(r?"_"+r:""),styles:"position: absolute;background-color:"+n.color+";"+Yk(i.font)+";border:"+n.border.width+"px solid "+n.border.color+";"}),0,n.template,this.chart,s,t,this.chart.element.id+"_DataLabel"),h=qk(l,a),c=this.calculateTextPosition(s,t,{width:h.width,height:h.height},i,r);l.style.left=("PolarRadar"===this.chart.chartAreaType?0:t.clipRect.x)+c.x+"px",l.style.top=("PolarRadar"===this.chart.chartAreaType?0:t.clipRect.y)+c.y+"px";let d=sA(nA(this.fontBackground)),u=t.chart.requireInvertedAxis?t.xAxis:t.yAxis,p=t.chart.requireInvertedAxis?t.yAxis:t.xAxis;l.style.color=i.font.color||(Math.round((299*d.r+587*d.g+114*d.b)/1e3)>=128?"black":"white"),l.childElementCount&&(!Jk(c,this.chart.dataLabelCollections,o)||"None"===i.labelIntersectAction)&&("XY"!==t.seriesType||void 0===s.yValue||lk(s.yValue,t.yAxis.visibleRange)||t.type.indexOf("100")>-1&&lk(t.stackedValues.endValues[s.index],t.yAxis.visibleRange))&&lk(s.xValue,t.xAxis.visibleRange)&&parseFloat(l.style.top)>=u.rect.y&&parseFloat(l.style.left)>=p.rect.x&&parseFloat(l.style.top)<=u.rect.y+u.rect.height&&parseFloat(l.style.left)<=p.rect.x+p.rect.width&&(this.chart.dataLabelCollections.push(new rx(c.x+o.x,c.y+o.y,c.width,c.height)),Xk(this.chart.enableCanvas,e,l,a,!0,"left","top"),t.animation.enable&&this.chart.animateSeries&&this.doDataLabelAnimation(t,l))}calculateTextPosition(e,t,i,s,n){let r,a=n>1&&"Candle"===t.type?e.regions[1]:e.regions[0];n>1&&"HiloOpenClose"===t.type&&(a=2===n?e.regions[1]:e.regions[2]),r=this.getLabelLocation(e,t,i,n);let o,l=t.clipRect;if(this.chart.requireInvertedAxis&&this.isRectSeries(t)&&"BoxAndWhisker"!==t.type){this.locationY=r.y;let o=i.width+this.borderWidth+this.margin.left+this.margin.right-5;r.x="Auto"===s.position?r.x:this.calculateAlignment(o,r.x,s.alignment,e.yValue<0),r.x=this.calculateRectPosition(r.x,a,e.yValue<0!==this.yAxisInversed,s.position,t,i,n,e)}else{this.locationX=r.x;let o=i.height+2*this.borderWidth+this.markerHeight+this.margin.bottom+this.margin.top+5;r.y="Auto"===s.position?r.y:this.calculateAlignment(o,r.y,s.alignment,!!this.isRectSeries(t)&&e.yValue<0),r.y=this.isRectSeries(t)&&"BoxAndWhisker"!==t.type?this.calculateRectPosition(r.y,a,e.yValue<0!==this.yAxisInversed,s.position,t,i,n,e):this.calculatePathPosition(r.y,s.position,t,e,i,n),this.isRectSeries(t)&&"PolarRadar"===this.chart.chartAreaType&&(r=this.calculatePolarRectPosition(r,s.position,t,e,i,n,s.alignment,o))}return o=tA(r,i,this.margin),!0===s.enableRotation&&0!==s.angle||o.y>l.y+l.height||o.x>l.x+l.width||o.x+o.width<0||o.y+o.height<0||(o.x=o.x<0?5:o.x,o.y=o.y<0?5:o.y,o.x-=o.x+o.width>l.x+l.width?o.x+o.width-(l.x+l.width)+5:0,o.y-=o.y+o.height>l.y+l.height?o.y+o.height-(l.y+l.height)+5:0,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground),o}calculatePolarRectPosition(e,t,i,s,n,r,a,o){let l,h=this.chart.availableSize.width,c="Center"===a?0:"Far"===a?1:-1,d=s.regionData.startAngle-.5*Math.PI+(s.regionData.endAngle-s.regionData.startAngle)/2;return l=0===r?s.regionData.radius<s.regionData.innerRadius?s.regionData.innerRadius:s.regionData.radius:s.regionData.radius>s.regionData.innerRadius?s.regionData.innerRadius:s.regionData.radius,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,i.drawType.indexOf("Stacking")>-1?t="Outer"===t?"Top":t:i.drawType.indexOf("Range")>-1&&(t="Outer"===t||"Top"===t?t:"Auto"),"Outer"===t?l=0===r?l+10+this.markerHeight:l-10-this.markerHeight:"Middle"===t?(l=l/2+5,"StackingColumn"===i.drawType&&(l=s.regionData.innerRadius+(s.regionData.radius-s.regionData.innerRadius)/2+5-n.height/2)):"Top"===t?l=0===r?l-10-this.markerHeight:l+10+this.markerHeight:"Bottom"===t?(l=10,l+="StackingColumn"===i.drawType?s.regionData.innerRadius+this.markerHeight:0):l=0===r?l>=i.chart.radius?l-5:"StackingColumn"===i.drawType?l-10:l+10:l>=i.chart.radius?l+5:l-10,l+=o*c,e.x=i.clipRect.width/2+i.clipRect.x+l*Math.cos(d),"StackingColumn"===i.drawType?e.x=e.x<h/2?e.x+n.width/2:e.x>h/2?e.x-n.width/2:e.x:"Column"===i.drawType&&(e.x=e.x<h/2?e.x-n.width/2:e.x>h/2?e.x+n.width/2:e.x),e.y=i.clipRect.height/2+i.clipRect.y+l*Math.sin(d),e}getLabelLocation(e,t,i,s){let n=new SA(0,0),r="Candle"===t.type&&s>1?e.regions[1]:e.regions[0];"HiloOpenClose"===t.type&&(r=2===s?e.regions[1]:e.regions[2]);let a=t.xAxis,o=t.yAxis,l=t.chart.requireInvertedAxis;if("BoxAndWhisker"===t.type){switch(this.markerHeight=0,s){case 0:n=Uk(e.xValue,e.median,a,o,l);break;case 1:n=Uk(e.xValue,e.maximum,a,o,l);break;case 2:n=Uk(e.xValue,e.minimum,a,o,l);break;case 3:n=Uk(e.xValue,e.upperQuartile,a,o,l);break;case 4:n=Uk(e.xValue,e.lowerQuartile,a,o,l);break;default:n=Uk(e.xValue,e.outliers[s-5],a,o,l),this.markerHeight=t.marker.height/2}l?n.y=e.regions[0].y+e.regions[0].height/2:n.x=e.regions[0].x+e.regions[0].width/2}else n=0===s||1===s?new SA(e.symbolLocations[0].x,e.symbolLocations[0].y):2!==s&&3!==s||"Candle"!==t.type?l?{x:r.x+r.width/2,y:r.y}:{x:r.x+r.width,y:r.y+r.height/2}:new SA(e.symbolLocations[1].x,e.symbolLocations[1].y);return s>1&&"HiloOpenClose"===t.type&&(t.chart.requireInvertedAxis?n.y=r.y+r.height/2+2*(2===s?1:-1):n.x=r.x+r.width/2+2*(2===s?1:-1)),n}calculateRectPosition(e,t,i,s,n,r,a,o){if("PolarRadar"===n.chart.chartAreaType)return null;let l=this.margin,h=this.borderWidth+(this.inverted?r.width:r.height)/2+5;switch(n.type.indexOf("Stacking")>-1?s="Outer"===s?"Top":s:n.type.indexOf("Range")>-1?s="Outer"===s||"Top"===s?s:"Auto":"Waterfall"===n.type&&(s="Auto"===s?"Middle":s),s){case"Bottom":e=this.inverted?i?e+t.width-h-l.left:e-t.width+h+l.right:i?e-t.height+h+l.top:e+t.height-h-l.bottom;break;case"Middle":e=e=this.inverted?i?e+t.width/2:e-t.width/2:i?e-t.height/2:e+t.height/2;break;case"Auto":e=this.calculateRectActualPosition(e,t,i,n,r,a,o);break;default:h+=this.errorHeight,e=this.calculateTopAndOuterPosition(e,t,s,n,a,h,i)}return this.fontBackground=(this.inverted?e<t.x||e>t.x+t.width:e<t.y||e>t.y+t.height)?"transparent"===this.fontBackground?this.chartBackground:this.fontBackground:"transparent"===this.fontBackground?o.color||n.interior:this.fontBackground,e}calculatePathPosition(e,t,i,s,n,r){switch(i.type.indexOf("Area")>-1&&"RangeArea"!==i.type&&this.yAxisInversed&&"Auto"!==i.marker.dataLabel.position&&(t="Top"===t?"Bottom":"Bottom"===t?"Top":t),this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,t){case"Top":case"Outer":e=e-this.markerHeight-this.borderWidth-n.height/2-this.margin.bottom-5-this.errorHeight;break;case"Bottom":e=e+this.markerHeight+this.borderWidth+n.height/2+this.margin.top+5+this.errorHeight;break;case"Auto":e=this.calculatePathActualPosition(e,this.markerHeight,i,s,n,r)}return e}isDataLabelShape(e){this.isShape="transparent"!==e.color||e.border.width>0,this.borderWidth=e.border.width,this.isShape||(this.margin={left:0,right:0,bottom:0,top:0})}calculateRectActualPosition(e,t,i,s,n,r,a){let o,l,h=!0,c=0,d=this.chart.dataLabelCollections,u=-1!==s.type.indexOf("Range")||"Hilo"===s.type?2:4;for(;h&&c<u;)o=this.calculateRectPosition(e,t,i,this.getPosition(c),s,n,r,a),this.inverted?(l=tA(new SA(o,this.locationY),n,this.margin),h=l.x<0||Jk(l,d,s.clipRect)||l.x+l.width>s.clipRect.width):(l=tA(new SA(this.locationX,o),n,this.margin),h=l.y<0||Jk(l,d,s.clipRect)||l.y>s.clipRect.height),c++;return o}calculateAlignment(e,t,i,s){switch(i){case"Far":t=this.inverted?s?t-e:t+e:s?t+e:t-e;break;case"Near":t=this.inverted?s?t+e:t-e:s?t-e:t+e;break;case"Center":t=t}return t}calculateTopAndOuterPosition(e,t,i,s,n,r,a){let o,l=this.margin;switch(s.type){case"RangeColumn":case"RangeArea":case"Hilo":o=0===n&&!this.yAxisInversed||1===n&&this.yAxisInversed,e=this.updateLabelLocation(i,e,r,l,t,o);break;case"Candle":o=(0===n||2===n)&&!this.yAxisInversed||(1===n||3===n)&&this.yAxisInversed,e=this.updateLabelLocation(i,e,r,l,t,o,n>1);break;case"HiloOpenClose":n<=1?(o=0===n&&!this.yAxisInversed||1===n&&this.yAxisInversed,e=this.updateLabelLocation(i,e,r,l,t,o)):e=this.yAxisInversed?this.inverted?e-r-l.right:e+r+l.top:this.inverted?e+r+l.left:e-r-l.bottom;break;default:e=a&&"Top"===i||!a&&"Outer"===i?this.inverted?e+r+l.left+this.markerHeight:e-r-l.bottom-this.markerHeight:this.inverted?e-r-l.right-this.markerHeight:e+r+l.top+this.markerHeight}return e}updateLabelLocation(e,t,i,s,n,r,a=!1){return this.inverted?r?"Outer"!==e||a?t-i-s.right-this.markerHeight:t+i+s.left+this.markerHeight:"Outer"!==e||a?t-n.width+i+s.left+this.markerHeight:t-n.width-i-s.right-this.markerHeight:r?"Outer"!==e||a?t+i+s.top+this.markerHeight:t-i-s.bottom-this.markerHeight:"Outer"!==e||a?t+n.height-i-s.bottom-this.markerHeight:t+n.height+i+s.top+this.markerHeight}calculatePathActualPosition(e,t,i,s,n,r){let a,o,l,h,c,d=i.points,u=s.index,p=d[u].yValue,m=d.length-1>u?d[u+1]:null,g=u>0?d[u-1]:null,f=!0,y=this.chart.dataLabelCollections;if("Bubble"===i.type)a="Top";else if(i.type.indexOf("Step")>-1)a="Top",u&&(a=g&&g.visible&&p>g.yValue===this.yAxisInversed&&p!==g.yValue?"Bottom":"Top");else if("BoxAndWhisker"===i.type)1===r||3===r||r>4?a=i.yAxis.isInversed?"Bottom":"Top":2===r||4===r?a=i.yAxis.isInversed?"Top":"Bottom":(f=!1,a="Middle",o=this.calculatePathPosition(e,a,i,s,n,r));else if(0===u)a=!m||!m.visible||p>m.yValue||p<m.yValue&&this.yAxisInversed?"Top":"Bottom";else if(u===d.length-1)a=!g||!g.visible||p>g.yValue||p<g.yValue&&this.yAxisInversed?"Top":"Bottom";else if(m.visible||g&&g.visible)if(m.visible&&g){let e=(m.yValue-g.yValue)/2,t=e*u+(m.yValue-e*(u+1));a=this.yAxisInversed?t<p?"Bottom":"Top":t<p?"Top":"Bottom"}else a=m.yValue>p||g&&g.yValue>p?"Bottom":"Top";else a="Top";for(h="Bottom"===a,c=["Outer","Top","Bottom","Middle","Auto"].indexOf(a);f&&c<4;)o=this.calculatePathPosition(e,this.getPosition(c),i,s,n,r),l=tA(new SA(this.locationX,o),n,this.margin),f=l.y<0||Jk(l,y,i.clipRect)||l.y+l.height>i.clipRect.height,c=h?c-1:c+1,h=!1;return o}doDataLabelAnimation(e,t){let i,s,n=e.shapeElement.childNodes,r=e.textElement.childNodes,a=e.animation.delay+e.animation.duration,o=e.chart.animated?e.chart.duration:200,l=t?1:r.length;for(let h=0;h<l;h++)s=r[h],t?(t.style.visibility="hidden",Bk(t,a,o,"ZoomIn")):(i=new SA(+s.getAttribute("x")+ +s.getAttribute("width")/2,+s.getAttribute("y")+ +s.getAttribute("height")/2),Pk(s,a,o,e,null,i,!0),n[h]&&(s=n[h],i=new SA(+s.getAttribute("x")+ +s.getAttribute("width")/2,+s.getAttribute("y")+ +s.getAttribute("height")/2),Pk(s,a,o,e,null,i,!0)))}getPosition(e){return["Outer","Top","Bottom","Middle","Auto"][e]}getModuleName(){return"DataLabel"}destroy(e){}}class GM{constructor(e){this.chart=e}render(e){if("PolarRadar"===this.chart.chartAreaType)return null;this.createElement(e,this.chart),this.renderErrorBar(e)}renderErrorBar(e){let t,i,s=e.index,n=e.errorBar,r=e.errorBar.errorBarCap,a=["",""],o=e.chart.redraw;for(let l of e.points)if(l.visible&&l.symbolLocations[0]){let h=0,c=0;switch(n.mode){case"Vertical":c=n.verticalError;break;case"Horizontal":h=n.horizontalError;break;case"Both":h=n.horizontalError,c=n.verticalError}a=this["calculate"+n.type+"Value"](l,e,this.chart.requireInvertedAxis,h,c),t=this.chart.element.id+"_Series__ErrorBarGroup_"+s+"_Point_"+l.index,i=this.chart.element.id+"_Series__ErrorBarCap_"+s+"_Point_"+l.index;let d=new ux(t,"",n.width,n.color||this.chart.themeStyle.errorBar,null,"",a[0]),u=jk(d.id),p=u?u.getAttribute("d"):null;e.errorBarElement.appendChild(this.chart.renderer.drawPath(d)),Ik(u,a[0],o,p);let m=new ux(i,"",r.width,r.color||this.chart.themeStyle.errorBar,null,"",a[1]);u=jk(m.id),p=u?u.getAttribute("d"):null,Xk(this.chart.enableCanvas,e.errorBarElement,this.chart.renderer.drawPath(m),o),Ik(u,a[1],o,p)}}findLocation(e,t,i,s,n){let r=t.errorBar,a=r.direction,o=[],l=t.type.indexOf("Stacking")>-1?t.stackedValues.endValues[e.index]:"HighLow"===t.seriesType||"HighLowOpenClose"===t.seriesType?t.points[e.index].high:e.yValue,h=Uk(e.xValue+("Plus"===a||"Both"===a?"Custom"!==r.type||"Horizontal"!==r.mode&&"Both"!==r.mode?s:s=r.horizontalPositiveError:0),l+("Plus"===a||"Both"===a?"Custom"!==r.type||"Vertical"!==r.mode&&"Both"!==r.mode?n:n=r.verticalPositiveError:0),t.xAxis,t.yAxis,i);if(o.push(h),t.isRectSeries)o.push(e.symbolLocations[0]);else{let s=Uk(e.xValue,e.yValue,t.xAxis,t.yAxis,i);o.push(s)}let c=Uk(e.xValue-("Minus"===a||"Both"===a?"Custom"!==r.type||"Horizontal"!==r.mode&&"Both"!==r.mode?s:s=r.horizontalNegativeError:0),l-("Minus"===a||"Both"===a?"Custom"!==r.type||"Vertical"!==r.mode&&"Both"!==r.mode?n:n=r.verticalNegativeError:0),t.xAxis,t.yAxis,i);return o.push(c),e.error="Vertical"===r.mode?r.verticalError:r.horizontalError,this.negativeHeight="Vertical"===r.mode||"Both"===r.mode?i?o[1].x-o[2].x:o[2].y-o[1].y:0,this.positiveHeight="Vertical"===r.mode||"Both"===r.mode?i?o[0].x-o[1].x:o[1].y-o[0].y:0,this.getErrorDirection(o[0],o[1],o[2],t,i)}calculateFixedValue(e,t,i,s,n,r,a){return this.findLocation(e,t,i,s,n)}calculatePercentageValue(e,t,i,s,n,r,a){return this.findLocation(e,t,i,s=s/100*e.xValue,n=n/100*e.yValue)}calculateStandardDeviationValue(e,t,i,s,n,r,a){let o=this.meanCalculation(t,t.errorBar.mode);return this.findLocation(e,t,i,s*=o.horizontalSquareRoot+o.horizontalMean,n*=o.verticalSquareRoot+o.verticalMean)}calculateStandardErrorValue(e,t,i,s,n,r,a){let o=t.points.length,l=this.meanCalculation(t,t.errorBar.mode);return s=s*l.horizontalSquareRoot/Math.sqrt(o),n=n*l.verticalSquareRoot/Math.sqrt(o),this.findLocation(e,t,i,s,n)}calculateCustomValue(e,t,i,s,n,r,a){return this.findLocation(e,t,i,s,n)}getHorizontalDirection(e,t,i,s,n,r){let a="",o="";return a+="M "+e.x+" "+t.y+" L "+i.x+" "+t.y,o+="Plus"===s||"Both"===s?"M "+e.x+" "+(t.y-r)+" L "+e.x+" "+(t.y+r):"",o+="Minus"===s||"Both"===s?"M "+i.x+" "+(t.y-r)+" L "+i.x+" "+(t.y+r):" ",[a,o]}getVerticalDirection(e,t,i,s,n,r){let a="",o="";return a+="M "+t.x+" "+e.y+" L "+t.x+" "+i.y,o+="Plus"===s||"Both"===s?"M "+(t.x-r)+" "+e.y+" L "+(t.x+r)+" "+e.y:"",o+="Minus"===s||"Both"===s?"M "+(t.x-r)+" "+i.y+" L "+(t.x+r)+" "+i.y:"",[a,o]}getBothDirection(e,t,i,s,n,r){let a="",o="",l=this.getHorizontalDirection(e,t,i,s,n,r),h=this.getVerticalDirection(e,t,i,s,n,r);return o=l[0].concat(h[0]),a=l[1].concat(h[1]),[o,a]}getErrorDirection(e,t,i,s,n){let r,a=s.errorBar.direction,o=s.errorBar.mode,l=s.errorBar.errorBarCap.length,h=o;switch(o){case"Both":h=o;break;case"Horizontal":h=n?"Vertical":o;break;case"Vertical":h=n?"Horizontal":o}switch(h){case"Horizontal":r=this.getHorizontalDirection(e,t,i,a,h,l);break;case"Vertical":r=this.getVerticalDirection(e,t,i,a,h,l);break;case"Both":r=this.getBothDirection(e,t,i,a,h,l)}return[r[0],r[1]]}meanCalculation(e,t){let i,s,n,r,a=0,o=0,l=0,h=0,c=e.points.length;switch(t){case"Vertical":o=dk(e.yData),l=o/c;break;case"Horizontal":a=dk(e.xData),h=a/c;break;case"Both":o=dk(e.yData),l=o/c,a=dk(e.xData),h=a/c}for(let d of e.points)"Vertical"===t?o+=Math.pow(d.yValue-l,2):"Horizontal"===t?a+=Math.pow(d.xValue-h,2):(o+=Math.pow(d.yValue-l,2),a+=Math.pow(d.xValue-h,2));return i=o/(c-1),n=Math.sqrt(o/(c-1)),s=a/(c-1),r=Math.sqrt(a/(c-1)),new Sk(i,n,s,r,l,h)}createElement(e,t){let i="Cartesian"===t.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"",s=(e.marker.height+5)/2,n=(e.marker.width+5)/2;if("Cartesian"===t.chartAreaType){let r=new vA(t.element.id+"_ChartErrorBarClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:-n,y:-s,width:e.clipRect.width+2*n,height:e.clipRect.height+2*s});e.errorBarElement=t.renderer.createGroup({id:t.element.id+"ErrorBarGroup"+e.index,transform:i,"clip-path":"url(#"+t.element.id+"_ChartErrorBarClipRect_"+e.index+")"}),e.errorBarElement.appendChild(Ok(t.redraw,r,t.renderer))}}doErrorBarAnimation(e){let t=e.errorBarElement.childNodes;if(!t)return null;let i=e.animation.delay+e.animation.duration,s=1;for(;s<t.length;){for(let n=0;n<e.points.length;n++)e.points[n].symbolLocations[0]&&(t[s].style.visibility="hidden",Bk(t[s],i,350,e.chart.requireInvertedAxis?"SlideLeftIn":"SlideBottomIn",!1));s++}}getModuleName(){return"ErrorBar"}destroy(e){}}class XM extends jA{constructor(e){super(e),this.library=this,this.addEventListener()}addEventListener(){this.chart.isDestroyed||(this.chart.on(Kv.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(Kv.touchEndEvent,this.mouseEnd,this))}removeEventListener(){this.chart.isDestroyed||(this.chart.off(Kv.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(Kv.touchEndEvent,this.mouseEnd))}mouseMove(e){this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(e),this.chart.highlightModule&&"None"!==this.chart.highlightMode&&this.click(e))}mouseEnd(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)}getLegendOptions(e,t){let i,s;this.legendCollections=[];for(let n of e)"Indicator"!==n.category&&""!==n.name&&(i="PolarRadar"===t.chartAreaType?n.drawType:n.type,s=n.pointColorMapping&&n.points[0].interior?n.points[0].interior:n.interior,this.legendCollections.push(new WA(n.name,s,n.legendShape,"TrendLine"===n.category?this.chart.series[n.sourceIndex].trendlines[n.index].visible:n.visible,i,n.marker.shape,n.marker.visible)))}getLegendBounds(e,t,i){let s=i.padding,n=0,r=0;this.isVertical?r=i.width?0:e.width/100*5:n=i.height?0:e.height/100*5,t.height+=n,t.width+=r;let a,o=i.shapeWidth,l=i.shapePadding,h=0,c=0,d=0,u=0,p=0;this.maxItemHeight=Math.max(ix("MeasureText",i.textStyle).height,i.shapeHeight);let m=!1;for(let g of this.legendCollections)zD.test(g.text)&&(g.text=fA(g.text,zD)),HD.test(g.text)&&(g.text=fA(g.text,HD)),a={fill:g.fill,text:g.text,shape:g.shape,markerShape:g.markerShape,name:"legendRender",cancel:!1},this.chart.trigger("legendRender",a),g.render=!a.cancel,g.text=a.text,g.fill=a.fill,g.shape=a.shape,g.markerShape=a.markerShape,g.textSize=ix(g.text,i.textStyle),g.render&&""!==g.text&&(m=!0,d=o+l+g.textSize.width+s,c+=d,(t.width<s+c||this.isVertical)&&(h=Math.max(h,c+s-(this.isVertical?0:d)),0===p&&d!==c&&(p=1),c=this.isVertical?0:d,p++,u=p*(this.maxItemHeight+s)+s));u=Math.max(u,this.maxItemHeight+s+s),this.isPaging=t.height<u,this.totalPages=p,m?this.setBounds(Math.max(c+s,h),u,i,t):this.setBounds(0,0,i,t)}getRenderPoint(e,t,i,s,n,r,a){let o=this.legend.padding,l=s.location.x+i+s.textSize.width;l+(e.textSize.width+i)>n.x+n.width+this.legend.shapeWidth/2||this.isVertical?(e.location.x=t.x,e.location.y=r===a?s.location.y:s.location.y+this.maxItemHeight+o):(e.location.x=r===a?s.location.x:l,e.location.y=s.location.y),e.text=oA(+(this.legendBounds.x+this.legendBounds.width-(e.location.x+i-this.legend.shapeWidth/2)).toFixed(4),e.text,this.legend.textStyle)}LegendClick(e,t){let i=this.chart,s=i.visibleSeries[e],n=this.legendCollections[e],r={legendText:n.text,legendShape:n.shape,chart:i.isBlazor?{}:i,series:s,name:"legendClick",cancel:!1};this.chart.trigger("legendClick",r),s.legendShape=r.legendShape,null!==s.fill&&(i.visibleSeries[e].interior=s.fill);let a=[];if(i.selectionModule&&(a=Ky([],i.selectionModule.selectedDataIndexes,null,!0)),i.legendSettings.toggleVisibility){if("TrendLine"===s.category?i.series[s.sourceIndex].trendlines[s.index].visible=!i.series[s.sourceIndex].trendlines[s.index].visible:(s.chart.isProtectedOnChange=!0,this.changeSeriesVisiblity(s,s.visible)),n.visible="TrendLine"===s.category?i.series[s.sourceIndex].trendlines[s.index].visible:s.visible,i.svgObject.childNodes.length>0&&!i.enableAnimation&&!i.enableCanvas){for(;i.svgObject.lastChild;)i.svgObject.removeChild(i.svgObject.lastChild);Rv(i.svgObject)}i.animateSeries=!1,i.redraw=i.enableAnimation,yA(i),nk(hx(i.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),this.redrawSeriesElements(s,i),i.removeSvg(),i.refreshAxis(),s.refreshAxisLabel(),this.refreshSeries(i.visibleSeries),i.refreshBound(),i.trigger("loaded",{chart:i}),a.length>0&&(i.selectionModule.selectedDataIndexes=a,i.selectionModule.redrawSelection(i,i.selectionMode)),i.highlightModule&&"None"!==i.highlightMode&&i.highlightModule.redrawSelection(i,i.highlightMode),i.redraw=!1}else i.selectionModule?i.selectionModule.legendSelection(i,e,t):i.highlightModule&&i.highlightModule.legendSelection(i,e,t);s.chart.isProtectedOnChange=!1}changeSeriesVisiblity(e,t){e.visible=!t,this.isSecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some(e=>e.visible)),this.isSecondaryAxis(e.yAxis)&&(e.yAxis.internalVisibility=e.yAxis.series.some(e=>e.visible))}isSecondaryAxis(e){return this.chart.axes.indexOf(e)>-1}redrawSeriesElements(e,t){if(!t.redraw)return null;nk(t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections")}refreshSeries(e){for(let t of e)t.position=void 0}click(e){if(!this.chart.legendSettings.visible)return;let t,i=this.chart.mouseX,s=this.chart.mouseY,n=[],r=e.target.id,a=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"];for(let o of a)if(r.indexOf(o)>-1){t=parseInt(r.split(o)[1],10),this.LegendClick(t,e);break}r.indexOf(this.legendID+"_pageup")>-1?this.changePage(e,!0):r.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(e,!1),this.chart.enableCanvas&&this.pagingRegions.length&&this.checkWithinBounds(i,s),n=this.legendRegions.filter(e=>Ek(i,s+(this.isPaging?(this.currentPageNumber-1)*this.translatePage(null,1,2):0),e.rect)),n.length&&this.chart.enableCanvas&&this.LegendClick(n[0].index,e)}checkWithinBounds(e,t){let i=this.chart.renderer,s=this.legendBounds,n=this.chart.legendSettings.border.width,r=new rx(s.x,s.y,s.width,s.height);return r.x=r.x-n/2,r.y=r.y-n/2,r.width=r.width+n,r.height=r.height+n,Ek(e,t,this.pagingRegions[0])?(--this.currentPageNumber>0?(this.legendRegions=[],i.clearRect(r),i.canvasClip(new vA("legendClipPath","transparent",{width:0,color:""},null,r)),this.renderLegend(this.chart,this.legend,s),i.canvasRestore()):++this.currentPageNumber,null):Ek(e,t,this.pagingRegions[1])?(++this.currentPageNumber>0&&this.currentPageNumber<=this.totalNoOfPages?(this.legendRegions=[],i.clearRect(r),i.canvasClip(new vA("legendClipPath","transpaent",{width:0,color:""},null,r)),this.renderLegend(this.chart,this.legend,s),i.canvasRestore()):--this.currentPageNumber,null):void 0}getModuleName(){return"Legend"}destroy(e){this.removeEventListener()}}class ZM{constructor(e){this.control=e}render(e,t){return this.isChart="chart"===this.control.getModuleName(),this.annotation=e,Wk(Sv("div",{id:this.control.element.id+"_Annotation_"+t,styles:"position: absolute; z-index: 1"}),0,e.content,this.control)}setAnnotationPixelValue(e){let t;return t="Chart"===this.annotation.region?new rx(0,0,this.control.availableSize.width,this.control.availableSize.height):this.isChart?this.control.chartAxisLayoutPanel.seriesClipRect:this.control.series[0].accumulationBound,e.x=("string"!=typeof this.annotation.x?"number"==typeof this.annotation.x?this.annotation.x:0:lA(this.annotation.x,t.width))+t.x,e.y=("number"==typeof this.annotation.y?this.annotation.y:lA(this.annotation.y,t.height))+t.y,!0}setAnnotationPointValue(e){let t=new SA(0,0);if(this.isChart){let i,s,n,r=this.control,a=this.annotation,o=!1,l=a.xAxisName,h=a.yAxisName,c=r.requireInvertedAxis,d=this.control.stockChart;for(let e of r.axisCollections)if(l===e.name||null==l&&"primaryXAxis"===e.name)if(i=e,i.valueType.indexOf("Category")>-1){let e="DateTimeCategory"===i.valueType?a.x.getTime().toString():a.x;if(i.labels.indexOf(e)<0)return!1;n=i.labels.indexOf(e)}else if("DateTime"===i.valueType){let e={skeleton:"full",type:"dateTime"};n="object"==typeof this.annotation.x?Date.parse(r.intl.getDateParser(e)(r.intl.getDateFormat(e)(new Date(xx.parse.parseJson({val:a.x}).val)))):0}else n=+a.x;else(h===e.name||null==h&&"primaryYAxis"===e.name)&&(s=e,o="Logarithmic"===s.valueType);return!!(i&&s&&lk("Logarithmic"===i.valueType?rk(n,i.logBase):n,i.visibleRange)&&lk("Logarithmic"===s.valueType?rk(+a.y,s.logBase):+a.y,s.visibleRange))&&(t=Uk(n,+a.y,i,s,c),e.x=t.x+(c?s.rect.x:i.rect.x),e.y=t.y+(c?i.rect.y:s.rect.y)+(d&&d.enablePeriodSelector?d.toolbarHeight+d.titleSize.height:0),!0)}return this.setAccumulationPointValue(e)}processAnnotation(e,t,i){let s,n;n=new SA(0,0),s=this.render(e,t),this["setAnnotation"+e.coordinateUnits+"Value"](n)?this.setElementStyle(n,s,i):this.control.redraw&&nk(s.id);(()=>{s.style.transform="translate(-50%, -50%)"}).bind(n,this),(this.control.element.id+"Annotation"+t).replace(/[^a-zA-Z0-9]/g,"")}setAccumulationPointValue(e){let t,i=this.control;for(let s of i.visibleSeries[0].points)if("object"==typeof s.x){if(Date.parse(s.x)===Date.parse(this.annotation.x)&&s.y==this.annotation.y){t=s;break}}else if(s.x==this.annotation.x&&s.y==this.annotation.y){t=s;break}return!(!t||!t.visible||(e.x=t.symbolLocation.x,e.y=t.symbolLocation.y,0))}setElementStyle(e,t,i){let s=qk(t,this.control.redraw),n={cancel:!1,name:"annotationRender",content:t,location:e};this.control.trigger("annotationRender",n),n.cancel||(n.content.style.left=this.setAlignmentValue(this.annotation.horizontalAlignment,s.width,n.location.x)+"px",n.content.style.top=this.setAlignmentValue(this.annotation.verticalAlignment,s.height,n.location.y)+"px",n.content.setAttribute("aria-label",this.annotation.description||"Annotation"),Gk(n.content,i,this.control.redraw,!0,"left","top"))}setAlignmentValue(e,t,i){switch(e){case"Top":case"Near":i-=t;break;case"Bottom":case"Far":i+=0;break;case"Middle":case"Center":i-=t/2}return i}}class $M extends ZM{constructor(e,t){super(e),this.chart=e,this.annotations=t}renderAnnotations(e){this.annotations=this.chart.annotations,this.parentElement=hA(this.chart.redraw,this.chart.element.id+"_Annotation_Collections")||Sv("div",{id:this.chart.element.id+"_Annotation_Collections"}),this.annotations.map((e,t)=>{this.processAnnotation(e,t,this.parentElement)}),Gk(this.parentElement,e,this.chart.redraw)}destroy(e){}getModuleName(){return"Annotation"}}class KM extends JA{render(e,t,i,s){let n,r=this.getSideBySideInfo(e);for(let a of e.points){let o;a.symbolLocations=[],a.regions=[],a.visible&&ck(e.points[a.index-1],a,e.points[a.index+1],e)&&(this.findBoxPlotValues(a.y,a,e.boxPlotMode),this.updateTipRegion(e,a,r),o=this.getRectangle(a.xValue+r.start,a.upperQuartile,a.xValue+r.end,a.lowerQuartile,e),a.regions.push(o),n=this.triggerEvent(e,a,e.interior,{color:Qy(e.border.color)||"transparent"===e.border.color?rA(e.interior,-.6):e.border.color,width:e.border.width?e.border.width:1}),n.cancel||this.renderBoxAndWhisker(e,a,o,n,this.getPathString(a,e,Uk(a.xValue,a.median,t,i,s),Uk(a.xValue+r.median,a.average,t,i,s)),r.median))}e.marker.visible&&e.chart.markerRender.render(e)}updateTipRegion(e,t,i){let s=this.getRectangle(t.xValue+i.median,t.maximum,t.xValue+i.median,t.minimum,e);this.updateTipSize(e,t,s,e.chart.requireInvertedAxis)}updateTipSize(e,t,i,s){let n=e.border.width||1;s?(i.y-=n/2,i.height=i.height||n):(i.x-=n/2,i.width=i.width||n),t.regions.push(i)}getPathString(e,t,i,s){let n=e.regions[0],r=e.regions[1],a="",o=t.chart.requireInvertedAxis?n.y+n.height/2:n.x+n.width/2,l=r.x+r.width,h=r.y+r.height,c=n.x+n.width,d=n.y+n.height;return t.chart.requireInvertedAxis?(this.updateTipSize(t,e,{x:n.x,y:r.y,width:0,height:h-r.y},!1),this.updateTipSize(t,e,{x:c,y:r.y,width:0,height:h-r.y},!0),a+="M "+n.x+" "+r.y+" L "+n.x+" "+h,a+="M "+n.x+" "+o+"  L "+r.x+" "+o,a+=" M "+r.x+" "+r.y+"  L "+l+" "+r.y+" L "+l+" "+h+" L "+r.x+" "+h+" Z",a+=" M "+l+" "+o+" L "+c+" "+o,a+=" M "+c+" "+r.y+" L "+c+" "+h,a+=" M "+i.x+" "+r.y+"  L "+i.x+" "+h,a+=t.showMean?"M "+(s.x+5)+" "+(s.y-5)+" L "+(s.x-5)+" "+(s.y+5)+"M "+(s.x-5)+" "+(s.y-5)+" L "+(s.x+5)+" "+(s.y+5):""):(this.updateTipSize(t,e,{x:r.x,y:n.y,width:l-r.x,height:0},!0),this.updateTipSize(t,e,{x:r.x,y:d,width:l-r.x,height:0},!0),a+="M "+r.x+" "+n.y+"  L "+l+" "+n.y,a+=" M "+o+" "+n.y+"  L "+o+" "+r.y,a+=" M "+r.x+" "+r.y+"  L "+l+" "+r.y+" L "+l+" "+h+" L "+r.x+" "+h+" Z",a+=" M "+o+" "+h+" L "+o+" "+d,a+=" M "+r.x+" "+d+" L "+l+" "+d,a+=" M "+r.x+" "+i.y+" L "+l+" "+i.y,a+=t.showMean?" M "+(s.x-5)+" "+(s.y-5)+" L "+(s.x+5)+" "+(s.y+5)+" M "+(s.x+5)+" "+(s.y-5)+" L "+(s.x-5)+" "+(s.y+5):""),a}renderBoxAndWhisker(e,t,i,s,n,r){let a,o,l=e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,h=e.chart.renderer.drawPath(new ux(l+"_BoxPath",s.fill,s.border.width,s.border.color,e.opacity,e.dashArray,n));h.setAttribute("aria-label",t.x.toString()+":"+t.maximum.toString()+":"+t.minimum.toString()+":"+t.lowerQuartile.toString()+":"+t.upperQuartile.toString());let c=e.chart.renderer.createGroup({id:l});c.appendChild(h);for(let d=0;d<t.outliers.length;d++)a=Uk(t.xValue+r,t.outliers[d],e.xAxis,e.yAxis,e.chart.requireInvertedAxis),o=new nx(e.marker.width,e.marker.height),t.symbolLocations.push(a),this.updateTipSize(e,t,{x:a.x-o.width/2,y:a.y-o.height/2,width:o.width,height:o.height},!0);e.seriesElement.appendChild(c)}findBoxPlotValues(e,t,i){let s=e.length,n={average:dk(e)/s,lowerQuartile:0,upperQuartile:0,maximum:0,minimum:0,median:0,outliers:[]};"Exclusive"===i?(n.lowerQuartile=this.getExclusiveQuartileValue(e,s,.25),n.upperQuartile=this.getExclusiveQuartileValue(e,s,.75),n.median=this.getExclusiveQuartileValue(e,s,.5)):"Inclusive"===i?(n.lowerQuartile=this.getInclusiveQuartileValue(e,s,.25),n.upperQuartile=this.getInclusiveQuartileValue(e,s,.75),n.median=this.getInclusiveQuartileValue(e,s,.5)):(n.median=aA(e),this.getQuartileValues(e,s,n)),this.getMinMaxOutlier(e,s,n),t.minimum=n.minimum,t.maximum=n.maximum,t.lowerQuartile=n.lowerQuartile,t.upperQuartile=n.upperQuartile,t.median=n.median,t.outliers=n.outliers,t.average=n.average}getExclusiveQuartileValue(e,t,i){if(0===t)return 0;if(1===t)return e[0];let s=0,n=i*(t+1),r=Math.floor(Math.abs(n));return s=0===r?e[0]:r>t-1?e[t-1]:(n-r)*(e[r]-e[r-1])+e[r-1],s}getInclusiveQuartileValue(e,t,i){if(0===t)return 0;if(1===t)return e[0];let s=0,n=i*(t-1),r=Math.floor(Math.abs(n));return s=(n-r)*(e[r+1]-e[r])+e[r],s}getQuartileValues(e,t,i){if(1===t)return i.lowerQuartile=e[0],i.upperQuartile=e[0],null;let s=t%2==0,n=t/2,r=e.slice(0,n),a=e.slice(s?n:n+1,t);i.lowerQuartile=aA(r),i.upperQuartile=aA(a)}getMinMaxOutlier(e,t,i){let s=1.5*(i.upperQuartile-i.lowerQuartile);for(let n=0;n<t;n++){if(!(e[n]<i.lowerQuartile-s)){i.minimum=e[n];break}i.outliers.push(e[n])}for(let n=t-1;n>=0;n--){if(!(e[n]>i.upperQuartile+s)){i.maximum=e[n];break}i.outliers.push(e[n])}}doAnimation(e){this.animate(e)}getModuleName(){return"BoxAndWhiskerSeries"}destroy(e){}}class QM extends tM{render(e,t,i,s){let n,r,a,o,l=null,h="",c=Math.max(e.yAxis.visibleRange.min,0),d=[],u=this.sortSegments(e,e.segments);e.visiblePoints.map((p,m,g)=>{p.symbolLocations=[],p.regions=[],o=!1,p.visible&&ck(g[m-1],p,g[m+1],e)&&(h+=this.getAreaPathDirection(p.xValue,c,e,s,Uk,l,"M"),l=l||new SA(p.xValue,c),n=Uk(p.xValue,p.yValue,t,i,s),a&&this.setPointColor(p,a,e,"X"===e.segmentAxis,u)?(o=!0,r=Uk(l.x,c,t,i,s),h+="L "+n.x+" "+n.y+" ",h+="L "+n.x+" "+r.y+" ",this.generatePathOption(d,e,a,h,"_Point_"+a.index),h="M "+n.x+" "+r.y+" L "+n.x+" "+n.y+" "):(h+="L "+n.x+" "+n.y+" ",this.setPointColor(p,null,e,"X"===e.segmentAxis,u)),g[m+1]&&!g[m+1].visible&&"Drop"!==e.emptyPointSettings.mode&&(h+=this.getAreaEmptyDirection({x:p.xValue,y:c},l,e,s,Uk),l=null),a=p,this.storePointLocation(p,e,s,Uk))}),o||(h=e.points.length>1?h+this.getAreaPathDirection(a.xValue,c,e,s,Uk,null,"L"):"",this.generatePathOption(d,e,a,h,"")),this.applySegmentAxis(e,d,u),this.renderMarker(e)}generatePathOption(e,t,i,s,n){e.push(new ux(t.chart.element.id+"_Series_"+t.index+n,t.setPointColor(i,t.interior),t.border.width,t.border.color,t.opacity,t.dashArray,s))}destroy(e){}getModuleName(){return"MultiColoredAreaSeries"}doAnimation(e){this.doLinearAnimation(e,e.animation)}}class JM extends tM{render(e,t,i,s){let n=null,r="M",a=this.enableComplexProperty(e),o=[],l="",h=this.sortSegments(e,e.segments);for(let c of a)c.regions=[],c.visible&&ck(a[c.index-1],c,a[c.index+1],e)?(l+=this.getLineDirection(n,c,e,s,Uk,r),null!=n?this.setPointColor(c,n,e,"X"===e.segmentAxis,h)?(o.push(new ux(e.chart.element.id+"_Series_"+e.index+"_Point_"+n.index,"none",e.width,e.setPointColor(n,e.interior),e.opacity,e.dashArray,l)),r="M",l=""):r="L":this.setPointColor(c,null,e,"X"===e.segmentAxis,h),n=c,this.storePointLocation(c,e,s,Uk)):(n="Drop"===e.emptyPointSettings.mode?n:null,r="Drop"===e.emptyPointSettings.mode?r:"M",c.symbolLocations=[]);""!==l&&o.push(new ux(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.setPointColor(a[a.length-1],e.interior),e.opacity,e.dashArray,l)),this.applySegmentAxis(e,o,h),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}getModuleName(){return"MultiColoredLineSeries"}destroy(e){}}class eL{constructor(e){this.xAxisPrevHeight=[],this.xAxisMultiLabelHeight=[],this.yAxisPrevHeight=[],this.yAxisMultiLabelHeight=[],this.chart=e,this.addEventListener()}addEventListener(){this.chart.isDestroyed||this.chart.on("click",this.click,this)}getMultilevelLabelsHeight(e){let t,i,s,n=0,r=[],a=[],o="Vertical"===e.orientation,l=o?e.rect.height:e.rect.width;e.multiLevelLabels.map((h,c)=>{h.categories.map(n=>{""!==n.text&&null!==n.start&&null!==n.end&&(t=ix(n.text,h.textStyle),i=o?t.width:t.height,i+=2*h.border.width+("CurlyBrace"===h.border.type?10:0),s=null!==n.maximumTextWidth?n.maximumTextWidth:bk("string"==typeof n.end?Number(new Date(n.end)):n.end,e)*l-bk("string"==typeof n.start?Number(new Date(n.start)):n.start,e)*l,t.width>s-10&&s>0&&"Wrap"===h.overflow&&!o&&(i*=gA(n.text,s-10,h.textStyle).length),r[c]=r[c]?r[c]<i?i:r[c]:i)}),a[c]=n,n+=r[c]?r[c]+10:0}),e.multiLevelLabelHeight=n+(""!==e.title||this.chart.legendModule&&this.chart.legendSettings.visible?5:0),o?(this.yAxisMultiLabelHeight=r,this.yAxisPrevHeight=a):(this.xAxisMultiLabelHeight=r,this.xAxisPrevHeight=a)}renderXAxisMultiLevelLabels(e,t,i,s){let n,r,a,o,l,h,c,d,u,p,m,g,f=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+e.maxLabelSize.height+10,y="",b="Outside"===e.labelPosition,v=e.isInversed,w=e.opposedPosition,x=e.scrollbarSettings.enable||b&&Qy(e.crossesAt)?e.scrollBarHeight:0;u=w&&!b||!w&&b?s.y+f-e.majorTickLines.width:s.y-f-e.multiLevelLabelHeight,this.createClipRect(s.x-e.majorTickLines.width,u+x,e.multiLevelLabelHeight+10,s.width+2*e.majorTickLines.width,this.chart.element.id+"_XAxis_Clippath_"+t,this.chart.element.id+"XAxisMultiLevelLabel"+t),e.multiLevelLabels.map((i,u)=>{o=0,this.labelElement=this.chart.renderer.createGroup({id:this.chart.element.id+t+"_MultiLevelLabel"+u}),i.categories.map((_,S)=>{if(y="",h="string"==typeof _.start?Number(new Date(_.start)):_.start,c="string"==typeof _.end?Number(new Date(_.end)):_.end,g=this.triggerMultiLabelRender(e,_.text,e.multiLevelLabels[u].textStyle,e.multiLevelLabels[u].alignment,_.customAttributes),!g.cancel){a=bk(h,e)*s.width,l=bk(c,e)*s.width,l=v?[a,a=l][0]:l,d=ix(g.text,g.textStyle),p=(null===_.maximumTextWidth?l-a:_.maximumTextWidth)-10,n=a+s.x+10,r=(w&&!b||!w&&b?f+s.y+d.height/2+10+this.xAxisPrevHeight[u]:s.y-f+d.height/2-this.xAxisMultiLabelHeight[u]-this.xAxisPrevHeight[u])+x,"Center"===g.alignment?(n+=(l-a-10)/2,m="middle"):"Far"===g.alignment?(n=n+(l-a-10)-i.border.width/2,m="end"):(m="start",n+=i.border.width/2),r="CurlyBrace"===i.border.type?!w&&b||w&&!b?r+10:r-5:r;let C=new lx(this.chart.element.id+t+"_Axis_MultiLevelLabel_Level_"+u+"_Text_"+S,n,r,m,g.text);"None"!==i.overflow&&(C.text="Wrap"===i.overflow?gA(g.text,p,g.textStyle):oA(p,g.text,g.textStyle),C.x=C.x-5),dA(this.chart.renderer,C,g.textStyle,g.textStyle.color||this.chart.themeStyle.axisLabel,this.labelElement,!1,this.chart.redraw,!0,null,null,null,0,null,this.chart.enableCanvas),i.border.width>0&&"WithoutBorder"!==i.border.type&&(y=this.renderXAxisLabelBorder(u,l-a-10,e,a,f,d,C,s,g.alignment,y,b,w,o),""!==y&&(this.createBorderElement(u,t,e,y,o),o++)),this.chart.enableCanvas||this.multiElements.appendChild(this.labelElement)}})}),this.chart.enableCanvas||i.appendChild(this.multiElements)}renderXAxisLabelBorder(e,t,i,s,n,r,a,o,l,h,c,d,u){let p,m,g,f,y=10,b=i.multiLevelLabels[e],v=t+y,w=this.xAxisMultiLabelHeight[e]+y,x="Outside"===i.labelPosition?i.scrollBarHeight:0,_=s+o.x,S=!d&&c||d&&!c?n+o.y+this.xAxisPrevHeight[e]+x:o.y-n-this.xAxisPrevHeight[e]-x,C=b.categories[u].type||b.border.type;switch(C){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":w=!d&&c||d&&!c?w:-w,h+="M "+_+" "+S+" L "+_+" "+(S+w)+" M "+(_+v)+" "+S+" L "+(_+v)+" "+(S+w),h+="WithoutTopandBottomBorder"!==C?" L "+_+" "+(S+w)+" ":" ",h+="Rectangle"===C?"M "+_+" "+S+" L "+(_+v)+" "+S:" ";break;case"Brace":"Near"===l?(g=a.x,f=a.x+r.width+2):"Center"===l?(g=a.x-r.width/2-2,f=a.x+r.width/2+2):(g=a.x-r.width-2,f=a.x),w=!d&&c||d&&!c?w:-w,h+="M "+_+" "+S+" L "+_+" "+(S+w/2)+" M "+_+" "+(S+w/2)+" L "+(g-2)+" "+(S+w/2)+" M "+f+" "+(S+w/2)+" L "+(_+v)+" "+(S+w/2)+" M "+(_+v)+" "+(S+w/2)+" L "+(_+v)+" "+S;break;case"CurlyBrace":!d&&c||d&&!c?(y=10,p=15,m=5):(y=-10,p=-15,m=-5),h+="Center"===l?"M "+_+" "+S+" C "+_+" "+S+" "+(_+5)+" "+(S+y)+" "+(_+10)+" "+(S+y)+" L "+(_+v/2-5)+" "+(S+y)+" L "+(_+v/2)+" "+(S+p)+" L "+(_+v/2+5)+" "+(S+y)+" L "+(_+v-10)+" "+(S+y)+" C "+(_+v-10)+" "+(S+y)+" "+(_+v)+" "+(S+m)+" "+(_+v)+" "+S:"Near"===l?"M "+_+" "+S+" C "+_+" "+S+" "+(_+5)+" "+(S+y)+" "+(_+10)+" "+(S+y)+" L "+(_+15)+" "+(S+p)+" L "+(_+20)+" "+(S+y)+" L "+(_+v-10)+" "+(S+y)+" C "+(_+v-10)+" "+(S+y)+" "+(_+v)+" "+(S+m)+" "+(_+v)+" "+S:"M "+_+" "+S+" C "+_+" "+S+" "+(_+5)+" "+(S+y)+" "+(_+10)+" "+(S+y)+" L "+(_+v-20)+" "+(S+y)+" L "+(_+v-15)+" "+(S+p)+" L "+(_+v-10)+" "+(S+y)+" L "+(_+v-10)+" "+(S+y)+" C "+(_+v-10)+" "+(S+y)+" "+(_+v)+" "+(S+m)+" "+(_+v)+" "+S}return h}renderYAxisMultiLevelLabels(e,t,i,s){let n,r,a,o,l,h,c,d,u,p,m,g="Outside"===e.labelPosition,f=(e.tickPosition===e.labelPosition?e.majorTickLines.height:0)+e.maxLabelSize.width+10,y="",b=e.isInversed,v=e.opposedPosition,w=g&&Qy(e.crossesAt)?e.scrollBarHeight:0;w*=v?1:-1,r=v&&!g||!v&&g?s.x-e.multiLevelLabelHeight-f-10:s.x+f,this.createClipRect(r+w,s.y-e.majorTickLines.width,s.height+2*e.majorTickLines.width,e.multiLevelLabelHeight+10,this.chart.element.id+"_YAxis_Clippath_"+t,this.chart.element.id+"YAxisMultiLevelLabel"+t),e.multiLevelLabels.map((i,r)=>{this.labelElement=this.chart.renderer.createGroup({id:this.chart.element.id+t+"_MultiLevelLabel"+r}),d=0,i.categories.map((x,_)=>{if(y="",p="string"==typeof x.end?Number(new Date(x.end)):x.end,u="string"==typeof x.start?Number(new Date(x.start)):x.start,l=bk(u,e)*s.height,h=bk(p,e)*s.height,h=b?[l,l=h][0]:h,c=this.triggerMultiLabelRender(e,x.text,i.textStyle,i.alignment,x.customAttributes),!c.cancel){n=ix(c.text,c.textStyle),m=h-l,a=s.x-f-this.yAxisPrevHeight[r]-this.yAxisMultiLabelHeight[r]/2-5,o=s.height+s.y-l-m/2,a=v?g?s.x+f+5+this.yAxisMultiLabelHeight[r]/2+this.yAxisPrevHeight[r]+w:s.x-f-this.yAxisMultiLabelHeight[r]/2-this.yAxisPrevHeight[r]-5:g?a+w:s.x+f+5+this.yAxisMultiLabelHeight[r]/2+this.yAxisPrevHeight[r],"Center"===c.alignment?o+=n.height/4:"Far"===c.alignment?o+=m/2-n.height/2:o=o-m/2+n.height,a="CurlyBrace"===i.border.type?!v&&g||v&&!g?a-10:a+10:a;let u=new lx(this.chart.element.id+t+"_Axis_MultiLevelLabel_Level_"+r+"_Text_"+_,a,o,"middle",c.text);u.text="Trim"===i.overflow?oA(null===x.maximumTextWidth?this.yAxisMultiLabelHeight[r]:x.maximumTextWidth,c.text,c.textStyle):u.text,dA(this.chart.renderer,u,c.textStyle,c.textStyle.color||this.chart.themeStyle.axisLabel,this.labelElement,this.chart.redraw,!0),i.border.width>0&&"WithoutBorder"!==i.border.type&&(y=this.renderYAxisLabelBorder(r,m,e,h,f,l,n,u,s,c.alignment,y,g,v,d),""!==y&&(this.createBorderElement(r,t,e,y,d),d++)),this.chart.enableCanvas||this.multiElements.appendChild(this.labelElement)}})}),i.appendChild(this.multiElements)}renderYAxisLabelBorder(e,t,i,s,n,r,a,o,l,h,c,d,u,p){let m,g,f=s-r,y=10,b=i.multiLevelLabels[e],v=b.categories[p].type,w=l.y+l.height-s,x=d&&Qy(i.crossesAt)?i.scrollBarHeight:0;x*=u?1:-1;let _=this.yAxisMultiLabelHeight[e]+y,S=(!u&&d||u&&!d?l.x-n-this.yAxisPrevHeight[e]:l.x+n+this.yAxisPrevHeight[e])+x,C=v||b.border.type;switch(C){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":_=!u&&d||u&&!d?-_:_,c+="M "+S+" "+w+" L "+(S+_)+" "+w+" M "+S+" "+(w+f)+" L "+(S+_)+" "+(w+f),c+="WithoutTopandBottomBorder"!==C?" L "+(S+_)+" "+w+" ":" ",c+="Rectangle"===C?"M "+S+" "+(w+f)+"L "+S+" "+w+" ":" ";break;case"Brace":_=!u&&d||u&&!d?_:-_,c+="M "+S+" "+w+" L "+(S-_/2)+" "+w+" L "+(S-_/2)+" "+(o.y-a.height/2-4)+" M "+(S-_/2)+" "+(o.y+a.height/4+2)+" L "+(S-_/2)+" "+(w+f)+" L "+S+" "+(w+f);break;case"CurlyBrace":!u&&d||u&&!d?(y=-10,m=-15,g=-5):(y=10,m=15,g=5),c+="Center"===h?"M "+S+" "+w+" C "+S+" "+w+" "+(S+y)+" "+w+" "+(S+y)+" "+(w+10)+" L "+(S+y)+" "+(w+(f-10)/2)+" L "+(S+m)+" "+(w+(f-10)/2+5)+" L "+(S+y)+" "+(w+(f-10)/2+10)+" L "+(S+y)+" "+(w+(f-10))+" C "+(S+y)+" "+(w+(f-10))+" "+(S+g)+" "+(w+f)+" "+S+" "+(w+f):"Far"===h?"M "+S+" "+w+" C "+S+" "+w+" "+(S+y)+" "+w+" "+(S+y)+" "+(w+10)+" L "+(S+y)+" "+(w+f-20)+"  L "+(S+m)+" "+(w+(f-15))+" L "+(S+y)+" "+(w+(f-10))+" L "+(S+y)+" "+(w+(f-10))+" C "+(S+y)+" "+(w+(f-10))+" "+(S+y)+" "+(w+f)+" "+S+" "+(w+f):"M "+S+" "+w+" C "+S+" "+w+" "+(S+y)+" "+w+" "+(S+y)+" "+(w+10)+" L "+(S+m)+" "+(w+15)+" L "+(S+y)+" "+(w+20)+" L "+(S+y)+" "+(w+(f-10))+" C "+(S+y)+" "+(w+(f-10))+" "+(S+g)+" "+(w+f)+" "+S+" "+(w+f)}return c}createClipRect(e,t,i,s,n,r){this.multiElements=this.chart.renderer.createGroup({id:r,"clip-path":"url(#"+n+")"}),this.chart.enableCanvas||this.multiElements.appendChild(Ok(this.chart.redraw,{id:n,x:e,y:t,width:s,height:i,fill:"white","stroke-width":1,stroke:"Gray"},this.chart.renderer))}createBorderElement(e,t,i,s,n){let r=s,a=this.chart.renderer.drawPath(new ux(this.chart.element.id+t+"_Axis_MultiLevelLabel_Rect_"+e+"_"+n,"Transparent",i.multiLevelLabels[e].border.width,i.multiLevelLabels[e].border.color||this.chart.themeStyle.axisLine,1,"",s));a.setAttribute("style","pointer-events: none"),Xk(this.chart.enableCanvas,this.labelElement,a,this.chart.redraw,!0,"x","y",null,r)}triggerMultiLabelRender(e,t,i,s,n){let r;return r={cancel:!1,name:"axisMultiLabelRender",axis:e,text:t,textStyle:i,alignment:s,customAttributes:n},this.chart.trigger("axisMultiLabelRender",r),r}MultiLevelLabelClick(e,t){let i,s=parseInt(e.substr(0,1),10),n=parseInt(e.substr(7),10),r=this.chart.axisCollections[t],a=r.multiLevelLabels[s].categories;return i={axis:r,level:s,text:a[n].text,customAttributes:a[n].customAttributes,start:a[n].start,end:a[n].end,name:"multiLevelLabelClick",cancel:!1},this.chart.trigger("multiLevelLabelClick",i),i}click(e){let t,i,s,n=e.target.id,r="_Axis_MultiLevelLabel_Level_";n.indexOf(r)>-1&&(t=n.split(r)[1],i=n.split(r)[0],s=parseInt(i.charAt(i.length-1),10),this.MultiLevelLabelClick(t,s))}getModuleName(){return"MultiLevelLabel"}destroy(){}}class tL{constructor(e){this.chartId=e.element.id+"_"}renderElements(e,t){let i=t.createGroup({id:this.chartId+"scrollBar_"+e.axis.name,transform:"translate("+(e.isVertical&&e.axis.isInversed?e.height:e.axis.isInversed?e.width:"0")+","+(e.isVertical&&e.axis.isInversed?"0":e.axis.isInversed?e.height:e.isVertical?e.width:"0")+") rotate("+(e.isVertical&&e.axis.isInversed?"90":e.isVertical?"270":e.axis.isInversed?"180":"0")+")"}),s=t.createGroup({id:this.chartId+"scrollBar_backRect_"+e.axis.name}),n=t.createGroup({id:this.chartId+"scrollBar_thumb_"+e.axis.name,transform:"translate(0,0)"});return this.backRect(e,t,s),this.thumb(e,t,n),this.renderCircle(e,t,n),this.arrows(e,t,n),this.thumbGrip(e,t,n),i.appendChild(s),i.appendChild(n),i}backRect(e,t,i){let s=e.scrollbarThemeStyle,n=t.drawRectangle(new vA(this.chartId+"scrollBarBackRect_"+e.axis.name,s.backRect,{width:1,color:s.backRect},1,new rx(0,0,e.width,e.height),0,0));i.appendChild(n)}arrows(e,t,i){let s=e.scrollbarThemeStyle,n=new ux(this.chartId+"scrollBar_leftArrow_"+e.axis.name,s.arrow,1,s.arrow,1,"","");this.leftArrowEle=t.drawPath(n),n.id=this.chartId+"scrollBar_rightArrow_"+e.axis.name,this.rightArrowEle=t.drawPath(n),this.setArrowDirection(this.thumbRectX,this.thumbRectWidth,e.height),i.appendChild(this.leftArrowEle),i.appendChild(this.rightArrowEle)}setArrowDirection(e,t,i){let s="M "+(e+t+4-.5)+" "+i/2+" L "+(e+t+4-6)+" 11.5 L "+(e+t+4-6)+" 4.5 Z";this.leftArrowEle.setAttribute("d","M "+(e-4+1)+" "+i/2+" L "+(e-4+6)+" 11 L "+(e-4+6)+" 5 Z"),this.rightArrowEle.setAttribute("d",s)}thumb(e,t,i){e.startX=this.thumbRectX,this.slider=t.drawRectangle(new vA(this.chartId+"scrollBarThumb_"+e.axis.name,e.scrollbarThemeStyle.thumb,{width:1,color:""},1,new rx(this.thumbRectX,0,this.thumbRectWidth,e.height))),i.appendChild(this.slider)}renderCircle(e,t,i){let s=e.scrollbarThemeStyle,n=new xA(this.chartId+"scrollBar_leftCircle_"+e.axis.name,s.circle,{width:1,color:s.circle},1,this.thumbRectX,e.height/2,8),r=t.createDefs();r.innerHTML='<filter x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox"id="scrollbar_shadow"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix></filter>';let a=t.createGroup({id:this.chartId+e.axis.name+"_thumb_shadow"});a.innerHTML='<use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_leftCircle_"+e.axis.name+'"></use><use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_rightCircle_"+e.axis.name+'"></use>',this.leftCircleEle=t.drawCircle(n),n.id=this.chartId+"scrollBar_rightCircle_"+e.axis.name,n.cx=this.thumbRectX+this.thumbRectWidth,this.rightCircleEle=t.drawCircle(n),i.appendChild(r),i.appendChild(this.leftCircleEle),i.appendChild(this.rightCircleEle),i.appendChild(a)}thumbGrip(e,t,i){let s=0,n=0,r=e.scrollbarThemeStyle,a=new xA(this.chartId+"scrollBar_gripCircle0_"+e.axis.name,r.grip,{width:1,color:r.grip},1,0,0,1);this.gripCircle=t.createGroup({id:this.chartId+"scrollBar_gripCircle_"+e.axis.name,transform:"translate("+(this.thumbRectX+this.thumbRectWidth/2+5*(e.isVertical?1:-1))+","+(e.isVertical?"10":"5")+") rotate("+(e.isVertical?"180":"0")+")"});for(let o=1;o<=6;o++)a.id=this.chartId+"scrollBar_gripCircle"+o+"_"+e.axis.name,a.cx=s,a.cy=n,this.gripCircle.appendChild(t.drawCircle(a)),s=3===o?0:s+5,n=o>=3?5:0;i.appendChild(this.gripCircle)}}class iL{constructor(e,t){this.scrollRange={max:null,min:null,interval:null,delta:null},this.component=e,this.elements=[],this.scrollElements=new tL(e),this.axis=t,this.mouseMoveListener=this.scrollMouseMove.bind(this),this.mouseUpListener=this.scrollMouseUp.bind(this),this.animateDuration=500,this.isPointer=Kv.isPointer,this.browserName=Kv.info.name}getMouseXY(e){let t,i,s;e.type.indexOf("touch")>-1?(s=e,t=s.changedTouches[0].clientX,i=s.changedTouches[0].clientY):(t=e.clientX,i=e.clientY);let n=jk(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect();this.mouseX=t-Math.max(n.left,0),this.mouseY=i-Math.max(n.top,0)}wireEvents(e){Tb.add(e,Kv.touchStartEvent,this.scrollMouseDown,this),Tb.add(e,Kv.touchMoveEvent,this.scrollMouseMove,this),Tb.add(e,Kv.touchEndEvent,this.scrollMouseUp,this),Tb.add(e,"mousewheel",this.scrollMouseWheel,this),window.addEventListener("mousemove",this.mouseMoveListener,!1),window.addEventListener("mouseup",this.mouseUpListener,!1)}unWireEvents(e){Tb.remove(e,Kv.touchStartEvent,this.scrollMouseDown),Tb.remove(e,Kv.touchMoveEvent,this.scrollMouseMove),Tb.remove(e,Kv.touchEndEvent,this.scrollMouseUp),Tb.remove(e,"mousewheel",this.scrollMouseWheel),window.removeEventListener("mousemove",this.mouseMoveListener,!1),window.removeEventListener("mouseup",this.mouseUpListener,!1)}scrollMouseDown(e){let t=e.target.id,i=this.scrollElements;if(this.getMouseXY(e),this.isResizeLeft=this.isExist(t,"_leftCircle_")||this.isExist(t,"_leftArrow_"),this.isResizeRight=this.isExist(t,"_rightCircle_")||this.isExist(t,"_rightArrow_"),this.previousXY=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX,this.previousWidth=i.thumbRectWidth,this.previousRectX=i.thumbRectX,this.startZoomPosition=this.axis.zoomPosition,this.startZoomFactor=this.axis.zoomFactor,this.startRange=this.axis.visibleRange,this.scrollStarted=!0,this.component.trigger("scrollStart",this.getArgs("scrollStart")),this.isExist(t,"scrollBarThumb_"))this.isThumbDrag=!0,this.svgObject.style.cursor="-webkit-grabbing";else if(this.isExist(t,"scrollBarBackRect_")){let e=this.moveLength(this.previousXY,this.previousRectX);if(i.thumbRectX=this.isWithIn(e)?e:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.setZoomFactorPosition(i.thumbRectX,i.thumbRectWidth),this.isLazyLoad){let e=this.calculateLazyRange(i.thumbRectX,i.thumbRectWidth,i.thumbRectX>this.previousRectX?"RightMove":"LeftMove");e&&this.component.trigger("scrollEnd",e)}}""===this.component.element.style.height&&(this.isCustomHeight=!0,this.component.element.style.height=this.component.availableSize.height+"px")}isExist(e,t){return e.indexOf(t)>-1}isWithIn(e){return e-8>=0&&e+this.scrollElements.thumbRectWidth+8<=this.width}moveLength(e,t,i=8){let s=.1*(this.width-2*i);return s=e<t?t-(t-s>i?s:i):t+(t+this.scrollElements.thumbRectWidth+s<this.width-i?s:i),s}setZoomFactorPosition(e,t){let i=this.axis;this.isScrollUI=!0;let s=e+t+8+1;this.zoomPosition=(e-(e-8.5<=0?8.5:0))/(this.isVertical?i.rect.height:this.width),this.zoomFactor=(t+(s>=this.width?9:0))/(this.isVertical?i.rect.height:this.width),i.zoomPosition=this.zoomPosition,i.zoomFactor=this.zoomFactor}scrollMouseMove(e){let t=e.target,i=this.scrollElements;this.getMouseXY(e),this.setCursor(t),this.setTheme(t);let s=this.isVertical&&this.axis.isInversed?this.width-this.mouseY:this.isVertical?this.mouseY:this.mouseX,n=this.axis.visibleRange,r=this.zoomPosition,a=this.zoomFactor;if(this.isThumbDrag){this.component.isScrolling=this.isThumbDrag,s=this.isVertical||this.axis.isInversed?this.width-s:s;let e=i.thumbRectX+(s-this.previousXY);s>=e+i.thumbRectWidth?this.setCursor(t):this.svgObject.style.cursor="-webkit-grabbing",s>=0&&s<=e+i.thumbRectWidth&&(i.thumbRectX=this.isWithIn(e)?e:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.previousXY=s,this.setZoomFactorPosition(e,i.thumbRectWidth)),this.component.trigger("scrollChanged",this.getArgs("scrollChanged",n,r,a))}else(this.isResizeLeft||this.isResizeRight)&&(this.resizeThumb(e),this.component.trigger("scrollChanged",this.getArgs("scrollChanged",n,r,a)))}scrollMouseWheel(e){let t=jk(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect();this.mouseX=e.clientX-Math.max(t.left,0),this.mouseY=e.clientY-Math.max(t.top,0);let i,s=.5,n=this.scrollElements,r=this.axis,a="mozilla"!==this.browserName||this.isPointer?e.wheelDelta/120>0?1:-1:-e.detail/3>0?1:-1;i=Math.max(Math.max(1/Hk(r.zoomFactor,0,1),1)+.25*a,1);let o,l=this.axis.visibleRange,h=this.zoomPosition,c=this.zoomFactor;i>=1&&(s="Horizontal"===r.orientation?this.mouseX/r.rect.width:1-this.mouseY/r.rect.height,s=s>1?1:s<0?0:s,this.zoomFactor=1===i?1:Hk(1/i,0,1),this.zoomPosition=1===i?0:r.zoomPosition+(r.zoomFactor-this.zoomFactor)*s),n.thumbRectX=this.isWithIn(this.zoomPosition*this.width)?this.zoomPosition*this.width:n.thumbRectX,this.isScrollUI=!0,this.positionThumb(n.thumbRectX,n.thumbRectWidth),this.isLazyLoad&&this.setZoomFactorPosition(n.thumbRectX,n.thumbRectWidth),r.zoomFactor=this.zoomFactor,r.zoomPosition=this.zoomPosition,this.isLazyLoad&&(o=this.calculateMouseWheelRange(n.thumbRectX,n.thumbRectWidth),o&&o.currentRange.minimum!==o.previousAxisRange.minimum&&o.currentRange.maximum!==o.previousAxisRange.maximum&&(this.component.trigger("scrollEnd",o),this.isScrollEnd=!1)),this.isLazyLoad||this.component.trigger("scrollChanged",this.getArgs("scrollChanged",l,h,c))}scrollMouseUp(e){let t;if(this.startX=this.scrollElements.thumbRectX,!this.isResizeLeft&&!this.isResizeRight||this.isLazyLoad||(this.axis.zoomFactor=this.startX+this.scrollElements.thumbRectWidth+8+1>=this.width-1&&this.startX-8.5<=0?1:this.zoomFactor),this.isLazyLoad){let e=this.previousRectX-this.startX;if((e>0||e<0)&&this.isThumbDrag){let i=e<0?"RightMove":"LeftMove";this.startX="RightMove"===i?this.startX+Math.abs(e)<this.width-8?this.startX:this.width-8-this.scrollElements.thumbRectWidth:this.startX+this.scrollElements.thumbRectWidth-Math.abs(e)>8?this.startX:8,t=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth,i),t&&(this.component.trigger("scrollEnd",t),this.scrollStarted=!1)}(this.isResizeLeft||this.isResizeRight)&&(t=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth),t&&(this.component.trigger("scrollEnd",t),this.scrollStarted=!1))}this.isThumbDrag=!1,this.isResizeLeft=!1,this.isResizeRight=!1,this.isScrollEnd=!1,this.component.isScrolling=!1,this.scrollStarted&&!this.isLazyLoad&&(this.component.trigger("scrollEnd",this.getArgs("scrollChanged",this.startRange,this.startZoomPosition,this.startZoomFactor)),this.scrollStarted=!1),this.isCustomHeight&&(this.component.element.style.height=null)}calculateMouseWheelRange(e,t){let i,s,n,r,a,o=this.scrollRange,l=this.getStartEnd(this.previousStart,this.previousEnd,!1);return e+t+8<=this.width&&(s=(e-8)/this.width,i=t/this.width),n=o.min+s*o.delta,r=n+i*o.delta,r&&(a={axis:this.axis,currentRange:this.getStartEnd(n,r,!0),previousAxisRange:l}),a}calculateLazyRange(e,t,i){let s,n,r,a,o,l=t,h=this.scrollRange,c=this.getStartEnd(this.previousStart,this.previousEnd,!1);return this.isResizeRight||"RightMove"===i?(l=this.isResizeRight?l+16:l,s=l/this.width,n="RightMove"===i?(e+8)/this.width:this.axis.zoomPosition,r="RightMove"===i?h.min+n*h.delta:this.previousStart,a=r+s*h.delta):this.isResizeLeft||"LeftMove"===i?(n=(e-8)/this.width,s=l/this.width,r=h.min+n*h.delta,r=r>=h.min?r:h.min,a="LeftMove"===i?r+s*h.delta:this.previousEnd):this.isThumbDrag&&(n="RightMove"===i?(e+8)/this.width:(e-8)/this.width,s=this.scrollElements.thumbRectWidth/this.width,r=h.min+n*h.delta,r=r>=h.min?r:h.min,a=r+s*h.delta),a&&(o={axis:this.component.isBlazor?{}:this.axis,currentRange:this.getStartEnd(r,a,!0),previousAxisRange:c}),o}getStartEnd(e,t,i){let s=this.valueType;switch("DateTime"!==s&&"DateTimeCategory"!==s||!i?i&&(this.previousStart=Math.ceil(e),this.previousEnd=Math.ceil(t)):(this.previousStart=e,this.previousEnd=t),s){case"Double":case"Category":case"Logarithmic":e=Math.ceil(e),t=Math.ceil(t);break;case"DateTime":case"DateTimeCategory":e=new Date(e),t=new Date(t)}return{minimum:e,maximum:t}}render(e){return(this.component.zoomModule||e&&this.axis.scrollbarSettings.enable)&&this.getDefaults(),this.getTheme(),this.removeScrollSvg(),function(e,t){let i,s=e.axis.rect,n="Horizontal"===e.axis.orientation,r=!1,a=5;for(let o of e.axis.series)o.marker.height>a&&(a=o.marker.height);for(let o of e.axis.series)if(i=o.yMin.toString(),r=o.yData.some(e=>e===i),r)break;e.svgObject=t.createSvg({id:e.component.element.id+"_scrollBar_svg"+e.axis.name,width:e.isVertical?e.height:e.width,height:e.isVertical?e.width:e.height,style:"position: absolute;top: "+((e.axis.opposedPosition&&n?-16:r?a:0)+s.y)+"px;left: "+((e.axis.opposedPosition&&!n?16:0)+s.x-(e.isVertical?e.height:0))+"px;cursor:auto;"}),e.elements.push(e.svgObject)}(this,this.component.svgRenderer),this.wireEvents(this.svgObject),this.svgObject.appendChild(this.scrollElements.renderElements(this,this.component.svgRenderer)),this.svgObject}getTheme(){this.scrollbarThemeStyle=function(e){let t;switch(e){case"HighContrastLight":t={backRect:"#333",thumb:"#bfbfbf",circle:"#fff",circleHover:"#685708",arrow:"#333",grip:"#333",arrowHover:"#fff",backRectBorder:"#969696"};break;case"Bootstrap":t={backRect:"#f5f5f5",thumb:"#e6e6e6",circle:"#fff",circleHover:"#eee",arrow:"#8c8c8c",grip:"#8c8c8c"};break;case"Fabric":t={backRect:"#f8f8f8",thumb:"#eaeaea",circle:"#fff",circleHover:"#eaeaea",arrow:"#a6a6a6",grip:"#a6a6a6"};break;default:t={backRect:"#f5f5f5",thumb:"#e0e0e0",circle:"#fff",circleHover:"#eee",arrow:"#9e9e9e",grip:"#9e9e9e"}}return t}(this.component.theme)}removeScrollSvg(){document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name)&&Rv(document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name))}setCursor(e){let t=e.id;this.svgObject.style.cursor=t.indexOf("scrollBarThumb_")>-1||t.indexOf("_gripCircle")>-1?"-webkit-grab":t.indexOf("Circle_")>-1||t.indexOf("Arrow_")>-1?this.isVertical?"ns-resize":"ew-resize":"auto"}setTheme(e){let t=e.id,i=t.indexOf("_leftCircle_")>-1||t.indexOf("_leftArrow_")>-1,s=t.indexOf("_rightCircle_")>-1||t.indexOf("_rightArrow_")>-1,n=this.scrollbarThemeStyle,r=this.scrollElements.leftArrowEle,a=this.scrollElements.rightArrowEle,o=this.scrollElements.leftCircleEle,l=this.scrollElements.rightCircleEle,h=this.isCurrentAxis(e,r);o.style.fill=i&&h?n.circleHover:n.circle,l.style.fill=s&&h?n.circleHover:n.circle,o.style.stroke=i&&h?n.circleHover:n.circle,l.style.stroke=s&&h?n.circleHover:n.circle,"HighContrastLight"===this.component.theme&&(r.style.fill=i&&h?n.arrowHover:n.arrow,r.style.stroke=i&&h?n.arrowHover:n.arrow,a.style.fill=s&&h?n.arrowHover:n.arrow,a.style.stroke=s&&h?n.arrowHover:n.arrow,o.style.stroke=i&&h?n.circleHover:n.circle,l.style.stroke=s&&h?n.circleHover:n.circle)}isCurrentAxis(e,t){return e.id.split("_")[2]===t.id.split("_")[2]}resizeThumb(e){let t,i=this.previousRectX,s=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX,n=Math.abs(this.previousXY-s);if(this.isResizeLeft&&s>=0){let e=i+(s>this.previousXY?n:-n);t=e-8>=0?this.previousWidth+(s>this.previousXY?-n:n):this.previousWidth,e=e-8>=0?e:i,t>=40&&s<e+t&&(this.scrollElements.thumbRectX=this.previousRectX=e,this.scrollElements.thumbRectWidth=this.previousWidth=t,this.previousXY=s,this.positionThumb(e,t),this.setZoomFactorPosition(e,t))}else this.isResizeRight&&(t=s>=40+this.scrollElements.thumbRectX&&s<=this.width-8?s-this.scrollElements.thumbRectX:this.previousWidth,this.scrollElements.thumbRectWidth=this.previousWidth=t,this.previousXY=s,this.positionThumb(this.startX,t),this.setZoomFactorPosition(this.startX,t),this.isLazyLoad||this.setZoomFactorPosition(this.startX,t))}positionThumb(e,t){let i=this.scrollElements;i.slider.setAttribute("x",e.toString()),i.slider.setAttribute("width",t.toString()),i.leftCircleEle.setAttribute("cx",e.toString()),i.rightCircleEle.setAttribute("cx",(e+t).toString()),i.setArrowDirection(e,t,this.height),i.gripCircle.setAttribute("transform","translate("+(e+t/2+5*(this.isVertical?1:-1))+","+(this.isVertical?"10":"5")+") rotate("+(this.isVertical?"180":"0")+")")}getDefaults(){let e=this.axis;this.axis.scrollbarSettings.enable&&(this.isLazyLoad=!0,this.getLazyDefaults(e)),this.isVertical="Vertical"===e.orientation,this.zoomFactor=this.isLazyLoad?this.zoomFactor:e.zoomFactor,this.zoomPosition=this.isLazyLoad?this.zoomPosition:e.zoomPosition;let t=this.zoomFactor*(this.isVertical?e.rect.height:e.rect.width);t=t>40?t:40,this.scrollX=e.rect.x,this.scrollY=e.rect.y,this.width=this.isVertical?e.rect.height:e.rect.width,this.height=16;let i=this.zoomPosition*(this.isVertical?e.rect.height:this.width),s=this.width-40-8;this.scrollElements.thumbRectX=i>s?s:i<8?8:i,this.scrollElements.thumbRectWidth=t+this.scrollElements.thumbRectX<this.width-16?t:this.width-this.scrollElements.thumbRectX-8}getLazyDefaults(e){let t,i,s=e.valueType,n=e.scrollbarSettings;this.valueType=s=n.range.minimum&&n.range.maximum||!n.pointsLength?s:"Double";let r,a,o=e.scrollbarSettings.range,l=e.visibleRange,h=e.scrollbarSettings.pointsLength,c={skeleton:"full",type:"dateTime"},d=this.component.intl.getDateParser(c),u=this.component.intl.getDateFormat(c);switch(s){case"Double":case"Category":case"Logarithmic":t=o.minimum?o.minimum:h?0:l.min,i=o.maximum?o.maximum:h?h-1:l.max;break;case"DateTime":case"DateTimeCategory":t=o.minimum?Date.parse(d(u(o.minimum))):l.min,i=o.maximum?Date.parse(d(u(o.maximum))):l.max}t=Math.min(t,l.min),i=Math.max(i,l.max),r=(l.max-l.min)/(i-t),a=(l.min-t)/(i-t),this.zoomFactor=o.minimum||o.maximum?r:this.axis.maxPointLength/e.scrollbarSettings.pointsLength,this.zoomPosition=o.minimum||o.maximum?a:e.zoomPosition,this.scrollRange.min=t,this.scrollRange.max=i,this.scrollRange.delta=i-t,this.previousStart=l.min,this.previousEnd=l.max}getLogRange(e){let t,i=e.scrollbarSettings.range,s=rk(i.minimum,e.logBase);s=isFinite(s)?s:i.minimum;let n=rk(i.maximum,e.logBase);return n=isFinite(s)?n:i.maximum,t={minimum:Math.floor(s/1),maximum:Math.ceil(n/1)},t}injectTo(e,t){e.zoomingScrollBar=new iL(t,e)}destroy(){this.axes?this.axes.map(e=>{e.zoomingScrollBar.destroy()}):(this.elements.map(e=>{this.unWireEvents(e),Rv(e.firstChild)}),this.elements=[])}getModuleName(){return"ScrollBar"}getArgs(e,t,i,s){return{axis:this.component.isBlazor?{}:this.axis,name:e,range:this.axis.visibleRange,zoomFactor:this.axis.zoomFactor,zoomPosition:this.axis.zoomPosition,previousRange:t,previousZoomFactor:s,previousZoomPosition:i}}}class sL extends JA{constructor(){super(...arguments),this.paretoAxes=[]}initSeries(e,t){let i=new FA(t,"series",e.properties,!0);i.name="Pareto",i.yAxisName=e.yAxisName+"_CumulativeAxis",i.category="Pareto",e.category="Pareto",i.type="Line",i.interior=t.themeStyle.errorBar,t.visibleSeries.push(i),this.initAxis(e,i,t)}initAxis(e,t,i){if(!this.paretoAxes.some(e=>e.name===t.yAxisName)){let s=e.yAxisName?i.axes.filter(t=>t.name===e.yAxisName)[0]:i.primaryYAxis,n=new ek(i,"axis",{name:t.yAxisName,majorGridLines:{width:0},majorTickLines:s.majorTickLines,lineStyle:s.lineStyle,minimum:0,maximum:100,rowIndex:s.rowIndex,opposedPosition:!0,labelFormat:"{value}%"});this.paretoAxes.push(n)}}render(e){e.chart.columnSeriesModule.render(e)}performCumulativeCalculation(e,t){let i=e,s=0,n=0,r=i.length;for(let a=0;a<r;a++)s+=i[a][t.yName];for(let a=0;a<r;a++)n+=i[a][t.yName],i[a][t.yName]=Math.round(n/s*100);return i}doAnimation(e){this.animate(e)}getModuleName(){return"ParetoSeries"}destroy(e){}}class nL{constructor(e){this.chart=e}export(e,t,i,s,n,r,a){let o=new YA(this.chart);s=s||[this.chart];let l={cancel:!1,name:"beforeExport",width:n,height:r};this.chart.trigger("beforeExport",l),l.cancel||o.export(e,t,i,s,n=l.width,r=l.height,a)}getDataUrl(e){return new YA(e).getDataUrl(e)}getModuleName(){return"Export"}destroy(e){}}let rL=(()=>{class e extends Sw{}return Wy([lw(null)],e.prototype,"content",void 0),Wy([lw("0")],e.prototype,"x",void 0),Wy([lw("0")],e.prototype,"y",void 0),Wy([lw("Pixel")],e.prototype,"coordinateUnits",void 0),Wy([lw("Chart")],e.prototype,"region",void 0),Wy([lw("Middle")],e.prototype,"verticalAlignment",void 0),Wy([lw("Center")],e.prototype,"horizontalAlignment",void 0),Wy([lw(null)],e.prototype,"description",void 0),e})(),aL=(()=>{class e extends Sw{}return Wy([lw(!1)],e.prototype,"visible",void 0),Wy([lw(null)],e.prototype,"name",void 0),Wy([lw("transparent")],e.prototype,"fill",void 0),Wy([lw("Inside")],e.prototype,"position",void 0),Wy([lw(5)],e.prototype,"rx",void 0),Wy([lw(5)],e.prototype,"ry",void 0),Wy([lw(0)],e.prototype,"angle",void 0),Wy([lw(!1)],e.prototype,"enableRotation",void 0),Wy([hw({width:null,color:null},AD)],e.prototype,"border",void 0),Wy([hw({size:"11px",color:"",fontStyle:"Normal",fontWeight:"Normal",fontFamily:"Segoe UI"},kD)],e.prototype,"font",void 0),Wy([hw({},DD)],e.prototype,"connectorStyle",void 0),Wy([lw(null)],e.prototype,"template",void 0),e})(),oL=(()=>{class e extends Sw{}return Wy([lw("50%")],e.prototype,"x",void 0),Wy([lw("50%")],e.prototype,"y",void 0),e})();class lL{constructor(){this.visible=!0,this.symbolLocation=null,this.region=null,this.labelRegion=null,this.labelVisible=!0,this.regions=null,this.isExplode=!1,this.isClubbed=!1,this.isSliced=!1}}let hL=(()=>{class e extends Sw{constructor(){super(...arguments),this.points=[],this.clubbedPoints=[],this.sumOfPoints=0,this.isRectSeries=!0,this.clipRect=new rx(0,0,0,0),this.category="Series"}refreshDataManager(e,t){let i=this.dataSource||e.dataSource;i instanceof Ax||!Qy(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then(t=>this.dataManagerSuccess(t,e)):this.dataManagerSuccess({result:i,count:i.length},e,t)}dataManagerSuccess(e,t,i=!0){let s={name:"seriesRender",series:this,data:e.result};t.allowServerDataBinding=!1,t.trigger("seriesRender",s),this.resultData=""!==e.result?e.result:[],this.getPoints(this.resultData,t),(++t.seriesCounts===t.visibleSeries.length&&i||window.Blazor&&!i&&1===t.seriesCounts)&&t.refreshChart()}getPoints(e,t){let i,s=Object.keys(e).length;if(this.sumOfPoints=0,0===s)return null;this.findSumOfPoints(e),this.points=[],this.clubbedPoints=[],this.sumOfClub=0;let n=this.palettes.length?this.palettes:function(e){let t;switch(e){case"Fabric":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"Highcontrast":case"HighContrast":t=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"];break;case"FabricDark":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;default:t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}(t.theme),r=lA(this.groupTo,this.sumOfPoints);for(let a=0;a<s;a++)i=this.setPoints(e,a,n,t),this.isClub(i,r,a)?(i.index=this.clubbedPoints.length,i.isExplode=!0,this.clubbedPoints.push(i),i.isSliced=!0):(Qy(i.y)&&(i.visible=!1),this.pushPoints(i,n));if(this.lastGroupTo=this.groupTo,this.sumOfClub>0){let e=this.generateClubPoint();this.pushPoints(e,n);let t=this.points.length-1;this.clubbedPoints.map(i=>{i.index+=t,i.color=e.color})}this.clubbedPoints.length&&this.explode&&"Pie"===this.type&&(this.explodeAll||this.points[this.points.length-1].index===this.explodeIndex)&&(this.points.splice(this.points.length-1,1),this.points=this.points.concat(this.clubbedPoints))}generateClubPoint(){let e=new lL;return e.isClubbed=!0,e.x="Others",e.y=this.sumOfClub,e.text=e.originalText=e.x+": "+this.sumOfClub,e.sliceRadius="80%",e}pushPoints(e,t){e.index=this.points.length,e.isExplode=this.explodeAll||e.index===this.explodeIndex,e.color=e.color||t[e.index%t.length],this.points.push(e)}isClub(e,t,i){if(!Qy(t)){if("Value"===this.groupMode&&Math.abs(e.y)<=t)return this.sumOfClub+=Math.abs(e.y),!0;if("Point"===this.groupMode&&i>=t)return this.sumOfClub+=Math.abs(e.y),!0}return!1}findSumOfPoints(e){let t=Object.keys(e).length;for(let i=0;i<t;i++)Qy(e[i])||Qy(e[i][this.yName])||isNaN(e[i][this.yName])||(this.sumOfPoints+=Math.abs(e[i][this.yName]))}setPoints(e,t,i,s){let n=new lL;return n.x=Gy(this.xName,e[t]),n.y=Gy(this.yName,e[t]),n.percentage=+(n.y/this.sumOfPoints*100).toFixed(2),n.color=Gy(this.pointColorMapping,e[t]),n.text=n.originalText=Gy(this.dataLabel.name||"",e[t]),n.tooltip=Gy(this.tooltipMappingName||"",e[t]),n.sliceRadius=Gy(this.radius,e[t]),n.sliceRadius=Qy(n.sliceRadius)?"80%":n.sliceRadius,n.separatorY=s.intl.formatNumber(n.y,{useGrouping:s.useGroupingSeparator}),this.setAccEmptyPoint(n,t,e,i),n}renderSeries(e,t){let i,s=t?jk(e.element.id+"_Series_"+this.index):e.renderer.createGroup({id:e.element.id+"_Series_"+this.index});this.renderPoints(e,s,t),e.accumulationDataLabelModule&&this.dataLabel.visible&&(i=e.renderer.createGroup({id:e.element.id+"_datalabel_Series_"+this.index}),i.style.visibility=this.animation.enable&&e.animateSeries&&"Pie"===this.type?"hidden":"visible",this.renderDataLabel(e,i,t)),"Pie"===this.type&&(this.findMaxBounds(this.labelBound,this.accumulationBound),e.pieSeriesModule.animateSeries(e,this.animation,this,s)),e.accumulationLegendModule&&(this.labelBound.x-=e.explodeDistance,this.labelBound.y-=e.explodeDistance,this.labelBound.height+=e.explodeDistance-this.labelBound.y,this.labelBound.width+=e.explodeDistance-this.labelBound.x)}renderPoints(e,t,i){let s,n=e.element.id+"_Series_"+this.index+"_Point_";for(let r of this.points){let a={cancel:!1,name:"pointRender",series:this,point:r,fill:r.color,border:this.isEmpty(r)?{width:this.emptyPointSettings.border.width,color:this.emptyPointSettings.border.color}:{width:this.border.width,color:this.border.color}};e.trigger("pointRender",a),r.color=a.fill,s=new ux(n+r.index,r.color,a.border.width||1,a.border.color||r.color,this.opacity,"",""),e[Mk(this.type)+"SeriesModule"].renderPoint(r,this,e,s,t,i)}Xk(!1,e.getSeriesElement(),t,i)}renderDataLabel(e,t,i){e.accumulationDataLabelModule.findAreaRect();let s=Sv("div",{id:e.element.id+"_Series_0_DataLabelCollections"});for(let n of this.points)n.visible&&(0!==n.y||0===n.y&&"Zero"===this.emptyPointSettings.mode)&&e.accumulationDataLabelModule.renderDataLabel(n,this.dataLabel,t,this.points,this.index,s,i);null!==this.dataLabel.template&&s.childElementCount&&Xk(!1,jk(e.element.id+"_Secondary_Element"),s,i),Xk(!1,e.getSeriesElement(),t,i)}findMaxBounds(e,t){e.x=t.x<e.x?t.x:e.x,e.y=t.y<e.y?t.y:e.y,e.height=t.y+t.height>e.height?t.y+t.height:e.height,e.width=t.x+t.width>e.width?t.x+t.width:e.width}setAccEmptyPoint(e,t,i,s){if(!Qy(e.y)&&!isNaN(e.y))return null;switch(e.color=this.emptyPointSettings.fill||e.color,this.emptyPointSettings.mode){case"Zero":e.y=0,e.visible=!0;break;case"Average":let s=i[t+1]&&i[t+1][this.yName]||0;e.y=(Math.abs(i[t-1]&&i[t-1][this.yName]||0)+Math.abs(s))/2,this.sumOfPoints+=e.y,e.visible=!0;break;default:e.visible=!1}}isEmpty(e){return e.color===this.emptyPointSettings.fill}}return Wy([lw("")],e.prototype,"dataSource",void 0),Wy([lw()],e.prototype,"query",void 0),Wy([lw("")],e.prototype,"xName",void 0),Wy([lw("")],e.prototype,"name",void 0),Wy([lw("")],e.prototype,"tooltipMappingName",void 0),Wy([lw("")],e.prototype,"yName",void 0),Wy([lw(!0)],e.prototype,"visible",void 0),Wy([hw({color:null,width:0},AD)],e.prototype,"border",void 0),Wy([hw(null,TD)],e.prototype,"animation",void 0),Wy([lw("SeriesType")],e.prototype,"legendShape",void 0),Wy([lw("")],e.prototype,"pointColorMapping",void 0),Wy([lw(null)],e.prototype,"selectionStyle",void 0),Wy([lw(null)],e.prototype,"groupTo",void 0),Wy([lw("Value")],e.prototype,"groupMode",void 0),Wy([hw({},aL)],e.prototype,"dataLabel",void 0),Wy([lw([])],e.prototype,"palettes",void 0),Wy([lw(0)],e.prototype,"startAngle",void 0),Wy([lw(null)],e.prototype,"endAngle",void 0),Wy([lw("80%")],e.prototype,"radius",void 0),Wy([lw("0")],e.prototype,"innerRadius",void 0),Wy([lw("Pie")],e.prototype,"type",void 0),Wy([lw(!0)],e.prototype,"enableTooltip",void 0),Wy([lw(!1)],e.prototype,"explode",void 0),Wy([lw("30%")],e.prototype,"explodeOffset",void 0),Wy([lw(!1)],e.prototype,"explodeAll",void 0),Wy([lw(null)],e.prototype,"explodeIndex",void 0),Wy([hw({mode:"Drop"},OD)],e.prototype,"emptyPointSettings",void 0),Wy([lw(0)],e.prototype,"gapRatio",void 0),Wy([lw("80%")],e.prototype,"width",void 0),Wy([lw("80%")],e.prototype,"height",void 0),Wy([lw("20%")],e.prototype,"neckWidth",void 0),Wy([lw("20%")],e.prototype,"neckHeight",void 0),Wy([lw("Linear")],e.prototype,"pyramidMode",void 0),Wy([lw(1)],e.prototype,"opacity",void 0),e})();function cL(e,t){for(let i of t)if(i.index===e)return i;return null}class dL{constructor(e){this.accumulation=e}get center(){return this.pieCenter||("Pie"===this.accumulation.visibleSeries[0].type?this.accumulation.pieSeriesModule.center:null)}set center(e){this.pieCenter=e}get radius(){return void 0!==this.pieRadius?this.pieRadius:this.accumulation.pieSeriesModule.radius}set radius(e){this.pieRadius=e}get labelRadius(){return void 0!==this.pieLabelRadius?this.pieLabelRadius:this.accumulation.pieSeriesModule.labelRadius}set labelRadius(e){this.pieLabelRadius=e}isCircular(){return"Pie"===this.accumulation.type}isVariousRadius(){return this.accumulation.pieSeriesModule.isRadiusMapped}processExplode(e){if(e.target.id.indexOf("_Series_")>-1||e.target.id.indexOf("_datalabel_")>-1){let t=wk(e.target.id).point;if(isNaN(t)||e.target.id.indexOf("_datalabel_")>-1&&"Outside"===this.accumulation.visibleSeries[0].points[t].labelPosition)return null;this.explodePoints(t,this.accumulation),this.deExplodeAll(t,this.accumulation.enableAnimation?300:0)}}invokeExplode(){let e=this.accumulation.visibleSeries[0],t=this.accumulation.enableAnimation?300:0;for(let i of e.points)i.isExplode&&this.pointExplode(i.index,i,t);if(this.accumulation.accumulationSelectionModule&&"None"!==this.accumulation.selectionMode&&this.accumulation.accumulationSelectionModule.selectedDataIndexes.length)for(let i of this.accumulation.accumulationSelectionModule.selectedDataIndexes)this.explodePoints(i.point,this.accumulation,!0),this.deExplodeAll(i.point,t)}deExplodeAll(e,t){let i=this.accumulation.element.id+"_Series_0_Point_",s=this.accumulation.visibleSeries[0].points;for(let n of s)(e!==n.index&&!n.isSliced||n.isClubbed)&&(n.isExplode=!1,this.deExplodeSlice(n.index,i,t))}explodePoints(e,t,i=!1){let s=t.visibleSeries[0],n=s.points,r=cL(e,n),a=!0,o=this.accumulation.enableAnimation?300:0;if(Qy(r))return null;let l=!i&&(r.isSliced||s.clubbedPoints.length&&n[n.length-1].index===s.clubbedPoints[s.clubbedPoints.length-1].index);"Pie"===s.type&&(l||r.isClubbed)&&(a=this.clubPointExplode(e,r,s,n,t,o,i,l)),a&&this.pointExplode(e,r,o,i)}getSum(e){let t=0;return e.map(e=>{t+=e.visible?e.y:0}),t}clubPointExplode(e,t,i,s,n,r,a=!1,o=!1){if(t.isClubbed)return n.animateSeries=!1,s.splice(s.length-1,1),i.clubbedPoints.map(e=>{e.visible=!0,e.isExplode=!0}),n.visibleSeries[0].points=s.concat(i.clubbedPoints),this.deExplodeAll(e,r),i.sumOfPoints=this.getSum(n.visibleSeries[0].points),n.refreshChart(),!1;if(o||t.isSliced){n.animateSeries=!1,s.splice(s.length-i.clubbedPoints.length,i.clubbedPoints.length);let a=i.generateClubPoint();if(a.index=s.length,a.color=i.clubbedPoints[0].color,s.push(a),i.sumOfPoints=this.getSum(s),this.deExplodeAll(e,r),a.isExplode=!1,n.visibleSeries[0].points=s,n.refreshChart(),this.pointExplode(a.index,s[a.index],0,!0),a.isExplode=!1,this.deExplodeSlice(a.index,n.element.id+"_Series_0_Point_",r),t.isSliced)return!1}return!0}pointExplode(e,t,i,s){let n,r=this.accumulation.element.id+"_Series_0_Point_",a=this.accumulation;n=this.isCircular()?mk(t.midAngle,a.explodeDistance,this.center):{x:t.labelRegion&&t.labelRegion.x<t.region.x?-a.explodeDistance:a.explodeDistance,y:0},this.isExplode(r+e)||s?(t.isExplode=!0,this.explodeSlice(e,n,r,this.center||{x:0,y:0},i)):(t.isExplode=!1,this.deExplodeSlice(e,r,i))}isExplode(e){let t=jk(e),i=t?t.getAttribute("transform"):null;return t&&("translate(0, 0)"===i||null===i||"translate(0)"===i)}deExplodeSlice(e,t,i){let s=jk(t+e);s&&s.parentNode.lastChild.hasAttribute("transform")&&s.parentNode.lastChild.removeAttribute("transform");let n=s?s.getAttribute("transform"):null;if(this.accumulation.enableAnimation&&s&&n&&"translate(0, 0)"!==n&&"translate(0)"!==n){let s=/translate\((-?\d+\.?\d*),?\s*(-?\d+[.]?\d*)?\)/.exec(n);this.performAnimation(e,t,0,0,+s[1],+s[2]||0,i,!0)}else this.performAnimation(e,t,0,0,0,0,i,!0)}setTranslate(e,t,i,s){this.setElementTransform(t+e,i),this.accumulation.visibleSeries[0].dataLabel.visible&&(this.setElementTransform((t=this.accumulation.element.id+"_datalabel_Series_0_")+"shape_"+e,i),this.setElementTransform(t+"text_"+e,i+s),this.setElementTransform(t+"connector_"+e,i))}setElementTransform(e,t){let i=jk(e);i&&i.setAttribute("transform",t)}explodeSlice(e,t,i,s,n){this.performAnimation(e,i,0,0,t.x-s.x,t.y-s.y,n)}performAnimation(e,t,i,s,n,r,a,o){let l,h,c,d,u=this.accumulation,p=t.split("_");if(l=parseInt(t.split("_")[p.length-3],10),h=u.visibleSeries[l].points[e],a<=0)return this.setTranslate(e,t,"translate("+n+", "+r+")",h.transform),null;new gw({}).animate(Sv("div"),{duration:a,progress:a=>{c=Rk(a.timeStamp,i,n,a.duration),d=Rk(a.timeStamp,s,r,a.duration),this.setTranslate(e,t,"translate("+(o?n-c:c)+", "+(o?r-d:d)+")",h.transform)},end:s=>{this.setTranslate(e,t,"translate("+(o?i:n)+", "+(o?i:r)+")",h.transform)}})}}class uL extends dL{initProperties(e,t){this.accumulation=e,this.size=Math.min(e.initialClipRect.width,e.initialClipRect.height),this.initAngles(t);let i=parseInt(t.radius,10);if(-1===t.radius.indexOf("%")&&"number"!=typeof i||isNaN(i)){let e=[];this.isRadiusMapped=!0;for(let n=0;n<Object.keys(t.points).length;n++)e[n]=-1!==t.points[n].sliceRadius.indexOf("%")?lA(t.points[n].sliceRadius,this.size/2):parseInt(t.points[n].sliceRadius,10);let i=Math.min.apply(null,e),s=Math.max.apply(null,e);this.radius=this.seriesRadius=s,this.innerRadius=lA(t.innerRadius,this.seriesRadius),this.innerRadius=this.innerRadius>i?this.innerRadius/2:this.innerRadius}else this.isRadiusMapped=!1,this.radius=lA(t.radius,this.size/2),this.innerRadius=lA(t.innerRadius,this.radius),this.labelRadius="Inside"===t.dataLabel.position?(this.radius-this.innerRadius)/2+this.innerRadius:this.radius+lA(t.dataLabel.connectorStyle.length||"4%",this.size/2);e.explodeDistance=t.explode?lA(t.explodeOffset,this.radius):0,this.findCenter(e,t),this.defaultLabelBound(t,t.dataLabel.visible,t.dataLabel.position),this.totalAngle-=.001}getLabelRadius(e,t){return"Inside"===e.dataLabel.position?(lA(t.sliceRadius,this.radius)-this.innerRadius)/2+this.innerRadius:lA(t.sliceRadius,this.seriesRadius)+lA(e.dataLabel.connectorStyle.length||"4%",this.size/2)}findCenter(e,t){this.accumulation=e,this.center={x:lA(e.center.x,e.initialClipRect.width)+e.initialClipRect.x,y:lA(e.center.y,e.initialClipRect.height)+e.initialClipRect.y};let i=this.getSeriesBound(t),s=new SA(i.x+i.width/2,i.y+i.height/2);this.center.x+=this.center.x-s.x,this.center.y+=this.center.y-s.y,this.accumulation.origin=this.center}initAngles(e){let t=Qy(e.endAngle)?e.startAngle:e.endAngle;this.totalAngle=(t-e.startAngle)%360,this.startAngle=e.startAngle-90,this.totalAngle=this.totalAngle<=0?360+this.totalAngle:this.totalAngle,this.startAngle=(this.startAngle<0?this.startAngle+360:this.startAngle)%360}defaultLabelBound(e,t,i){let s=this.getSeriesBound(e);e.accumulationBound=s,e.labelBound=new rx(s.x,s.y,s.width+s.x,s.height+s.y),t&&"Outside"===i&&(e.labelBound=new rx(1/0,1/0,-1/0,-1/0))}getSeriesBound(e){let t=new rx(1/0,1/0,-1/0,-1/0);this.initAngles(e);let i=this.startAngle,s=this.totalAngle,n=(this.startAngle+s)%360;n=0===n?360:n,e.findMaxBounds(t,this.getRectFromAngle(i)),e.findMaxBounds(t,this.getRectFromAngle(n)),e.findMaxBounds(t,new rx(this.center.x,this.center.y,0,0));let r=(90*Math.floor(i/90)+90)%360,a=90*Math.floor(n/90)%360;a=0===a?360:a,(s>=90||a===r)&&(e.findMaxBounds(t,this.getRectFromAngle(r)),e.findMaxBounds(t,this.getRectFromAngle(a))),(0===i||i+s>=360)&&e.findMaxBounds(t,this.getRectFromAngle(0));let o=r===a?0:Math.floor(s/90);for(let l=1;l<o;l++)r+=90,(r<a||n<i||360===s)&&e.findMaxBounds(t,this.getRectFromAngle(r));return t.width-=t.x,t.height-=t.y,t}getRectFromAngle(e){let t=mk(e,this.radius,this.center);return new rx(t.x,t.y,0,0)}getPathArc(e,t,i,s,n){let r=i-t;r=r<0?r+360:r;let a=r<180?0:1;return n||0!==n?this.getDoughnutPath(e,mk(t,s,e),mk(i,s,e),s,mk(t,n,e),mk(i,n,e),n,a):this.getPiePath(e,mk(t,s,e),mk(i,s,e),s,a)}getPiePath(e,t,i,s,n){return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" A "+s+" "+s+" 0 "+n+" 1 "+i.x+" "+i.y+" Z"}getDoughnutPath(e,t,i,s,n,r,a,o){return"M "+t.x+" "+t.y+" A "+s+" "+s+" 0 "+o+" 1 "+i.x+" "+i.y+" L "+r.x+" "+r.y+" A "+a+" "+a+" 0 "+o+",0 "+n.x+" "+n.y+" Z"}doAnimation(e,t){let i,s=t.startAngle-90,n=this.accumulation.duration?this.accumulation.duration:t.animation.duration;this.center.x+=1;let r=.75*Math.max(this.accumulation.availableSize.height,this.accumulation.availableSize.width);r+=.414*r;let a=Tk("Linear");new gw({}).animate(e,{duration:n,delay:t.animation.delay,progress:t=>{i=a(t.timeStamp,s,this.totalAngle,t.duration),e.setAttribute("d",this.getPathArc(this.center,s,i,r,0))},end:i=>{this.center.x-=1,e.setAttribute("d",this.getPathArc(this.center,0,359.99999,r,0)),this.accumulation.trigger("animationComplete",this.accumulation.isBlazor?{}:{series:t,accumulation:this.accumulation,chart:this.accumulation}),jk(this.accumulation.element.id+"_datalabel_Series_"+t.index).style.visibility=this.accumulation.isDestroyed?"hidden":"visible"}})}}class pL extends uL{renderPoint(e,t,i,s,n,r){let a=t.sumOfPoints;e.startAngle=this.startAngle;let o=e.visible?e.y:0,l=a?Math.abs(o)/a*this.totalAngle:null,h=Math.PI/180*(90-(360-this.startAngle)-90);this.radius=this.isRadiusMapped?lA(e.sliceRadius,this.seriesRadius):this.radius,s.d=this.getPathOption(e,l,this.startAngle%360,o),e.midAngle=(this.startAngle-l/2)%360,e.endAngle=this.startAngle%360,e.symbolLocation=mk(e.midAngle,(this.radius+this.innerRadius)/2,this.center),r?this.refresh(e,l,h,i,s,n):(n.appendChild(i.renderer.drawPath(s)),e.degree=l,e.start=h)}findSeries(e){let t,i;i=0===this.innerRadius?this.radius+3:this.innerRadius-3,t=0===this.innerRadius?i+2:i-2,this.toggleInnerPoint(e,i,t)}toggleInnerPoint(e,t,i){let s,n=wk(e.target.id,!0),r=e.target.id.substring(0,e.target.id.indexOf("Series")-1),a=document.getElementById(r+"PointHover_Border"),o=n.series,l=n.point,h=jk(r+"_Series_"+o+"_Point_"+l);if(!isNaN(n.series)&&h){if(!(Qy(o)||isNaN(o)||Qy(l)||isNaN(l))){let n=this.accumulation.visibleSeries[0].points[l];const c=h.getAttribute("class")===r+"_ej2_deselected"?this.accumulation.tooltip.enable?.5:.3:this.accumulation.tooltip.enable?.5:1;let d=this.getPathArc(this.accumulation.pieSeriesModule.center,n.startAngle%360,(n.startAngle+n.degree)%360,t,i);a&&r===this.accumulation.element.id&&(a.getAttribute("d")!==d||n.isExplode)&&(a.parentNode.removeChild(a),a=null);let u=jk(r+"_Series_"+o);if(!a&&(!n.isExplode||n.isExplode&&"click"!==e.type)){let t=new ux(r+"PointHover_Border",n.color,1,n.color,c,"",d);if(s=this.accumulation.renderer.drawPath(t),s.removeAttribute("transform"),"None"!==this.accumulation.selectionMode&&e.target.hasAttribute("class")&&this.accumulation.accumulationSelectionModule.addSvgClass(s,e.target.getAttribute("class")),u.appendChild(s),n.isExplode&&s){let e=h.getAttribute("transform");s.setAttribute("transform",e)}}}}else a&&(this.removeBorder(a,1e3),a=null)}removeBorder(e,t){e&&setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},t)}refresh(e,t,i,s,n,r){let a,o,l=jk(n.id),h=s.duration?s.duration:300;new gw({}).animate(Sv("div"),{duration:h,delay:0,progress:n=>{o=Rk(n.timeStamp,e.degree,t-e.degree,n.duration),a=Rk(n.timeStamp,e.start,i-e.start,n.duration),a=(a/(Math.PI/180)+360)%360,l.setAttribute("d",this.getPathOption(e,o,a,e.y)),e.isExplode&&s.accBaseModule.explodePoints(e.index,s,!0),l.style.visibility="visible"},end:s=>{l.style.visibility=e.visible?"visible":"hidden",l.setAttribute("d",n.d),e.degree=t,e.start=i}})}getPathOption(e,t,i,s){if(!t)return"";let n=this.getPathArc(this.center,i%360,(i+t)%360,this.isRadiusMapped?lA(e.sliceRadius,this.seriesRadius):this.radius,this.innerRadius);return this.startAngle+=t,n}animateSeries(e,t,i,s){let n=e.element.id+"SeriesGroup"+i.index;if(i.animation.enable&&e.animateSeries){let t=e.renderer.createClipPath({id:n+"_clipPath"}),r=new ux(n+"_slice","transparent",1,"transparent",1,"",""),a=e.renderer.drawPath(r);t.appendChild(a),e.svgObject.appendChild(t),s.setAttribute("style","clip-path:url(#"+t.id+"); -webkit-clip-path:url(#"+t.id+");"),this.doAnimation(a,i)}}getModuleName(){return"PieSeries"}destroy(e){}}let mL=(()=>{let e=class extends kw{constructor(e,t){super(e,t),this.animateselected=!1,this.explodeDistance=0,this.chartid=57724}animate(e){this.duration=e||700,this.animateselected=!0,this.animateSeries=!1;let t=0,i=[],s=[],n=[],r=this.visibleSeries[0],a=[];if(a=r.dataSource,r.sumOfPoints=0,r.points.length<Object.keys(r.dataSource).length)this.refresh();else if(r.points.length>Object.keys(r.dataSource).length){let e=this.visibleSeries[0];e.points=e.points.filter(e=>(e.visible=!1,s.push(e.index),i.push(e.color),a.some(i=>{let s=i;return e.x===s.x&&(e.visible=!0,n.push(e.index),e.index=t,t++),e.x===s.x})));let r=s.filter(e=>n.indexOf(e)<0),o=s.length-r.length;for(let t=s.length-1;t>=o;t--)nk("container_Series_0_Point_"+s[t]);for(let t=0;t<e.points.length;t++)e.points[t].y=e.dataSource[t].y,e.points[t].color=i[t],e.sumOfPoints+=e.dataSource[t].y;this.redraw=this.enableAnimation,this.animateSeries=!1,this.calculateBounds(),this.renderElements()}else{for(let e=0;e<r.points.length;e++)r.points[e].y=r.dataSource[e].y,r.sumOfPoints+=r.dataSource[e].y;this.redraw=this.enableAnimation,this.animateSeries=!1,this.removeSvg(),this.refreshPoints(r.points),this.renderElements()}}get type(){return this.series&&this.series.length?this.series[0].type:"Pie"}preRender(){if(this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.unWireEvents(),this.setCulture(),this.animateSeries=!0,""===this.element.id){let e=document.getElementsByClassName("e-accumulationchart").length;this.element.id="acc_chart_"+this.chartid+"_"+e}uA(this),this.wireEvents()}setTheme(){this.themeStyle=function(e){let t,i="MaterialDark"===e?"#303030":"FabricDark"===e?"#201F1F":"1A1A1A";switch(e){case"HighContrastLight":case"Highcontrast":case"HighContrast":t={axisLabel:"#ffffff",axisTitle:"#ffffff",axisLine:"#ffffff",majorGridLine:"#BFBFBF",minorGridLine:"#969696",majorTickLine:"#BFBFBF",minorTickLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:"#000000",areaBorder:"#ffffff",errorBar:"#ffffff",crosshairLine:"#ffffff",crosshairFill:"#ffffff",crosshairLabel:"#000000",tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",markerShadow:"#BFBFBF",selectionRectFill:"rgba(255, 217, 57, 0.3)",selectionRectStroke:"#ffffff",selectionCircleStroke:"#FFD939"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={axisLabel:"#DADADA",axisTitle:"#ffffff",axisLine:" #6F6C6C",majorGridLine:"#414040",minorGridLine:"#514F4F",majorTickLine:"#414040",minorTickLine:" #4A4848",chartTitle:"#ffffff",legendLabel:"#DADADA",background:i,areaBorder:" #9A9A9A",errorBar:"#ffffff",crosshairLine:"#F4F4F4",crosshairFill:"#F4F4F4",crosshairLabel:"#282727",tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A",markerShadow:null,selectionRectFill:"rgba(56,169,255, 0.1)",selectionRectStroke:"#38A9FF",selectionCircleStroke:"#282727"};break;case"Bootstrap4":t={axisLabel:"#212529",axisTitle:"#ffffff",axisLine:"#CED4DA",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",majorTickLine:"#ADB5BD",minorTickLine:"#CED4DA",chartTitle:"#212529",legendLabel:"#212529",background:"#FFFFFF",areaBorder:"#DEE2E6",errorBar:"#000000",crosshairLine:"#6C757D",crosshairFill:"#495057",crosshairLabel:"#FFFFFF",tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255,255,255)",tooltipLightLabel:"rgba(255,255,255, 0.9)",tooltipHeaderLine:"rgba(255,255,255, 0.2)",markerShadow:null,selectionRectFill:"rgba(255,255,255, 0.1)",selectionRectStroke:"rgba(0, 123, 255)",selectionCircleStroke:"#495057"};break;default:t={axisLabel:"#686868",axisTitle:"#424242",axisLine:"#b5b5b5",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",majorTickLine:"#b5b5b5",minorTickLine:"#d6d6d6",chartTitle:"#424242",legendLabel:"#353535",background:"#FFFFFF",areaBorder:"Gray",errorBar:"#000000",crosshairLine:"#4f4f4f",crosshairFill:"#4f4f4f",crosshairLabel:"#e5e5e5",tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff",markerShadow:null,selectionRectFill:"rgba(41, 171, 226, 0.1)",selectionRectStroke:"#29abe2",selectionCircleStroke:"#29abe2"}}return t}(this.theme)}render(){let e={chart:this.isBlazor?{}:this,accumulation:this.isBlazor?{}:this,theme:this.theme,name:"load",cancel:!1};this.trigger("load",e,()=>{this.theme=this.isBlazor?e.theme:this.theme,this.setTheme(),this.accBaseModule=new dL(this),this.pieSeriesModule=new pL(this),this.calculateVisibleSeries(),this.processData(),this.renderComplete(),this.allowServerDataBinding=!0})}unWireEvents(){let e=Kv.touchStartEvent,t=Kv.touchEndEvent,i=Kv.isPointer?"pointerleave":"mouseleave";Tb.remove(this.element,Kv.touchMoveEvent,this.accumulationMouseMove),Tb.remove(this.element,t,this.accumulationMouseEnd),Tb.remove(this.element,e,this.accumulationMouseStart),Tb.remove(this.element,"click",this.accumulationOnMouseClick),Tb.remove(this.element,"contextmenu",this.accumulationRightClick),Tb.remove(this.element,i,this.accumulationMouseLeave),window.removeEventListener(Kv.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResize)}wireEvents(){if(!this.element)return;let e=Kv.touchStartEvent,t=Kv.touchEndEvent,i=Kv.isPointer?"pointerleave":"mouseleave";Tb.add(this.element,Kv.touchMoveEvent,this.accumulationMouseMove,this),Tb.add(this.element,t,this.accumulationMouseEnd,this),Tb.add(this.element,e,this.accumulationMouseStart,this),Tb.add(this.element,"click",this.accumulationOnMouseClick,this),Tb.add(this.element,"contextmenu",this.accumulationRightClick,this),Tb.add(this.element,i,this.accumulationMouseLeave,this),window.addEventListener(Kv.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResize.bind(this)),new Bw(this.element),this.setStyle(this.element)}setMouseXY(e){let t,i,s=jk(this.element.id+"_svg").getBoundingClientRect(),n=this.element.getBoundingClientRect();e.type.indexOf("touch")>-1?(this.isTouch=!0,i=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientX,i=e.clientY),this.mouseY=i-n.top-Math.max(s.top-n.top,0),this.mouseX=t-n.left-Math.max(s.left-n.left,0)}accumulationMouseEnd(e){return this.setMouseXY(e),this.trigger("chartMouseUp",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationDataLabelModule&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e)),this.notify(Kv.touchEndEvent,e),!1}accumulationMouseStart(e){return this.setMouseXY(e),this.trigger("chartMouseDown",{target:e.target.id,x:this.mouseX,y:this.mouseY}),!1}accumulationResize(e){this.animateSeries=!1;let t={accumulation:this.isBlazor?{}:this,previousSize:new nx(this.availableSize.width,this.availableSize.height),name:"resized",currentSize:new nx(0,0),chart:this.isBlazor?{}:this};return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout(()=>{this.isDestroyed?clearTimeout(this.resizeTo):(uA(this),t.currentSize=this.availableSize,this.trigger("resized",t),this.refreshSeries(),this.refreshChart())},500),!1}print(e){let t=document.getElementById(this.element.id+"_Series_0").style.clipPath;document.getElementById(this.element.id+"_Series_0").style.clipPath="",new YA(this).print(e),document.getElementById(this.element.id+"_Series_0").style.clipPath=t}export(e,t){this.exportModule&&this.exportModule.export(e,t)}setStyle(e){e.style.touchAction="element",e.style.msTouchAction="element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block"}setAnnotationValue(e,t){let i,s=this.annotations[e],n=jk(this.element.id+"_Annotation_Collections");t&&(s.content=t,n?(i=this.createElement("div"),nk(this.element.id+"_Annotation_"+e),this.annotationModule.processAnnotation(s,e,i),n.appendChild(i.children[0])):this.annotationModule.renderAnnotations(jk(this.element.id+"_Secondary_Element")))}accumulationMouseMove(e){return!!jk(this.element.id+"_svg")&&(this.setMouseXY(e),this.trigger("chartMouseMove",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent("pointMove",e.target),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e),this.accumulationDataLabelModule&&this.visibleSeries[0]&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY),this.isTouch||this.titleTooltip(e,this.mouseX,this.mouseY),this.enableBorderOnMouseMove&&"Pie"===this.type&&this.pieSeriesModule&&Ek(this.mouseX,this.mouseY,this.initialClipRect)&&this.pieSeriesModule.findSeries(e),this.notify(Kv.touchMoveEvent,e),!1)}titleTooltip(e,t,i,s){let n=e.target.id,r=n===this.element.id+"_title"||n===this.element.id+"_subTitle";e.target.textContent.indexOf("...")>-1&&r?ak(n===this.element.id+"_title"?this.title:this.subTitle,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",jk(this.element.id+"_Secondary_Element"),s):nk(this.element.id+"_EJ2_Title_Tooltip")}accumulationOnMouseClick(e){return this.setMouseXY(e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.click(e),"None"!==this.selectionMode&&this.accumulationSelectionModule&&this.accumulationSelectionModule.calculateSelectedElements(this,e),this.visibleSeries[0].explode&&this.accBaseModule.processExplode(e),this.enableBorderOnMouseMove&&this.pieSeriesModule&&"Pie"===this.type&&this.pieSeriesModule.findSeries(e),this.trigger("chartMouseClick",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointClick&&this.triggerPointEvent("pointClick",e.target),!1}triggerPointEvent(e,t){let i=wk(t.id,!0);i.series>=0&&i.point>=0&&this.trigger(e,{series:this.isBlazor?{}:this.series[i.series],point:this.series[i.series].points[i.point],seriesIndex:i.series,pointIndex:i.point,x:this.mouseX,y:this.mouseY})}accumulationRightClick(e){return 2!==e.buttons&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)}accumulationMouseLeave(e){return this.setMouseXY(e),this.trigger("chartMouseLeave",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify(Kv.isPointer?"pointerleave":"mouseleave",e),!1}setCulture(){this.intl=new Db}createPieSvg(){var e;this.removeSvg(),(e=this).canvasRender=new tx(e.element.id),e.renderer=e.enableCanvas?e.canvasRender:new ex(e.element.id),uA(e),e.svgObject=e.stockChart&&"chart"===e.getModuleName()?e.stockChart.chartObject:e.stockChart&&"rangeNavigator"===e.getModuleName()?e.stockChart.selectorObject:e.enableCanvas?e.renderer.createCanvas({id:e.element.id+"_canvas",width:e.availableSize.width,height:e.availableSize.height}):e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height})}removeSvg(){if(this.redraw)return null;if(yA(this),nk(this.element.id+"_Secondary_Element"),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&Rv(this.svgObject)}nk("EJ2_legend_tooltip"),nk("EJ2_datalabel_tooltip"),nk(this.element.id+"PointHover_Border")}createSecondaryElement(){let e=hA(this.redraw,this.element.id+"_Secondary_Element")||this.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"position: relative"});Xk(!1,this.element,e,this.redraw)}calculateVisibleSeries(){this.visibleSeries=[];for(let e=0,t=this.series.length;e<t;e++)if(this.series[e].index=e,this.series[e].type===this.type&&0===this.visibleSeries.length){this.visibleSeries.push(this.series[e]);break}}processData(e=!0){this.seriesCounts=0;for(let t of this.visibleSeries)t.dataModule=new BA(t.dataSource||this.dataSource,t.query),t.refreshDataManager(this,e)}refreshChart(){this.doGrouppingProcess(),this.createPieSvg(),this.calculateBounds(),this.renderElements(),nk("chartmeasuretext")}doGrouppingProcess(){let e=this.visibleSeries[0];Qy(e.resultData)||Qy(e.lastGroupTo)||e.lastGroupTo===e.groupTo||e.getPoints(e.resultData,this)}calculateBounds(){this.initialClipRect=new rx(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height),this.titleCollection=[],this.subTitleCollection=[];let e=0,t=0,i=0,s=0;if(this.titleCollection=pA(this.title,this.titleStyle,this.initialClipRect.width),e=ix(this.title,this.titleStyle).height*this.titleCollection.length,this.subTitle){for(let e of this.titleCollection)s=ix(e,this.titleStyle).width,i=s>i?s:i;this.subTitleCollection=pA(this.subTitle,this.subTitleStyle,i),t=ix(this.subTitle,this.subTitleStyle).height*this.subTitleCollection.length}var n,r;n=this.initialClipRect,r=new rx(0,t+e,this.margin.right+this.margin.left,this.margin.bottom+this.margin.top),n.x+=r.x,n.y+=r.y,n.width-=r.x+r.width,n.height-=r.y+r.height,this.calculateLegendBounds()}calculateLegendBounds(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.getLegendOptions(this,this.visibleSeries),this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null)}renderElements(){this.renderBorder(),this.createSecondaryElement(),this.renderSeries(),this.renderTitle(),this.renderLegend(),Xk(!1,this.element,this.svgObject,this.redraw),this.processSelection(),this.processExplode(),this.renderAnnotation(),this.setSecondaryElementPosition(),this.trigger("loaded",{accumulation:this.isBlazor?{}:this,chart:this.isBlazor?{}:this}),this.animateSeries=!1}setSecondaryElementPosition(){let e=jk(this.element.id+"_Secondary_Element");if(!e)return;let t=this.element.getBoundingClientRect(),i=jk(this.element.id+"_svg").getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px"}renderAnnotation(){this.annotationModule&&this.annotationModule.renderAnnotations(jk(this.element.id+"_Secondary_Element"))}processExplode(){return this.redraw?null:this.visibleSeries[0].explode?void this.accBaseModule.invokeExplode():null}renderSeries(){this.redraw||this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+"_SeriesCollection"}));for(let e of this.visibleSeries)e.visible&&this[Mk(e.type)+"SeriesModule"]&&(this[Mk(e.type)+"SeriesModule"].initProperties(this,e),e.renderSeries(this,this.redraw))}renderBorder(){let e=this.border.width;Xk(!1,this.svgObject,this.renderer.drawRectangle(new vA(this.element.id+"_border",this.background||this.themeStyle.background,this.border,1,new rx(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e))),this.redraw);let t=this.backgroundImage;if(t){let i=new wA(this.availableSize.height-e,this.availableSize.width-e,t,0,0,this.element.id+"_background","visible","none");Xk(!1,this.svgObject,this.renderer.drawImage(i),this.redraw)}}renderLegend(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.legendCollections.length&&("Pie"===this.visibleSeries[0].type&&this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound,this.accumulationLegendModule.legendBounds,this.margin),this.accumulationLegendModule.renderLegend(this,this.legendSettings,this.accumulationLegendModule.legendBounds,this.redraw))}processSelection(){if(!this.accumulationSelectionModule||"None"===this.selectionMode)return null;let e=Ky([],this.accumulationSelectionModule.selectedDataIndexes,null,!0);this.accumulationSelectionModule.invokeSelection(this),e.length>0&&(this.accumulationSelectionModule.selectedDataIndexes=e,this.accumulationSelectionModule.redrawSelection(this,this.selectionMode))}renderTitle(){let e,t=this.margin;if(!this.title)return null;let i=this.titleStyle.textAlignment,s="Near"===i?"start":"Far"===i?"end":"middle",n=ix(this.title,this.titleStyle);e=new rx(t.left,0,this.availableSize.width-t.left-t.right,0);let r=new lx(this.element.id+"_title",mA(e,this.titleStyle),this.margin.top+3*n.height/4,s,this.titleCollection,"","auto");dA(this.renderer,r,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject,!1,this.redraw),this.subTitle&&this.renderSubTitle(r)}renderSubTitle(e){let t,i=0,s=0,n=this.titleStyle.textAlignment,r=ix(this.subTitle,this.subTitleStyle);for(let o of this.titleCollection)s=ix(o,this.titleStyle).width,i=s>i?s:i;t=new rx("Center"===n?e.x-i/2:"Far"===n?e.x-i:e.x,0,i,0);let a=new lx(this.element.id+"_subTitle",mA(t,this.subTitleStyle),e.y*e.text.length+3*r.height/4+10,(e=>"Near"===e?"start":"Far"===e?"end":"middle")(this.subTitleStyle.textAlignment),this.subTitleCollection,"","auto");dA(this.renderer,a,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartTitle,this.svgObject,!1,this.redraw)}getSeriesElement(){return this.svgObject.getElementsByTagName("g")[0]}refreshSeries(){for(let e of this.visibleSeries)this.refreshPoints(e.points)}refreshPoints(e){for(let t of e)t.labelPosition=null,t.labelRegion=null,t.labelVisible=!0}getModuleName(){return"accumulationchart"}destroy(){this.element&&(this.unWireEvents(),super.destroy(),this.element.classList.remove("e-accumulationchart"),this.element.innerHTML="")}requiredModules(){let e=[],t=!1;return e.push({member:this.type+"Series",args:[this]}),this.legendSettings.visible&&e.push({member:"AccumulationLegend",args:[this]}),this.findDatalabelVisibility()&&e.push({member:"AccumulationDataLabel",args:[this]}),this.tooltip.enable&&e.push({member:"AccumulationTooltip",args:[this]}),"None"!==this.selectionMode&&e.push({member:"AccumulationSelection",args:[this]}),this.enableExport&&e.push({member:"Export",args:[this]}),t=this.annotations.some(e=>null!==e.content),t&&e.push({member:"Annotation",args:[this]}),e}findDatalabelVisibility(){for(let e of this.series)if(e.dataLabel.visible)return!0;return!1}changeVisibleSeries(e,t){for(let i of e)if(t===i.index)return i;return null}getPersistData(){return""}onPropertyChanged(e,t){let i={refreshElements:!1,refreshBounds:!1};for(let s of Object.keys(e))switch(s){case"theme":this.animateSeries=!0;break;case"title":case"subTitle":case"height":case"width":case"margin":i.refreshBounds=!0;break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"legendSettings":i.refreshBounds=!0,i.refreshElements=!0;break;case"dataSource":this.processData(!1),i.refreshBounds=!0;break;case"series":if(!this.animateselected){let s,n,r=this.series.length,a=!1;for(let i=0;i<r;i++)s=e.series[i],this.isBlazor&&(s.startAngle||s.endAngle||s.explodeOffset||s.neckHeight||s.neckWidth||s.radius||s.innerRadius||s.groupMode||s.emptyPointSettings)&&(n=!0),e.series[i]&&(e.series[i].dataSource||e.series[i].yName||e.series[i].xName||n)&&(Ky(this.changeVisibleSeries(this.visibleSeries,i),s,null,!0),a=!0),e.series[i]&&e.series[i].explodeIndex!==t.series[i].explodeIndex&&(this.accBaseModule.explodePoints(e.series[i].explodeIndex,this),this.accBaseModule.deExplodeAll(e.series[i].explodeIndex,this.enableAnimation?300:0));a&&(this.processData(!1),i.refreshBounds=!0)}this.animateselected=!1,this.redraw=!1;break;case"locale":case"currencyCode":super.refresh();break;case"background":case"border":case"annotations":case"enableSmartLabels":i.refreshElements=!0;break;case"isMultiSelect":case"selectedDataIndexes":case"selectionMode":this.accumulationSelectionModule&&(Qy(this.accumulationSelectionModule.selectedDataIndexes)?this.accumulationSelectionModule.invokeSelection(this):this.accumulationSelectionModule.redrawSelection(this,t.selectionMode))}!i.refreshBounds&&i.refreshElements?(this.createPieSvg(),this.renderElements()):i.refreshBounds&&(this.refreshSeries(),this.createPieSvg(),this.calculateBounds(),this.renderElements())}};return Wy([lw(null)],e.prototype,"width",void 0),Wy([lw(null)],e.prototype,"height",void 0),Wy([lw(null)],e.prototype,"title",void 0),Wy([lw(null)],e.prototype,"backgroundImage",void 0),Wy([hw({},oL)],e.prototype,"center",void 0),Wy([lw("")],e.prototype,"dataSource",void 0),Wy([hw(ED.chartTitleFont,kD)],e.prototype,"titleStyle",void 0),Wy([lw(null)],e.prototype,"subTitle",void 0),Wy([hw(ED.chartSubTitleFont,kD)],e.prototype,"subTitleStyle",void 0),Wy([hw({},HA)],e.prototype,"legendSettings",void 0),Wy([hw({},VD)],e.prototype,"tooltip",void 0),Wy([lw("None")],e.prototype,"selectionMode",void 0),Wy([lw("None")],e.prototype,"highLightMode",void 0),Wy([lw("None")],e.prototype,"selectionPattern",void 0),Wy([lw("None")],e.prototype,"highlightPattern",void 0),Wy([lw(!0)],e.prototype,"enableBorderOnMouseMove",void 0),Wy([lw(!1)],e.prototype,"isMultiSelect",void 0),Wy([lw(!0)],e.prototype,"enableAnimation",void 0),Wy([cw([],RD)],e.prototype,"selectedDataIndexes",void 0),Wy([hw({},LD)],e.prototype,"margin",void 0),Wy([lw(!0)],e.prototype,"enableSmartLabels",void 0),Wy([hw({color:"#DDDDDD",width:0},AD)],e.prototype,"border",void 0),Wy([lw(null)],e.prototype,"background",void 0),Wy([cw([{}],hL)],e.prototype,"series",void 0),Wy([cw([{}],rL)],e.prototype,"annotations",void 0),Wy([lw("Material")],e.prototype,"theme",void 0),Wy([lw(!1)],e.prototype,"useGroupingSeparator",void 0),Wy([lw(!0)],e.prototype,"enableExport",void 0),Wy([dw()],e.prototype,"loaded",void 0),Wy([dw()],e.prototype,"load",void 0),Wy([dw()],e.prototype,"seriesRender",void 0),Wy([dw()],e.prototype,"legendRender",void 0),Wy([dw()],e.prototype,"textRender",void 0),Wy([dw()],e.prototype,"tooltipRender",void 0),Wy([dw()],e.prototype,"pointRender",void 0),Wy([dw()],e.prototype,"annotationRender",void 0),Wy([dw()],e.prototype,"beforePrint",void 0),Wy([dw()],e.prototype,"chartMouseMove",void 0),Wy([dw()],e.prototype,"chartMouseClick",void 0),Wy([dw()],e.prototype,"pointClick",void 0),Wy([dw()],e.prototype,"pointMove",void 0),Wy([dw()],e.prototype,"animationComplete",void 0),Wy([dw()],e.prototype,"chartMouseDown",void 0),Wy([dw()],e.prototype,"chartMouseLeave",void 0),Wy([dw()],e.prototype,"chartMouseUp",void 0),Wy([dw()],e.prototype,"resized",void 0),Wy([lw("USD")],e.prototype,"currencyCode",void 0),e=Wy([uw],e),e})();class gL extends dL{initProperties(e,t){let i=e.initialClipRect;t.triangleSize=new nx(lA(t.width,i.width),lA(t.height,i.height)),t.neckSize=new nx(lA(t.neckWidth,i.width),lA(t.neckHeight,i.height)),this.defaultLabelBound(t,t.dataLabel.visible,t.dataLabel.position,e),"30%"===t.explodeOffset&&(t.explodeOffset="25px"),e.explodeDistance=lA(t.explodeOffset,i.width),this.initializeSizeRatio(t.points,t)}initializeSizeRatio(e,t,i=!1){let s=t.sumOfPoints,n=Math.min(Math.max(t.gapRatio,0),1),r=1/(s*(1+n/(1-n))),a=n/(e.length-1),o=0;for(let l=e.length-1;l>=0;l--){let t=i?e.length-1-l:l;if(e[t].visible){let i=r*e[t].y;e[t].yRatio=o,e[t].heightRatio=i,o+=i+a}}}setLabelLocation(e,t,i){let s=i.length-1,n="Funnel"===e.type?i.length-2:i.length-1,r=(i[0].x+i[n].x)/2;t.region=new rx(r,i[0].y,(i[1].x+i[n-1].x)/2-r,i[n].y-i[0].y),t.symbolLocation={x:t.region.x+t.region.width/2,y:t.region.y+t.region.height/2},t.labelOffset={x:t.symbolLocation.x-(i[0].x+i[s].x)/2,y:t.symbolLocation.y-(i[0].y+i[s].y)/2}}findPath(e){let t="M";for(let i=0;i<e.length;i++)t+=e[i].x+" "+e[i].y,i!==e.length-1&&(t+=" L");return t}defaultLabelBound(e,t,i,s){let n=new rx((s.initialClipRect.width-e.triangleSize.width)/2,(s.initialClipRect.height-e.triangleSize.height)/2,e.triangleSize.width,e.triangleSize.height);e.labelBound=new rx(n.x,n.y,n.width+n.x,n.height+n.y),e.accumulationBound=n,t&&"Outside"===i&&(e.labelBound=new rx(1/0,1/0,-1/0,-1/0))}}class fL extends gL{getSegmentData(e,t,i){let s,n,r,a,o,l,h,c,d=t.triangleSize,u=(i.initialClipRect.width-t.triangleSize.width)/2+i.initialClipRect.x,p=i.initialClipRect.y+(i.initialClipRect.height-d.height)/2,m=e.yRatio*d.height,g=m+e.heightRatio*d.height,f=t.neckSize;s=f.width+(d.height-f.height-m)/(d.height-f.height)*(d.width-f.width),n=d.width/2-s/2,a=n+s,s=g>d.height-f.height||d.height===f.height?f.width:f.width+(d.height-f.height-g)/(d.height-f.height)*(d.width-f.width),r=d.width/2-s/2,o=r+s,m>=d.height-f.height?(n=r=l=d.width/2-f.width/2,a=o=h=d.width/2+f.width/2):g>d.height-f.height&&(l=r=d.width/2-s/2,h=o=l+s,c=d.height-f.height),m+=p,g+=p,c+=p;let y={x:u+0+o,y:g},b={x:u+0+r,y:g};c&&(y={x:u+0+h,y:c},b={x:u+0+l,y:c});let v=[{x:u+0+n,y:m},{x:u+0+a,y:m},y,{x:u+0+o,y:g},{x:u+0+r,y:g},b];return this.setLabelLocation(t,e,v),this.findPath(v)}renderPoint(e,t,i,s,n,r){if(!e.visible)return nk(s.id),null;let a=this.getSegmentData(e,t,i);e.midAngle=0,s.d=a,Xk(!1,n,i.renderer.drawPath(s),r),e.isExplode&&i.accBaseModule.explodePoints(e.index,i,!0)}getModuleName(){return"FunnelSeries"}destroy(e){}}class yL extends gL{getSegmentData(e,t,i){let s=t.triangleSize,n=i.initialClipRect.y+(i.initialClipRect.height-s.height)/2,r=(i.initialClipRect.width-t.triangleSize.width)/2+i.initialClipRect.x,a=e.yRatio,o=e.yRatio+e.heightRatio,l=.5*(1-e.yRatio),h=.5*(1-o);a+=n/s.height,o+=n/s.height;let c=[{x:r+0+l*s.width,y:a*s.height},{x:r+0+(1-l)*s.width,y:a*s.height},{x:r+0+(1-h)*s.width,y:o*s.height},{x:r+0+h*s.width,y:o*s.height}];return this.setLabelLocation(t,e,c),this.findPath(c)}initializeSizeRatio(e,t){"Linear"===t.pyramidMode?super.initializeSizeRatio(e,t,!0):this.calculateSurfaceSegments(t)}calculateSurfaceSegments(e){let t=e.points.length,i=e.sumOfPoints,s=[],n=[],r=Math.min(0,Math.max(e.gapRatio,1))/(t-1),a=this.getSurfaceHeight(0,i),o=0;for(let h=0;h<t;h++)e.points[h].visible&&(s[h]=o,n[h]=this.getSurfaceHeight(o,Math.abs(e.points[h].y)),o+=n[h]+r*a);let l=1/(o-r*a);for(let h=0;h<t;h++)e.points[h].visible&&(e.points[h].yRatio=l*s[h],e.points[h].heightRatio=l*n[h])}getSurfaceHeight(e,t){return this.solveQuadraticEquation(1,2*e,-t)}solveQuadraticEquation(e,t,i){let s,n,r=t*t-4*e*i;if(r>=0){let i=Math.sqrt(r);return s=(-t-i)/(2*e),n=(-t+i)/(2*e),Math.max(s,n)}return 0}renderPoint(e,t,i,s,n,r){if(!e.visible)return cx(s.id),null;s.d=this.getSegmentData(e,t,i),e.midAngle=0,Xk(!1,n,i.renderer.drawPath(s),r),e.isExplode&&i.accBaseModule.explodePoints(e.index,i,!0)}getModuleName(){return"PyramidSeries"}destroy(e){}}class bL extends jA{constructor(e){super(e),this.library=this,this.titleRect=new rx(0,e.margin.top,0,0)}getLegendOptions(e,t){this.legendCollections=[];for(let i=0;i<1;i++){let e=t[i].type;"Pie"!==e&&"Doughnut"!==e||(e="0"!==t[i].innerRadius&&"0%"!==t[i].innerRadius?"Doughnut":"Pie");for(let s of t[i].points)Qy(s.x)||Qy(s.y)||this.legendCollections.push(new WA(s.x.toString(),s.color,t[i].legendShape,s.visible,e,null,null,s.index,t[i].index))}}getLegendBounds(e,t,i){let s=0,n=0,r=i.padding;this.isVertical?s=i.width?0:e.width/100*5:n=i.height?0:e.height/100*5,t.width+=s,t.height+=n;let a,o=i.shapePadding,l=0,h=i.shapeWidth,c=0,d=0,u=[],p=0,m=0;this.maxItemHeight=Math.max(ix("MeasureText",i.textStyle).height,i.shapeHeight);let g=!1;for(let y of this.legendCollections)a={fill:y.fill,text:y.text,shape:y.shape,name:"legendRender",cancel:!1},this.chart.trigger("legendRender",a),y.render=!a.cancel,y.text=a.text,y.fill=a.fill,y.shape=a.shape,y.textSize=ix(y.text,i.textStyle),y.render&&""!==y.text&&(g=!0,m=h+o+y.textSize.width+r,this.isVertical?(++d,p=d*(this.maxItemHeight+r)+r,d*(this.maxItemHeight+r)+r>t.height&&(p=Math.max(p,d*(this.maxItemHeight+r)+r),c+=l,u.push(l),this.totalPages=Math.max(d,this.totalPages||1),l=0,d=1),l=Math.max(m,l)):(c+=m,t.width<r+c&&(l=Math.max(l,c+r-m),0===d&&m!==c&&(d=1),c=m,d++,p=d*(this.maxItemHeight+r)+r)));this.isVertical?(c+=l,this.isPaging=t.width<c+r,p=Math.max(p,(this.totalPages||1)*(this.maxItemHeight+r)+r),this.isPaging=this.isPaging&&this.totalPages>1,u[u.length-1]!==l&&u.push(l)):(this.isPaging=t.height<p,this.totalPages=this.totalRowCount=d,p=Math.max(p,this.maxItemHeight+r+r)),this.maxColumns=0;let f=this.isVertical?this.getMaxColumn(u,t.width,r,c+r):Math.max(c+r,l);g?this.setBounds(f,p,i,t):this.setBounds(0,0,i,t)}getMaxColumn(e,t,i,s){let n=i;this.maxColumnWidth=Math.max.apply(null,e);for(let r of e)if(n+=this.maxColumnWidth,this.maxColumns++,n+i>t){n-=this.maxColumnWidth,this.maxColumns--;break}return this.isPaging=n<s&&this.totalPages>1,n===i&&(n=t),this.maxColumns=Math.max(1,this.maxColumns),this.maxWidth=n,n}getAvailWidth(e,t,i){return this.isVertical&&(t=this.maxWidth),t-(2*this.legend.padding+this.legend.shapeWidth+this.legend.shapePadding)}getRenderPoint(e,t,i,s,n,r,a){let o=this.legend.padding;if(this.isVertical)r===a||s.location.y+1.5*this.maxItemHeight+2*o>n.y+n.height?(e.location.x=s.location.x+(r===a?0:this.maxColumnWidth),e.location.y=t.y,this.pageXCollections.push(e.location.x-this.legend.shapeWidth/2-o),this.totalPages++):(e.location.x=s.location.x,e.location.y=s.location.y+this.maxItemHeight+o);else{let l=s.location.x+i+s.textSize.width;l+(e.textSize.width+i)>n.x+n.width+this.legend.shapeWidth/2?(e.location.y=r===a?s.location.y:s.location.y+this.maxItemHeight+o,e.location.x=t.x):(e.location.y=s.location.y,e.location.x=r===a?s.location.x:l),this.totalPages=this.totalRowCount}let l=this.getAvailWidth(e.location.x,this.legendBounds.width,this.legendBounds.x);e.text=oA(+l.toFixed(4),e.text,this.legend.textStyle)}getSmartLegendLocation(e,t,i){let s;switch(this.position){case"Left":s=(e.x-t.width-i.left)/2,t.x=e.x-t.width<i.left?t.x:e.x-t.width-s;break;case"Right":s=(this.chart.availableSize.width-i.right-(e.x+e.width+t.width))/2,t.x=e.x+e.width+t.width>this.chart.availableSize.width-i.right?t.x:e.x+e.width+s;break;case"Top":this.getTitleRect(this.chart),s=(e.y-t.height-(this.titleRect.y+this.titleRect.height))/2,t.y=e.y-t.height<i.top?t.y:e.y-t.height-s;break;case"Bottom":s=(this.chart.availableSize.height-i.bottom-(e.y+e.height+t.height))/2,t.y=e.y+e.height+t.height>this.chart.availableSize.height-i.bottom?t.y:e.y+e.height+s}}getTitleRect(e){if(!e.title)return null;let t=ix(e.title,e.titleStyle);this.titleRect=new rx(e.availableSize.width/2-t.width/2,e.margin.top,t.width,t.height)}legendByIndex(e,t){for(let i of t)if(i.pointIndex===e)return i;return null}click(e){let t=e.target.id,i=this.chart,s=[this.legendID+"_text_",this.legendID+"_shape_",this.legendID+"_shape_marker_"];this.chart.accumulationSelectionModule&&Ky([],this.chart.accumulationSelectionModule.selectedDataIndexes,null,!0),this.chart.animateSeries=!1;for(let n of s)if(t.indexOf(n)>-1){let e=parseInt(t.split(n)[1],10);if(this.chart.legendSettings.toggleVisibility&&!isNaN(e)){let t=this.chart.visibleSeries[0],s=cL(e,t.points),n=this.legendByIndex(e,this.legendCollections);s.visible=!s.visible,n.visible=s.visible,t.sumOfPoints+=s.visible?s.y:-s.y,i.redraw=i.enableAnimation,this.sliceVisibility(e,s.visible),i.removeSvg(),yA(i),this.chart.refreshPoints(t.points),this.chart.renderElements()}else this.chart.accumulationSelectionModule&&!isNaN(e)&&this.chart.accumulationSelectionModule.legendSelection(this.chart,0,e)}t.indexOf(this.legendID+"_pageup")>-1?this.changePage(e,!0):t.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(e,!1),i.redraw=!1}sliceVisibility(e,t){let i=this.chart.element.id+"_Series_0_Point_";this.chart.visibleSeries[0].dataLabel.visible&&(i=this.chart.element.id+"_datalabel_Series_0_",this.sliceAnimate(jk(i+"g_"+e),t))}sliceAnimate(e,t){if(!e)return null;new gw({}).animate(e,{duration:300,delay:0,name:t?"FadeIn":"FadeOut",end:e=>{e.element.style.visibility=t?"visible":"hidden"}})}getModuleName(){return"AccumulationLegend"}destroy(e){}}class vL extends dL{constructor(e){if(super(e),this.id=e.element.id+"_datalabel_Series_",e.title){let t=ix(e.title,e.titleStyle);this.titleRect=new rx(e.availableSize.width/2-t.width/2,e.margin.top,t.width,t.height)}}getDataLabelPosition(e,t,i,s,n,r){let a=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e):this.accumulation.pieSeriesModule.labelRadius:this.getLabelDistance(e,t);this.getLabelRegion(e,t.position,i,a,this.marginValue),e.labelAngle=e.midAngle,e.labelPosition=t.position,this.accumulation.enableSmartLabels&&this.getSmartLabel(e,t,i,s,n,r)}getLabelRegion(e,t,i,s,n,r=0){let a=r||e.midAngle,o=mk(a,s,this.isCircular()?this.center:this.getLabelLocation(e,t));o.y="Inside"===t?o.y-i.height/2:o.y,o.x="Inside"===t?o.x-i.width/2:o.x,e.labelRegion=new rx(o.x,o.y,i.width+2*n,i.height+2*n),"Outside"===t&&(e.labelRegion.y-=e.labelRegion.height/2,a>=90&&a<=270?e.labelRegion.x-=e.labelRegion.width+10:e.labelRegion.x+=10)}getSmartLabel(e,t,i,s,n,r){let a=this.isCircular(),o=a?this.radius:this.getLabelDistance(e,t);o+=lA(a?t.connectorStyle.length||"4%":"0px",o);let l=this.findPreviousPoint(s,e.index,e.labelPosition);var h,c;if("Inside"===t.position?(l&&l.labelRegion&&(eA(e.labelRegion,l.labelRegion)||this.isOverlapping(e,s))||!a&&!((h=e.region).x<=(c=e.labelRegion).x&&h.x+h.width>=c.x+c.width&&h.y<=c.y&&h.height+h.y>=c.y+c.height))&&(e.labelPosition="Outside",a||(o=this.getLabelDistance(e,t)),this.getLabelRegion(e,e.labelPosition,i,o,this.marginValue),l=this.findPreviousPoint(s,e.index,e.labelPosition),l&&(eA(e.labelRegion,l.labelRegion)||this.isConnectorLineOverlapping(e,l))&&this.setOuterSmartLabel(l,e,t.border.width,o,i,this.marginValue)):l&&l.labelRegion&&(eA(e.labelRegion,l.labelRegion)||this.isOverlapping(e,s)||this.isConnectorLineOverlapping(e,l))&&this.setOuterSmartLabel(l,e,t.border.width,o,i,this.marginValue),this.isOverlapping(e,s)&&("Pyramid"===this.accumulation.type||"Funnel"===this.accumulation.type)){let n="OutsideLeft",r=10,o=e.midAngle||0,h=a?this.radius:this.getLabelDistance(e,t),c=mk(o,-h,this.isCircular()?this.center:this.getLabelLocation(e,n));e.labelRegion=new rx(c.x,c.y,i.width+2*this.marginValue,i.height+2*this.marginValue),e.labelRegion.y-=e.labelRegion.height/2,e.labelRegion.x=e.labelRegion.x-r-e.labelRegion.width,l&&l.labelRegion&&(eA(e.labelRegion,l.labelRegion)||this.isOverlapping(e,s)||this.isConnectorLineOverlapping(e,l))&&this.setOuterSmartLabel(l,e,t.border.width,h,i,this.marginValue)}if((this.isOverlapping(e,s)||this.titleRect&&e.labelRegion&&eA(e.labelRegion,this.titleRect))&&this.setPointVisibileFalse(e),this.accumulation.accumulationLegendModule&&e.labelVisible&&e.labelRegion){let i=this.accumulation.accumulationLegendModule.legendBounds,s=this.accumulation.legendSettings.border.width/2;this.textTrimming(e,new rx(i.x-s,i.y-s,i.width+2*s,i.height+2*s),t.font,this.accumulation.accumulationLegendModule.position)}if(e.labelVisible&&e.labelRegion){let i=this.isCircular()?e.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":e.labelRegion.x>=e.region.x?"InsideRight":"InsideLeft";this.textTrimming(e,this.areaRect,t.font,i)}e.labelVisible&&e.labelRegion&&(e.labelRegion.y+e.labelRegion.height>this.areaRect.y+this.areaRect.height||e.labelRegion.y<this.areaRect.y||e.labelRegion.x<this.areaRect.x||e.labelRegion.x+e.labelRegion.width>this.areaRect.x+this.areaRect.width)&&this.setPointVisibileFalse(e)}move(e,t,i,s){if(e.target.textContent.indexOf("...")>-1){let n=e.target.id.split(this.id);if(2===n.length){let e=parseInt(n[1].split("_text_")[0],10),r=parseInt(n[1].split("_text_")[1],10);if(!isNaN(e)&&!isNaN(r)){s&&nk(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip");let n=function(e,t){for(let i of t)if(e===i.index)return i;return t[0]}(e,this.accumulation.visibleSeries).points[r];ak(n.text||n.y.toString(),t,i,this.areaRect.width,this.accumulation.element.id+"_EJ2_Datalabel_Tooltip",jk(this.accumulation.element.id+"_Secondary_Element"))}}}else nk(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip");s&&(clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout(()=>{nk(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip")},1e3))}findPreviousPoint(e,t,i){let s=e[0];for(let n=t-1;n>=0;n--)if(s=e[n],s.visible&&s.labelVisible&&s.labelRegion&&s.labelPosition===i)return s;return null}isOverlapping(e,t){for(let i=e.index-1;i>=0;i--)if(t[i].visible&&t[i].labelVisible&&t[i].labelRegion&&e.labelRegion&&e.labelVisible&&eA(e.labelRegion,t[i].labelRegion))return!0;return!1}textTrimming(e,t,i,s){if(eA(e.labelRegion,t)){let n=e.labelRegion.width;"Right"===s?n=t.x-e.labelRegion.x:"Left"===s?(n=e.labelRegion.x-(t.x+t.width),n<0&&(n+=e.labelRegion.width,e.labelRegion.x=t.x+t.width)):"InsideRight"===s?n=t.x+t.width-e.labelRegion.x:"InsideLeft"===s?(n=e.labelRegion.x+e.labelRegion.width-t.x,n<e.labelRegion.width&&(e.labelRegion.x=t.x)):this.setPointVisibileFalse(e),e.labelVisible&&e.labelRegion&&(n<e.labelRegion.width&&(e.label=oA(n-2*this.marginValue,e.label,i),e.labelRegion.width=n),3===e.label.length&&e.label.indexOf("...")>-1&&this.setPointVisibileFalse(e))}}setPointVisibileFalse(e){e.labelVisible=!1,e.labelRegion=null}setOuterSmartLabel(e,t,i,s,n,r){if(this.isCircular()){let a=this.getOverlappedAngle(e.labelRegion,t.labelRegion,t.midAngle,2*i);for(this.getLabelRegion(t,"Outside",n,s,r,a),a>t.endAngle&&this.setPointVisibileFalse(t),t.labelAngle=a;t.labelVisible&&(eA(e.labelRegion,t.labelRegion)||a<=e.labelAngle||this.isConnectorLineOverlapping(t,e));){if(a>t.endAngle){this.setPointVisibileFalse(t);break}t.labelAngle=a,this.getLabelRegion(t,"Outside",n,s,r,a),a+=.1}}else this.setSmartLabelForSegments(t,e,s,n,r)}setSmartLabelForSegments(e,t,i,s,n){let r=e.labelRegion,a="Funnel"===this.accumulation.type?t.labelRegion.y-(r.y+r.height):e.labelRegion.y-(t.labelRegion.y+t.labelRegion.height);a<0&&(e.labelRegion.y+="Funnel"===this.accumulation.type?a:-a)}isConnectorLineOverlapping(e,t){let i;!this.isCircular()&&e.labelRegion.x<e.region.x&&(i="outsideLeft");let s=this.getLabelLocation(e,i),n=new SA(0,0);this.getEdgeOfLabel(e.labelRegion,e.labelAngle,n,0,e);let r=this.getLabelLocation(t),a=new SA(0,0);return this.getEdgeOfLabel(t.labelRegion,t.labelAngle,a,0,e),this.isLineRectangleIntersect(s,n,e.labelRegion)||this.isLineRectangleIntersect(s,n,t.labelRegion)||this.isLineRectangleIntersect(r,a,e.labelRegion)}isLineRectangleIntersect(e,t,i){let s=[new SA(Math.round(i.x),Math.round(i.y)),new SA(Math.round(i.x+i.width),Math.round(i.y)),new SA(Math.round(i.x+i.width),Math.round(i.y+i.height)),new SA(Math.round(i.x),Math.round(i.y+i.height))];e.x=Math.round(e.x),e.y=Math.round(e.y),t.x=Math.round(t.x),t.y=Math.round(t.y);for(let n=0;n<s.length;n++)if(this.isLinesIntersect(e,t,s[n],s[(n+1)%s.length]))return!0;return!1}isLinesIntersect(e,t,i,s){let n=t.y-e.y,r=e.x-t.x,a=n*e.x+r*e.y,o=s.y-i.y,l=i.x-s.x,h=o*i.x+l*i.y,c=n*l-o*r;if(0!==c){let d=(l*a-r*h)/c,u=(n*h-o*a)/c,p=Math.min(e.x,t.x)<=d&&d<=Math.max(e.x,t.x);return p=p&&Math.min(e.y,t.y)<=u&&u<=Math.max(e.y,t.y),p=p&&Math.min(i.x,s.x)<=d&&d<=Math.max(i.x,s.x),p=p&&Math.min(i.y,s.y)<=u&&u<=Math.max(i.y,s.y),p}return!1}getOverlappedAngle(e,t,i,s){let n=e.x;return i>=90&&i<=270?(t.y=e.y-(s+t.height/2),n=e.x+e.width):t.y=e.y+e.height+s,function(e,t){let i=Math.atan2(t.y-e.y,t.x-e.x);return i=i<0?6.283+i:i,i*(180/Math.PI)}(this.center,new SA(n,t.y))}getConnectorPath(e,t,i,s=0){let n=i.connectorStyle,r=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],t):this.labelRadius:this.getLabelDistance(t,i),a=this.getConnectorStartPoint(t,n),o=s||t.midAngle,l=new SA(0,0),h=this.getEdgeOfLabel(e,o,l,n.width,t);return"Curve"===n.type?this.isCircular()?(l=mk(o,r-(r-(this.isVariousRadius()?lA(t.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius))/2,this.center),"M "+a.x+" "+a.y+" Q "+l.x+" "+l.y+" "+h.x+" "+h.y):this.getPolyLinePath(a,h):"M "+a.x+" "+a.y+" L "+l.x+" "+l.y+" L "+h.x+" "+h.y}getPolyLinePath(e,t){let i=[e,t];if(e.y===t.y)return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y;let s="M";for(let n=0;n<=16;n++){let e=this.getBezierPoint(n/16,i,0,2);s+=e.x+","+e.y,16!==n&&(s+=" L")}return s}getBezierPoint(e,t,i,s){if(1===s)return t[i];let n=this.getBezierPoint(e,t,i,s-1),r=this.getBezierPoint(e,t,i+1,s-1);return{x:(1-e)*n.x+e*r.x,y:(1-e)*n.y+e*r.y}}getEdgeOfLabel(e,t,i,s=1,n){let r=new SA(e.x,e.y);return t>=90&&t<=270?(r.x+=e.width+s/2,r.y+=e.height/2,i.x=r.x+10,i.y=r.y):n&&n.region&&n.region.x>n.labelRegion.x?(r.x+=2*s+e.width,r.y+=e.height/2,i.x=r.x+10,i.y=r.y):(r.x-=s/2,r.y+=e.height/2,i.x=r.x-10,i.y=r.y),r}getLabelDistance(e,t){if(e.labelPosition&&t.position!==e.labelPosition||t.connectorStyle.length){let e=lA(t.connectorStyle.length||"70px",this.accumulation.initialClipRect.width);if(e<this.accumulation.initialClipRect.width)return e}let i,s=(this.accumulation.initialClipRect.width-this.accumulation.visibleSeries[0].triangleSize.width)/2;switch(e.labelPosition||t.position){case"Inside":return 0;case"Outside":return i=e.symbolLocation.x+e.labelOffset.x,this.accumulation.initialClipRect.width-i-s}}getLabelLocation(e,t="Outside"){if("Pie"!==this.accumulation.type){let i={x:e.symbolLocation.x,y:e.symbolLocation.y-e.labelOffset.y};switch(t="OutsideLeft"===t?"OutsideLeft":e.labelPosition||t){case"Inside":i.y=e.region.y+e.region.height/2;break;case"Outside":i.x+=e.labelOffset.x;break;case"OutsideLeft":i.x-=e.labelOffset.x}return i}return mk(e.midAngle,this.isVariousRadius()?lA(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius,this.center)}getConnectorStartPoint(e,t){let i;return!this.isCircular()&&e.region.x>e.labelRegion.x&&(i="OutsideLeft"),this.isCircular()?mk(e.midAngle,(this.isVariousRadius()?lA(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius)-t.width,this.center):this.getLabelLocation(e,i)}findAreaRect(){this.areaRect=new rx(0,0,this.accumulation.availableSize.width,this.accumulation.availableSize.height);let e=this.accumulation.margin;pk(this.areaRect,new CA(e.left,e.right,e.top,e.bottom))}renderDataLabel(e,t,i,s,n,r,a){let o=this.accumulation.element.id+"_datalabel_Series_"+n+"_",l=this.accumulation.renderer.createGroup({id:o+"g_"+e.index});e.label=e.originalText||e.y.toString();let h,c,d={width:t.border.width,color:t.border.color},u=Ky({},Gy("properties",t.font),null,!0),p={cancel:!1,name:"textRender",series:this.accumulation.visibleSeries[0],point:e,text:e.label,border:d,color:t.fill,template:t.template,font:u};this.accumulation.trigger("textRender",p);let m=null!==p.template;e.labelVisible=!p.cancel,e.text=e.label=p.text,Number(e.label)&&(e.label=this.accumulation.intl.formatNumber(+e.label,{useGrouping:this.accumulation.useGroupingSeparator})),this.marginValue=p.border.width?5+p.border.width:1;let g,f,y,b=Sv("div",{id:this.accumulation.element.id+"_Series_0_DataLabel_"+e.index,styles:"position: absolute;background-color:"+p.color+";"+Yk(t.font)+";border:"+p.border.width+"px solid "+p.border.color+";"}),v=m?this.getTemplateSize(b,e,p,a):ix(e.label,t.font);if(v.height+=4,v.width+=4,this.getDataLabelPosition(e,t,v,s,l,o),e.labelVisible){if(h=c=t.angle,this.correctLabelRegion(e.labelRegion,v),m)this.setTemplateStyle(b,e,r,t.font.color,p.color,a);else{f=new SA(e.labelRegion.x+this.marginValue,e.labelRegion.y+3*v.height/4+this.marginValue),y=jk(o+"shape_"+e.index);let i=y?new SA(+y.getAttribute("x"),+y.getAttribute("y")):null;g=this.accumulation.renderer.drawRectangle(new vA(o+"shape_"+e.index,p.color,p.border,1,e.labelRegion,t.rx,t.ry)),Xk(!1,l,g,a,!0,"x","y",i,null,!1,!1,null,this.accumulation.duration);let s,n=v.width,r=v.height;0!==h&&t.enableRotation?(c="Outside"===e.labelPosition?0:e.midAngle>=90&&e.midAngle<=270?e.midAngle+180:e.midAngle,s="rotate("+c+","+(f.x+n/2)+","+(f.y-r/4)+")"):(c=h?h>360?h-360:h<-360?h+360:h:0,s="rotate("+c+","+(f.x+n/2)+","+f.y+")"),e.transform=s,dA(this.accumulation.renderer,new lx(o+"text_"+e.index,f.x,f.y,"start",e.label,s,"auto",c),p.font,p.font.color||this.getSaturatedColor(e,p.color),l,!1,a,!0,!1,this.accumulation.duration),y=null}if(this.accumulation.accumulationLegendModule&&("Outside"===t.position||this.accumulation.enableSmartLabels)&&this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound,e.labelRegion),"Outside"===e.labelPosition){let i=jk(o+"connector_"+e.index),s=i?i.getAttribute("d"):"";Xk(!1,l,this.accumulation.renderer.drawPath(new ux(o+"connector_"+e.index,"transparent",t.connectorStyle.width,t.connectorStyle.color||e.color,1,t.connectorStyle.dashArray,this.getConnectorPath(Ky({},e.labelRegion,null,!0),e,t,e.labelAngle))),a,!0,null,null,null,s,!1,!1,null,this.accumulation.duration)}Xk(!1,i,l,a)}}getTemplateSize(e,t,i,s){let n;return n=qk(e=Wk(e,0,i.template,this.accumulation,t,this.accumulation.visibleSeries[0],this.accumulation.element.id+"_DataLabel"),s),{width:n.width,height:n.height}}setTemplateStyle(e,t,i,s,n,r){if(e.style.left=t.labelRegion.x+"px",e.style.top=t.labelRegion.y+"px",e.style.color=s||this.getSaturatedColor(t,n),this.accumulation.isBlazor){let i=this.isCircular()?t.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":t.labelRegion.x>=t.region.x?"InsideRight":"InsideLeft";e.style.transform="InsideRight"===i?"translate(0%, -50%)":"translate(-100%, -50%)"}e.childElementCount&&(Xk(!1,i,e,r,!0,"left","top"),this.doTemplateAnimation(this.accumulation,e))}getSaturatedColor(e,t){let i;i=this.marginValue>=1?"transparent"===t?this.getLabelBackground(e):t:this.getLabelBackground(e),i="transparent"===i?window.getComputedStyle(document.body,null).backgroundColor:i;let s=sA(nA(i));return Math.round((299*s.r+587*s.g+114*s.b)/1e3)>=128?"black":"white"}doTemplateAnimation(e,t){let i=e.visibleSeries[0],s=i.animation.delay+i.animation.duration;i.animation.enable&&e.animateSeries&&(t.style.visibility="hidden",Bk(t,s,200,"ZoomIn"))}getLabelBackground(e){return"Outside"===e.labelPosition?this.accumulation.background||this.accumulation.themeStyle.background:e.color}correctLabelRegion(e,t,i=4){e.height-=i,e.width-=i,e.x+=i/2,e.y+=i/2,t.height-=i,t.width-=i}getModuleName(){return"AccumulationDataLabel"}destroy(e){}}class wL extends FM{constructor(e){super(e),this.accumulation=e,this.addEventListener()}addEventListener(){this.accumulation.isDestroyed||(this.accumulation.on(Kv.isPointer?"pointerleave":"mouseleave",this.mouseLeaveHandler,this),this.accumulation.on(Kv.touchMoveEvent,this.mouseMoveHandler,this),this.accumulation.on(Kv.touchEndEvent,this.mouseUpHandler,this))}mouseLeaveHandler(e){this.removeTooltip(this.accumulation.tooltip.fadeOutDuration)}mouseUpHandler(e){let t=this.accumulation;t.tooltip.enable&&t.isTouch&&Ek(t.mouseX,t.mouseY,t.initialClipRect)&&(this.tooltip(e),this.removeTooltip(2e3))}mouseMoveHandler(e){let t=this.accumulation;t.tooltip.enable&&Ek(t.mouseX,t.mouseY,t.initialClipRect)&&this.tooltip(e)}tooltip(e){let t=this.getElement(this.element.id+"_tooltip_svg"),i=t&&parseInt(t.getAttribute("opacity"),10)>0,s=this.getTooltipElement(i);this.renderSeriesTooltip(e,this.accumulation,!i,s)}renderSeriesTooltip(e,t,i,s){let n=this.getPieData(e,t,t.mouseX,t.mouseY);if(this.currentPoints=[],!n.point||this.previousPoints[0]&&this.previousPoints[0].point===n.point)!n.point&&this.isRemove&&(this.removeTooltip(this.accumulation.tooltip.fadeOutDuration),this.isRemove=!1);else{if(this.previousPoints[0]&&n.point.index===this.previousPoints[0].point.index&&n.series.index===this.previousPoints[0].series.index)return null;this.pushData(n,i,s,!1)&&this.triggerTooltipRender(n,i,this.getTooltipText(n,t.tooltip),this.findHeader(n))}}triggerTooltipRender(e,t,i,s,n=!0){let r={cancel:!1,name:"tooltipRender",text:i,point:e.point,textStyle:this.textStyle,series:this.accumulation.isBlazor?{}:e.series,headerText:s,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,pointIndex:e.point.index,pointText:e.point.text,seriesName:e.series.name}},a=i=>{i.cancel?(this.removeHighlight(this.control),Rv(this.getElement(this.element.id+"_tooltip"))):(this.formattedText=this.formattedText.concat(i.text),this.text=this.formattedText,this.headerText=i.headerText,this.createTooltip(this.chart,t,e.point.symbolLocation,e.series.clipRect,e.point,["Circle"],0,this.chart.initialClipRect,null,e.point,this.accumulation.tooltip.template?i.template:"")),this.isRemove=!0};a.bind(this,e),this.chart.trigger("tooltipRender",r,a)}getPieData(e,t,i,s){let n=wk(e.target.id,!0);if(!isNaN(n.series)){let e=n.series,i=n.point;if(!(Qy(e)||isNaN(e)||Qy(i)||isNaN(i))){let s=this.getSeriesFromIndex(e,t.visibleSeries);if(s.enableTooltip)return new kA(s.points[i],s)}}return new kA(null,null)}getSeriesFromIndex(e,t){return t[0]}getTooltipText(e,t){let i=this.accumulation.useGroupingSeparator?"${point.x} : <b>${point.separatorY}</b>":"${point.x} : <b>${point.y}</b>";return i=t.format?t.format:i,this.parseTemplate(e.point,e.series,i)}findHeader(e){return""===this.header?"":(this.header=this.parseTemplate(e.point,e.series,this.header),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()?this.header:"")}parseTemplate(e,t,i){let s,n;for(let r of Object.keys(e))s=new RegExp("${point."+r+"}","gm"),i=i.replace(s.source,e[r]);for(let r of Object.keys(Object.getPrototypeOf(t)))s=new RegExp("${series."+r+"}","gm"),n=t[r],i=i.replace(s.source,n);return i}getModuleName(){return"AccumulationTooltip"}destroy(e){}}class xL extends jM{constructor(e){super(e),this.renderer=e.renderer}initPrivateVariables(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.rectPoints=null}invokeSelection(e){this.initPrivateVariables(e),this.series=Ky({},e.visibleSeries,null,!0),this.seriesStyles(),this.selectDataIndex(this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes),e)}generateStyle(e){return e.selectionStyle||this.styleId+"_series_"+e.index}findElements(e,t,i){return[this.getElementByIndex(i)]}getElementByIndex(e){return document.getElementById(this.control.element.id+"_Series_"+e.series+"_Point_"+e.point)}calculateSelectedElements(e,t){-1!==t.target.id.indexOf(e.element.id+"_")&&(t.target.id.indexOf("_Series_")>-1||t.target.id.indexOf("_datalabel_")>-1)&&this.performSelection(wk(t.target.id),e,t.target)}performSelection(e,t,i){switch(i=i.id.indexOf("datalabel")>-1?t.getSeriesElement().childNodes[e.series].childNodes[e.point]:i,t.selectionMode){case"Point":isNaN(e.point)||(this.selection(t,e,[i]),this.blurEffect(t.element.id,t.visibleSeries))}}selection(e,t,i){e.isMultiSelect||this.removeMultiSelectEelments(e,this.selectedDataIndexes,t,e.series);let s=i[0]&&(i[0].getAttribute("class")||"");if(i[0]&&s.indexOf(this.getSelectionClass(i[0].id))>-1){if(this.removeStyles(i,t),this.addOrRemoveIndex(this.selectedDataIndexes,t),e.enableBorderOnMouseMove){let e=document.getElementById(i[0].id.split("_")[0]+"PointHover_Border");Qy(e)||this.removeSvgClass(e,e.getAttribute("class"))}}else{if(this.applyStyles(i,t),e.enableBorderOnMouseMove){let e=document.getElementById(i[0].id.split("_")[0]+"PointHover_Border");Qy(e)||this.addSvgClass(e,i[0].getAttribute("class"))}this.addOrRemoveIndex(this.selectedDataIndexes,t,!0)}}redrawSelection(e,t){let i=Ky([],this.selectedDataIndexes,null,!0);this.removeSelectedElements(e,this.selectedDataIndexes),this.blurEffect(e.element.id,e.visibleSeries),this.selectDataIndex(i,e)}removeSelectedElements(e,t){e.getSeriesElement();for(let i of t)this.removeStyles([this.getElementByIndex(i)],i)}legendSelection(e,t,i){e.getSeriesElement(),this.generateStyle(e.visibleSeries[t]);let s=e.getSeriesElement().childNodes[t].childNodes[i];this.selection(e,new ID(t,i),[s]),this.blurEffect(e.element.id,e.visibleSeries)}selectDataIndex(e,t){let i;for(let s of e)i=this.getElementByIndex(s),i&&this.performSelection(s,t,i)}removeMultiSelectEelments(e,t,i,s){let n;for(let r=0;r<t.length;r++)n=s[t[r].series],this.checkEquals(t[r],i)||(this.removeStyles(this.findElements(e,n,t[r]),t[r]),t.splice(r,1),r--)}blurEffect(e,t){let i=this.checkPointVisibility(this.selectedDataIndexes);for(let s of t)s.visible&&this.checkSelectionElements(document.getElementById(e+"_SeriesCollection"),this.generateStyle(s),i)}checkSelectionElements(e,t,i){let s,n,r,a=e.childNodes[0].childNodes;for(let o=0;o<a.length;o++)n=a[o].getAttribute("class")||"",r=a[o].parentNode.getAttribute("class")||"",-1===n.indexOf(t)&&-1===r.indexOf(t)&&i?this.addSvgClass(a[o],this.unselected):this.removeSvgClass(a[o],this.unselected),this.control.accumulationLegendModule&&this.control.legendSettings.visible&&(s=document.getElementById(this.control.element.id+"_chart_legend_shape_"+o),s&&(-1===n.indexOf(t)&&-1===r.indexOf(t)&&i?this.addSvgClass(s,this.unselected):this.removeSvgClass(s,this.unselected)))}applyStyles(e,t){for(let i of e){let e;i&&(this.control.accumulationLegendModule&&this.control.legendSettings.visible&&(e=document.getElementById(this.control.element.id+"_chart_legend_shape_"+t.point),this.removeSvgClass(e,this.unselected),this.addSvgClass(e,this.getSelectionClass(e.id))),this.removeSvgClass(i.parentNode,this.unselected),this.removeSvgClass(i,this.unselected),this.addSvgClass(i,this.getSelectionClass(i.id)))}}getSelectionClass(e){return this.generateStyle(this.control.series[wk(e).series])}removeStyles(e,t){let i;for(let s of e)s&&(this.control.accumulationLegendModule&&this.control.legendSettings.visible&&(i=document.getElementById(this.control.element.id+"_chart_legend_shape_"+t.point),this.removeSvgClass(i,this.getSelectionClass(i.id))),this.removeSvgClass(s,this.getSelectionClass(s.id)))}addOrRemoveIndex(e,t,i){for(let s=0;s<e.length;s++)this.checkEquals(e[s],t)&&(e.splice(s,1),s--);i&&e.push(t)}checkEquals(e,t){return e.point===t.point&&e.series===t.series}checkPointVisibility(e){let t=!1;for(let i of e)if(cL(i.point,this.control.visibleSeries[0].points).visible){t=!0;break}return t}getModuleName(){return"AccumulationSelection"}destroy(e){}}class _L extends ZM{constructor(e){super(e),this.pie=e}renderAnnotations(e){this.annotations=this.pie.annotations;let t=this.pie.redraw;this.parentElement=hA(t,this.pie.element.id+"_Annotation_Collections")||Sv("div",{id:this.pie.element.id+"_Annotation_Collections"}),this.annotations.map((e,t)=>{this.processAnnotation(e,t,this.parentElement)}),Gk(this.parentElement,e,t)}getModuleName(){return"Annotation"}destroy(e){}}var SL,CL,EL;!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.tooltipLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(SL||(SL={}));class DL{constructor(e){this.control={},this.rootControl=e}setControlValues(e){"rangeNavigator"===e.getModuleName()?(this.control.periods=this.rootControl.periodSelectorSettings.periods,this.control.seriesXMax=e.chartSeries.xMax,this.control.seriesXMin=e.chartSeries.xMin,this.control.rangeSlider=e.rangeSlider,this.control.rangeNavigatorControl=e,this.control.endValue=e.endValue,this.control.startValue=e.startValue):(this.control.periods=this.rootControl.periods,this.control.endValue=this.control.seriesXMax=e.seriesXMax,this.control.startValue=this.control.seriesXMin=e.seriesXMin,this.control.rangeNavigatorControl=this.rootControl.rangeNavigator,this.control.rangeNavigatorControl&&(this.control.rangeSlider=this.rootControl.rangeNavigator.rangeSlider)),this.control.element=e.element,this.control.disableRangeSelector=e.disableRangeSelector}appendSelector(e,t=0){this.renderSelectorElement(null,e,t),this.renderSelector()}renderSelectorElement(e,t,i){let s,n;this.periodSelectorSize=e?this.periodSelectorSize:new rx(i,this.rootControl.titleSize.height,t.width,t.height),e?(s=e.themeStyle.thumbWidth,n=e.element):(s=t.thumbSize,n=t.element),jk(n.id+"_Secondary_Element")&&Rv(jk(n.id+"_Secondary_Element")),this.periodSelectorDiv=Sv("div",{id:n.id+"_Secondary_Element",styles:"width: "+(this.periodSelectorSize.width-s)+"px;height: "+this.periodSelectorSize.height+"px;top:"+this.periodSelectorSize.y+"px;left:"+(this.periodSelectorSize.x+s/2)+"px; position: absolute"}),n.appendChild(this.periodSelectorDiv)}renderSelector(){this.setControlValues(this.rootControl);let e=!0,t=this.control.element.id,i=Sv("div",{id:t+"_selector"});this.periodSelectorDiv.appendChild(i);let s,n=this.control.periods,r=this.updateCustomElement(),a="text-transform: none; text-overflow: unset";for(let o=0;o<n.length;o++)r.push({align:"Left",text:n[o].text});"stockChart"===this.rootControl.getModuleName()&&(e=this.rootControl.enableCustomRange),e&&(this.calendarId=t+"_calendar",r.push({template:"<button id="+this.calendarId+"></button>",align:"Right"})),s={selector:r,name:"RangeSelector",cancel:!1,enableCustomFormat:!0,content:"Date Range"},"stockChart"===this.rootControl.getModuleName()&&(r.push({template:Sv("button",{id:t+"_reset",innerHTML:"Reset",styles:a,className:"e-dropdown-btn e-btn"}),align:"Right"}),this.rootControl.exportType.indexOf("Print")>-1&&r.push({template:Sv("button",{id:t+"_print",innerHTML:"Print",styles:a,className:"e-dropdown-btn e-btn"}),align:"Right"}),this.rootControl.exportType.length&&r.push({template:Sv("button",{id:t+"_export",innerHTML:"Export",styles:a,className:"e-dropdown-btn e-btn"}),align:"Right"})),this.rootControl.trigger("selectorRender",s),this.toolbar=new tD({items:s.selector,height:this.periodSelectorSize.height,clicked:e=>{this.buttonClick(e,this.control)},created:()=>{this.nodes=this.toolbar.element.querySelectorAll(".e-toolbar-left")[0],Qy(this.selectedIndex)&&n.map((e,t)=>{e.selected&&(this.control.startValue=this.changedRange(e.intervalType,this.control.endValue,e.interval).getTime(),this.selectedIndex=this.nodes.childNodes.length-n.length+t)}),this.setSelectedStyle(this.selectedIndex)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(i),this.triggerChange=!0,e&&(this.datePicker=new SD({min:new Date(this.control.seriesXMin),max:new Date(this.control.seriesXMax),format:"dd'/'MM'/'yyyy",placeholder:"Select a range",showClearButton:!1,startDate:new Date(this.control.startValue),endDate:new Date(this.control.endValue),created:e=>{if(s.enableCustomFormat){let e=document.getElementsByClassName("e-date-range-wrapper")[0];e.style.display="none",e.insertAdjacentElement("afterend",Sv("div",{id:"customRange",innerHTML:s.content,className:"e-btn e-dropdown-btn",styles:'font-family: "Segoe UI"; font-size: 14px; font-weight: 500; text-transform: none '})),jk("customRange").insertAdjacentElement("afterbegin",Sv("span",{id:"dateIcon",className:"e-input-group-icon e-range-icon e-btn-icon e-icons",styles:"font-size: 16px; min-height: 0px; margin: -3px 0 0 0; outline: none; min-width: 30px"})),document.getElementById("customRange").onclick=()=>{this.datePicker.show(jk("customRange"))}}},change:e=>{if(this.triggerChange&&(this.control.rangeSlider&&e.event?this.control.rangeSlider.performAnimation(e.startDate.getTime(),e.endDate.getTime(),this.control.rangeNavigatorControl):e.event&&this.rootControl.rangeChanged(e.startDate.getTime(),e.endDate.getTime()),this.nodes=this.toolbar.element.querySelectorAll(".e-toolbar-left")[0],!this.rootControl.resizeTo&&this.control.rangeSlider&&this.control.rangeSlider.isDrag))for(let t=0,i=this.nodes.childNodes.length;t<i;t++)this.nodes.childNodes[t].childNodes[0].classList.remove("e-active"),this.nodes.childNodes[t].childNodes[0].classList.remove("e-active")}}),this.datePicker.appendTo("#"+this.calendarId))}updateCustomElement(){let e=[],t=this.rootControl.element.id,i="text-transform: none; text-overflow: unset";return"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.seriesType.length&&e.push({template:Sv("button",{id:t+"_seriesType",innerHTML:"Series",styles:i}),align:"Left"}),this.rootControl.indicatorType.length&&e.push({template:Sv("button",{id:t+"_indicatorType",innerHTML:"Indicators",styles:i}),align:"Left"}),this.rootControl.trendlineType.length&&e.push({template:Sv("button",{id:t+"_trendType",innerHTML:"Trendline",styles:i}),align:"Left"})),e}setSelectedStyle(e){if(this.control.disableRangeSelector||"stockChart"===this.rootControl.getModuleName()){for(let e=0,t=this.nodes.childNodes.length;e<t;e++)this.nodes.childNodes[e].childNodes[0].classList.remove("e-active"),this.nodes.childNodes[e].childNodes[0].classList.remove("e-active");this.nodes.childNodes[e].childNodes[0].classList.add("e-flat"),this.nodes.childNodes[e].childNodes[0].classList.add("e-active")}}buttonClick(e,t){let i,s,n=e.item,r=this.control.rangeSlider,a=this.control.periods,o=a.filter(e=>e.text===n.text);a.map((t,i)=>{t.text===e.item.text&&(this.selectedIndex=this.nodes.childNodes.length-a.length+i)}),""!==e.item.text&&this.setSelectedStyle(this.selectedIndex),"all"===n.text.toLowerCase()?(i=t.seriesXMin,s=t.seriesXMax,r?r.performAnimation(i,s,this.control.rangeNavigatorControl):this.rootControl.rangeChanged(i,s)):"ytd"===n.text.toLowerCase()?r?(i=new Date(new Date(r.currentEnd).getFullYear().toString()).getTime(),s=r.currentEnd,r.performAnimation(i,s,this.control.rangeNavigatorControl)):(i=new Date(new Date(this.rootControl.currentEnd).getFullYear().toString()).getTime(),s=this.rootControl.currentEnd,this.rootControl.rangeChanged(i,s)):""!==n.text.toLowerCase()&&(r?(i=this.changedRange(o[0].intervalType,r.currentEnd,o[0].interval).getTime(),s=r.currentEnd,r.performAnimation(i,s,this.control.rangeNavigatorControl)):(i=this.changedRange(o[0].intervalType,this.rootControl.currentEnd,o[0].interval).getTime(),s=this.rootControl.currentEnd,this.rootControl.rangeChanged(i,s))),"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.zoomChange=!1),jk(this.calendarId+"_popup")&&!Kv.isDevice&&(jk(this.calendarId+"_popup").querySelectorAll(".e-range-header")[0].style.display="none")}changedRange(e,t,i){let s=new Date(t);switch(e){case"Quarter":s.setMonth(s.getMonth()-3*i);break;case"Months":s.setMonth(s.getMonth()-i);break;case"Weeks":s.setDate(s.getDate()-7*i);break;case"Days":s.setDate(s.getDate()-i);break;case"Hours":s.setHours(s.getHours()-i);break;case"Minutes":s.setMinutes(s.getMinutes()-i);break;case"Seconds":s.setSeconds(s.getSeconds()-i);break;default:s.setFullYear(s.getFullYear()-i)}return s}getModuleName(){return"PeriodSelector"}destroy(){}}class kL{constructor(e){this.control=e,this.elementId=e.element.id}renderLeftTooltip(e){this.fadeOutTooltip();let t=this.getTooltipContent(e.currentStart),i=this.getContentSize(t),s=this.control.enableRtl?e.rightRect:e.leftRect;i>s.width&&(s=e.midRect),this.leftTooltip=this.renderTooltip(s,this.createElement("_leftTooltip"),e.startX,t)}getContentSize(e){let t,i=this.control.tooltip.textStyle;return t=this.control.tooltip.template?Wk(Sv("div",{id:"measureElement",styles:"position: absolute;"}),0,this.control.tooltip.template,this.control).getBoundingClientRect().width:ix(e[0],i).width+20,t}renderRightTooltip(e){this.fadeOutTooltip();let t=this.getTooltipContent(e.currentEnd),i=this.getContentSize(t),s=this.control.enableRtl?e.leftRect:e.rightRect;i>s.width&&(s=e.midRect,s.x=this.control.series.length?0:s.x),this.rightTooltip=this.renderTooltip(s,this.createElement("_rightTooltip"),e.endX,t)}createElement(e){if(jk(this.elementId+e))return jk(this.elementId+e);{let t=document.createElement("div");if(t.id=this.elementId+e,t.className="ejSVGTooltip",t.setAttribute("style","pointer-events:none; position:absolute;z-index: 1"),this.control.stockChart){let e=this.control.stockChart;jk(e.element.id+"_Secondary_Element").appendChild(t),t.style.transform="translateY("+(e.availableSize.height-e.toolbarHeight-80+e.toolbarHeight+e.titleSize.height)+"px)"}else jk(this.elementId+"_Secondary_Element").appendChild(t);return t}}renderTooltip(e,t,i,s){let n=this.control,r=n.tooltip,a={cancel:!1,name:"tooltipRender",text:s,textStyle:r.textStyle};this.control.trigger("tooltipRender",a);let o=n.svgObject.getBoundingClientRect().left-n.element.getBoundingClientRect().left;return a.cancel?null:new bx({location:{x:i,y:n.rangeSlider.sliderY},content:a.text,marginX:2,enableShadow:!1,marginY:2,arrowPadding:8,rx:0,ry:0,inverted:n.series.length>0,areaBounds:e,fill:r.fill,theme:this.control.theme,clipBounds:{x:o},border:r.border,opacity:r.opacity,template:r.template,textStyle:a.textStyle,availableSize:n.availableSize,data:{start:this.getTooltipContent(this.control.startValue)[0],end:this.getTooltipContent(this.control.endValue)[0],value:s[0]}},t)}getTooltipContent(e){let t,i=this.control,s=i.chartSeries.xAxis,n=i.tooltip.format||s.labelFormat,r=null!==n.match("{value}"),a=s.valueType;return"DateTime"===a?t=i.intl.getDateFormat({format:n||"MM/dd/yyyy",type:Mk(i.skeletonType),skeleton:i.dateTimeModule.getSkeleton(s,null,null,i.isBlazor)})(new Date(e)):(s.format=i.intl.getNumberFormat({format:r?"":n,useGrouping:i.useGroupingSeparator}),t=i.doubleModule.formatValue(s,r,n,"Logarithmic"===a?Math.pow(s.logBase,e):e)),[t]}fadeOutTooltip(){"OnDemand"===this.control.tooltip.displayMode&&(Qk(this.toolTipInterval),this.rightTooltip&&(this.toolTipInterval=setTimeout(()=>{this.leftTooltip.fadeOut(),this.rightTooltip.fadeOut()},1e3)))}getModuleName(){return"RangeTooltip"}destroy(e){}}!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"},e.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.dataLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.titleFont={size:"15px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"},e.subTitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"}}(CL||(CL={})),function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.smithchartTitleFont={size:"15px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.smithchartSubtitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"}}(EL||(EL={}));class AL{}class ML{}let LL=["animation","border","dataLabel","dataSource","emptyPointSettings","enableTooltip","endAngle","explode","explodeAll","explodeIndex","explodeOffset","gapRatio","groupMode","groupTo","height","innerRadius","legendShape","name","neckHeight","neckWidth","opacity","palettes","pointColorMapping","pyramidMode","query","radius","selectionStyle","startAngle","tooltipMappingName","type","visible","width","xName","yName"],TL=[],RL=(()=>{class e extends Gw{constructor(e){super(),this.viewContainerRef=e,Uw("currentInstance",this,this.viewContainerRef),this.registerEvents(TL),this.directivePropList=LL}}return Wy([Kw(),Yy("design:type",Object)],e.prototype,"dataLabel_template",void 0),e})();class PL extends Xw{constructor(){super("series")}}const IL=["animationComplete","annotationRender","beforePrint","chartMouseClick","chartMouseDown","chartMouseLeave","chartMouseMove","chartMouseUp","legendRender","load","loaded","pointClick","pointMove","pointRender","resized","seriesRender","textRender","tooltipRender","dataSourceChange"],OL=["dataSource"];let NL=(()=>{let e=class extends mL{constructor(e,t,i,s){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=s,this.tags=["series","annotations"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let e=this.injector.get("ChartsPieSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(fR){}try{let e=this.injector.get("ChartsFunnelSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(n){}try{let e=this.injector.get("ChartsPyramidSeries");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(r){}try{let e=this.injector.get("ChartsAccumulationTooltip");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(a){}try{let e=this.injector.get("ChartsAccumulationLegend");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(o){}try{let e=this.injector.get("ChartsAccumulationSelection");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(l){}try{let e=this.injector.get("ChartsAccumulationDataLabel");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(h){}try{let e=this.injector.get("ChartsAccumulationAnnotation");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(c){}try{let e=this.injector.get("ChartsExport");-1===this.injectedModules.indexOf(e)&&this.injectedModules.push(e)}catch(d){}this.registerEvents(IL),this.addTwoWay.call(this,OL),Uw("currentInstance",this,this.viewContainerRef),this.context=new Zw}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childSeries,this.childAnnotations&&(this.tagObjects[1].instance=this.childAnnotations),this.context.ngAfterContentChecked(this)}};return Wy([Kw(),Yy("design:type",Object)],e.prototype,"tooltip_template",void 0),e=Wy([(t=[Zw],function(e){!function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(i){e.prototype.hasOwnProperty(i)&&!t.isFormBase||(e.prototype[i]=t.prototype[i])}))}))}(e,t)}),Yy("design:paramtypes",[Zt,ei,xi,St])],e),e;var t})();class VL{}class FL{}class BL{}class zL{}var HL=Fi({encapsulation:2,styles:[],data:{}});function jL(e){return zr(2,[],null,null)}var WL=Fi({encapsulation:0,styles:[["p[_ngcontent-%COMP%]{font-family:Lato}.sidebar[_ngcontent-%COMP%]{background:#efefef;padding:10px}.page[_ngcontent-%COMP%]{width:100%;height:100vh;overflow:hidden}mat-checkbox[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{display:block;width:100%}mat-checkbox[_ngcontent-%COMP%]{margin-bottom:10px}.button[_ngcontent-%COMP%]{margin:3px}"]],data:{}});function YL(e){return zr(0,[(e()(),Cr(0,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"]],(function(e,t,i){var s=!0,n=e.component;return"ngModelChange"===t&&(s=!1!==(e.context.$implicit.value=i)&&s),"change"===t&&(s=!1!==n.onChangeCheckedInsight(i)&&s),s}),Qf,Kf)),Gs(1,8568832,null,0,Xf,[Zt,vt,Ph,qn,[8,null],[2,jf],[2,zg]],{name:[0,"name"]},{change:"change"}),Zs(1024,null,su,(function(e){return[e]}),[Xf]),Gs(3,671744,null,0,Xu,[[8,null],[8,null],[8,null],[6,su]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Zs(2048,null,ou,null,[Xu]),Gs(5,16384,null,0,hu,[[4,ou]],null,null),(e()(),Vr(6,0,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.key),e(t,3,0,t.context.$implicit.key,t.context.$implicit.value)}),(function(e,t){e(t,0,1,[Is(t,1).id,null,Is(t,1).indeterminate,Is(t,1).checked,Is(t,1).disabled,"before"==Is(t,1).labelPosition,"NoopAnimations"===Is(t,1)._animationMode,Is(t,5).ngClassUntouched,Is(t,5).ngClassTouched,Is(t,5).ngClassPristine,Is(t,5).ngClassDirty,Is(t,5).ngClassValid,Is(t,5).ngClassInvalid,Is(t,5).ngClassPending]),e(t,6,0,t.context.$implicit.key)}))}function qL(e){return zr(0,[Mr(671088640,1,{htmlTextArea:0}),Mr(402653184,2,{pie:0}),(e()(),Cr(2,0,null,null,68,"mat-drawer-container",[["class","example-container mat-drawer-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,uy,hy)),Gs(3,1490944,null,2,sy,[[2,Ld],Zt,qn,vt,id,ey,[2,zg]],null,null),Mr(603979776,3,{_drawers:1}),Mr(603979776,4,{_content:0}),(e()(),Cr(6,0,null,0,44,"mat-drawer",[["class","sidebar mat-drawer"],["mode","side"],["opened",""],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(e,t,i){var s=!0;return"component:@transform.start"===t&&(s=!1!==Is(e,7)._animationStartListener(i)&&s),"component:@transform.done"===t&&(s=!1!==Is(e,7)._animationDoneListener(i)&&s),s}),ly,oy)),Gs(7,3325952,[[3,4]],0,iy,[Zt,Dh,Ph,jl,qn,[2,Lo]],{mode:[0,"mode"],opened:[1,"opened"]},null),(e()(),Cr(8,0,null,0,1,"h2",[],null,null,null,null,null)),(e()(),Vr(-1,null,["Configuration"])),(e()(),Cr(10,0,null,0,1,"h3",[],null,null,null,null,null)),(e()(),Vr(11,null,[""," Targets"])),(e()(),Cr(12,0,null,0,32,"form",[["class","settings"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,i){var s=!0;return"submit"===t&&(s=!1!==Is(e,14).onSubmit(i)&&s),"reset"===t&&(s=!1!==Is(e,14).onReset()&&s),s}),null,null)),Gs(13,16384,null,0,Zu,[],null,null),Gs(14,4210688,null,0,ju,[[8,null],[8,null]],null,null),Zs(2048,null,ru,null,[ju]),Gs(16,16384,null,0,cu,[[4,ru]],null,null),(e()(),Cr(17,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Py,xy)),Gs(18,7520256,null,9,vy,[Zt,vt,[2,vc],[2,Ld],[2,by],jl,qn,[2,zg]],null,null),Mr(603979776,5,{_controlNonStatic:0}),Mr(335544320,6,{_controlStatic:0}),Mr(603979776,7,{_labelChildNonStatic:0}),Mr(335544320,8,{_labelChildStatic:0}),Mr(603979776,9,{_placeholderChild:0}),Mr(603979776,10,{_errorChildren:1}),Mr(603979776,11,{_hintChildren:1}),Mr(603979776,12,{_prefixChildren:1}),Mr(603979776,13,{_suffixChildren:1}),(e()(),Cr(28,0,[[1,0],["htmlTextArea",1]],1,2,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Html element of client"],["style","height: 100px;"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keydown.enter"],[null,"blur"],[null,"focus"],[null,"input"]],(function(e,t,i){var s=!0,n=e.component;return"blur"===t&&(s=!1!==Is(e,29)._focusChanged(!1)&&s),"focus"===t&&(s=!1!==Is(e,29)._focusChanged(!0)&&s),"input"===t&&(s=!1!==Is(e,29)._onInput()&&s),"keydown.enter"===t&&(s=!1!==n.onAddClientHtml(i)&&s),s}),null,null)),Gs(29,999424,null,0,Hy,[Zt,jl,[8,null],[2,ju],[2,Ku],sc,[8,null],Oy,qn],{placeholder:[0,"placeholder"]},null),Zs(2048,[[5,4],[6,4]],py,null,[Hy]),(e()(),Cr(31,0,null,null,13,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Py,xy)),Gs(32,7520256,null,9,vy,[Zt,vt,[2,vc],[2,Ld],[2,by],jl,qn,[2,zg]],null,null),Mr(603979776,14,{_controlNonStatic:0}),Mr(335544320,15,{_controlStatic:0}),Mr(603979776,16,{_labelChildNonStatic:0}),Mr(335544320,17,{_labelChildStatic:0}),Mr(603979776,18,{_placeholderChild:0}),Mr(603979776,19,{_errorChildren:1}),Mr(603979776,20,{_hintChildren:1}),Mr(603979776,21,{_prefixChildren:1}),Mr(603979776,22,{_suffixChildren:1}),(e()(),Cr(42,0,null,1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Min duplicate insight"],["step","1"],["type","number"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keydown.enter"],[null,"blur"],[null,"focus"],[null,"input"]],(function(e,t,i){var s=!0,n=e.component;return"blur"===t&&(s=!1!==Is(e,43)._focusChanged(!1)&&s),"focus"===t&&(s=!1!==Is(e,43)._focusChanged(!0)&&s),"input"===t&&(s=!1!==Is(e,43)._onInput()&&s),"keydown.enter"===t&&(s=!1!==n.onChangeMinDuplicateInsight(i)&&s),s}),null,null)),Gs(43,999424,null,0,Hy,[Zt,jl,[8,null],[2,ju],[2,Ku],sc,[8,null],Oy,qn],{placeholder:[0,"placeholder"],type:[1,"type"]},null),Zs(2048,[[14,4],[15,4]],py,null,[Hy]),(e()(),Cr(45,0,null,0,2,"button",[["class","button"],["color","warn"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,i){var s=!0;return"click"===t&&(s=!1!==e.component.onReset()&&s),s}),Wg,jg)),Gs(46,180224,null,0,kp,[Zt,Ph,[2,zg]],{color:[0,"color"]},null),(e()(),Vr(-1,0,["Reset"])),(e()(),Cr(48,0,null,0,2,"button",[["class","button"],["color","primary"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,t,i){var s=!0;return"click"===t&&(s=!1!==e.component.onToggle()&&s),s}),Wg,jg)),Gs(49,180224,null,0,kp,[Zt,Ph,[2,zg]],{color:[0,"color"]},null),(e()(),Vr(-1,0,["Configure Insights"])),(e()(),Cr(51,0,null,1,12,"mat-drawer-content",[["class","mat-drawer-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,ay,ry)),Gs(52,1294336,[[4,4]],0,ty,[vt,sy,Zt,ed,qn],null,null),(e()(),Cr(53,16777216,null,0,10,"ejs-accumulationchart",[["id","container"],["style","display:block; height: 100vh;"]],null,[[null,"load"]],(function(e,t,i){var s=!0;return"load"===t&&(s=!1!==e.component.load(i)&&s),s}),jL,HL)),Gs(54,6537216,[[2,4],["pie",4]],3,NL,[Zt,ei,xi,St],{center:[0,"center"],enableAnimation:[1,"enableAnimation"],legendSettings:[2,"legendSettings"],title:[3,"title"],tooltip:[4,"tooltip"]},{load:"load"}),Mr(335544320,23,{childSeries:0}),Mr(335544320,24,{childAnnotations:0}),Mr(335544320,25,{tooltip_template:0}),(e()(),Cr(58,0,null,null,5,"e-accumulation-series-collection",[],null,null,null,null,null)),Gs(59,7421952,[[23,4]],1,PL,[],null,null),Mr(603979776,26,{children:1}),(e()(),Cr(61,16777216,null,null,2,"e-accumulation-series",[["explodeOffset","10%"],["innerRadius","0%"],["name","Browser"],["radius","70%"],["xName","x"],["yName","y"]],null,null,null,null,null)),Gs(62,11091968,[[26,4]],1,RL,[xi],{dataLabel:[0,"dataLabel"],dataSource:[1,"dataSource"],endAngle:[2,"endAngle"],explode:[3,"explode"],explodeIndex:[4,"explodeIndex"],explodeOffset:[5,"explodeOffset"],innerRadius:[6,"innerRadius"],name:[7,"name"],radius:[8,"radius"],startAngle:[9,"startAngle"],xName:[10,"xName"],yName:[11,"yName"]},null),Mr(335544320,27,{dataLabel_template:0}),(e()(),Cr(64,0,null,0,6,"mat-drawer",[["class","sidebar mat-drawer"],["mode","side"],["position","end"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(e,t,i){var s=!0;return"component:@transform.start"===t&&(s=!1!==Is(e,65)._animationStartListener(i)&&s),"component:@transform.done"===t&&(s=!1!==Is(e,65)._animationDoneListener(i)&&s),s}),ly,oy)),Gs(65,3325952,[[3,4]],0,iy,[Zt,Dh,Ph,jl,qn,[2,Lo]],{position:[0,"position"],mode:[1,"mode"],opened:[2,"opened"]},null),(e()(),Cr(66,0,null,0,1,"h2",[],null,null,null,null,null)),(e()(),Vr(-1,null,["INSIGHTS"])),(e()(),Sr(16777216,null,0,2,null,YL)),Gs(69,278528,null,0,mo,[xi,vi,mi],{ngForOf:[0,"ngForOf"]},null),Xs(0,ko,[gi])],(function(e,t){var i=t.component;e(t,3,0),e(t,7,0,"side",""),e(t,29,0,"Html element of client"),e(t,43,0,"Min duplicate insight","number"),e(t,46,0,"warn"),e(t,49,0,"primary"),e(t,52,0),e(t,54,0,i.center,i.enableAnimation,i.legendSettings,i.title,i.tooltip),e(t,59,0),e(t,62,1,[i.dataLabel,i.data,i.endAngle,i.explode,0,"10%","0%","Browser","70%",i.startAngle,"x","y"]),e(t,65,0,"end","side",i.isOpenRightSide),e(t,69,0,Vi(t,69,0,Is(t,70).transform(i.insights)))}),(function(e,t){var i=t.component;e(t,2,0,Is(t,3)._backdropOverride),e(t,6,0,null,"end"===Is(t,7).position,"over"===Is(t,7).mode,"push"===Is(t,7).mode,"side"===Is(t,7).mode,Is(t,7).opened,Is(t,7)._animationState),e(t,11,0,i.dataInFaceBook.length),e(t,12,0,Is(t,16).ngClassUntouched,Is(t,16).ngClassTouched,Is(t,16).ngClassPristine,Is(t,16).ngClassDirty,Is(t,16).ngClassValid,Is(t,16).ngClassInvalid,Is(t,16).ngClassPending),e(t,17,1,["standard"==Is(t,18).appearance,"fill"==Is(t,18).appearance,"outline"==Is(t,18).appearance,"legacy"==Is(t,18).appearance,Is(t,18)._control.errorState,Is(t,18)._canLabelFloat,Is(t,18)._shouldLabelFloat(),Is(t,18)._hasFloatingLabel(),Is(t,18)._hideControlPlaceholder(),Is(t,18)._control.disabled,Is(t,18)._control.autofilled,Is(t,18)._control.focused,"accent"==Is(t,18).color,"warn"==Is(t,18).color,Is(t,18)._shouldForward("untouched"),Is(t,18)._shouldForward("touched"),Is(t,18)._shouldForward("pristine"),Is(t,18)._shouldForward("dirty"),Is(t,18)._shouldForward("valid"),Is(t,18)._shouldForward("invalid"),Is(t,18)._shouldForward("pending"),!Is(t,18)._animationsEnabled]),e(t,28,0,Is(t,29)._isServer,Is(t,29).id,Is(t,29).placeholder,Is(t,29).disabled,Is(t,29).required,Is(t,29).readonly&&!Is(t,29)._isNativeSelect||null,Is(t,29)._ariaDescribedby||null,Is(t,29).errorState,Is(t,29).required.toString()),e(t,31,1,["standard"==Is(t,32).appearance,"fill"==Is(t,32).appearance,"outline"==Is(t,32).appearance,"legacy"==Is(t,32).appearance,Is(t,32)._control.errorState,Is(t,32)._canLabelFloat,Is(t,32)._shouldLabelFloat(),Is(t,32)._hasFloatingLabel(),Is(t,32)._hideControlPlaceholder(),Is(t,32)._control.disabled,Is(t,32)._control.autofilled,Is(t,32)._control.focused,"accent"==Is(t,32).color,"warn"==Is(t,32).color,Is(t,32)._shouldForward("untouched"),Is(t,32)._shouldForward("touched"),Is(t,32)._shouldForward("pristine"),Is(t,32)._shouldForward("dirty"),Is(t,32)._shouldForward("valid"),Is(t,32)._shouldForward("invalid"),Is(t,32)._shouldForward("pending"),!Is(t,32)._animationsEnabled]),e(t,42,0,Is(t,43)._isServer,Is(t,43).id,Is(t,43).placeholder,Is(t,43).disabled,Is(t,43).required,Is(t,43).readonly&&!Is(t,43)._isNativeSelect||null,Is(t,43)._ariaDescribedby||null,Is(t,43).errorState,Is(t,43).required.toString()),e(t,45,0,Is(t,46).disabled||null,"NoopAnimations"===Is(t,46)._animationMode),e(t,48,0,Is(t,49).disabled||null,"NoopAnimations"===Is(t,49)._animationMode),e(t,51,0,Is(t,52)._container._contentMargins.left,Is(t,52)._container._contentMargins.right),e(t,64,0,null,"end"===Is(t,65).position,"over"===Is(t,65).mode,"push"===Is(t,65).mode,"side"===Is(t,65).mode,Is(t,65).opened,Is(t,65)._animationState)}))}function UL(e){return zr(0,[(e()(),Cr(0,0,null,null,1,"app-root",[],null,null,null,qL,WL)),Gs(1,4243456,null,0,Xa,[],null,null)],null,null)}var GL=Ss("app-root",Xa,UL,{},{},[]);class XL{constructor(e){this.template=e}}class ZL{}function $L(e){const{subscriber:t,counter:i,period:s}=e;t.next(i),this.schedule({subscriber:t,counter:i+1,period:s},s)}function KL(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function QL(e,t){const i=t?"":"none";KL(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function JL(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function eT(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}const tT=Gl({passive:!0}),iT=Gl({passive:!1});class sT{constructor(e,t,i,s,n,r){this._config=t,this._document=i,this._ngZone=s,this._viewportRuler=n,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new E,this._pointerMoveSubscription=u.EMPTY,this._pointerUpSubscription=u.EMPTY,this._scrollSubscription=u.EMPTY,this._resizeSubscription=u.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new E,this.started=new E,this.released=new E,this.ended=new E,this.entered=new E,this.exited=new E,this.dropped=new E,this.moved=this._moveEvents.asObservable(),this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const i=e.target;return!!i&&(i===t||t.contains(i))});!t||this._disabledHandles.has(t)||this.disabled||this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{if(!this._hasStartedDragging){const t=this._getPointerPositionOnPage(e);if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+(this.dragStartDelay||0)))return void this._endDragSequence(e);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,e.preventDefault(),this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t);else{const e=this._activeTransform;e.x=t.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=t.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:e,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e),r.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Nl(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}withHandles(e){return this._handles=e.map(e=>Bl(e)),this._handles.forEach(e=>QL(e,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Bl(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),t.addEventListener("mousedown",this._pointerDown,iT),t.addEventListener("touchstart",this._pointerDown,tT),this._initialTransform=void 0,this._rootElement=t),this}withBoundaryElement(e){return this._boundaryElement=e?Bl(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&oT(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){this._handles.indexOf(e)>-1&&this._disabledHandles.add(e)}enableHandle(e){this._disabledHandles.delete(e)}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}_sortFromLastPointerPosition(){const e=this._pointerPositionAtLastDirectionChange;e&&this._dropContainer&&this._updateActiveDropContainer(e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&oT(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&oT(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(e){if(this.started.next({source:this}),lT(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){const e=this._rootElement;this._nextSibling=e.nextSibling;const i=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement();e.style.display="none",this._document.body.appendChild(e.parentNode.replaceChild(s,e)),(t=this._document,t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body).appendChild(i),this._dropContainer.start()}var t}_initializeDragSequence(e,t){t.stopPropagation();const i=this.isDragging(),s=lT(t),n=!s&&0!==t.button,r=this._rootElement,a=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),i||n||a)return;this._handles.length&&(this._rootElementTapHighlight=r.style.webkitTapHighlightColor,r.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(sh(null)).subscribe(()=>{this._scrollPosition=this._viewportRuler.getViewportScrollPosition()}),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(e,t);const o=this._pickupPositionOnPage=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:o.x,y:o.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):Bl(this._initialContainer.element).appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),s=this._getPointerPositionOnPage(e),n=this._getDragDistance(this._getPointerPositionOnPage(e)),r=t._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialContainer.getItemIndex(this),container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:n}),t.drop(this,i,this._initialContainer,r,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t}){let i=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,e,t),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(e,t),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._preview.style.transform=nT(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y)}_createPreviewElement(){const e=this._previewTemplate,t=e?e.template:null;let i;if(t){const s=e.viewContainer.createEmbeddedView(t,e.context);i=hT(s,this._document),this._previewRef=s,i.style.transform=nT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement,t=e.getBoundingClientRect();i=rT(e),i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=nT(t.left,t.top)}return KL(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),QL(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=nT(e.left,e.top);const t=function(e){const t=getComputedStyle(e),i=eT(t,"transition-property"),s=i.find(e=>"transform"===e||"all"===e);if(!s)return 0;const n=i.indexOf(s),r=eT(t,"transition-duration"),a=eT(t,"transition-delay");return JL(r[n])+JL(a[n])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const i=t=>{(!t||t.target===this._preview&&"transform"===t.propertyName)&&(this._preview.removeEventListener("transitionend",i),e(),clearTimeout(s))},s=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),i=hT(this._placeholderRef,this._document)):i=rT(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t){const i=this._rootElement.getBoundingClientRect(),s=e===this._rootElement?null:e,n=s?s.getBoundingClientRect():i,r=lT(t)?t.targetTouches[0]:t;return{x:n.left-i.left+(r.pageX-n.left-this._scrollPosition.left),y:n.top-i.top+(r.pageY-n.top-this._scrollPosition.top)}}_getPointerPositionOnPage(e){const t=lT(e)?e.touches[0]||e.changedTouches[0]:e;return{x:t.pageX-this._scrollPosition.left,y:t.pageY-this._scrollPosition.top}}_getConstrainedPointerPosition(e){const t=this._getPointerPositionOnPage(e),i=this.constrainPosition?this.constrainPosition(t,this):t,s=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===s?i.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==s||(i.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,s=this._boundaryRect,n=this._previewRect,r=s.top+t,a=s.bottom-(n.height-t);i.x=aT(i.x,s.left+e,s.right-(n.width-e)),i.y=aT(i.y,r,a)}return i}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,s=this._pointerDirectionDelta,n=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-n.x),a=Math.abs(i-n.y);return r>this._config.pointerDirectionChangeThreshold&&(s.x=t>n.x?1:-1,n.x=t),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>n.y?1:-1,n.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,QL(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,iT),e.removeEventListener("touchstart",this._pointerDown,tT)}_applyRootElementTransform(e,t){const i=nT(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect(),n=i.left-s.left,r=s.right-i.right,a=i.top-s.top,o=s.bottom-i.bottom;i.width>s.width?(n>0&&(e+=n),r>0&&(e-=r)):e=0,i.height>s.height?(a>0&&(t+=a),o>0&&(t-=o)):t=0,e===this._passiveTransform.x&&t===this._passiveTransform.y||this.setFreeDragPosition({y:t,x:e})}}function nT(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function rT(e){const t=e.cloneNode(!0),i=t.querySelectorAll("[id]"),s=e.querySelectorAll("canvas");t.removeAttribute("id");for(let n=0;n<i.length;n++)i[n].removeAttribute("id");if(s.length){const e=t.querySelectorAll("canvas");for(let t=0;t<s.length;t++){const i=e[t].getContext("2d");i&&i.drawImage(s[t],0,0)}}return t}function aT(e,t,i){return Math.max(t,Math.min(i,e))}function oT(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function lT(e){return"t"===e.type[0]}function hT(e,t){const i=e.rootNodes[0];if(i.nodeType!==t.ELEMENT_NODE){const e=t.createElement("div");return e.appendChild(i),e}return i}function cT(e,t){return Math.max(0,Math.min(t,e))}let dT=0;class uT{constructor(e,t,i,s,n){this._dragDropRegistry=t,this._ngZone=s,this._viewportRuler=n,this.id=`cdk-drop-list-ref-${dT++}`,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new E,this.entered=new E,this.exited=new E,this.dropped=new E,this.sorted=new E,this._isDragging=!1,this._itemPositions=[],this._scrollPosition={top:0,left:0},this._viewportScrollPosition={top:0,left:0},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=u.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new E,this._handleScroll=()=>{if(!this.isDragging())return;const e=Bl(this.element);this._updateAfterScroll(this._scrollPosition,e.scrollTop,e.scrollLeft)},this._startScrollInterval=()=>{this._stopScrolling(),function(e=0,t=hh){return(!Kc(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=hh),new v(i=>(i.add(t.schedule($L,e,{subscriber:i,counter:0,period:e})),i))}(0,Uc).pipe(Ic(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode;1===this._verticalScrollDirection?yT(e,-2):2===this._verticalScrollDirection&&yT(e,2),1===this._horizontalScrollDirection?bT(e,-2):2===this._horizontalScrollDirection&&bT(e,2)})};const r=this.element=Bl(e);this._shadowRoot=function(e){if(function(){if(null==$l){const e="undefined"!=typeof document?document.head:null;$l=!(!e||!e.createShadowRoot&&!e.attachShadow)}return $l}()){const t=e.getRootNode?e.getRootNode():null;if(t instanceof ShadowRoot)return t}return null}(r)||i,t.registerDropContainer(this)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._removeListeners(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const e=Bl(this.element);this.beforeStarted.next(),this._isDragging=!0,this._cacheItems(),this._siblings.forEach(e=>e._startReceiving(this)),this._removeListeners(),this._ngZone?this._ngZone.runOutsideAngular(()=>e.addEventListener("scroll",this._handleScroll)):e.addEventListener("scroll",this._handleScroll),this._viewportRuler&&this._listenToScrollEvents()}enter(e,t,i){this.start();let s=this.sortingDisabled?this._draggables.indexOf(e):-1;-1===s&&(s=this._getItemIndexFromPointerPosition(e,t,i));const n=this._activeDraggables,r=n.indexOf(e),a=e.getPlaceholderElement();let o=n[s];if(o===e&&(o=n[s+1]),r>-1&&n.splice(r,1),o&&!this._dragDropRegistry.isDragging(o)){const t=o.getRootElement();t.parentElement.insertBefore(a,t),n.splice(s,0,e)}else Bl(this.element).appendChild(a),n.push(e);a.style.transform="",this._cacheItemPositions(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,s,n={x:0,y:0}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i.getItemIndex(e),container:this,previousContainer:i,isPointerOverContainer:s,distance:n})}withItems(e){return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()&&this._cacheItems(),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}getItemIndex(e){return this._isDragging?mT("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,s){if(this.sortingDisabled||!this._isPointerNearDropContainer(t,i))return;const n=this._itemPositions,r=this._getItemIndexFromPointerPosition(e,t,i,s);if(-1===r&&n.length>0)return;const a="horizontal"===this._orientation,o=mT(n,t=>t.drag===e),l=n[r],h=n[o].clientRect,c=l.clientRect,d=o>r?1:-1;this._previousSwap.drag=l.drag,this._previousSwap.delta=a?s.x:s.y;const u=this._getItemOffsetPx(h,c,d),p=this._getSiblingOffsetPx(o,n,d),m=n.slice();!function(e,t,i){const s=cT(t,e.length-1),n=cT(i,e.length-1);if(s===n)return;const r=e[s],a=n<s?-1:1;for(let o=s;o!==n;o+=a)e[o]=e[o+a];e[n]=r}(n,o,r),this.sorted.next({previousIndex:o,currentIndex:r,container:this,item:e}),n.forEach((t,i)=>{if(m[i]===t)return;const s=t.drag===e,n=s?u:p,r=s?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=n,a?(r.style.transform=`translate3d(${Math.round(t.offset)}px, 0, 0)`,pT(t.clientRect,0,n)):(r.style.transform=`translate3d(0, ${Math.round(t.offset)}px, 0)`,pT(t.clientRect,n,0))})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,s=0,n=0;if(this._isPointerNearDropContainer(e,t)){const r=Bl(this.element);[s,n]=function(e,t,i,s){const n=vT(t,s),r=wT(t,i);let a=0,o=0;if(n){const t=e.scrollTop;1===n?t>0&&(a=1):e.scrollHeight-t>e.clientHeight&&(a=2)}if(r){const t=e.scrollLeft;1===r?t>0&&(o=1):e.scrollWidth-t>e.clientWidth&&(o=2)}return[a,o]}(r,this._clientRect,e,t),(s||n)&&(i=r)}if(this._viewportRuler&&!s&&!n){const{width:r,height:a}=this._viewportRuler.getViewportSize(),o={width:r,height:a,top:0,right:r,bottom:a,left:0};s=vT(o,t),n=wT(o,e),i=window}!i||s===this._verticalScrollDirection&&n===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=s,this._horizontalScrollDirection=n,this._scrollNode=i,(s||n)&&i?this._ngZone?this._ngZone.runOutsideAngular(this._startScrollInterval):this._startScrollInterval():this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheOwnPosition(){const e=Bl(this.element);this._clientRect=fT(e),this._scrollPosition={top:e.scrollTop,left:e.scrollLeft}}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=this._dragDropRegistry.isDragging(e)?e.getPlaceholderElement():e.getRootElement();return{drag:e,offset:0,clientRect:fT(t)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1,this._activeDraggables.forEach(e=>e.getRootElement().style.transform=""),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._removeListeners()}_getSiblingOffsetPx(e,t,i){const s="horizontal"===this._orientation,n=t[e].clientRect,r=t[e+-1*i];let a=n[s?"width":"height"]*i;if(r){const e=s?"left":"top",t=s?"right":"bottom";-1===i?a-=r.clientRect[e]-n[t]:a+=n[e]-r.clientRect[t]}return a}_isPointerNearDropContainer(e,t){const{top:i,right:s,bottom:n,left:r,width:a,height:o}=this._clientRect,l=.05*a,h=.05*o;return t>i-h&&t<n+h&&e>r-l&&e<s+l}_getItemOffsetPx(e,t,i){const s="horizontal"===this._orientation;let n=s?t.left-e.left:t.top-e.top;return-1===i&&(n+=s?t.width-e.width:t.height-e.height),n}_getItemIndexFromPointerPosition(e,t,i,s){const n="horizontal"===this._orientation;return mT(this._itemPositions,({drag:r,clientRect:a},o,l)=>{if(r===e)return l.length<2;if(s){const e=n?s.x:s.y;if(r===this._previousSwap.drag&&e===this._previousSwap.delta)return!1}return n?t>=Math.floor(a.left)&&t<=Math.floor(a.right):i>=Math.floor(a.top)&&i<=Math.floor(a.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheOwnPosition()}_updateAfterScroll(e,t,i,s){const n=e.top-t,r=e.left-i;s&&pT(s,n,r),this._itemPositions.forEach(({clientRect:e})=>{pT(e,n,r)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}),e.top=t,e.left=i}_removeListeners(){Bl(this.element).removeEventListener("scroll",this._handleScroll),this._viewportScrollSubscription.unsubscribe()}_isOverContainer(e,t){return gT(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(s=>s._canReceive(e,t,i))}_canReceive(e,t,i){if(!this.enterPredicate(e,this)||!gT(this._clientRect,t,i))return!1;const s=this._shadowRoot.elementFromPoint(t,i);if(!s)return!1;const n=Bl(this.element);return s===n||n.contains(s)}_startReceiving(e){const t=this._activeSiblings;t.has(e)||(t.add(e),this._cacheOwnPosition(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(()=>{if(this.isDragging()){const e=this._viewportRuler.getViewportScrollPosition();this._updateAfterScroll(this._viewportScrollPosition,e.top,e.left,this._clientRect)}else this.isReceiving()&&this._cacheOwnPosition()})}}function pT(e,t,i){e.top+=t,e.bottom=e.top+e.height,e.left+=i,e.right=e.left+e.width}function mT(e,t){for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1}function gT(e,t,i){const{top:s,bottom:n,left:r,right:a}=e;return i>=s&&i<=n&&t>=r&&t<=a}function fT(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function yT(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function bT(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function vT(e,t){const{top:i,bottom:s,height:n}=e,r=.05*n;return t>=i-r&&t<=i+r?1:t>=s-r&&t<=s+r?2:0}function wT(e,t){const{left:i,right:s,width:n}=e,r=.05*n;return t>=i-r&&t<=i+r?1:t>=s-r&&t<=s+r?2:0}const xT=Gl({passive:!1,capture:!0});let _T=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new E,this.pointerUp=new E,this.scroll=new E,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.size&&e.preventDefault()},this._document=t}registerDropContainer(e){if(!this._dropInstances.has(e)){if(this.getDropContainer(e.id))throw Error(`Drop instance with id "${e.id}" has already been registered.`);this._dropInstances.add(e)}}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,xT)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,xT)}startDragging(e,t){if(!this._activeDragInstances.has(e)&&(this._activeDragInstances.add(e),1===this._activeDragInstances.size)){const e=t.type.startsWith("touch"),i=e?"touchend":"mouseup";this._globalListeners.set(e?"touchmove":"mousemove",{handler:e=>this.pointerMove.next(e),options:xT}).set(i,{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:xT}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){this._activeDragInstances.delete(e),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances.has(e)}getDropContainer(e){return Array.from(this._dropInstances).find(t=>t.id===e)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(qn),Me(Lo))},token:e,providedIn:"root"}),e})();const ST={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let CT=(()=>{class e{constructor(e,t,i,s){this._document=e,this._ngZone=t,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(e,t=ST){return new sT(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new uT(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.ngInjectableDef=ce({factory:function(){return new e(Me(Lo),Me(qn),Me(id),Me(_T))},token:e,providedIn:"root"}),e})();class ET{}const DT=new _e("mat-autocomplete-scroll-strategy");function kT(e){return()=>e.scrollStrategies.reposition()}class AT{}class MT{}let LT=(()=>{class e{constructor(){this.changes=new E,this.optionalLabel="Optional"}}return e.ngInjectableDef=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})();function TT(e){return e||new LT}class RT{}const PT=new _e("mat-menu-scroll-strategy");function IT(e){return()=>e.scrollStrategies.reposition()}class OT{}class NT{}const VT=new _e("mat-select-scroll-strategy");function FT(e){return()=>e.scrollStrategies.reposition()}class BT{}let zT=(()=>{class e{constructor(){this.changes=new E,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,i)=>{if(0==i||0==t)return`0 of ${i}`;const s=e*t;return`${s+1} \u2013 ${s<(i=Math.max(i,0))?Math.min(s+t,i):s+t} of ${i}`}}}return e.ngInjectableDef=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})();function HT(e){return e||new zT}class jT{}let WT=(()=>{class e{constructor(){this.changes=new E,this.sortButtonLabel=e=>`Change sorting for ${e}`}}return e.ngInjectableDef=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})();function YT(e){return e||new WT}class qT{}class UT{}class GT{}class XT{}class ZT{}const $T=new _e("mat-chips-default-options");class KT{}class QT{}class JT{}class eR{}class tR{}class iR{}class sR{}class nR{}class rR{}class aR{}class oR{}class lR{}class hR{}class cR{}class dR{}class uR{}class pR{}class mR{}var gR=qa(Ga,[Xa],(function(e){return function(e){const t={},i=[];let s=!1;for(let n=0;n<e.length;n++){const r=e[n];r.token===xt&&!0===r.value&&(s=!0),1073741824&r.flags&&i.push(r.token),r.index=n,t[Ni(r.token)]=r}return{factory:null,providersByKey:t,providers:e,modules:i,isRoot:s}}([fs(512,qt,Ut,[[8,[Bd,tu,cf,Gg,Ef,Nf,Hf,GL]],[3,qt],Pe]),fs(5120,An,wr,[[3,An]]),fs(4608,ao,oo,[An,[2,ro]]),fs(5120,dn,xr,[qn]),fs(4608,In,In,[]),fs(5120,xn,_n,[]),fs(5120,mi,br,[]),fs(5120,gi,vr,[]),fs(4608,Cl,El,[Lo]),fs(6144,pt,null,[Cl]),fs(4608,bl,oc,[[2,nc],[2,Fh]]),fs(5120,Go,(function(e,t,i,s,n,r,a,o){return[new fl(e,t,i),new Sl(s),new wl(n,r,a,o)]}),[Lo,qn,En,Lo,Lo,bl,kn,[2,vl]]),fs(4608,Xo,Xo,[Go,qn]),fs(135680,Ko,Ko,[Lo]),fs(4608,il,il,[Xo,Ko,xn]),fs(5120,Zp,Vg,[]),fs(5120,Fm,Fg,[]),fs(4608,dg,Ng,[Lo,Zp,Fm]),fs(5120,Qt,Bg,[il,dg,qn]),fs(6144,$o,null,[Ko]),fs(4608,Qn,Qn,[qn]),fs(4608,wp,wp,[]),fs(135680,Ph,Ph,[qn,jl]),fs(4608,XL,XL,[vi]),fs(4608,CT,CT,[Lo,qn,id,_T]),fs(4608,Ed,Ed,[cd,yd,qt,Sd,fd,St,qn,Lo,Ld,[2,io]]),fs(5120,Dd,kd,[Ed]),fs(5120,DT,kT,[Ed]),fs(4608,sc,sc,[]),fs(5120,LT,TT,[[3,LT]]),fs(5120,Gd,Xd,[Ed]),fs(135680,Zd,Zd,[Ed,St,[2,io],[2,Ud],Gd,[3,Zd],yd]),fs(4608,sp,sp,[]),fs(5120,mp,gp,[Ed]),fs(5120,PT,IT,[Ed]),fs(4608,qh,Jh,[[2,Yh],jl]),fs(5120,VT,FT,[Ed]),fs(5120,bf,vf,[Ed]),fs(5120,zT,HT,[[3,zT]]),fs(5120,WT,YT,[[3,WT]]),fs(4608,Za,Mg,[Qt,Lo]),fs(4608,vu,vu,[]),fs(4608,Ju,Ju,[]),fs(1073742336,Mo,Mo,[]),fs(1073742336,AL,AL,[]),fs(1073742336,ML,ML,[]),fs(1073742336,BL,BL,[]),fs(1073742336,zL,zL,[]),fs(1024,He,Pl,[]),fs(1024,vn,(function(e){return[(t=e,Yo("probe",Uo),Yo("coreTokens",Object.assign({},qo,(t||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>Uo)];var t}),[[2,nr]]),fs(512,wn,wn,[[2,vn]]),fs(131584,hr,hr,[qn,kn,St,He,qt,wn]),fs(1073742336,_r,_r,[hr]),fs(1073742336,Il,Il,[[3,Il]]),fs(1073742336,VL,VL,[]),fs(1073742336,FL,FL,[]),fs(1073742336,Wl,Wl,[]),fs(1073742336,Sp,Sp,[]),fs(1073742336,Oh,Oh,[]),fs(1073742336,UT,UT,[]),fs(1073742336,ZL,ZL,[]),fs(1073742336,ET,ET,[]),fs(1073742336,Td,Td,[]),fs(1073742336,Fh,Fh,[[2,Vh],[2,vl]]),fs(1073742336,fc,fc,[]),fs(1073742336,yc,yc,[]),fs(1073742336,bc,bc,[]),fs(1073742336,kc,kc,[]),fs(1073742336,td,td,[]),fs(1073742336,Ad,Ad,[]),fs(1073742336,AT,AT,[]),fs(1073742336,GT,GT,[]),fs(1073742336,Id,Id,[]),fs(1073742336,Ap,Ap,[]),fs(1073742336,XT,XT,[]),fs(1073742336,ZT,ZT,[]),fs(1073742336,Zf,Zf,[]),fs(1073742336,$f,$f,[]),fs(1073742336,KT,KT,[]),fs(1073742336,MT,MT,[]),fs(1073742336,QT,QT,[]),fs(1073742336,RT,RT,[]),fs(1073742336,$d,$d,[]),fs(1073742336,vp,vp,[]),fs(1073742336,JT,JT,[]),fs(1073742336,eR,eR,[]),fs(1073742336,tR,tR,[]),fs(1073742336,lc,lc,[]),fs(1073742336,iR,iR,[]),fs(1073742336,Ny,Ny,[]),fs(1073742336,wy,wy,[]),fs(1073742336,jy,jy,[]),fs(1073742336,sR,sR,[]),fs(1073742336,OT,OT,[]),fs(1073742336,NT,NT,[]),fs(1073742336,tc,tc,[]),fs(1073742336,ic,ic,[]),fs(1073742336,BT,BT,[]),fs(1073742336,xf,xf,[]),fs(1073742336,jT,jT,[]),fs(1073742336,nR,nR,[]),fs(1073742336,rR,rR,[]),fs(1073742336,aR,aR,[]),fs(1073742336,ny,ny,[]),fs(1073742336,oR,oR,[]),fs(1073742336,lR,lR,[]),fs(1073742336,hR,hR,[]),fs(1073742336,Tf,Tf,[]),fs(1073742336,qT,qT,[]),fs(1073742336,cR,cR,[]),fs(1073742336,dR,dR,[]),fs(1073742336,uR,uR,[]),fs(1073742336,pR,pR,[]),fs(1073742336,mR,mR,[]),fs(1073742336,Hg,Hg,[]),fs(1073742336,Qu,Qu,[]),fs(1073742336,ep,ep,[]),fs(1073742336,tp,tp,[]),fs(1073742336,Ga,Ga,[]),fs(256,"ChartsLineSeries",QA,[]),fs(256,"ChartsScatterSeries",mM,[]),fs(256,"ChartsColumnSeries",eM,[]),fs(256,"ChartsSplineSeries",_M,[]),fs(256,"ChartsSplineAreaSeries",CM,[]),fs(256,"ChartsStripLine",$A,[]),fs(256,"ChartsAreaSeries",iM,[]),fs(256,"ChartsScrollBar",iL,[]),fs(256,"ChartsStepLineSeries",cM,[]),fs(256,"ChartsStepAreaSeries",dM,[]),fs(256,"ChartsStackingColumnSeries",hM,[]),fs(256,"ChartsStackingLineSeries",pM,[]),fs(256,"ChartsStackingAreaSeries",uM,[]),fs(256,"ChartsBarSeries",sM,[]),fs(256,"ChartsStackingBarSeries",oM,[]),fs(256,"ChartsRangeColumnSeries",gM,[]),fs(256,"ChartsBubbleSeries",wM,[]),fs(256,"ChartsTooltip",BM,[]),fs(256,"ChartsCrosshair",VM,[]),fs(256,"ChartsCategory",GA,[]),fs(256,"ChartsDateTime",UA,[]),fs(256,"ChartsLogarithmic",XA,[]),fs(256,"ChartsLegend",XM,[]),fs(256,"ChartsZoom",HM,[]),fs(256,"ChartsDataLabel",UM,[]),fs(256,"ChartsSelection",WM,[]),fs(256,"ChartsChartAnnotation",$M,[]),fs(256,"ChartsHiloSeries",yM,[]),fs(256,"ChartsHiloOpenCloseSeries",bM,[]),fs(256,"ChartsWaterfallSeries",fM,[]),fs(256,"ChartsRangeAreaSeries",vM,[]),fs(256,"ChartsCandleSeries",lM,[]),fs(256,"ChartsPolarSeries",rM,[]),fs(256,"ChartsRadarSeries",aM,[]),fs(256,"ChartsSmaIndicator",DM,[]),fs(256,"ChartsTmaIndicator",AM,[]),fs(256,"ChartsEmaIndicator",kM,[]),fs(256,"ChartsAccumulationDistributionIndicator",MM,[]),fs(256,"ChartsMacdIndicator",OM,[]),fs(256,"ChartsAtrIndicator",LM,[]),fs(256,"ChartsRsiIndicator",RM,[]),fs(256,"ChartsMomentumIndicator",TM,[]),fs(256,"ChartsStochasticIndicator",PM,[]),fs(256,"ChartsBollingerBands",IM,[]),fs(256,"ChartsBoxAndWhiskerSeries",KM,[]),fs(256,"ChartsHistogramSeries",SM,[]),fs(256,"ChartsErrorBar",GM,[]),fs(256,"ChartsTrendlines",NM,[]),fs(256,"ChartsDateTimeCategory",ZA,[]),fs(256,"ChartsMultiColoredLineSeries",JM,[]),fs(256,"ChartsMultiColoredAreaSeries",QM,[]),fs(256,"ChartsMultiLevelLabel",eL,[]),fs(256,"ChartsParetoSeries",sL,[]),fs(256,"ChartsExport",nL,[]),fs(256,"ChartsDataEditing",YM,[]),fs(256,"ChartsHighlight",qM,[]),fs(256,"ChartsRangeTooltip",kL,[]),fs(256,"ChartsPeriodSelector",DL,[]),fs(256,xt,!0,[]),fs(256,"ChartsPieSeries",pL,[]),fs(256,"ChartsFunnelSeries",fL,[]),fs(256,"ChartsPyramidSeries",yL,[]),fs(256,"ChartsAccumulationTooltip",wL,[]),fs(256,"ChartsAccumulationLegend",bL,[]),fs(256,"ChartsAccumulationSelection",xL,[]),fs(256,"ChartsAccumulationDataLabel",vL,[]),fs(256,"ChartsAccumulationAnnotation",_L,[]),fs(256,$T,{separatorKeyCodes:[13]},[]),fs(256,Uh,ec,[]),fs(256,zg,"BrowserAnimations",[])])}));(function(){if(We)throw new Error("Cannot enable prod mode after platform setup.");je=!1})(),Rl().bootstrapModuleFactory(gR).catch(e=>console.error(e))},zn8P:function(e,t){function i(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="zn8P"}},[[0,0]]]);